function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function n(e){Object.defineProperty(e,"__esModule",{value:!0,configurable:!0})}function r(e){return e&&e.__esModule?e.default:e}function o(e,t){return Object.keys(t).forEach((function(n){"default"===n||"__esModule"===n||e.hasOwnProperty(n)||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})})),e}var i={},a={},s=t.parcelRequired368;null==s&&((s=function(e){if(e in i)return i[e].exports;if(e in a){var t=a[e];delete a[e];var n={id:e,exports:{}};return i[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){a[e]=t},t.parcelRequired368=s),s.register("dRo73",(function(t,n){var r,o;e(t.exports,"register",(()=>r),(e=>r=e)),e(t.exports,"resolve",(()=>o),(e=>o=e));var i={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)i[t[n]]=e[t[n]]},o=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),s.register("cjuLU",(function(t,n){var r,o,i;e(t.exports,"Fragment",(()=>r),(e=>r=e)),e(t.exports,"jsx",(()=>o),(e=>o=e)),e(t.exports,"jsxs",(()=>i),(e=>i=e));var a=s("fYo6y"),u=Symbol.for("react.element"),c=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,d=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0};function h(e,t,n){var r,o={},i=null,a=null;for(r in void 0!==n&&(i=""+n),void 0!==t.key&&(i=""+t.key),void 0!==t.ref&&(a=t.ref),t)l.call(t,r)&&!f.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:u,type:e,key:i,ref:a,props:o,_owner:d.current}}r=c,o=h,i=h})),s.register("fYo6y",(function(e,t){e.exports=s("ha5xJ")})),s.register("ha5xJ",(function(t,n){var r,o,i,a,s,u,c,l,d,f,h,p,v,g,m,y,b,w,S,x,_,E,C,k,A,T,I,N,O,P,j,R,M,U,L;e(t.exports,"Children",(()=>r),(e=>r=e)),e(t.exports,"Component",(()=>o),(e=>o=e)),e(t.exports,"Fragment",(()=>i),(e=>i=e)),e(t.exports,"Profiler",(()=>a),(e=>a=e)),e(t.exports,"PureComponent",(()=>s),(e=>s=e)),e(t.exports,"StrictMode",(()=>u),(e=>u=e)),e(t.exports,"Suspense",(()=>c),(e=>c=e)),e(t.exports,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",(()=>l),(e=>l=e)),e(t.exports,"cloneElement",(()=>d),(e=>d=e)),e(t.exports,"createContext",(()=>f),(e=>f=e)),e(t.exports,"createElement",(()=>h),(e=>h=e)),e(t.exports,"createFactory",(()=>p),(e=>p=e)),e(t.exports,"createRef",(()=>v),(e=>v=e)),e(t.exports,"forwardRef",(()=>g),(e=>g=e)),e(t.exports,"isValidElement",(()=>m),(e=>m=e)),e(t.exports,"lazy",(()=>y),(e=>y=e)),e(t.exports,"memo",(()=>b),(e=>b=e)),e(t.exports,"startTransition",(()=>w),(e=>w=e)),e(t.exports,"unstable_act",(()=>S),(e=>S=e)),e(t.exports,"useCallback",(()=>x),(e=>x=e)),e(t.exports,"useContext",(()=>_),(e=>_=e)),e(t.exports,"useDebugValue",(()=>E),(e=>E=e)),e(t.exports,"useDeferredValue",(()=>C),(e=>C=e)),e(t.exports,"useEffect",(()=>k),(e=>k=e)),e(t.exports,"useId",(()=>A),(e=>A=e)),e(t.exports,"useImperativeHandle",(()=>T),(e=>T=e)),e(t.exports,"useInsertionEffect",(()=>I),(e=>I=e)),e(t.exports,"useLayoutEffect",(()=>N),(e=>N=e)),e(t.exports,"useMemo",(()=>O),(e=>O=e)),e(t.exports,"useReducer",(()=>P),(e=>P=e)),e(t.exports,"useRef",(()=>j),(e=>j=e)),e(t.exports,"useState",(()=>R),(e=>R=e)),e(t.exports,"useSyncExternalStore",(()=>M),(e=>M=e)),e(t.exports,"useTransition",(()=>U),(e=>U=e)),e(t.exports,"version",(()=>L),(e=>L=e));var D=Symbol.for("react.element"),F=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),K=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),W=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),Y=Symbol.iterator;var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,Z={};function X(e,t,n){this.props=e,this.context=t,this.refs=Z,this.updater=n||J}function ee(){}function te(e,t,n){this.props=e,this.context=t,this.refs=Z,this.updater=n||J}X.prototype.isReactComponent={},X.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},X.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},ee.prototype=X.prototype;var ne=te.prototype=new ee;ne.constructor=te,Q(ne,X.prototype),ne.isPureReactComponent=!0;var re=Array.isArray,oe=Object.prototype.hasOwnProperty,ie={current:null},ae={key:!0,ref:!0,__self:!0,__source:!0};function se(e,t,n){var r,o={},i=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(i=""+t.key),t)oe.call(t,r)&&!ae.hasOwnProperty(r)&&(o[r]=t[r]);var s=arguments.length-2;if(1===s)o.children=n;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===o[r]&&(o[r]=s[r]);return{$$typeof:D,type:e,key:i,ref:a,props:o,_owner:ie.current}}function ue(e){return"object"==typeof e&&null!==e&&e.$$typeof===D}var ce=/\/+/g;function le(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function de(e,t,n,r,o){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var a,s=!1;if(null===e)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case D:case F:s=!0}}if(s)return o=o(s=e),e=""===r?"."+le(s,0):r,re(o)?(n="",null!=e&&(n=e.replace(ce,"$&/")+"/"),de(o,t,n,"",(function(e){return e}))):null!=o&&(ue(o)&&(o=function(e,t){return{$$typeof:D,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(ce,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",re(e))for(var u=0;u<e.length;u++){var c=r+le(i=e[u],u);s+=de(i,t,n,c,o)}else if("function"==typeof(c=null===(a=e)||"object"!=typeof a?null:"function"==typeof(a=Y&&a[Y]||a["@@iterator"])?a:null))for(e=c.call(e),u=0;!(i=e.next()).done;)s+=de(i=i.value,t,n,c=r+le(i,u++),o);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function fe(e,t,n){if(null==e)return e;var r=[],o=0;return de(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function he(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var pe={current:null},ve={transition:null};r={map:fe,forEach:function(e,t,n){fe(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return fe(e,(function(){t++})),t},toArray:function(e){return fe(e,(function(e){return e}))||[]},only:function(e){if(!ue(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},o=X,i=B,a=V,s=te,u=z,c=G,l={ReactCurrentDispatcher:pe,ReactCurrentBatchConfig:ve,ReactCurrentOwner:ie},d=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Q({},e.props),o=e.key,i=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,a=ie.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(u in t)oe.call(t,u)&&!ae.hasOwnProperty(u)&&(r[u]=void 0===t[u]&&void 0!==s?s[u]:t[u])}var u=arguments.length-2;if(1===u)r.children=n;else if(1<u){s=Array(u);for(var c=0;c<u;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:D,type:e.type,key:o,ref:i,props:r,_owner:a}},f=function(e){return(e={$$typeof:K,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:q,_context:e},e.Consumer=e},h=se,p=function(e){var t=se.bind(null,e);return t.type=e,t},v=function(){return{current:null}},g=function(e){return{$$typeof:H,render:e}},m=ue,y=function(e){return{$$typeof:$,_payload:{_status:-1,_result:e},_init:he}},b=function(e,t){return{$$typeof:W,type:e,compare:void 0===t?null:t}},w=function(e){var t=ve.transition;ve.transition={};try{e()}finally{ve.transition=t}},S=function(){throw Error("act(...) is not supported in production builds of React.")},x=function(e,t){return pe.current.useCallback(e,t)},_=function(e){return pe.current.useContext(e)},E=function(){},C=function(e){return pe.current.useDeferredValue(e)},k=function(e,t){return pe.current.useEffect(e,t)},A=function(){return pe.current.useId()},T=function(e,t,n){return pe.current.useImperativeHandle(e,t,n)},I=function(e,t){return pe.current.useInsertionEffect(e,t)},N=function(e,t){return pe.current.useLayoutEffect(e,t)},O=function(e,t){return pe.current.useMemo(e,t)},P=function(e,t,n){return pe.current.useReducer(e,t,n)},j=function(e){return pe.current.useRef(e)},R=function(e){return pe.current.useState(e)},M=function(e,t,n){return pe.current.useSyncExternalStore(e,t,n)},U=function(){return pe.current.useTransition()},L="18.1.0"})),s.register("gAtBI",(function(t,n){var r,o,i,a,u,c,l,d,f,h,p,v;e(t.exports,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",(()=>r),(e=>r=e)),e(t.exports,"createPortal",(()=>o),(e=>o=e)),e(t.exports,"createRoot",(()=>i),(e=>i=e)),e(t.exports,"findDOMNode",(()=>a),(e=>a=e)),e(t.exports,"flushSync",(()=>u),(e=>u=e)),e(t.exports,"hydrate",(()=>c),(e=>c=e)),e(t.exports,"hydrateRoot",(()=>l),(e=>l=e)),e(t.exports,"render",(()=>d),(e=>d=e)),e(t.exports,"unmountComponentAtNode",(()=>f),(e=>f=e)),e(t.exports,"unstable_batchedUpdates",(()=>h),(e=>h=e)),e(t.exports,"unstable_renderSubtreeIntoContainer",(()=>p),(e=>p=e)),e(t.exports,"version",(()=>v),(e=>v=e));var g=s("fYo6y"),m=s("6qr1r");function y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b=new Set,w={};function S(e,t){x(e,t),x(e+"Capture",t)}function x(e,t){for(w[e]=t,e=0;e<t.length;e++)b.add(t[e])}var _=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),E=Object.prototype.hasOwnProperty,C=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,k={},A={};function T(e,t,n,r,o,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){I[e]=new T(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];I[t]=new T(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){I[e]=new T(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){I[e]=new T(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){I[e]=new T(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){I[e]=new T(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){I[e]=new T(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){I[e]=new T(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){I[e]=new T(e,5,!1,e.toLowerCase(),null,!1,!1)}));var N=/[\-:]([a-z])/g;function O(e){return e[1].toUpperCase()}function P(e,t,n,r){var o=I.hasOwnProperty(t)?I[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!E.call(A,e)||!E.call(k,e)&&(C.test(e)?A[e]=!0:(k[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(N,O);I[t]=new T(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(N,O);I[t]=new T(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(N,O);I[t]=new T(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){I[e]=new T(e,1,!1,e.toLowerCase(),null,!1,!1)})),I.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){I[e]=new T(e,1,!1,e.toLowerCase(),null,!0,!0)}));var j=g.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),M=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),B=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),H=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var G=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var W=Symbol.iterator;function $(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=W&&e[W]||e["@@iterator"])?e:null}var Y,J=Object.assign;function Q(e){if(void 0===Y)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);Y=t&&t[1]||""}return"\n"+Y+e}var Z=!1;function X(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var o=t.stack.split("\n"),i=r.stack.split("\n"),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(1!==a||1!==s)do{if(a--,0>--s||o[a]!==i[s]){var u="\n"+o[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=s);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Q(e):""}function ee(e){switch(e.tag){case 5:return Q(e.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return e=X(e.type,!1);case 11:return e=X(e.type.render,!1);case 1:return e=X(e.type,!0);default:return""}}function te(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case U:return"Fragment";case M:return"Portal";case D:return"Profiler";case L:return"StrictMode";case V:return"Suspense";case q:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case B:return(e.displayName||"Context")+".Consumer";case F:return(e._context.displayName||"Context")+".Provider";case z:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case K:return null!==(t=e.displayName||null)?t:te(e.type)||"Memo";case H:t=e._payload,e=e._init;try{return te(e(t))}catch(e){}}return null}function ne(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return te(t);case 8:return t===L?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function re(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function oe(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ie(e){e._valueTracker||(e._valueTracker=function(e){var t=oe(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ae(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=oe(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function se(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function ue(e,t){var n=t.checked;return J({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ce(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=re(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function le(e,t){null!=(t=t.checked)&&P(e,"checked",t,!1)}function de(e,t){le(e,t);var n=re(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?he(e,t.type,n):t.hasOwnProperty("defaultValue")&&he(e,t.type,re(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function fe(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function he(e,t,n){"number"===t&&se(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var pe=Array.isArray;function ve(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+re(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function ge(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(y(91));return J({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function me(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(y(92));if(pe(n)){if(1<n.length)throw Error(y(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:re(n)}}function ye(e,t){var n=re(t.value),r=re(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function be(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function we(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?we(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var xe,_e,Ee=(_e=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((xe=xe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return _e(e,t)}))}:_e);function Ce(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ae=["Webkit","ms","Moz","O"];function Te(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function Ie(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=Te(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(ke).forEach((function(e){Ae.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var Ne=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oe(e,t){if(t){if(Ne[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(y(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(y(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(y(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(y(62))}}function Pe(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var je=null;function Re(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Me=null,Ue=null,Le=null;function De(e){if(e=No(e)){if("function"!=typeof Me)throw Error(y(280));var t=e.stateNode;t&&(t=Po(t),Me(e.stateNode,e.type,t))}}function Fe(e){Ue?Le?Le.push(e):Le=[e]:Ue=e}function Be(){if(Ue){var e=Ue,t=Le;if(Le=Ue=null,De(e),t)for(e=0;e<t.length;e++)De(t[e])}}function ze(e,t){return e(t)}function Ve(){}var qe=!1;function Ke(e,t,n){if(qe)return e(t,n);qe=!0;try{return ze(e,t,n)}finally{qe=!1,(null!==Ue||null!==Le)&&(Ve(),Be())}}function He(e,t){var n=e.stateNode;if(null===n)return null;var r=Po(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(y(231,t,typeof n));return n}var Ge=!1;if(_)try{var We={};Object.defineProperty(We,"passive",{get:function(){Ge=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch(_e){Ge=!1}function $e(e,t,n,r,o,i,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var Ye=!1,Je=null,Qe=!1,Ze=null,Xe={onError:function(e){Ye=!0,Je=e}};function et(e,t,n,r,o,i,a,s,u){Ye=!1,Je=null,$e.apply(Xe,arguments)}function tt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function nt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function rt(e){if(tt(e)!==e)throw Error(y(188))}function ot(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=tt(e)))throw Error(y(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return rt(o),e;if(i===r)return rt(o),t;i=i.sibling}throw Error(y(188))}if(n.return!==r.return)n=o,r=i;else{for(var a=!1,s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a){for(s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a)throw Error(y(189))}}if(n.alternate!==r)throw Error(y(190))}if(3!==n.tag)throw Error(y(188));return n.stateNode.current===n?e:t}(e))?it(e):null}function it(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=it(e);if(null!==t)return t;e=e.sibling}return null}var at=m.unstable_scheduleCallback,st=m.unstable_cancelCallback,ut=m.unstable_shouldYield,ct=m.unstable_requestPaint,lt=m.unstable_now,dt=m.unstable_getCurrentPriorityLevel,ft=m.unstable_ImmediatePriority,ht=m.unstable_UserBlockingPriority,pt=m.unstable_NormalPriority,vt=m.unstable_LowPriority,gt=m.unstable_IdlePriority,mt=null,yt=null;var bt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(wt(e)/St|0)|0},wt=Math.log,St=Math.LN2;var xt=64,_t=4194304;function Et(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ct(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~o;0!==s?r=Et(s):0!==(i&=a)&&(r=Et(i))}else 0!==(a=n&~o)?r=Et(a):0!==i&&(r=Et(i));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&0!=(4194240&i)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-bt(t)),r|=e[n],t&=~o;return r}function kt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function At(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Tt(){var e=xt;return 0==(4194240&(xt<<=1))&&(xt=64),e}function It(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Nt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-bt(t)]=n}function Ot(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-bt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Pt=0;function jt(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var Rt,Mt,Ut,Lt,Dt,Ft=!1,Bt=[],zt=null,Vt=null,qt=null,Kt=new Map,Ht=new Map,Gt=[],Wt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $t(e,t){switch(e){case"focusin":case"focusout":zt=null;break;case"dragenter":case"dragleave":Vt=null;break;case"mouseover":case"mouseout":qt=null;break;case"pointerover":case"pointerout":Kt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ht.delete(t.pointerId)}}function Yt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=No(t))&&Mt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Jt(e){var t=Io(e.target);if(null!==t){var n=tt(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=nt(n)))return e.blockedOn=t,void Dt(e.priority,(function(){Ut(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Qt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=cn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=No(n))&&Mt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);je=r,n.target.dispatchEvent(r),je=null,t.shift()}return!0}function Zt(e,t,n){Qt(e)&&n.delete(t)}function Xt(){Ft=!1,null!==zt&&Qt(zt)&&(zt=null),null!==Vt&&Qt(Vt)&&(Vt=null),null!==qt&&Qt(qt)&&(qt=null),Kt.forEach(Zt),Ht.forEach(Zt)}function en(e,t){e.blockedOn===t&&(e.blockedOn=null,Ft||(Ft=!0,m.unstable_scheduleCallback(m.unstable_NormalPriority,Xt)))}function tn(e){function t(t){return en(t,e)}if(0<Bt.length){en(Bt[0],e);for(var n=1;n<Bt.length;n++){var r=Bt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==zt&&en(zt,e),null!==Vt&&en(Vt,e),null!==qt&&en(qt,e),Kt.forEach(t),Ht.forEach(t),n=0;n<Gt.length;n++)(r=Gt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Gt.length&&null===(n=Gt[0]).blockedOn;)Jt(n),null===n.blockedOn&&Gt.shift()}var nn=j.ReactCurrentBatchConfig,rn=!0;function on(e,t,n,r){var o=Pt,i=nn.transition;nn.transition=null;try{Pt=1,sn(e,t,n,r)}finally{Pt=o,nn.transition=i}}function an(e,t,n,r){var o=Pt,i=nn.transition;nn.transition=null;try{Pt=4,sn(e,t,n,r)}finally{Pt=o,nn.transition=i}}function sn(e,t,n,r){if(rn){var o=cn(e,t,n,r);if(null===o)eo(e,t,r,un,n),$t(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return zt=Yt(zt,e,t,n,r,o),!0;case"dragenter":return Vt=Yt(Vt,e,t,n,r,o),!0;case"mouseover":return qt=Yt(qt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Kt.set(i,Yt(Kt.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Ht.set(i,Yt(Ht.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if($t(e,r),4&t&&-1<Wt.indexOf(e)){for(;null!==o;){var i=No(o);if(null!==i&&Rt(i),null===(i=cn(e,t,n,r))&&eo(e,t,r,un,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else eo(e,t,r,null,n)}}var un=null;function cn(e,t,n,r){if(un=null,null!==(e=Io(e=Re(r))))if(null===(t=tt(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=nt(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return un=e,null}function ln(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dt()){case ft:return 1;case ht:return 4;case pt:case vt:return 16;case gt:return 536870912;default:return 16}default:return 16}}var dn=null,fn=null,hn=null;function pn(){if(hn)return hn;var e,t,n=fn,r=n.length,o="value"in dn?dn.value:dn.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return hn=o.slice(e,1<t?1-t:void 0)}function vn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function gn(){return!0}function mn(){return!1}function yn(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?gn:mn,this.isPropagationStopped=mn,this}return J(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=gn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=gn)},persist:function(){},isPersistent:gn}),t}var bn,wn,Sn,xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_n=yn(xn),En=J({},xn,{view:0,detail:0}),Cn=yn(En),kn=J({},En,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ln,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Sn&&(Sn&&"mousemove"===e.type?(bn=e.screenX-Sn.screenX,wn=e.screenY-Sn.screenY):wn=bn=0,Sn=e),bn)},movementY:function(e){return"movementY"in e?e.movementY:wn}}),An=yn(kn),Tn=yn(J({},kn,{dataTransfer:0})),In=yn(J({},En,{relatedTarget:0})),Nn=yn(J({},xn,{animationName:0,elapsedTime:0,pseudoElement:0})),On=yn(J({},xn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),Pn=yn(J({},xn,{data:0})),jn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Un(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Mn[e])&&!!t[e]}function Ln(){return Un}var Dn=yn(J({},En,{key:function(e){if(e.key){var t=jn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=vn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Rn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ln,charCode:function(e){return"keypress"===e.type?vn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?vn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Fn=yn(J({},kn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Bn=yn(J({},En,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ln})),zn=yn(J({},xn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Vn=yn(J({},kn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),qn=[9,13,27,32],Kn=_&&"CompositionEvent"in window,Hn=null;_&&"documentMode"in document&&(Hn=document.documentMode);var Gn=_&&"TextEvent"in window&&!Hn,Wn=_&&(!Kn||Hn&&8<Hn&&11>=Hn),$n=String.fromCharCode(32),Yn=!1;function Jn(e,t){switch(e){case"keyup":return-1!==qn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Zn=!1;var Xn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function er(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Xn[e.type]:"textarea"===t}function tr(e,t,n,r){Fe(r),0<(t=no(t,"onChange")).length&&(n=new _n("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var nr=null,rr=null;function or(e){$r(e,0)}function ir(e){if(ae(Oo(e)))return e}function ar(e,t){if("change"===e)return t}var sr=!1;if(_){var ur;if(_){var cr="oninput"in document;if(!cr){var lr=document.createElement("div");lr.setAttribute("oninput","return;"),cr="function"==typeof lr.oninput}ur=cr}else ur=!1;sr=ur&&(!document.documentMode||9<document.documentMode)}function dr(){nr&&(nr.detachEvent("onpropertychange",fr),rr=nr=null)}function fr(e){if("value"===e.propertyName&&ir(rr)){var t=[];tr(t,rr,e,Re(e)),Ke(or,t)}}function hr(e,t,n){"focusin"===e?(dr(),rr=n,(nr=t).attachEvent("onpropertychange",fr)):"focusout"===e&&dr()}function pr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return ir(rr)}function vr(e,t){if("click"===e)return ir(t)}function gr(e,t){if("input"===e||"change"===e)return ir(t)}var mr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function yr(e,t){if(mr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!E.call(t,o)||!mr(e[o],t[o]))return!1}return!0}function br(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wr(e,t){var n,r=br(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=br(r)}}function Sr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Sr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function xr(){for(var e=window,t=se();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=se((e=t.contentWindow).document)}return t}function _r(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Er(e){var t=xr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Sr(n.ownerDocument.documentElement,n)){if(null!==r&&_r(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=wr(n,i);var a=wr(n,r);o&&a&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Cr=_&&"documentMode"in document&&11>=document.documentMode,kr=null,Ar=null,Tr=null,Ir=!1;function Nr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Ir||null==kr||kr!==se(r)||("selectionStart"in(r=kr)&&_r(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Tr&&yr(Tr,r)||(Tr=r,0<(r=no(Ar,"onSelect")).length&&(t=new _n("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}function Or(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Pr={animationend:Or("Animation","AnimationEnd"),animationiteration:Or("Animation","AnimationIteration"),animationstart:Or("Animation","AnimationStart"),transitionend:Or("Transition","TransitionEnd")},jr={},Rr={};function Mr(e){if(jr[e])return jr[e];if(!Pr[e])return e;var t,n=Pr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Rr)return jr[e]=n[t];return e}_&&(Rr=document.createElement("div").style,"AnimationEvent"in window||(delete Pr.animationend.animation,delete Pr.animationiteration.animation,delete Pr.animationstart.animation),"TransitionEvent"in window||delete Pr.transitionend.transition);var Ur=Mr("animationend"),Lr=Mr("animationiteration"),Dr=Mr("animationstart"),Fr=Mr("transitionend"),Br=new Map,zr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vr(e,t){Br.set(e,t),S(t,[e])}for(var qr=0;qr<zr.length;qr++){var Kr=zr[qr];Vr(Kr.toLowerCase(),"on"+(Kr[0].toUpperCase()+Kr.slice(1)))}Vr(Ur,"onAnimationEnd"),Vr(Lr,"onAnimationIteration"),Vr(Dr,"onAnimationStart"),Vr("dblclick","onDoubleClick"),Vr("focusin","onFocus"),Vr("focusout","onBlur"),Vr(Fr,"onTransitionEnd"),x("onMouseEnter",["mouseout","mouseover"]),x("onMouseLeave",["mouseout","mouseover"]),x("onPointerEnter",["pointerout","pointerover"]),x("onPointerLeave",["pointerout","pointerover"]),S("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),S("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),S("onBeforeInput",["compositionend","keypress","textInput","paste"]),S("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),S("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),S("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hr));function Wr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,i,a,s,u){if(et.apply(this,arguments),Ye){if(!Ye)throw Error(y(198));var c=Je;Ye=!1,Je=null,Qe||(Qe=!0,Ze=c)}}(r,t,void 0,e),e.currentTarget=null}function $r(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==i&&o.isPropagationStopped())break e;Wr(o,s,c),i=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==i&&o.isPropagationStopped())break e;Wr(o,s,c),i=u}}}if(Qe)throw e=Ze,Qe=!1,Ze=null,e}function Yr(e,t){var n=t[ko];void 0===n&&(n=t[ko]=new Set);var r=e+"__bubble";n.has(r)||(Xr(t,e,2,!1),n.add(r))}function Jr(e,t,n){var r=0;t&&(r|=4),Xr(n,e,r,t)}var Qr="_reactListening"+Math.random().toString(36).slice(2);function Zr(e){if(!e[Qr]){e[Qr]=!0,b.forEach((function(t){"selectionchange"!==t&&(Gr.has(t)||Jr(t,!1,e),Jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Qr]||(t[Qr]=!0,Jr("selectionchange",!1,t))}}function Xr(e,t,n,r){switch(ln(t)){case 1:var o=on;break;case 4:o=an;break;default:o=sn}n=o.bind(null,t,n,e),o=void 0,!Ge||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function eo(e,t,n,r,o){var i=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===o||8===u.nodeType&&u.parentNode===o))return;a=a.return}for(;null!==s;){if(null===(a=Io(s)))return;if(5===(u=a.tag)||6===u){r=i=a;continue e}s=s.parentNode}}r=r.return}Ke((function(){var r=i,o=Re(n),a=[];e:{var s=Br.get(e);if(void 0!==s){var u=_n,c=e;switch(e){case"keypress":if(0===vn(n))break e;case"keydown":case"keyup":u=Dn;break;case"focusin":c="focus",u=In;break;case"focusout":c="blur",u=In;break;case"beforeblur":case"afterblur":u=In;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=An;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=Tn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Bn;break;case Ur:case Lr:case Dr:u=Nn;break;case Fr:u=zn;break;case"scroll":u=Cn;break;case"wheel":u=Vn;break;case"copy":case"cut":case"paste":u=On;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Fn}var l=0!=(4&t),d=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==f&&(null!=(v=He(p,f))&&l.push(to(p,v,h)))),d)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,o),a.push({event:s,listeners:l}))}}if(0==(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===je||!(c=n.relatedTarget||n.fromElement)||!Io(c)&&!c[Co])&&(u||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?Io(c):null)&&(c!==(d=tt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=An,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Fn,v="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==u?s:Oo(u),h=null==c?s:Oo(c),(s=new l(v,p+"leave",u,n,o)).target=d,s.relatedTarget=h,v=null,Io(o)===r&&((l=new l(f,p+"enter",c,n,o)).target=h,l.relatedTarget=d,v=l),d=v,u&&c)e:{for(f=c,p=0,h=l=u;h;h=ro(h))p++;for(h=0,v=f;v;v=ro(v))h++;for(;0<p-h;)l=ro(l),p--;for(;0<h-p;)f=ro(f),h--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=ro(l),f=ro(f)}l=null}else l=null;null!==u&&oo(a,s,u,l,!1),null!==c&&null!==d&&oo(a,d,c,l,!0)}if("select"===(u=(s=r?Oo(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=ar;else if(er(s))if(sr)g=gr;else{g=pr;var m=hr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=vr);switch(g&&(g=g(e,r))?tr(a,g,n,o):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&he(s,"number",s.value)),m=r?Oo(r):window,e){case"focusin":(er(m)||"true"===m.contentEditable)&&(kr=m,Ar=r,Tr=null);break;case"focusout":Tr=Ar=kr=null;break;case"mousedown":Ir=!0;break;case"contextmenu":case"mouseup":case"dragend":Ir=!1,Nr(a,n,o);break;case"selectionchange":if(Cr)break;case"keydown":case"keyup":Nr(a,n,o)}var y;if(Kn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Zn?Jn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Wn&&"ko"!==n.locale&&(Zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Zn&&(y=pn()):(fn="value"in(dn=o)?dn.value:dn.textContent,Zn=!0)),0<(m=no(r,b)).length&&(b=new Pn(b,e,null,n,o),a.push({event:b,listeners:m}),y?b.data=y:null!==(y=Qn(n))&&(b.data=y))),(y=Gn?function(e,t){switch(e){case"compositionend":return Qn(t);case"keypress":return 32!==t.which?null:(Yn=!0,$n);case"textInput":return(e=t.data)===$n&&Yn?null:e;default:return null}}(e,n):function(e,t){if(Zn)return"compositionend"===e||!Kn&&Jn(e,t)?(e=pn(),hn=fn=dn=null,Zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=no(r,"onBeforeInput")).length&&(o=new Pn("onBeforeInput","beforeinput",null,n,o),a.push({event:o,listeners:r}),o.data=y))}$r(a,t)}))}function to(e,t,n){return{instance:e,listener:t,currentTarget:n}}function no(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=He(e,n))&&r.unshift(to(e,i,o)),null!=(i=He(e,t))&&r.push(to(e,i,o))),e=e.return}return r}function ro(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function oo(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,o?null!=(u=He(n,i))&&a.unshift(to(n,u,s)):o||null!=(u=He(n,i))&&a.push(to(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var io=/\r\n?/g,ao=/\u0000|\uFFFD/g;function so(e){return("string"==typeof e?e:""+e).replace(io,"\n").replace(ao,"")}function uo(e,t,n){if(t=so(t),so(e)!==t&&n)throw Error(y(425))}function co(){}var lo=null,fo=null;function ho(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var po="function"==typeof setTimeout?setTimeout:void 0,vo="function"==typeof clearTimeout?clearTimeout:void 0,go="function"==typeof Promise?Promise:void 0,mo="function"==typeof queueMicrotask?queueMicrotask:void 0!==go?function(e){return go.resolve(null).then(e).catch(yo)}:po;function yo(e){setTimeout((function(){throw e}))}function bo(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void tn(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);tn(t)}function wo(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function So(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var xo=Math.random().toString(36).slice(2),_o="__reactFiber$"+xo,Eo="__reactProps$"+xo,Co="__reactContainer$"+xo,ko="__reactEvents$"+xo,Ao="__reactListeners$"+xo,To="__reactHandles$"+xo;function Io(e){var t=e[_o];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Co]||n[_o]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=So(e);null!==e;){if(n=e[_o])return n;e=So(e)}return t}n=(e=n).parentNode}return null}function No(e){return!(e=e[_o]||e[Co])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Oo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(y(33))}function Po(e){return e[Eo]||null}var jo=[],Ro=-1;function Mo(e){return{current:e}}function Uo(e){0>Ro||(e.current=jo[Ro],jo[Ro]=null,Ro--)}function Lo(e,t){Ro++,jo[Ro]=e.current,e.current=t}var Do={},Fo=Mo(Do),Bo=Mo(!1),zo=Do;function Vo(e,t){var n=e.type.contextTypes;if(!n)return Do;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function qo(e){return null!=(e=e.childContextTypes)}function Ko(){Uo(Bo),Uo(Fo)}function Ho(e,t,n){if(Fo.current!==Do)throw Error(y(168));Lo(Fo,t),Lo(Bo,n)}function Go(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(y(108,ne(e)||"Unknown",o));return J({},n,r)}function Wo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Do,zo=Fo.current,Lo(Fo,e),Lo(Bo,Bo.current),!0}function $o(e,t,n){var r=e.stateNode;if(!r)throw Error(y(169));n?(e=Go(e,t,zo),r.__reactInternalMemoizedMergedChildContext=e,Uo(Bo),Uo(Fo),Lo(Fo,e)):Uo(Bo),Lo(Bo,n)}var Yo=null,Jo=!1,Qo=!1;function Zo(e){null===Yo?Yo=[e]:Yo.push(e)}function Xo(){if(!Qo&&null!==Yo){Qo=!0;var e=0,t=Pt;try{var n=Yo;for(Pt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Yo=null,Jo=!1}catch(t){throw null!==Yo&&(Yo=Yo.slice(e+1)),at(ft,Xo),t}finally{Pt=t,Qo=!1}}return null}var ei=j.ReactCurrentBatchConfig;function ti(e,t){if(e&&e.defaultProps){for(var n in t=J({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ni=Mo(null),ri=null,oi=null,ii=null;function ai(){ii=oi=ri=null}function si(e){var t=ni.current;Uo(ni),e._currentValue=t}function ui(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ci(e,t){ri=e,ii=oi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Os=!0),e.firstContext=null)}function li(e){var t=e._currentValue;if(ii!==e)if(e={context:e,memoizedValue:t,next:null},null===oi){if(null===ri)throw Error(y(308));oi=e,ri.dependencies={lanes:0,firstContext:e}}else oi=oi.next=e;return t}var di=null,fi=!1;function hi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gi(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,dc(e)?(null===(e=n.interleaved)?(t.next=t,null===di?di=[n]:di.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function mi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ot(e,n)}}function yi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function bi(e,t,n,r){var o=e.updateQueue;fi=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var u=s,c=u.next;u.next=null,null===a?i=c:a.next=c,a=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==i){var d=o.baseState;for(a=0,l=c=u=null,s=i;;){var f=s.lane,h=s.eventTime;if((r&f)===f){null!==l&&(l=l.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(f=t,h=n,v.tag){case 1:if("function"==typeof(p=v.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(f="function"==typeof(p=v.payload)?p.call(h,d,f):p))break e;d=J({},d,f);break e;case 2:fi=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=o.effects)?o.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=h,u=d):l=l.next=h,a|=f;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(f=s).next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}if(null===l&&(u=d),o.baseState=u,o.firstBaseUpdate=c,o.lastBaseUpdate=l,null!==(t=o.shared.interleaved)){o=t;do{a|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);qu|=a,e.lanes=a,e.memoizedState=d}}function wi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!=typeof o)throw Error(y(191,o));o.call(r)}}}var Si=(new g.Component).refs;function xi(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:J({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var _i={isMounted:function(e){return!!(e=e._reactInternals)&&tt(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=sc(),o=uc(e),i=vi(r,o);i.payload=t,null!=n&&(i.callback=n),gi(e,i),null!==(t=cc(e,o,r))&&mi(t,e,o)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=sc(),o=uc(e),i=vi(r,o);i.tag=1,i.payload=t,null!=n&&(i.callback=n),gi(e,i),null!==(t=cc(e,o,r))&&mi(t,e,o)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=sc(),r=uc(e),o=vi(n,r);o.tag=2,null!=t&&(o.callback=t),gi(e,o),null!==(t=cc(e,r,n))&&mi(t,e,r)}};function Ei(e,t,n,r,o,i,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!yr(n,r)||!yr(o,i))}function Ci(e,t,n){var r=!1,o=Do,i=t.contextType;return"object"==typeof i&&null!==i?i=li(i):(o=qo(t)?zo:Fo.current,i=(r=null!=(r=t.contextTypes))?Vo(e,o):Do),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=_i,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function ki(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&_i.enqueueReplaceState(t,t.state,null)}function Ai(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=Si,hi(e);var i=t.contextType;"object"==typeof i&&null!==i?o.context=li(i):(i=qo(t)?zo:Fo.current,o.context=Vo(e,i)),o.state=e.memoizedState,"function"==typeof(i=t.getDerivedStateFromProps)&&(xi(e,t,i,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&_i.enqueueReplaceState(o,o.state,null),bi(e,n,o,r),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.flags|=4194308)}var Ti=[],Ii=0,Ni=null,Oi=0,Pi=[],ji=0,Ri=null,Mi=1,Ui="";function Li(e,t){Ti[Ii++]=Oi,Ti[Ii++]=Ni,Ni=e,Oi=t}function Di(e,t,n){Pi[ji++]=Mi,Pi[ji++]=Ui,Pi[ji++]=Ri,Ri=e;var r=Mi;e=Ui;var o=32-bt(r)-1;r&=~(1<<o),n+=1;var i=32-bt(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,Mi=1<<32-bt(t)+o|n<<o|r,Ui=i+e}else Mi=1<<i|n<<o|r,Ui=e}function Fi(e){null!==e.return&&(Li(e,1),Di(e,1,0))}function Bi(e){for(;e===Ni;)Ni=Ti[--Ii],Ti[Ii]=null,Oi=Ti[--Ii],Ti[Ii]=null;for(;e===Ri;)Ri=Pi[--ji],Pi[ji]=null,Ui=Pi[--ji],Pi[ji]=null,Mi=Pi[--ji],Pi[ji]=null}var zi=null,Vi=null,qi=!1,Ki=null;function Hi(e,t){var n=Bc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Gi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,zi=e,Vi=wo(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,zi=e,Vi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ri?{id:Mi,overflow:Ui}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Bc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,zi=e,Vi=null,!0);default:return!1}}function Wi(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function $i(e){if(qi){var t=Vi;if(t){var n=t;if(!Gi(e,t)){if(Wi(e))throw Error(y(418));t=wo(n.nextSibling);var r=zi;t&&Gi(e,t)?Hi(r,n):(e.flags=-4097&e.flags|2,qi=!1,zi=e)}}else{if(Wi(e))throw Error(y(418));e.flags=-4097&e.flags|2,qi=!1,zi=e}}}function Yi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;zi=e}function Ji(e){if(e!==zi)return!1;if(!qi)return Yi(e),qi=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ho(e.type,e.memoizedProps)),t&&(t=Vi)){if(Wi(e)){for(e=Vi;e;)e=wo(e.nextSibling);throw Error(y(418))}for(;t;)Hi(e,t),t=wo(t.nextSibling)}if(Yi(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(y(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Vi=wo(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Vi=null}}else Vi=zi?wo(e.stateNode.nextSibling):null;return!0}function Qi(){Vi=zi=null,qi=!1}function Zi(e){null===Ki?Ki=[e]:Ki.push(e)}function Xi(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(y(309));var r=n.stateNode}if(!r)throw Error(y(147,e));var o=r,i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=o.refs;t===Si&&(t=o.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(y(284));if(!n._owner)throw Error(y(290,e))}return e}function ea(e,t){throw e=Object.prototype.toString.call(t),Error(y(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ta(e){return(0,e._init)(e._payload)}function na(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Vc(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Gc(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function u(e,t,n,r){var i=n.type;return i===U?l(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===H&&ta(i)===t.type)?((r=o(t,n.props)).ref=Xi(e,t,n),r.return=e,r):((r=qc(n.type,n.key,n.props,null,e.mode,r)).ref=Xi(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Wc(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function l(e,t,n,r,i){return null===t||7!==t.tag?((t=Kc(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Gc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case R:return(n=qc(t.type,t.key,t.props,null,e.mode,n)).ref=Xi(e,null,t),n.return=e,n;case M:return(t=Wc(t,e.mode,n)).return=e,t;case H:return d(e,(0,t._init)(t._payload),n)}if(pe(t)||$(t))return(t=Kc(t,e.mode,n,null)).return=e,t;ea(e,t)}return null}function f(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==o?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case R:return n.key===o?u(e,t,n,r):null;case M:return n.key===o?c(e,t,n,r):null;case H:return f(e,t,(o=n._init)(n._payload),r)}if(pe(n)||$(n))return null!==o?null:l(e,t,n,r,null);ea(e,n)}return null}function h(e,t,n,r,o){if("string"==typeof r&&""!==r||"number"==typeof r)return s(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case R:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case M:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case H:return h(e,t,n,(0,r._init)(r._payload),o)}if(pe(r)||$(r))return l(t,e=e.get(n)||null,r,o,null);ea(t,r)}return null}return function s(u,c,l,p){if("object"==typeof l&&null!==l&&l.type===U&&null===l.key&&(l=l.props.children),"object"==typeof l&&null!==l){switch(l.$$typeof){case R:e:{for(var v=l.key,g=c;null!==g;){if(g.key===v){if((v=l.type)===U){if(7===g.tag){n(u,g.sibling),(c=o(g,l.props.children)).return=u,u=c;break e}}else if(g.elementType===v||"object"==typeof v&&null!==v&&v.$$typeof===H&&ta(v)===g.type){n(u,g.sibling),(c=o(g,l.props)).ref=Xi(u,g,l),c.return=u,u=c;break e}n(u,g);break}t(u,g),g=g.sibling}l.type===U?((c=Kc(l.props.children,u.mode,p,l.key)).return=u,u=c):((p=qc(l.type,l.key,l.props,null,u.mode,p)).ref=Xi(u,c,l),p.return=u,u=p)}return a(u);case M:e:{for(g=l.key;null!==c;){if(c.key===g){if(4===c.tag&&c.stateNode.containerInfo===l.containerInfo&&c.stateNode.implementation===l.implementation){n(u,c.sibling),(c=o(c,l.children||[])).return=u,u=c;break e}n(u,c);break}t(u,c),c=c.sibling}(c=Wc(l,u.mode,p)).return=u,u=c}return a(u);case H:return s(u,c,(g=l._init)(l._payload),p)}if(pe(l))return function(o,a,s,u){for(var c=null,l=null,p=a,v=a=0,g=null;null!==p&&v<s.length;v++){p.index>v?(g=p,p=null):g=p.sibling;var m=f(o,p,s[v],u);if(null===m){null===p&&(p=g);break}e&&p&&null===m.alternate&&t(o,p),a=i(m,a,v),null===l?c=m:l.sibling=m,l=m,p=g}if(v===s.length)return n(o,p),qi&&Li(o,v),c;if(null===p){for(;v<s.length;v++)null!==(p=d(o,s[v],u))&&(a=i(p,a,v),null===l?c=p:l.sibling=p,l=p);return qi&&Li(o,v),c}for(p=r(o,p);v<s.length;v++)null!==(g=h(p,o,v,s[v],u))&&(e&&null!==g.alternate&&p.delete(null===g.key?v:g.key),a=i(g,a,v),null===l?c=g:l.sibling=g,l=g);return e&&p.forEach((function(e){return t(o,e)})),qi&&Li(o,v),c}(u,c,l,p);if($(l))return function(o,a,s,u){var c=$(s);if("function"!=typeof c)throw Error(y(150));if(null==(s=c.call(s)))throw Error(y(151));for(var l=c=null,p=a,v=a=0,g=null,m=s.next();null!==p&&!m.done;v++,m=s.next()){p.index>v?(g=p,p=null):g=p.sibling;var b=f(o,p,m.value,u);if(null===b){null===p&&(p=g);break}e&&p&&null===b.alternate&&t(o,p),a=i(b,a,v),null===l?c=b:l.sibling=b,l=b,p=g}if(m.done)return n(o,p),qi&&Li(o,v),c;if(null===p){for(;!m.done;v++,m=s.next())null!==(m=d(o,m.value,u))&&(a=i(m,a,v),null===l?c=m:l.sibling=m,l=m);return qi&&Li(o,v),c}for(p=r(o,p);!m.done;v++,m=s.next())null!==(m=h(p,o,v,m.value,u))&&(e&&null!==m.alternate&&p.delete(null===m.key?v:m.key),a=i(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&p.forEach((function(e){return t(o,e)})),qi&&Li(o,v),c}(u,c,l,p);ea(u,l)}return"string"==typeof l&&""!==l||"number"==typeof l?(l=""+l,null!==c&&6===c.tag?(n(u,c.sibling),(c=o(c,l)).return=u,u=c):(n(u,c),(c=Gc(l,u.mode,p)).return=u,u=c),a(u)):n(u,c)}}var ra=na(!0),oa=na(!1),ia={},aa=Mo(ia),sa=Mo(ia),ua=Mo(ia);function ca(e){if(e===ia)throw Error(y(174));return e}function la(e,t){switch(Lo(ua,t),Lo(sa,e),Lo(aa,ia),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Se(null,"");break;default:t=Se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Uo(aa),Lo(aa,t)}function da(){Uo(aa),Uo(sa),Uo(ua)}function fa(e){ca(ua.current);var t=ca(aa.current),n=Se(t,e.type);t!==n&&(Lo(sa,e),Lo(aa,n))}function ha(e){sa.current===e&&(Uo(aa),Uo(sa))}var pa=Mo(0);function va(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ga=[];function ma(){for(var e=0;e<ga.length;e++)ga[e]._workInProgressVersionPrimary=null;ga.length=0}var ya=j.ReactCurrentDispatcher,ba=j.ReactCurrentBatchConfig,wa=0,Sa=null,xa=null,_a=null,Ea=!1,Ca=!1,ka=0,Aa=0;function Ta(){throw Error(y(321))}function Ia(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!mr(e[n],t[n]))return!1;return!0}function Na(e,t,n,r,o,i){if(wa=i,Sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ya.current=null===e||null===e.memoizedState?hs:ps,e=n(r,o),Ca){i=0;do{if(Ca=!1,ka=0,25<=i)throw Error(y(301));i+=1,_a=xa=null,t.updateQueue=null,ya.current=vs,e=n(r,o)}while(Ca)}if(ya.current=fs,t=null!==xa&&null!==xa.next,wa=0,_a=xa=Sa=null,Ea=!1,t)throw Error(y(300));return e}function Oa(){var e=0!==ka;return ka=0,e}function Pa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===_a?Sa.memoizedState=_a=e:_a=_a.next=e,_a}function ja(){if(null===xa){var e=Sa.alternate;e=null!==e?e.memoizedState:null}else e=xa.next;var t=null===_a?Sa.memoizedState:_a.next;if(null!==t)_a=t,xa=e;else{if(null===e)throw Error(y(310));e={memoizedState:(xa=e).memoizedState,baseState:xa.baseState,baseQueue:xa.baseQueue,queue:xa.queue,next:null},null===_a?Sa.memoizedState=_a=e:_a=_a.next=e}return _a}function Ra(e,t){return"function"==typeof t?t(e):t}function Ma(e){var t=ja(),n=t.queue;if(null===n)throw Error(y(311));n.lastRenderedReducer=e;var r=xa,o=r.baseQueue,i=n.pending;if(null!==i){if(null!==o){var a=o.next;o.next=i.next,i.next=a}r.baseQueue=o=i,n.pending=null}if(null!==o){i=o.next,r=r.baseState;var s=a=null,u=null,c=i;do{var l=c.lane;if((wa&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:l,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(s=u=d,a=r):u=u.next=d,Sa.lanes|=l,qu|=l}c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,mr(r,t.memoizedState)||(Os=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{i=o.lane,Sa.lanes|=i,qu|=i,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ua(e){var t=ja(),n=t.queue;if(null===n)throw Error(y(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(null!==o){n.pending=null;var a=o=o.next;do{i=e(i,a.action),a=a.next}while(a!==o);mr(i,t.memoizedState)||(Os=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function La(){}function Da(e,t){var n=Sa,r=ja(),o=t(),i=!mr(r.memoizedState,o);if(i&&(r.memoizedState=o,Os=!0),r=r.queue,Ya(za.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==_a&&1&_a.memoizedState.tag){if(n.flags|=2048,Ka(9,Ba.bind(null,n,r,o,t),void 0,null),null===Uu)throw Error(y(349));0!=(30&wa)||Fa(n,t,o)}return o}function Fa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Sa.updateQueue)?(t={lastEffect:null,stores:null},Sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ba(e,t,n,r){t.value=n,t.getSnapshot=r,Va(t)&&cc(e,1,-1)}function za(e,t,n){return n((function(){Va(t)&&cc(e,1,-1)}))}function Va(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mr(e,n)}catch(e){return!0}}function qa(e){var t=Pa();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ra,lastRenderedState:e},t.queue=e,e=e.dispatch=ss.bind(null,Sa,e),[t.memoizedState,e]}function Ka(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Sa.updateQueue)?(t={lastEffect:null,stores:null},Sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ha(){return ja().memoizedState}function Ga(e,t,n,r){var o=Pa();Sa.flags|=e,o.memoizedState=Ka(1|t,n,void 0,void 0===r?null:r)}function Wa(e,t,n,r){var o=ja();r=void 0===r?null:r;var i=void 0;if(null!==xa){var a=xa.memoizedState;if(i=a.destroy,null!==r&&Ia(r,a.deps))return void(o.memoizedState=Ka(t,n,i,r))}Sa.flags|=e,o.memoizedState=Ka(1|t,n,i,r)}function $a(e,t){return Ga(8390656,8,e,t)}function Ya(e,t){return Wa(2048,8,e,t)}function Ja(e,t){return Wa(4,2,e,t)}function Qa(e,t){return Wa(4,4,e,t)}function Za(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Xa(e,t,n){return n=null!=n?n.concat([e]):null,Wa(4,4,Za.bind(null,t,e),n)}function es(){}function ts(e,t){var n=ja();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ia(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ns(e,t){var n=ja();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ia(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function rs(e,t,n){return 0==(21&wa)?(e.baseState&&(e.baseState=!1,Os=!0),e.memoizedState=n):(mr(n,t)||(n=Tt(),Sa.lanes|=n,qu|=n,e.baseState=!0),t)}function os(e,t){var n=Pt;Pt=0!==n&&4>n?n:4,e(!0);var r=ba.transition;ba.transition={};try{e(!1),t()}finally{Pt=n,ba.transition=r}}function is(){return ja().memoizedState}function as(e,t,n){var r=uc(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},us(e)?cs(t,n):(ls(e,t,n),null!==(e=cc(e,r,n=sc()))&&ds(e,t,r))}function ss(e,t,n){var r=uc(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(us(e))cs(t,o);else{ls(e,t,o);var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,mr(s,a))return}catch(e){}null!==(e=cc(e,r,n=sc()))&&ds(e,t,r)}}function us(e){var t=e.alternate;return e===Sa||null!==t&&t===Sa}function cs(e,t){Ca=Ea=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ls(e,t,n){dc(e)?(null===(e=t.interleaved)?(n.next=n,null===di?di=[t]:di.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function ds(e,t,n){if(0!=(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ot(e,n)}}var fs={readContext:li,useCallback:Ta,useContext:Ta,useEffect:Ta,useImperativeHandle:Ta,useInsertionEffect:Ta,useLayoutEffect:Ta,useMemo:Ta,useReducer:Ta,useRef:Ta,useState:Ta,useDebugValue:Ta,useDeferredValue:Ta,useTransition:Ta,useMutableSource:Ta,useSyncExternalStore:Ta,useId:Ta,unstable_isNewReconciler:!1},hs={readContext:li,useCallback:function(e,t){return Pa().memoizedState=[e,void 0===t?null:t],e},useContext:li,useEffect:$a,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Ga(4194308,4,Za.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ga(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ga(4,2,e,t)},useMemo:function(e,t){var n=Pa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Pa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=as.bind(null,Sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Pa().memoizedState=e},useState:qa,useDebugValue:es,useDeferredValue:function(e){return Pa().memoizedState=e},useTransition:function(){var e=qa(!1),t=e[0];return e=os.bind(null,e[1]),Pa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Sa,o=Pa();if(qi){if(void 0===n)throw Error(y(407));n=n()}else{if(n=t(),null===Uu)throw Error(y(349));0!=(30&wa)||Fa(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,$a(za.bind(null,r,i,e),[e]),r.flags|=2048,Ka(9,Ba.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Pa(),t=Uu.identifierPrefix;if(qi){var n=Ui;t=":"+t+"R"+(n=(Mi&~(1<<32-bt(Mi)-1)).toString(32)+n),0<(n=ka++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Aa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ps={readContext:li,useCallback:ts,useContext:li,useEffect:Ya,useImperativeHandle:Xa,useInsertionEffect:Ja,useLayoutEffect:Qa,useMemo:ns,useReducer:Ma,useRef:Ha,useState:function(){return Ma(Ra)},useDebugValue:es,useDeferredValue:function(e){return rs(ja(),xa.memoizedState,e)},useTransition:function(){return[Ma(Ra)[0],ja().memoizedState]},useMutableSource:La,useSyncExternalStore:Da,useId:is,unstable_isNewReconciler:!1},vs={readContext:li,useCallback:ts,useContext:li,useEffect:Ya,useImperativeHandle:Xa,useInsertionEffect:Ja,useLayoutEffect:Qa,useMemo:ns,useReducer:Ua,useRef:Ha,useState:function(){return Ua(Ra)},useDebugValue:es,useDeferredValue:function(e){var t=ja();return null===xa?t.memoizedState=e:rs(t,xa.memoizedState,e)},useTransition:function(){return[Ua(Ra)[0],ja().memoizedState]},useMutableSource:La,useSyncExternalStore:Da,useId:is,unstable_isNewReconciler:!1};function gs(e,t){try{var n="",r=t;do{n+=ee(r),r=r.return}while(r);var o=n}catch(e){o="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:o}}function ms(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var ys,bs,ws,Ss="function"==typeof WeakMap?WeakMap:Map;function xs(e,t,n){(n=vi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Qu||(Qu=!0,Zu=r),ms(0,t)},n}function _s(e,t,n){(n=vi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){ms(0,t)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(n.callback=function(){ms(0,t),"function"!=typeof r&&(null===Xu?Xu=new Set([this]):Xu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Es(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Ss;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Rc.bind(null,e,t,n),t.then(e,e))}function Cs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ks(e,t,n,r,o){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=vi(-1,1)).tag=2,gi(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}function As(e,t){if(!qi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ts(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Is(e,t,n){var r=t.pendingProps;switch(Bi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ts(t),null;case 1:case 17:return qo(t.type)&&Ko(),Ts(t),null;case 3:return r=t.stateNode,da(),Uo(Bo),Uo(Fo),ma(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ji(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==Ki&&(vc(Ki),Ki=null))),Ts(t),null;case 5:ha(t);var o=ca(ua.current);if(n=t.type,null!==e&&null!=t.stateNode)bs(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(y(166));return Ts(t),null}if(e=ca(aa.current),Ji(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[_o]=t,r[Eo]=i,e=0!=(1&t.mode),n){case"dialog":Yr("cancel",r),Yr("close",r);break;case"iframe":case"object":case"embed":Yr("load",r);break;case"video":case"audio":for(o=0;o<Hr.length;o++)Yr(Hr[o],r);break;case"source":Yr("error",r);break;case"img":case"image":case"link":Yr("error",r),Yr("load",r);break;case"details":Yr("toggle",r);break;case"input":ce(r,i),Yr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Yr("invalid",r);break;case"textarea":me(r,i),Yr("invalid",r)}for(var a in Oe(n,i),o=null,i)if(i.hasOwnProperty(a)){var s=i[a];"children"===a?"string"==typeof s?r.textContent!==s&&(!0!==i.suppressHydrationWarning&&uo(r.textContent,s,e),o=["children",s]):"number"==typeof s&&r.textContent!==""+s&&(!0!==i.suppressHydrationWarning&&uo(r.textContent,s,e),o=["children",""+s]):w.hasOwnProperty(a)&&null!=s&&"onScroll"===a&&Yr("scroll",r)}switch(n){case"input":ie(r),fe(r,i,!0);break;case"textarea":ie(r),be(r);break;case"select":case"option":break;default:"function"==typeof i.onClick&&(r.onclick=co)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{a=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=we(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),"select"===n&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[_o]=t,e[Eo]=r,ys(e,t),t.stateNode=e;e:{switch(a=Pe(n,r),n){case"dialog":Yr("cancel",e),Yr("close",e),o=r;break;case"iframe":case"object":case"embed":Yr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Hr.length;o++)Yr(Hr[o],e);o=r;break;case"source":Yr("error",e),o=r;break;case"img":case"image":case"link":Yr("error",e),Yr("load",e),o=r;break;case"details":Yr("toggle",e),o=r;break;case"input":ce(e,r),o=ue(e,r),Yr("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=J({},r,{value:void 0}),Yr("invalid",e);break;case"textarea":me(e,r),o=ge(e,r),Yr("invalid",e)}for(i in Oe(n,o),s=o)if(s.hasOwnProperty(i)){var u=s[i];"style"===i?Ie(e,u):"dangerouslySetInnerHTML"===i?null!=(u=u?u.__html:void 0)&&Ee(e,u):"children"===i?"string"==typeof u?("textarea"!==n||""!==u)&&Ce(e,u):"number"==typeof u&&Ce(e,""+u):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(w.hasOwnProperty(i)?null!=u&&"onScroll"===i&&Yr("scroll",e):null!=u&&P(e,i,u,a))}switch(n){case"input":ie(e),fe(e,r,!1);break;case"textarea":ie(e),be(e);break;case"option":null!=r.value&&e.setAttribute("value",""+re(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ve(e,!!r.multiple,i,!1):null!=r.defaultValue&&ve(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=co)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ts(t),null;case 6:if(e&&null!=t.stateNode)ws(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(y(166));if(n=ca(ua.current),ca(aa.current),Ji(t)){if(r=t.stateNode,n=t.memoizedProps,r[_o]=t,(i=r.nodeValue!==n)&&null!==(e=zi))switch(e.tag){case 3:uo(r.nodeValue,n,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&uo(r.nodeValue,n,0!=(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[_o]=t,t.stateNode=r}return Ts(t),null;case 13:if(Uo(pa),r=t.memoizedState,qi&&null!==Vi&&0!=(1&t.mode)&&0==(128&t.flags)){for(r=Vi;r;)r=wo(r.nextSibling);return Qi(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Ji(t),null===e){if(!r)throw Error(y(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(y(317));r[_o]=t}else Qi(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return Ts(t),null}return null!==Ki&&(vc(Ki),Ki=null),0!=(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Ji(t):n=null!==e.memoizedState,r!==n&&r&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&pa.current)?0===zu&&(zu=3):Ec())),null!==t.updateQueue&&(t.flags|=4),Ts(t),null);case 4:return da(),null===e&&Zr(t.stateNode.containerInfo),Ts(t),null;case 10:return si(t.type._context),Ts(t),null;case 19:if(Uo(pa),null===(i=t.memoizedState))return Ts(t),null;if(r=0!=(128&t.flags),null===(a=i.rendering))if(r)As(i,!1);else{if(0!==zu||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=va(e))){for(t.flags|=128,As(i,!1),null!==(r=a.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(a=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Lo(pa,1&pa.current|2),t.child}e=e.sibling}null!==i.tail&&lt()>Yu&&(t.flags|=128,r=!0,As(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=va(a))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),As(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!qi)return Ts(t),null}else 2*lt()-i.renderingStartTime>Yu&&1073741824!==n&&(t.flags|=128,r=!0,As(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(n=i.last)?n.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=lt(),t.sibling=null,n=pa.current,Lo(pa,r?1&n|2:1&n),t):(Ts(t),null);case 22:case 23:return wc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!=(1&t.mode)?0!=(1073741824&Fu)&&(Ts(t),6&t.subtreeFlags&&(t.flags|=8192)):Ts(t),null;case 24:case 25:return null}throw Error(y(156,t.tag))}ys=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},bs=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,ca(aa.current);var i,a=null;switch(n){case"input":o=ue(e,o),r=ue(e,r),a=[];break;case"select":o=J({},o,{value:void 0}),r=J({},r,{value:void 0}),a=[];break;case"textarea":o=ge(e,o),r=ge(e,r),a=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=co)}for(c in Oe(n,r),n=null,o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&null!=o[c])if("style"===c){var s=o[c];for(i in s)s.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(w.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var u=r[c];if(s=null!=o?o[c]:void 0,r.hasOwnProperty(c)&&u!==s&&(null!=u||null!=s))if("style"===c)if(s){for(i in s)!s.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&s[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(a||(a=[]),a.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,s=s?s.__html:void 0,null!=u&&s!==u&&(a=a||[]).push(c,u)):"children"===c?"string"!=typeof u&&"number"!=typeof u||(a=a||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(w.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Yr("scroll",e),a||s===u||(a=[])):(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},ws=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ns=j.ReactCurrentOwner,Os=!1;function Ps(e,t,n,r){t.child=null===e?oa(t,null,n,r):ra(t,e.child,n,r)}function js(e,t,n,r,o){n=n.render;var i=t.ref;return ci(t,o),r=Na(e,t,n,r,i,o),n=Oa(),null===e||Os?(qi&&n&&Fi(t),t.flags|=1,Ps(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,eu(e,t,o))}function Rs(e,t,n,r,o){if(null===e){var i=n.type;return"function"!=typeof i||zc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=qc(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ms(e,t,i,r,o))}if(i=e.child,0==(e.lanes&o)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:yr)(a,r)&&e.ref===t.ref)return eu(e,t,o)}return t.flags|=1,(e=Vc(i,r)).ref=t.ref,e.return=t,t.child=e}function Ms(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(yr(i,r)&&e.ref===t.ref){if(Os=!1,t.pendingProps=r=i,0==(e.lanes&o))return t.lanes=e.lanes,eu(e,t,o);0!=(131072&e.flags)&&(Os=!0)}}return Ds(e,t,n,r,o)}function Us(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Lo(Bu,Fu),Fu|=n;else{if(0==(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Lo(Bu,Fu),Fu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Lo(Bu,Fu),Fu|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Lo(Bu,Fu),Fu|=r;return Ps(e,t,o,n),t.child}function Ls(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ds(e,t,n,r,o){var i=qo(n)?zo:Fo.current;return i=Vo(t,i),ci(t,o),n=Na(e,t,n,r,i,o),r=Oa(),null===e||Os?(qi&&r&&Fi(t),t.flags|=1,Ps(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,eu(e,t,o))}function Fs(e,t,n,r,o){if(qo(n)){var i=!0;Wo(t)}else i=!1;if(ci(t,o),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Ci(t,n,r),Ai(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"==typeof c&&null!==c?c=li(c):c=Vo(t,c=qo(n)?zo:Fo.current);var l=n.getDerivedStateFromProps,d="function"==typeof l||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==c)&&ki(t,a,r,c),fi=!1;var f=t.memoizedState;a.state=f,bi(t,r,a,o),u=t.memoizedState,s!==r||f!==u||Bo.current||fi?("function"==typeof l&&(xi(t,n,l,r),u=t.memoizedState),(s=fi||Ei(t,n,s,r,f,u,c))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,pi(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ti(t.type,s),a.props=c,d=t.pendingProps,f=a.context,"object"==typeof(u=n.contextType)&&null!==u?u=li(u):u=Vo(t,u=qo(n)?zo:Fo.current);var h=n.getDerivedStateFromProps;(l="function"==typeof h||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||f!==u)&&ki(t,a,r,u),fi=!1,f=t.memoizedState,a.state=f,bi(t,r,a,o);var p=t.memoizedState;s!==d||f!==p||Bo.current||fi?("function"==typeof h&&(xi(t,n,h,r),p=t.memoizedState),(c=fi||Ei(t,n,c,r,f,p,u)||!1)?(l||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Bs(e,t,n,r,i,o)}function Bs(e,t,n,r,o,i){Ls(e,t);var a=0!=(128&t.flags);if(!r&&!a)return o&&$o(t,n,!1),eu(e,t,i);r=t.stateNode,Ns.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=ra(t,e.child,null,i),t.child=ra(t,null,s,i)):Ps(e,t,s,i),t.memoizedState=r.state,o&&$o(t,n,!0),t.child}function zs(e){var t=e.stateNode;t.pendingContext?Ho(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ho(0,t.context,!1),la(e,t.containerInfo)}function Vs(e,t,n,r,o){return Qi(),Zi(o),t.flags|=256,Ps(e,t,n,r),t.child}var qs={dehydrated:null,treeContext:null,retryLane:0};function Ks(e){return{baseLanes:e,cachePool:null,transitions:null}}function Hs(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function Gs(e,t,n){var r,o=t.pendingProps,i=pa.current,a=!1,s=0!=(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!=(2&i)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Lo(pa,1&i),null===e)return $i(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(i=o.children,e=o.fallback,a?(o=t.mode,a=t.child,i={mode:"hidden",children:i},0==(1&o)&&null!==a?(a.childLanes=0,a.pendingProps=i):a=Hc(i,o,0,null),e=Kc(e,o,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ks(n),t.memoizedState=qs,e):Ws(t,i));if(null!==(i=e.memoizedState)){if(null!==(r=i.dehydrated)){if(s)return 256&t.flags?(t.flags&=-257,Js(e,t,n,Error(y(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=o.fallback,i=t.mode,o=Hc({mode:"visible",children:o.children},i,0,null),(a=Kc(a,i,n,null)).flags|=2,o.return=t,a.return=t,o.sibling=a,t.child=o,0!=(1&t.mode)&&ra(t,e.child,null,n),t.child.memoizedState=Ks(n),t.memoizedState=qs,a);if(0==(1&t.mode))t=Js(e,t,n,null);else if("$!"===r.data)t=Js(e,t,n,Error(y(419)));else if(o=0!=(n&e.childLanes),Os||o){if(null!==(o=Uu)){switch(n&-n){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(o=0!=(a&(o.suspendedLanes|n))?0:a)&&o!==i.retryLane&&(i.retryLane=o,cc(e,o,-1))}Ec(),t=Js(e,t,n,Error(y(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=Uc.bind(null,e),r._reactRetry=t,t=null):(n=i.treeContext,Vi=wo(r.nextSibling),zi=t,qi=!0,Ki=null,null!==n&&(Pi[ji++]=Mi,Pi[ji++]=Ui,Pi[ji++]=Ri,Mi=n.id,Ui=n.overflow,Ri=t),(t=Ws(t,t.pendingProps.children)).flags|=4096);return t}return a?(o=Ys(e,t,o.children,o.fallback,n),a=t.child,i=e.child.memoizedState,a.memoizedState=null===i?Ks(n):Hs(i,n),a.childLanes=e.childLanes&~n,t.memoizedState=qs,o):(n=$s(e,t,o.children,n),t.memoizedState=null,n)}return a?(o=Ys(e,t,o.children,o.fallback,n),a=t.child,i=e.child.memoizedState,a.memoizedState=null===i?Ks(n):Hs(i,n),a.childLanes=e.childLanes&~n,t.memoizedState=qs,o):(n=$s(e,t,o.children,n),t.memoizedState=null,n)}function Ws(e,t){return(t=Hc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function $s(e,t,n,r){var o=e.child;return e=o.sibling,n=Vc(o,{mode:"visible",children:n}),0==(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Ys(e,t,n,r,o){var i=t.mode,a=(e=e.child).sibling,s={mode:"hidden",children:n};return 0==(1&i)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=s,t.deletions=null):(n=Vc(e,s)).subtreeFlags=14680064&e.subtreeFlags,null!==a?r=Vc(a,r):(r=Kc(r,i,o,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Js(e,t,n,r){return null!==r&&Zi(r),ra(t,e.child,null,n),(e=Ws(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Qs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ui(e.return,t,n)}function Zs(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Xs(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Ps(e,t,r.children,n),0!=(2&(r=pa.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Qs(e,n,t);else if(19===e.tag)Qs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Lo(pa,r),0==(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===va(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Zs(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===va(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Zs(t,!0,n,null,i);break;case"together":Zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function eu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),qu|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(y(153));if(null!==t.child){for(n=Vc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Vc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function tu(e,t){switch(Bi(t),t.tag){case 1:return qo(t.type)&&Ko(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return da(),Uo(Bo),Uo(Fo),ma(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ha(t),null;case 13:if(Uo(pa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(y(340));Qi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Uo(pa),null;case 4:return da(),null;case 10:return si(t.type._context),null;case 22:case 23:return wc(),null;default:return null}}var nu=!1,ru=!1,ou="function"==typeof WeakSet?WeakSet:Set,iu=null;function au(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){jc(e,t,n)}else n.current=null}function su(e,t,n){try{n()}catch(n){jc(e,t,n)}}var uu=!1;function cu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&su(t,n,i)}o=o.next}while(o!==r)}}function lu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function du(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function fu(e){var t=e.alternate;null!==t&&(e.alternate=null,fu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[_o],delete t[Eo],delete t[ko],delete t[Ao],delete t[To])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function hu(e){return 5===e.tag||3===e.tag||4===e.tag}function pu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||hu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function vu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=co));else if(4!==r&&null!==(e=e.child))for(vu(e,t,n),e=e.sibling;null!==e;)vu(e,t,n),e=e.sibling}function gu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(gu(e,t,n),e=e.sibling;null!==e;)gu(e,t,n),e=e.sibling}var mu=null,yu=!1;function bu(e,t,n){for(n=n.child;null!==n;)wu(e,t,n),n=n.sibling}function wu(e,t,n){if(yt&&"function"==typeof yt.onCommitFiberUnmount)try{yt.onCommitFiberUnmount(mt,n)}catch(e){}switch(n.tag){case 5:ru||au(n,t);case 6:var r=mu,o=yu;mu=null,bu(e,t,n),yu=o,null!==(mu=r)&&(yu?(e=mu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):mu.removeChild(n.stateNode));break;case 18:null!==mu&&(yu?(e=mu,n=n.stateNode,8===e.nodeType?bo(e.parentNode,n):1===e.nodeType&&bo(e,n),tn(e)):bo(mu,n.stateNode));break;case 4:r=mu,o=yu,mu=n.stateNode.containerInfo,yu=!0,bu(e,t,n),mu=r,yu=o;break;case 0:case 11:case 14:case 15:if(!ru&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,void 0!==a&&(0!=(2&i)||0!=(4&i))&&su(n,t,a),o=o.next}while(o!==r)}bu(e,t,n);break;case 1:if(!ru&&(au(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){jc(n,t,e)}bu(e,t,n);break;case 21:bu(e,t,n);break;case 22:1&n.mode?(ru=(r=ru)||null!==n.memoizedState,bu(e,t,n),ru=r):bu(e,t,n);break;default:bu(e,t,n)}}function Su(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ou),t.forEach((function(t){var r=Lc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function xu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,a=t,s=a;e:for(;null!==s;){switch(s.tag){case 5:mu=s.stateNode,yu=!1;break e;case 3:case 4:mu=s.stateNode.containerInfo,yu=!0;break e}s=s.return}if(null===mu)throw Error(y(160));wu(i,a,o),mu=null,yu=!1;var u=o.alternate;null!==u&&(u.return=null),o.return=null}catch(e){jc(o,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)_u(t,e),t=t.sibling}function _u(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xu(t,e),Eu(e),4&r){try{cu(3,e,e.return),lu(3,e)}catch(t){jc(e,e.return,t)}try{cu(5,e,e.return)}catch(t){jc(e,e.return,t)}}break;case 1:xu(t,e),Eu(e),512&r&&null!==n&&au(n,n.return);break;case 5:if(xu(t,e),Eu(e),512&r&&null!==n&&au(n,n.return),32&e.flags){var o=e.stateNode;try{Ce(o,"")}catch(t){jc(e,e.return,t)}}if(4&r&&null!=(o=e.stateNode)){var i=e.memoizedProps,a=null!==n?n.memoizedProps:i,s=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===s&&"radio"===i.type&&null!=i.name&&le(o,i),Pe(s,a);var c=Pe(s,i);for(a=0;a<u.length;a+=2){var l=u[a],d=u[a+1];"style"===l?Ie(o,d):"dangerouslySetInnerHTML"===l?Ee(o,d):"children"===l?Ce(o,d):P(o,l,d,c)}switch(s){case"input":de(o,i);break;case"textarea":ye(o,i);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var h=i.value;null!=h?ve(o,!!i.multiple,h,!1):f!==!!i.multiple&&(null!=i.defaultValue?ve(o,!!i.multiple,i.defaultValue,!0):ve(o,!!i.multiple,i.multiple?[]:"",!1))}o[Eo]=i}catch(t){jc(e,e.return,t)}}break;case 6:if(xu(t,e),Eu(e),4&r){if(null===e.stateNode)throw Error(y(162));c=e.stateNode,l=e.memoizedProps;try{c.nodeValue=l}catch(t){jc(e,e.return,t)}}break;case 3:if(xu(t,e),Eu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{tn(t.containerInfo)}catch(t){jc(e,e.return,t)}break;case 4:default:xu(t,e),Eu(e);break;case 13:xu(t,e),Eu(e),8192&(c=e.child).flags&&null!==c.memoizedState&&(null===c.alternate||null===c.alternate.memoizedState)&&($u=lt()),4&r&&Su(e);break;case 22:if(c=null!==n&&null!==n.memoizedState,1&e.mode?(ru=(l=ru)||c,xu(t,e),ru=l):xu(t,e),Eu(e),8192&r){l=null!==e.memoizedState;e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{o=f.stateNode,l?"function"==typeof(i=o.style).setProperty?i.setProperty("display","none","important"):i.display="none":(s=f.stateNode,a=null!=(u=f.memoizedProps.style)&&u.hasOwnProperty("display")?u.display:null,s.style.display=Te("display",a))}catch(t){jc(e,e.return,t)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(t){jc(e,e.return,t)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}if(l&&!c&&0!=(1&e.mode))for(iu=e,e=e.child;null!==e;){for(c=iu=e;null!==iu;){switch(d=(l=iu).child,l.tag){case 0:case 11:case 14:case 15:cu(4,l,l.return);break;case 1:if(au(l,l.return),"function"==typeof(i=l.stateNode).componentWillUnmount){f=l,h=l.return;try{o=f,i.props=o.memoizedProps,i.state=o.memoizedState,i.componentWillUnmount()}catch(e){jc(f,h,e)}}break;case 5:au(l,l.return);break;case 22:if(null!==l.memoizedState){Tu(c);continue}}null!==d?(d.return=l,iu=d):Tu(c)}e=e.sibling}}break;case 19:xu(t,e),Eu(e),4&r&&Su(e);case 21:}}function Eu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(hu(n)){var r=n;break e}n=n.return}throw Error(y(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(Ce(o,""),r.flags&=-33),gu(e,pu(e),o);break;case 3:case 4:var i=r.stateNode.containerInfo;vu(e,pu(e),i);break;default:throw Error(y(161))}}catch(t){jc(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Cu(e,t,n){iu=e,ku(e,t,n)}function ku(e,t,n){for(var r=0!=(1&e.mode);null!==iu;){var o=iu,i=o.child;if(22===o.tag&&r){var a=null!==o.memoizedState||nu;if(!a){var s=o.alternate,u=null!==s&&null!==s.memoizedState||ru;s=nu;var c=ru;if(nu=a,(ru=u)&&!c)for(iu=o;null!==iu;)u=(a=iu).child,22===a.tag&&null!==a.memoizedState?Iu(o):null!==u?(u.return=a,iu=u):Iu(o);for(;null!==i;)iu=i,ku(i,t,n),i=i.sibling;iu=o,nu=s,ru=c}Au(e)}else 0!=(8772&o.subtreeFlags)&&null!==i?(i.return=o,iu=i):Au(e)}}function Au(e){for(;null!==iu;){var t=iu;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:ru||lu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!ru)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:ti(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&wi(t,i,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}wi(t,a,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var l=c.memoizedState;if(null!==l){var d=l.dehydrated;null!==d&&tn(d)}}}break;default:throw Error(y(163))}ru||512&t.flags&&du(t)}catch(e){jc(t,t.return,e)}}if(t===e){iu=null;break}if(null!==(n=t.sibling)){n.return=t.return,iu=n;break}iu=t.return}}function Tu(e){for(;null!==iu;){var t=iu;if(t===e){iu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,iu=n;break}iu=t.return}}function Iu(e){for(;null!==iu;){var t=iu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{lu(4,t)}catch(e){jc(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(e){jc(t,o,e)}}var i=t.return;try{du(t)}catch(e){jc(t,i,e)}break;case 5:var a=t.return;try{du(t)}catch(e){jc(t,a,e)}}}catch(e){jc(t,t.return,e)}if(t===e){iu=null;break}var s=t.sibling;if(null!==s){s.return=t.return,iu=s;break}iu=t.return}}var Nu,Ou=Math.ceil,Pu=j.ReactCurrentDispatcher,ju=j.ReactCurrentOwner,Ru=j.ReactCurrentBatchConfig,Mu=0,Uu=null,Lu=null,Du=0,Fu=0,Bu=Mo(0),zu=0,Vu=null,qu=0,Ku=0,Hu=0,Gu=null,Wu=null,$u=0,Yu=1/0,Ju=null,Qu=!1,Zu=null,Xu=null,ec=!1,tc=null,nc=0,rc=0,oc=null,ic=-1,ac=0;function sc(){return 0!=(6&Mu)?lt():-1!==ic?ic:ic=lt()}function uc(e){return 0==(1&e.mode)?1:0!=(2&Mu)&&0!==Du?Du&-Du:null!==ei.transition?(0===ac&&(ac=Tt()),ac):0!==(e=Pt)?e:e=void 0===(e=window.event)?16:ln(e.type)}function cc(e,t,n){if(50<rc)throw rc=0,oc=null,Error(y(185));var r=lc(e,t);return null===r?null:(Nt(r,t,n),0!=(2&Mu)&&r===Uu||(r===Uu&&(0==(2&Mu)&&(Ku|=t),4===zu&&gc(r,Du)),fc(r,n),1===t&&0===Mu&&0==(1&e.mode)&&(Yu=lt()+500,Jo&&Xo())),r)}function lc(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function dc(e){return(null!==Uu||null!==di)&&0!=(1&e.mode)&&0==(2&Mu)}function fc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-bt(i),s=1<<a,u=o[a];-1===u?0!=(s&n)&&0==(s&r)||(o[a]=kt(s,t)):u<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r,o=Ct(e,e===Uu?Du:0);if(0===o)null!==n&&st(n),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(null!=n&&st(n),1===t)0===e.tag?(r=mc.bind(null,e),Jo=!0,Zo(r)):Zo(mc.bind(null,e)),mo((function(){0===Mu&&Xo()})),n=null;else{switch(jt(o)){case 1:n=ft;break;case 4:n=ht;break;case 16:default:n=pt;break;case 536870912:n=gt}n=Dc(n,hc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function hc(e,t){if(ic=-1,ac=0,0!=(6&Mu))throw Error(y(327));var n=e.callbackNode;if(Oc()&&e.callbackNode!==n)return null;var r=Ct(e,e===Uu?Du:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=Cc(e,r);else{t=r;var o=Mu;Mu|=2;var i=_c();for(Uu===e&&Du===t||(Ju=null,Yu=lt()+500,Sc(e,t));;)try{Ac();break}catch(t){xc(e,t)}ai(),Pu.current=i,Mu=o,null!==Lu?t=0:(Uu=null,Du=0,t=zu)}if(0!==t){if(2===t&&(0!==(o=At(e))&&(r=o,t=pc(e,o))),1===t)throw n=Vu,Sc(e,0),gc(e,r),fc(e,lt()),n;if(6===t)gc(e,r);else{if(o=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!mr(i(),o))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=Cc(e,r))&&(0!==(i=At(e))&&(r=i,t=pc(e,i))),1===t))throw n=Vu,Sc(e,0),gc(e,r),fc(e,lt()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(y(345));case 2:case 5:Nc(e,Wu,Ju);break;case 3:if(gc(e,r),(130023424&r)===r&&10<(t=$u+500-lt())){if(0!==Ct(e,0))break;if(((o=e.suspendedLanes)&r)!==r){sc(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=po(Nc.bind(null,e,Wu,Ju),t);break}Nc(e,Wu,Ju);break;case 4:if(gc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var a=31-bt(r);i=1<<a,(a=t[a])>o&&(o=a),r&=~i}if(r=o,10<(r=(120>(r=lt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ou(r/1960))-r)){e.timeoutHandle=po(Nc.bind(null,e,Wu,Ju),r);break}Nc(e,Wu,Ju);break;default:throw Error(y(329))}}}return fc(e,lt()),e.callbackNode===n?hc.bind(null,e):null}function pc(e,t){var n=Gu;return e.current.memoizedState.isDehydrated&&(Sc(e,t).flags|=256),2!==(e=Cc(e,t))&&(t=Wu,Wu=n,null!==t&&vc(t)),e}function vc(e){null===Wu?Wu=e:Wu.push.apply(Wu,e)}function gc(e,t){for(t&=~Hu,t&=~Ku,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-bt(t),r=1<<n;e[n]=-1,t&=~r}}function mc(e){if(0!=(6&Mu))throw Error(y(327));Oc();var t=Ct(e,0);if(0==(1&t))return fc(e,lt()),null;var n=Cc(e,t);if(0!==e.tag&&2===n){var r=At(e);0!==r&&(t=r,n=pc(e,r))}if(1===n)throw n=Vu,Sc(e,0),gc(e,t),fc(e,lt()),n;if(6===n)throw Error(y(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nc(e,Wu,Ju),fc(e,lt()),null}function yc(e,t){var n=Mu;Mu|=1;try{return e(t)}finally{0===(Mu=n)&&(Yu=lt()+500,Jo&&Xo())}}function bc(e){null!==tc&&0===tc.tag&&0==(6&Mu)&&Oc();var t=Mu;Mu|=1;var n=Ru.transition,r=Pt;try{if(Ru.transition=null,Pt=1,e)return e()}finally{Pt=r,Ru.transition=n,0==(6&(Mu=t))&&Xo()}}function wc(){Fu=Bu.current,Uo(Bu)}function Sc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,vo(n)),null!==Lu)for(n=Lu.return;null!==n;){var r=n;switch(Bi(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Ko();break;case 3:da(),Uo(Bo),Uo(Fo),ma();break;case 5:ha(r);break;case 4:da();break;case 13:case 19:Uo(pa);break;case 10:si(r.type._context);break;case 22:case 23:wc()}n=n.return}if(Uu=e,Lu=e=Vc(e.current,null),Du=Fu=t,zu=0,Vu=null,Hu=Ku=qu=0,Wu=Gu=null,null!==di){for(t=0;t<di.length;t++)if(null!==(r=(n=di[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=o,r.next=a}n.pending=r}di=null}return e}function xc(e,t){for(;;){var n=Lu;try{if(ai(),ya.current=fs,Ea){for(var r=Sa.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}Ea=!1}if(wa=0,_a=xa=Sa=null,Ca=!1,ka=0,ju.current=null,null===n||null===n.return){zu=1,Vu=t,Lu=null;break}e:{var i=e,a=n.return,s=n,u=t;if(t=Du,s.flags|=32768,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u,l=s,d=l.tag;if(0==(1&l.mode)&&(0===d||11===d||15===d)){var f=l.alternate;f?(l.updateQueue=f.updateQueue,l.memoizedState=f.memoizedState,l.lanes=f.lanes):(l.updateQueue=null,l.memoizedState=null)}var h=Cs(a);if(null!==h){h.flags&=-257,ks(h,a,s,0,t),1&h.mode&&Es(i,c,t),u=c;var p=(t=h).updateQueue;if(null===p){var v=new Set;v.add(u),t.updateQueue=v}else p.add(u);break e}if(0==(1&t)){Es(i,c,t),Ec();break e}u=Error(y(426))}else if(qi&&1&s.mode){var g=Cs(a);if(null!==g){0==(65536&g.flags)&&(g.flags|=256),ks(g,a,s,0,t),Zi(u);break e}}i=u,4!==zu&&(zu=2),null===Gu?Gu=[i]:Gu.push(i),u=gs(u,s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,yi(s,xs(0,u,t));break e;case 1:i=u;var m=s.type,b=s.stateNode;if(0==(128&s.flags)&&("function"==typeof m.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===Xu||!Xu.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,yi(s,_s(s,i,t));break e}}s=s.return}while(null!==s)}Ic(n)}catch(e){t=e,Lu===n&&null!==n&&(Lu=n=n.return);continue}break}}function _c(){var e=Pu.current;return Pu.current=fs,null===e?fs:e}function Ec(){0!==zu&&3!==zu&&2!==zu||(zu=4),null===Uu||0==(268435455&qu)&&0==(268435455&Ku)||gc(Uu,Du)}function Cc(e,t){var n=Mu;Mu|=2;var r=_c();for(Uu===e&&Du===t||(Ju=null,Sc(e,t));;)try{kc();break}catch(t){xc(e,t)}if(ai(),Mu=n,Pu.current=r,null!==Lu)throw Error(y(261));return Uu=null,Du=0,zu}function kc(){for(;null!==Lu;)Tc(Lu)}function Ac(){for(;null!==Lu&&!ut();)Tc(Lu)}function Tc(e){var t=Nu(e.alternate,e,Fu);e.memoizedProps=e.pendingProps,null===t?Ic(e):Lu=t,ju.current=null}function Ic(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=Is(n,t,Fu)))return void(Lu=n)}else{if(null!==(n=tu(n,t)))return n.flags&=32767,void(Lu=n);if(null===e)return zu=6,void(Lu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Lu=t);Lu=t=e}while(null!==t);0===zu&&(zu=5)}function Nc(e,t,n){var r=Pt,o=Ru.transition;try{Ru.transition=null,Pt=1,function(e,t,n,r){do{Oc()}while(null!==tc);if(0!=(6&Mu))throw Error(y(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(y(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-bt(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,i),e===Uu&&(Lu=Uu=null,Du=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||ec||(ec=!0,Dc(pt,(function(){return Oc(),null}))),i=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||i){i=Ru.transition,Ru.transition=null;var a=Pt;Pt=1;var s=Mu;Mu|=4,ju.current=null,function(e,t){if(lo=rn,_r(e=xr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(e){n=null;break e}var a=0,s=-1,u=-1,c=0,l=0,d=e,f=null;t:for(;;){for(var h;d!==n||0!==o&&3!==d.nodeType||(s=a+o),d!==i||0!==r&&3!==d.nodeType||(u=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(h=d.firstChild);)f=d,d=h;for(;;){if(d===e)break t;if(f===n&&++c===o&&(s=a),f===i&&++l===r&&(u=a),null!==(h=d.nextSibling))break;f=(d=f).parentNode}d=h}n=-1===s||-1===u?null:{start:s,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(fo={focusedElem:e,selectionRange:n},rn=!1,iu=t;null!==iu;)if(e=(t=iu).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,iu=e;else for(;null!==iu;){t=iu;try{var p=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var v=p.memoizedProps,g=p.memoizedState,m=t.stateNode,b=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:ti(t.type,v),g);m.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;if(1===w.nodeType)w.textContent="";else if(9===w.nodeType){var S=w.body;null!=S&&(S.textContent="")}break;default:throw Error(y(163))}}catch(e){jc(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,iu=e;break}iu=t.return}p=uu,uu=!1}(e,n),_u(n,e),Er(fo),rn=!!lo,fo=lo=null,e.current=n,Cu(n,e,o),ct(),Mu=s,Pt=a,Ru.transition=i}else e.current=n;if(ec&&(ec=!1,tc=e,nc=o),0===(i=e.pendingLanes)&&(Xu=null),function(e){if(yt&&"function"==typeof yt.onCommitFiberRoot)try{yt.onCommitFiberRoot(mt,e,void 0,128==(128&e.current.flags))}catch(e){}}(n.stateNode),fc(e,lt()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r(t[n]);if(Qu)throw Qu=!1,e=Zu,Zu=null,e;0!=(1&nc)&&0!==e.tag&&Oc(),0!=(1&(i=e.pendingLanes))?e===oc?rc++:(rc=0,oc=e):rc=0,Xo()}(e,t,n,r)}finally{Ru.transition=o,Pt=r}return null}function Oc(){if(null!==tc){var e=jt(nc),t=Ru.transition,n=Pt;try{if(Ru.transition=null,Pt=16>e?16:e,null===tc)var r=!1;else{if(e=tc,tc=null,nc=0,0!=(6&Mu))throw Error(y(331));var o=Mu;for(Mu|=4,iu=e.current;null!==iu;){var i=iu,a=i.child;if(0!=(16&iu.flags)){var s=i.deletions;if(null!==s){for(var u=0;u<s.length;u++){var c=s[u];for(iu=c;null!==iu;){var l=iu;switch(l.tag){case 0:case 11:case 15:cu(8,l,i)}var d=l.child;if(null!==d)d.return=l,iu=d;else for(;null!==iu;){var f=(l=iu).sibling,h=l.return;if(fu(l),l===c){iu=null;break}if(null!==f){f.return=h,iu=f;break}iu=h}}}var p=i.alternate;if(null!==p){var v=p.child;if(null!==v){p.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(null!==v)}}iu=i}}if(0!=(2064&i.subtreeFlags)&&null!==a)a.return=i,iu=a;else e:for(;null!==iu;){if(0!=(2048&(i=iu).flags))switch(i.tag){case 0:case 11:case 15:cu(9,i,i.return)}var m=i.sibling;if(null!==m){m.return=i.return,iu=m;break e}iu=i.return}}var b=e.current;for(iu=b;null!==iu;){var w=(a=iu).child;if(0!=(2064&a.subtreeFlags)&&null!==w)w.return=a,iu=w;else e:for(a=b;null!==iu;){if(0!=(2048&(s=iu).flags))try{switch(s.tag){case 0:case 11:case 15:lu(9,s)}}catch(e){jc(s,s.return,e)}if(s===a){iu=null;break e}var S=s.sibling;if(null!==S){S.return=s.return,iu=S;break e}iu=s.return}}if(Mu=o,Xo(),yt&&"function"==typeof yt.onPostCommitFiberRoot)try{yt.onPostCommitFiberRoot(mt,e)}catch(e){}r=!0}return r}finally{Pt=n,Ru.transition=t}}return!1}function Pc(e,t,n){gi(e,t=xs(0,t=gs(n,t),1)),t=sc(),null!==(e=lc(e,1))&&(Nt(e,1,t),fc(e,t))}function jc(e,t,n){if(3===e.tag)Pc(e,e,n);else for(;null!==t;){if(3===t.tag){Pc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Xu||!Xu.has(r))){gi(t,e=_s(t,e=gs(n,e),1)),e=sc(),null!==(t=lc(t,1))&&(Nt(t,1,e),fc(t,e));break}}t=t.return}}function Rc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=sc(),e.pingedLanes|=e.suspendedLanes&n,Uu===e&&(Du&n)===n&&(4===zu||3===zu&&(130023424&Du)===Du&&500>lt()-$u?Sc(e,0):Hu|=n),fc(e,t)}function Mc(e,t){0===t&&(0==(1&e.mode)?t=1:(t=_t,0==(130023424&(_t<<=1))&&(_t=4194304)));var n=sc();null!==(e=lc(e,t))&&(Nt(e,t,n),fc(e,n))}function Uc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Mc(e,n)}function Lc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(y(314))}null!==r&&r.delete(t),Mc(e,n)}function Dc(e,t){return at(e,t)}function Fc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bc(e,t,n,r){return new Fc(e,t,n,r)}function zc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Vc(e,t){var n=e.alternate;return null===n?((n=Bc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function qc(e,t,n,r,o,i){var a=2;if(r=e,"function"==typeof e)zc(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case U:return Kc(n.children,o,i,t);case L:a=8,o|=8;break;case D:return(e=Bc(12,n,t,2|o)).elementType=D,e.lanes=i,e;case V:return(e=Bc(13,n,t,o)).elementType=V,e.lanes=i,e;case q:return(e=Bc(19,n,t,o)).elementType=q,e.lanes=i,e;case G:return Hc(n,o,i,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case F:a=10;break e;case B:a=9;break e;case z:a=11;break e;case K:a=14;break e;case H:a=16,r=null;break e}throw Error(y(130,null==e?e:typeof e,""))}return(t=Bc(a,n,t,o)).elementType=e,t.type=r,t.lanes=i,t}function Kc(e,t,n,r){return(e=Bc(7,e,r,t)).lanes=n,e}function Hc(e,t,n,r){return(e=Bc(22,e,r,t)).elementType=G,e.lanes=n,e.stateNode={},e}function Gc(e,t,n){return(e=Bc(6,e,null,t)).lanes=n,e}function Wc(e,t,n){return(t=Bc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $c(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=It(0),this.expirationTimes=It(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=It(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Yc(e,t,n,r,o,i,a,s,u){return e=new $c(e,t,n,s,u),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Bc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},hi(i),e}function Jc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:M,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Qc(e){if(!e)return Do;e:{if(tt(e=e._reactInternals)!==e||1!==e.tag)throw Error(y(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(qo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(y(171))}if(1===e.tag){var n=e.type;if(qo(n))return Go(e,n,t)}return t}function Zc(e,t,n,r,o,i,a,s,u){return(e=Yc(n,r,!0,e,0,i,0,s,u)).context=Qc(null),n=e.current,(i=vi(r=sc(),o=uc(n))).callback=null!=t?t:null,gi(n,i),e.current.lanes=o,Nt(e,o,r),fc(e,r),e}function Xc(e,t,n,r){var o=t.current,i=sc(),a=uc(o);return n=Qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=vi(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),gi(o,t),null!==(e=cc(o,a,i))&&mi(e,o,a),a}function el(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function tl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function nl(e,t){tl(e,t),(e=e.alternate)&&tl(e,t)}Nu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Bo.current)Os=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return Os=!1,function(e,t,n){switch(t.tag){case 3:zs(t),Qi();break;case 5:fa(t);break;case 1:qo(t.type)&&Wo(t);break;case 4:la(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Lo(ni,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Lo(pa,1&pa.current),t.flags|=128,null):0!=(n&t.child.childLanes)?Gs(e,t,n):(Lo(pa,1&pa.current),null!==(e=eu(e,t,n))?e.sibling:null);Lo(pa,1&pa.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return Xs(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Lo(pa,pa.current),r)break;return null;case 22:case 23:return t.lanes=0,Us(e,t,n)}return eu(e,t,n)}(e,t,n);Os=0!=(131072&e.flags)}else Os=!1,qi&&0!=(1048576&t.flags)&&Di(t,Oi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var o=Vo(t,Fo.current);ci(t,n),o=Na(null,t,r,e,o,n);var i=Oa();return t.flags|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,qo(r)?(i=!0,Wo(t)):i=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,hi(t),o.updater=_i,t.stateNode=o,o._reactInternals=t,Ai(t,r,e,n),t=Bs(null,t,r,!0,i,n)):(t.tag=0,qi&&i&&Fi(t),Ps(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"==typeof e)return zc(e)?1:0;if(null!=e){if((e=e.$$typeof)===z)return 11;if(e===K)return 14}return 2}(r),e=ti(r,e),o){case 0:t=Ds(null,t,r,e,n);break e;case 1:t=Fs(null,t,r,e,n);break e;case 11:t=js(null,t,r,e,n);break e;case 14:t=Rs(null,t,r,ti(r.type,e),n);break e}throw Error(y(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,Ds(e,t,r,o=t.elementType===r?o:ti(r,o),n);case 1:return r=t.type,o=t.pendingProps,Fs(e,t,r,o=t.elementType===r?o:ti(r,o),n);case 3:e:{if(zs(t),null===e)throw Error(y(387));r=t.pendingProps,o=(i=t.memoizedState).element,pi(e,t),bi(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Vs(e,t,r,n,o=Error(y(423)));break e}if(r!==o){t=Vs(e,t,r,n,o=Error(y(424)));break e}for(Vi=wo(t.stateNode.containerInfo.firstChild),zi=t,qi=!0,Ki=null,n=oa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Qi(),r===o){t=eu(e,t,n);break e}Ps(e,t,r,n)}t=t.child}return t;case 5:return fa(t),null===e&&$i(t),r=t.type,o=t.pendingProps,i=null!==e?e.memoizedProps:null,a=o.children,ho(r,o)?a=null:null!==i&&ho(r,i)&&(t.flags|=32),Ls(e,t),Ps(e,t,a,n),t.child;case 6:return null===e&&$i(t),null;case 13:return Gs(e,t,n);case 4:return la(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ra(t,null,r,n):Ps(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,js(e,t,r,o=t.elementType===r?o:ti(r,o),n);case 7:return Ps(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ps(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,a=o.value,Lo(ni,r._currentValue),r._currentValue=a,null!==i)if(mr(i.value,a)){if(i.children===o.children&&!Bo.current){t=eu(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var s=i.dependencies;if(null!==s){a=i.child;for(var u=s.firstContext;null!==u;){if(u.context===r){if(1===i.tag){(u=vi(-1,n&-n)).tag=2;var c=i.updateQueue;if(null!==c){var l=(c=c.shared).pending;null===l?u.next=u:(u.next=l.next,l.next=u),c.pending=u}}i.lanes|=n,null!==(u=i.alternate)&&(u.lanes|=n),ui(i.return,n,t),s.lanes|=n;break}u=u.next}}else if(10===i.tag)a=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(a=i.return))throw Error(y(341));a.lanes|=n,null!==(s=a.alternate)&&(s.lanes|=n),ui(a,n,t),a=i.sibling}else a=i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===t){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}Ps(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,ci(t,n),r=r(o=li(o)),t.flags|=1,Ps(e,t,r,n),t.child;case 14:return o=ti(r=t.type,t.pendingProps),Rs(e,t,r,o=ti(r.type,o),n);case 15:return Ms(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ti(r,o),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,qo(r)?(e=!0,Wo(t)):e=!1,ci(t,n),Ci(t,r,o),Ai(t,r,o,n),Bs(null,t,r,!0,e,n);case 19:return Xs(e,t,n);case 22:return Us(e,t,n)}throw Error(y(156,t.tag))};var rl="function"==typeof reportError?reportError:function(e){console.error(e)};function ol(e){this._internalRoot=e}function il(e){this._internalRoot=e}function al(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function sl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ul(){}function cl(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if("function"==typeof o){var s=o;o=function(){var e=el(a);s.call(e)}}Xc(t,a,e,o)}else a=function(e,t,n,r,o){if(o){if("function"==typeof r){var i=r;r=function(){var e=el(a);i.call(e)}}var a=Zc(t,r,e,0,null,!1,0,"",ul);return e._reactRootContainer=a,e[Co]=a.current,Zr(8===e.nodeType?e.parentNode:e),bc(),a}for(;o=e.lastChild;)e.removeChild(o);if("function"==typeof r){var s=r;r=function(){var e=el(u);s.call(e)}}var u=Yc(e,0,!1,null,0,!1,0,"",ul);return e._reactRootContainer=u,e[Co]=u.current,Zr(8===e.nodeType?e.parentNode:e),bc((function(){Xc(t,u,n,r)})),u}(n,t,e,o,r);return el(a)}il.prototype.render=ol.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(y(409));Xc(e,t,null,null)},il.prototype.unmount=ol.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;bc((function(){Xc(null,e,null,null)})),t[Co]=null}},il.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Gt.length&&0!==t&&t<Gt[n].priority;n++);Gt.splice(n,0,e),0===n&&Jt(e)}},Rt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Et(t.pendingLanes);0!==n&&(Ot(t,1|n),fc(t,lt()),0==(6&Mu)&&(Yu=lt()+500,Xo()))}break;case 13:var r=sc();bc((function(){return cc(e,1,r)})),nl(e,1)}},Mt=function(e){13===e.tag&&(cc(e,134217728,sc()),nl(e,134217728))},Ut=function(e){if(13===e.tag){var t=sc(),n=uc(e);cc(e,n,t),nl(e,n)}},Lt=function(){return Pt},Dt=function(e,t){var n=Pt;try{return Pt=e,t()}finally{Pt=n}},Me=function(e,t,n){switch(t){case"input":if(de(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Po(r);if(!o)throw Error(y(90));ae(r),de(r,o)}}}break;case"textarea":ye(e,n);break;case"select":null!=(t=n.value)&&ve(e,!!n.multiple,t,!1)}},ze=yc,Ve=bc;var ll={usingClientEntryPoint:!1,Events:[No,Oo,Po,Fe,Be,yc]},dl={findFiberByHostInstance:Io,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},fl={bundleType:dl.bundleType,version:dl.version,rendererPackageName:dl.rendererPackageName,rendererConfig:dl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=ot(e))?null:e.stateNode},findFiberByHostInstance:dl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var hl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hl.isDisabled&&hl.supportsFiber)try{mt=hl.inject(fl),yt=hl}catch(_e){}}r=ll,o=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!al(t))throw Error(y(200));return Jc(e,t,null,n)},i=function(e,t){if(!al(e))throw Error(y(299));var n=!1,r="",o=rl;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Yc(e,1,!1,null,0,n,0,r,o),e[Co]=t.current,Zr(8===e.nodeType?e.parentNode:e),new ol(t)},a=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(y(188));throw e=Object.keys(e).join(","),Error(y(268,e))}return e=null===(e=ot(t))?null:e.stateNode},u=function(e){return bc(e)},c=function(e,t,n){if(!sl(t))throw Error(y(200));return cl(null,e,t,!0,n)},l=function(e,t,n){if(!al(e))throw Error(y(405));var r=null!=n&&n.hydratedSources||null,o=!1,i="",a=rl;if(null!=n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Zc(t,null,e,1,null!=n?n:null,o,0,i,a),e[Co]=t.current,Zr(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new il(t)},d=function(e,t,n){if(!sl(t))throw Error(y(200));return cl(null,e,t,!1,n)},f=function(e){if(!sl(e))throw Error(y(40));return!!e._reactRootContainer&&(bc((function(){cl(null,null,e,!1,(function(){e._reactRootContainer=null,e[Co]=null}))})),!0)},h=yc,p=function(e,t,n,r){if(!sl(n))throw Error(y(200));if(null==e||void 0===e._reactInternals)throw Error(y(38));return cl(e,t,n,!1,r)},v="18.1.0-next-22edb9f77-20220426"})),s.register("6qr1r",(function(e,t){e.exports=s("7vgeW")})),s.register("7vgeW",(function(t,n){var r,o,i,a,s,u,c,l,d,f,h,p,v,g,m,y,b,w,S;function x(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<C(o,t)))break e;e[r]=t,e[n]=o,n=r}}function _(e){return 0===e.length?null:e[0]}function E(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,i=o>>>1;r<i;){var a=2*(r+1)-1,s=e[a],u=a+1,c=e[u];if(0>C(s,n))u<o&&0>C(c,s)?(e[r]=c,e[u]=n,r=u):(e[r]=s,e[a]=n,r=a);else{if(!(u<o&&0>C(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function C(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e(t.exports,"unstable_now",(()=>r),(e=>r=e)),e(t.exports,"unstable_IdlePriority",(()=>o),(e=>o=e)),e(t.exports,"unstable_ImmediatePriority",(()=>i),(e=>i=e)),e(t.exports,"unstable_LowPriority",(()=>a),(e=>a=e)),e(t.exports,"unstable_NormalPriority",(()=>s),(e=>s=e)),e(t.exports,"unstable_Profiling",(()=>u),(e=>u=e)),e(t.exports,"unstable_UserBlockingPriority",(()=>c),(e=>c=e)),e(t.exports,"unstable_cancelCallback",(()=>l),(e=>l=e)),e(t.exports,"unstable_continueExecution",(()=>d),(e=>d=e)),e(t.exports,"unstable_forceFrameRate",(()=>f),(e=>f=e)),e(t.exports,"unstable_getCurrentPriorityLevel",(()=>h),(e=>h=e)),e(t.exports,"unstable_getFirstCallbackNode",(()=>p),(e=>p=e)),e(t.exports,"unstable_next",(()=>v),(e=>v=e)),e(t.exports,"unstable_pauseExecution",(()=>g),(e=>g=e)),e(t.exports,"unstable_requestPaint",(()=>m),(e=>m=e)),e(t.exports,"unstable_runWithPriority",(()=>y),(e=>y=e)),e(t.exports,"unstable_scheduleCallback",(()=>b),(e=>b=e)),e(t.exports,"unstable_shouldYield",(()=>w),(e=>w=e)),e(t.exports,"unstable_wrapCallback",(()=>S),(e=>S=e)),"object"==typeof performance&&"function"==typeof performance.now){var k=performance;r=function(){return k.now()}}else{var A=Date,T=A.now();r=function(){return A.now()-T}}var I=[],N=[],O=1,P=null,j=3,R=!1,M=!1,U=!1,L="function"==typeof setTimeout?setTimeout:null,D="function"==typeof clearTimeout?clearTimeout:null,F="undefined"!=typeof setImmediate?setImmediate:null;function B(e){for(var t=_(N);null!==t;){if(null===t.callback)E(N);else{if(!(t.startTime<=e))break;E(N),t.sortIndex=t.expirationTime,x(I,t)}t=_(N)}}function z(e){if(U=!1,B(e),!M)if(null!==_(I))M=!0,X(V);else{var t=_(N);null!==t&&ee(z,t.startTime-e)}}function V(e,t){M=!1,U&&(U=!1,D(G),G=-1),R=!0;var n=j;try{for(B(t),P=_(I);null!==P&&(!(P.expirationTime>t)||e&&!Y());){var o=P.callback;if("function"==typeof o){P.callback=null,j=P.priorityLevel;var i=o(P.expirationTime<=t);t=r(),"function"==typeof i?P.callback=i:P===_(I)&&E(I),B(t)}else E(I);P=_(I)}if(null!==P)var a=!0;else{var s=_(N);null!==s&&ee(z,s.startTime-t),a=!1}return a}finally{P=null,j=n,R=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var q,K=!1,H=null,G=-1,W=5,$=-1;function Y(){return!(r()-$<W)}function J(){if(null!==H){var e=r();$=e;var t=!0;try{t=H(!0,e)}finally{t?q():(K=!1,H=null)}}else K=!1}if("function"==typeof F)q=function(){F(J)};else if("undefined"!=typeof MessageChannel){var Q=new MessageChannel,Z=Q.port2;Q.port1.onmessage=J,q=function(){Z.postMessage(null)}}else q=function(){L(J,0)};function X(e){H=e,K||(K=!0,q())}function ee(e,t){G=L((function(){e(r())}),t)}o=5,i=1,a=4,s=3,u=null,c=2,l=function(e){e.callback=null},d=function(){M||R||(M=!0,X(V))},f=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<e?Math.floor(1e3/e):5},h=function(){return j},p=function(){return _(I)},v=function(e){switch(j){case 1:case 2:case 3:var t=3;break;default:t=j}var n=j;j=t;try{return e()}finally{j=n}},g=function(){},m=function(){},y=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=j;j=e;try{return t()}finally{j=n}},b=function(e,t,n){var o=r();switch("object"==typeof n&&null!==n?n="number"==typeof(n=n.delay)&&0<n?o+n:o:n=o,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:O++,callback:t,priorityLevel:e,startTime:n,expirationTime:i=n+i,sortIndex:-1},n>o?(e.sortIndex=n,x(N,e),null===_(I)&&e===_(N)&&(U?(D(G),G=-1):U=!0,ee(z,n-o))):(e.sortIndex=i,x(I,e),M||R||(M=!0,X(V))),e},w=Y,S=function(e){var t=j;return function(){var n=j;j=t;try{return e.apply(this,arguments)}finally{j=n}}}})),s.register("97Jyt",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0});var n=s("7Au5E"),r=s("g1xft"),o=s("aKn9l"),i=s("4pcm7"),a=function(){function e(e){if(this.hash=new o.RawSha256,e){this.outer=new o.RawSha256;var t=function(e){var t=u(e);if(t.byteLength>r.BLOCK_SIZE){var n=new o.RawSha256;n.update(t),t=n.digest()}var i=new Uint8Array(r.BLOCK_SIZE);return i.set(t),i}(e),n=new Uint8Array(r.BLOCK_SIZE);n.set(t);for(var i=0;i<r.BLOCK_SIZE;i++)t[i]^=54,n[i]^=92;this.hash.update(t),this.outer.update(n);for(i=0;i<t.byteLength;i++)t[i]=0}}return e.prototype.update=function(e){var t;if(("string"==typeof(t=e)?0!==t.length:0!==t.byteLength)&&!this.error)try{this.hash.update(u(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(e){return[2,this.digestSync()]}))}))},e}();function u(e){return"string"==typeof e?i.fromUtf8(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}e.exports.Sha256=a})),s.register("7Au5E",(function(t,n){e(t.exports,"__awaiter",(()=>r)),e(t.exports,"__generator",(()=>o)),e(t.exports,"__exportStar",(()=>i));function r(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function o(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function i(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}})),s.register("g1xft",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.BLOCK_SIZE=64,e.exports.DIGEST_LENGTH=32,e.exports.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),e.exports.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],e.exports.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1})),s.register("aKn9l",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0});var n=s("g1xft"),r=function(){function e(){this.state=Int32Array.from(n.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,r=e.byteLength;if(this.bytesHashed+=r,8*this.bytesHashed>n.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;r>0;)this.buffer[this.bufferLength++]=e[t++],r--,this.bufferLength===n.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),r=this.bufferLength;if(t.setUint8(this.bufferLength++,128),r%n.BLOCK_SIZE>=n.BLOCK_SIZE-8){for(var o=this.bufferLength;o<n.BLOCK_SIZE;o++)t.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(o=this.bufferLength;o<n.BLOCK_SIZE-8;o++)t.setUint8(o,0);t.setUint32(n.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(n.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var i=new Uint8Array(n.DIGEST_LENGTH);for(o=0;o<8;o++)i[4*o]=this.state[o]>>>24&255,i[4*o+1]=this.state[o]>>>16&255,i[4*o+2]=this.state[o]>>>8&255,i[4*o+3]=this.state[o]>>>0&255;return i},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,r=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],d=0;d<n.BLOCK_SIZE;d++){if(d<16)this.temp[d]=(255&e[4*d])<<24|(255&e[4*d+1])<<16|(255&e[4*d+2])<<8|255&e[4*d+3];else{var f=this.temp[d-2],h=(f>>>17|f<<15)^(f>>>19|f<<13)^f>>>10,p=((f=this.temp[d-15])>>>7|f<<25)^(f>>>18|f<<14)^f>>>3;this.temp[d]=(h+this.temp[d-7]|0)+(p+this.temp[d-16]|0)}var v=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&u^~s&c)|0)+(l+(n.KEY[d]+this.temp[d]|0)|0)|0,g=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&o^r&i^o&i)|0;l=c,c=u,u=s,s=a+v|0,a=i,i=o,o=r,r=v+g|0}t[0]+=r,t[1]+=o,t[2]+=i,t[3]+=a,t[4]+=s,t[5]+=u,t[6]+=c,t[7]+=l},e}();e.exports.RawSha256=r})),s.register("4pcm7",(function(t,n){e(t.exports,"fromUtf8",(()=>i));var r=s("a6Jg4"),o=s("lNc5Z"),i=function(e){return"function"==typeof TextEncoder?(0,o.fromUtf8)(e):(0,r.fromUtf8)(e)}})),s.register("a6Jg4",(function(t,n){e(t.exports,"fromUtf8",(()=>r)),e(t.exports,"toUtf8",(()=>o));var r=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192,63&o|128);else if(n+1<e.length&&55296==(64512&o)&&56320==(64512&e.charCodeAt(n+1))){var i=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n));t.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else t.push(o>>12|224,o>>6&63|128,63&o|128)}return Uint8Array.from(t)},o=function(e){for(var t="",n=0,r=e.length;n<r;n++){var o=e[n];if(o<128)t+=String.fromCharCode(o);else if(192<=o&&o<224){var i=e[++n];t+=String.fromCharCode((31&o)<<6|63&i)}else if(240<=o&&o<365){var a="%"+[o,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&o)<<12|(63&e[++n])<<6|63&e[++n])}return t}})),s.register("lNc5Z",(function(t,n){function r(e){return(new TextEncoder).encode(e)}function o(e){return new TextDecoder("utf-8").decode(e)}e(t.exports,"fromUtf8",(()=>r)),e(t.exports,"toUtf8",(()=>o))})),s.register("5tGEO",(function(e,n){!function(r){var o=n&&!n.nodeType&&n,i=e&&!e.nodeType&&e,a="object"==typeof t&&t;a.global!==a&&a.window!==a&&a.self!==a||(r=a);var s,u,c=2147483647,l=36,d=/^xn--/,f=/[^\x20-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},v=Math.floor,g=String.fromCharCode;function m(e){throw RangeError(p[e])}function y(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function b(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+y((e=e.replace(h,".")).split("."),t).join(".")}function w(e){for(var t,n,r=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function S(e){return y(e,(function(e){var t="";return e>65535&&(t+=g((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=g(e)})).join("")}function x(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function _(e,t,n){var r=0;for(e=n?v(e/700):e>>1,e+=v(e/t);e>455;r+=l)e=v(e/35);return v(r+36*e/(e+38))}function E(e){var t,n,r,o,i,a,s,u,d,f,h,p=[],g=e.length,y=0,b=128,w=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&m("not-basic"),p.push(e.charCodeAt(r));for(o=n>0?n+1:0;o<g;){for(i=y,a=1,s=l;o>=g&&m("invalid-input"),((u=(h=e.charCodeAt(o++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:l)>=l||u>v((c-y)/a))&&m("overflow"),y+=u*a,!(u<(d=s<=w?1:s>=w+26?26:s-w));s+=l)a>v(c/(f=l-d))&&m("overflow"),a*=f;w=_(y-i,t=p.length+1,0==i),v(y/t)>c-b&&m("overflow"),b+=v(y/t),y%=t,p.splice(y++,0,b)}return S(p)}function C(e){var t,n,r,o,i,a,s,u,d,f,h,p,y,b,S,E=[];for(p=(e=w(e)).length,t=128,n=0,i=72,a=0;a<p;++a)(h=e[a])<128&&E.push(g(h));for(r=o=E.length,o&&E.push("-");r<p;){for(s=c,a=0;a<p;++a)(h=e[a])>=t&&h<s&&(s=h);for(s-t>v((c-n)/(y=r+1))&&m("overflow"),n+=(s-t)*y,t=s,a=0;a<p;++a)if((h=e[a])<t&&++n>c&&m("overflow"),h==t){for(u=n,d=l;!(u<(f=d<=i?1:d>=i+26?26:d-i));d+=l)S=u-f,b=l-f,E.push(g(x(f+S%b,0))),u=v(S/b);E.push(g(x(u,0))),i=_(n,y,r==o),n=0,++r}++n,++t}return E.join("")}if(s={version:"1.3.2",ucs2:{decode:w,encode:S},decode:E,encode:C,toASCII:function(e){return b(e,(function(e){return f.test(e)?"xn--"+C(e):e}))},toUnicode:function(e){return b(e,(function(e){return d.test(e)?E(e.slice(4).toLowerCase()):e}))}},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",(function(){return s}));else if(o&&i)if(e.exports==o)i.exports=s;else for(u in s)s.hasOwnProperty(u)&&(o[u]=s[u]);else r.punycode=s}(this)})),s.register("bu5IZ",(function(e,t){function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,o,i){t=t||"&",o=o||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var u=1e3;i&&"number"==typeof i.maxKeys&&(u=i.maxKeys);var c=e.length;u>0&&c>u&&(c=u);for(var l=0;l<c;++l){var d,f,h,p,v=e[l].replace(s,"%20"),g=v.indexOf(o);g>=0?(d=v.substr(0,g),f=v.substr(g+1)):(d=v,f=""),h=decodeURIComponent(d),p=decodeURIComponent(f),n(a,h)?r(a[h])?a[h].push(p):a[h]=[a[h],p]:a[h]=p}return a};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}})),s.register("4gCs1",(function(e,t){var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,a,s){return t=t||"&",a=a||"=",null===e&&(e=void 0),"object"==typeof e?o(i(e),(function(i){var s=encodeURIComponent(n(i))+a;return r(e[i])?o(e[i],(function(e){return s+encodeURIComponent(n(e))})).join(t):s+encodeURIComponent(n(e[i]))})).join(t):s?encodeURIComponent(n(s))+a+encodeURIComponent(n(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var i=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}})),s.register("jbHNC",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.Sha256=void 0;var n=s("lvCt3"),r=s("5dePs"),o=s("gKaPC"),i=s("fTDXo"),a=s("l96Da"),u=s("5K2BG"),c=function(){function e(e){(0,i.supportsWebCrypto)((0,u.locateWindow)())?this.hash=new r.Sha256(e):(0,a.isMsWindow)((0,u.locateWindow)())?this.hash=new n.Sha256(e):this.hash=new o.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update(e,t)},e.prototype.digest=function(){return this.hash.digest()},e}();e.exports.Sha256=c})),s.register("lvCt3",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.Sha256=void 0;var n=s("2weov"),r=s("6Pnr2"),o=s("4pcm7"),i=s("5K2BG"),a=function(){function e(e){e?(this.operation=function(e){return new Promise((function(t,n){var o=(0,i.locateWindow)().msCrypto.subtle.importKey("raw",u(e),r.SHA_256_HMAC_ALGO,!1,["sign"]);o.oncomplete=function(){o.result&&t(o.result),n(new Error("ImportKey completed without importing key."))},o.onerror=function(){n(new Error("ImportKey failed to import key."))}}))}(e).then((function(e){return(0,i.locateWindow)().msCrypto.subtle.sign(r.SHA_256_HMAC_ALGO,e)})),this.operation.catch((function(){}))):this.operation=Promise.resolve((0,i.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(e){var t=this;(0,n.isEmptyData)(e)||(this.operation=this.operation.then((function(n){return n.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(u(e)),n})),this.operation.catch((function(){})))},e.prototype.digest=function(){return this.operation.then((function(e){return new Promise((function(t,n){e.onerror=function(){n(new Error("Error encountered finalizing hash"))},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),n(new Error("Error encountered finalizing hash"))},e.finish()}))}))},e}();function u(e){return"string"==typeof e?(0,o.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}e.exports.Sha256=a})),s.register("2weov",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.isEmptyData=void 0,e.exports.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}})),s.register("6Pnr2",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.EMPTY_DATA_SHA_256=e.exports.SHA_256_HMAC_ALGO=e.exports.SHA_256_HASH=void 0,e.exports.SHA_256_HASH={name:"SHA-256"},e.exports.SHA_256_HMAC_ALGO={name:"HMAC",hash:e.exports.SHA_256_HASH},e.exports.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])})),s.register("5K2BG",(function(t,n){e(t.exports,"locateWindow",(()=>o));var r={};function o(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:r}})),s.register("5dePs",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.Sha256=void 0;var n=s("4cc5w"),r=s("6Pnr2"),o=s("5K2BG"),i=function(){function e(e){this.toHash=new Uint8Array(0),void 0!==e&&(this.key=new Promise((function(t,i){(0,o.locateWindow)().crypto.subtle.importKey("raw",(0,n.convertToBuffer)(e),r.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,i)})),this.key.catch((function(){})))}return e.prototype.update=function(e){if(!(0,n.isEmptyData)(e)){var t=(0,n.convertToBuffer)(e),r=new Uint8Array(this.toHash.byteLength+t.byteLength);r.set(this.toHash,0),r.set(t,this.toHash.byteLength),this.toHash=r}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return(0,o.locateWindow)().crypto.subtle.sign(r.SHA_256_HMAC_ALGO,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):(0,n.isEmptyData)(this.toHash)?Promise.resolve(r.EMPTY_DATA_SHA_256):Promise.resolve().then((function(){return(0,o.locateWindow)().crypto.subtle.digest(r.SHA_256_HASH,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e}();e.exports.Sha256=i})),s.register("4cc5w",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.uint32ArrayFrom=e.exports.numToUint8=e.exports.isEmptyData=e.exports.convertToBuffer=void 0;var n=s("1xn1r");Object.defineProperty(e.exports,"convertToBuffer",{enumerable:!0,get:function(){return n.convertToBuffer}});var r=s("LjzM0");Object.defineProperty(e.exports,"isEmptyData",{enumerable:!0,get:function(){return r.isEmptyData}});var o=s("9eazh");Object.defineProperty(e.exports,"numToUint8",{enumerable:!0,get:function(){return o.numToUint8}});var i=s("9PkDH");Object.defineProperty(e.exports,"uint32ArrayFrom",{enumerable:!0,get:function(){return i.uint32ArrayFrom}})})),s.register("1xn1r",(function(e,t){var n=s("awmEs").Buffer;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.convertToBuffer=void 0;var r=s("hhhP1"),o=void 0!==n&&n.from?function(e){return n.from(e,"utf8")}:r.fromUtf8;e.exports.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?o(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}})),s.register("awmEs",(function(n,r){var o,i;e(n.exports,"Buffer",(()=>o),(e=>o=e)),e(n.exports,"INSPECT_MAX_BYTES",(()=>i),(e=>i=e));var a=s("cK8LV"),u=s("7y6mg"),c=s("MFWW2");function l(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function d(e,t){if(l()<t)throw new RangeError("Invalid typed array length");return f.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=f.prototype:(null===e&&(e=new f(t)),e.length=t),e}function f(e,t,n){if(!(f.TYPED_ARRAY_SUPPORT||this instanceof f))return new f(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return v(this,e)}return h(this,e,t,n)}function h(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);f.TYPED_ARRAY_SUPPORT?(e=t).__proto__=f.prototype:e=g(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!f.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|y(t,n),o=(e=d(e,r)).write(t,n);o!==r&&(e=e.slice(0,o));return e}(e,t,n):function(e,t){if(f.isBuffer(t)){var n=0|m(t.length);return 0===(e=d(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?d(e,0):g(e,t);if("Buffer"===t.type&&c(t.data))return g(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function p(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function v(e,t){if(p(t),e=d(e,t<0?0:0|m(t)),!f.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function g(e,t){var n=t.length<0?0:0|m(t.length);e=d(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function m(e){if(e>=l())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l().toString(16)+" bytes");return 0|e}function y(e,t){if(f.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(e).length;default:if(r)return H(e).length;t=(""+t).toLowerCase(),r=!0}}function b(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,n);case"utf8":case"utf-8":return N(this,t,n);case"ascii":return P(this,t,n);case"latin1":case"binary":return j(this,t,n);case"base64":return I(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function w(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function S(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=f.from(t,r)),f.isBuffer(t))return 0===t.length?-1:x(e,t,n,r,o);if("number"==typeof t)return t&=255,f.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):x(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function x(e,t,n,r,o){var i,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var l=-1;for(i=n;i<s;i++)if(c(e,i)===c(t,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===u)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(n+u>s&&(n=s-u),i=n;i>=0;i--){for(var d=!0,f=0;f<u;f++)if(c(e,i+f)!==c(t,f)){d=!1;break}if(d)return i}return-1}function _(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function E(e,t,n,r){return W(H(t,e.length-n),e,n,r)}function C(e,t,n,r){return W(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function k(e,t,n,r){return C(e,t,n,r)}function A(e,t,n,r){return W(G(t),e,n,r)}function T(e,t,n,r){return W(function(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function I(e,t,n){return 0===t&&n===e.length?a.fromByteArray(e):a.fromByteArray(e.slice(t,n))}function N(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,s,u,c=e[o],l=null,d=c>239?4:c>223?3:c>191?2:1;if(o+d<=n)switch(d){case 1:c<128&&(l=c);break;case 2:128==(192&(i=e[o+1]))&&(u=(31&c)<<6|63&i)>127&&(l=u);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(u=(15&c)<<12|(63&i)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,d=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=d}return function(e){var t=e.length;if(t<=O)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=O));return n}(r)}o=f,i=50,f.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),l(),f.poolSize=8192,f._augment=function(e){return e.__proto__=f.prototype,e},f.from=function(e,t,n){return h(null,e,t,n)},f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0})),f.alloc=function(e,t,n){return function(e,t,n,r){return p(t),t<=0?d(e,t):void 0!==n?"string"==typeof r?d(e,t).fill(n,r):d(e,t).fill(n):d(e,t)}(null,e,t,n)},f.allocUnsafe=function(e){return v(null,e)},f.allocUnsafeSlow=function(e){return v(null,e)},f.isBuffer=function(e){return!(null==e||!e._isBuffer)},f.compare=function(e,t){if(!f.isBuffer(e)||!f.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},f.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(e,t){if(!c(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return f.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=f.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var i=e[n];if(!f.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,o),o+=i.length}return r},f.byteLength=y,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)w(this,t,t+1);return this},f.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)w(this,t,t+3),w(this,t+1,t+2);return this},f.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)w(this,t,t+7),w(this,t+1,t+6),w(this,t+2,t+5),w(this,t+3,t+4);return this},f.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?N(this,0,e):b.apply(this,arguments)},f.prototype.equals=function(e){if(!f.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===f.compare(this,e)},f.prototype.inspect=function(){var e="",t=i;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},f.prototype.compare=function(e,t,n,r,o){if(!f.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(i,a),u=this.slice(r,o),c=e.slice(t,n),l=0;l<s;++l)if(u[l]!==c[l]){i=u[l],a=c[l];break}return i<a?-1:a<i?1:0},f.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},f.prototype.indexOf=function(e,t,n){return S(this,e,t,n,!0)},f.prototype.lastIndexOf=function(e,t,n){return S(this,e,t,n,!1)},f.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return _(this,e,t,n);case"utf8":case"utf-8":return E(this,e,t,n);case"ascii":return C(this,e,t,n);case"latin1":case"binary":return k(this,e,t,n);case"base64":return A(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var O=4096;function P(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function j(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function R(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=K(e[i]);return o}function M(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function U(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,n,r,o,i){if(!f.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function D(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function F(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function B(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function z(e,t,n,r,o){return o||B(e,0,n,4),u.write(e,t,n,r,23,4),n+4}function V(e,t,n,r,o){return o||B(e,0,n,8),u.write(e,t,n,r,52,8),n+8}f.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),f.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=f.prototype;else{var o=t-e;n=new f(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},f.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||U(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},f.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||U(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},f.prototype.readUInt8=function(e,t){return t||U(e,1,this.length),this[e]},f.prototype.readUInt16LE=function(e,t){return t||U(e,2,this.length),this[e]|this[e+1]<<8},f.prototype.readUInt16BE=function(e,t){return t||U(e,2,this.length),this[e]<<8|this[e+1]},f.prototype.readUInt32LE=function(e,t){return t||U(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},f.prototype.readUInt32BE=function(e,t){return t||U(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},f.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||U(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},f.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||U(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},f.prototype.readInt8=function(e,t){return t||U(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},f.prototype.readInt16LE=function(e,t){t||U(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},f.prototype.readInt16BE=function(e,t){t||U(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},f.prototype.readInt32LE=function(e,t){return t||U(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},f.prototype.readInt32BE=function(e,t){return t||U(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},f.prototype.readFloatLE=function(e,t){return t||U(e,4,this.length),u.read(this,e,!0,23,4)},f.prototype.readFloatBE=function(e,t){return t||U(e,4,this.length),u.read(this,e,!1,23,4)},f.prototype.readDoubleLE=function(e,t){return t||U(e,8,this.length),u.read(this,e,!0,52,8)},f.prototype.readDoubleBE=function(e,t){return t||U(e,8,this.length),u.read(this,e,!1,52,8)},f.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||L(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},f.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||L(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},f.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,1,255,0),f.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},f.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},f.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},f.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):F(this,e,t,!0),t+4},f.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},f.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);L(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},f.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);L(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},f.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,1,127,-128),f.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},f.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},f.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},f.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):F(this,e,t,!0),t+4},f.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),f.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},f.prototype.writeFloatLE=function(e,t,n){return z(this,e,t,!0,n)},f.prototype.writeFloatBE=function(e,t,n){return z(this,e,t,!1,n)},f.prototype.writeDoubleLE=function(e,t,n){return V(this,e,t,!0,n)},f.prototype.writeDoubleBE=function(e,t,n){return V(this,e,t,!1,n)},f.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;o>=0;--o)e[o+t]=this[o+n];else if(i<1e3||!f.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},f.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!f.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=f.isBuffer(e)?e:H(new f(e,r).toString()),s=a.length;for(i=0;i<n-t;++i)this[i+t]=a[i%s]}return this};var q=/[^+\/0-9A-Za-z-_]/g;function K(e){return e<16?"0"+e.toString(16):e.toString(16)}function H(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function G(e){return a.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(q,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function W(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}})),s.register("cK8LV",(function(t,n){var r,o;e(t.exports,"toByteArray",(()=>r),(e=>r=e)),e(t.exports,"fromByteArray",(()=>o),(e=>o=e)),r=function(e){var t,n,r=d(e),o=r[0],i=r[1],u=new s(function(e,t,n){return 3*(t+n)/4-n}(0,o,i)),c=0,l=i>0?o-4:o;for(n=0;n<l;n+=4)t=a[e.charCodeAt(n)]<<18|a[e.charCodeAt(n+1)]<<12|a[e.charCodeAt(n+2)]<<6|a[e.charCodeAt(n+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;2===i&&(t=a[e.charCodeAt(n)]<<2|a[e.charCodeAt(n+1)]>>4,u[c++]=255&t);1===i&&(t=a[e.charCodeAt(n)]<<10|a[e.charCodeAt(n+1)]<<4|a[e.charCodeAt(n+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t);return u},o=function(e){for(var t,n=e.length,r=n%3,o=[],a=16383,s=0,u=n-r;s<u;s+=a)o.push(f(e,s,s+a>u?u:s+a));1===r?(t=e[n-1],o.push(i[t>>2]+i[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],o.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"="));return o.join("")};for(var i=[],a=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,l=u.length;c<l;++c)i[c]=u[c],a[u.charCodeAt(c)]=c;function d(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function f(e,t,n){for(var r,o,a=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(i[(o=r)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return a.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63})),s.register("7y6mg",(function(t,n){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var r,o;e(t.exports,"read",(()=>r),(e=>r=e)),e(t.exports,"write",(()=>o),(e=>o=e)),r=function(e,t,n,r,o){var i,a,s=8*o-r-1,u=(1<<s)-1,c=u>>1,l=-7,d=n?o-1:0,f=n?-1:1,h=e[t+d];for(d+=f,i=h&(1<<-l)-1,h>>=-l,l+=s;l>0;i=256*i+e[t+d],d+=f,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+e[t+d],d+=f,l-=8);if(0===i)i=1-c;else{if(i===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),i-=c}return(h?-1:1)*a*Math.pow(2,i-r)},o=function(e,t,n,r,o,i){var a,s,u,c=8*i-o-1,l=(1<<c)-1,d=l>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+d>=1?f/u:f*Math.pow(2,1-d))*u>=2&&(a++,u/=2),a+d>=l?(s=0,a=l):a+d>=1?(s=(t*u-1)*Math.pow(2,o),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;e[n+h]=255&s,h+=p,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;e[n+h]=255&a,h+=p,a/=256,c-=8);e[n+h-p]|=128*v}})),s.register("MFWW2",(function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}})),s.register("hhhP1",(function(t,n){e(t.exports,"fromUtf8",(()=>i));var r=s("idKqo"),o=s("8Tm0R"),i=function(e){return"function"==typeof TextEncoder?(0,o.fromUtf8)(e):(0,r.fromUtf8)(e)}})),s.register("idKqo",(function(t,n){e(t.exports,"fromUtf8",(()=>r)),e(t.exports,"toUtf8",(()=>o));var r=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192,63&o|128);else if(n+1<e.length&&55296==(64512&o)&&56320==(64512&e.charCodeAt(n+1))){var i=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n));t.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else t.push(o>>12|224,o>>6&63|128,63&o|128)}return Uint8Array.from(t)},o=function(e){for(var t="",n=0,r=e.length;n<r;n++){var o=e[n];if(o<128)t+=String.fromCharCode(o);else if(192<=o&&o<224){var i=e[++n];t+=String.fromCharCode((31&o)<<6|63&i)}else if(240<=o&&o<365){var a="%"+[o,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&o)<<12|(63&e[++n])<<6|63&e[++n])}return t}})),s.register("8Tm0R",(function(t,n){function r(e){return(new TextEncoder).encode(e)}function o(e){return new TextDecoder("utf-8").decode(e)}e(t.exports,"fromUtf8",(()=>r)),e(t.exports,"toUtf8",(()=>o))})),s.register("LjzM0",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.isEmptyData=void 0,e.exports.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}})),s.register("9eazh",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.numToUint8=void 0,e.exports.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}})),s.register("9PkDH",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.uint32ArrayFrom=void 0,e.exports.uint32ArrayFrom=function(e){if(!Array.from){for(var t=new Uint32Array(e.length);0<e.length;)t[0]=e[0];return t}return Uint32Array.from(e)}})),s.register("gKaPC",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),(0,s("auuzt").__exportStar)(s("8GnH1"),e.exports)})),s.register("auuzt",(function(t,n){e(t.exports,"__awaiter",(()=>r)),e(t.exports,"__generator",(()=>o)),e(t.exports,"__exportStar",(()=>i));function r(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function o(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function i(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}})),s.register("8GnH1",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.Sha256=void 0;var n=s("auuzt"),r=s("lQmIG"),o=s("kGO3I"),i=s("4cc5w"),a=function(){function e(e){if(this.hash=new o.RawSha256,e){this.outer=new o.RawSha256;var t=function(e){var t=(0,i.convertToBuffer)(e);if(t.byteLength>r.BLOCK_SIZE){var n=new o.RawSha256;n.update(t),t=n.digest()}var a=new Uint8Array(r.BLOCK_SIZE);return a.set(t),a}(e),n=new Uint8Array(r.BLOCK_SIZE);n.set(t);for(var a=0;a<r.BLOCK_SIZE;a++)t[a]^=54,n[a]^=92;this.hash.update(t),this.outer.update(n);for(a=0;a<t.byteLength;a++)t[a]=0}}return e.prototype.update=function(e){if(!(0,i.isEmptyData)(e)&&!this.error)try{this.hash.update((0,i.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,n.__awaiter)(this,void 0,void 0,(function(){return(0,n.__generator)(this,(function(e){return[2,this.digestSync()]}))}))},e}();e.exports.Sha256=a})),s.register("lQmIG",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.MAX_HASHABLE_LENGTH=e.exports.INIT=e.exports.KEY=e.exports.DIGEST_LENGTH=e.exports.BLOCK_SIZE=void 0,e.exports.BLOCK_SIZE=64,e.exports.DIGEST_LENGTH=32,e.exports.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),e.exports.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],e.exports.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1})),s.register("kGO3I",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.RawSha256=void 0;var n=s("lQmIG"),r=function(){function e(){this.state=Int32Array.from(n.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,r=e.byteLength;if(this.bytesHashed+=r,8*this.bytesHashed>n.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;r>0;)this.buffer[this.bufferLength++]=e[t++],r--,this.bufferLength===n.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),r=this.bufferLength;if(t.setUint8(this.bufferLength++,128),r%n.BLOCK_SIZE>=n.BLOCK_SIZE-8){for(var o=this.bufferLength;o<n.BLOCK_SIZE;o++)t.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(o=this.bufferLength;o<n.BLOCK_SIZE-8;o++)t.setUint8(o,0);t.setUint32(n.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(n.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var i=new Uint8Array(n.DIGEST_LENGTH);for(o=0;o<8;o++)i[4*o]=this.state[o]>>>24&255,i[4*o+1]=this.state[o]>>>16&255,i[4*o+2]=this.state[o]>>>8&255,i[4*o+3]=this.state[o]>>>0&255;return i},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,r=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],d=0;d<n.BLOCK_SIZE;d++){if(d<16)this.temp[d]=(255&e[4*d])<<24|(255&e[4*d+1])<<16|(255&e[4*d+2])<<8|255&e[4*d+3];else{var f=this.temp[d-2],h=(f>>>17|f<<15)^(f>>>19|f<<13)^f>>>10,p=((f=this.temp[d-15])>>>7|f<<25)^(f>>>18|f<<14)^f>>>3;this.temp[d]=(h+this.temp[d-7]|0)+(p+this.temp[d-16]|0)}var v=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&u^~s&c)|0)+(l+(n.KEY[d]+this.temp[d]|0)|0)|0,g=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&o^r&i^o&i)|0;l=c,c=u,u=s,s=a+v|0,a=i,i=o,o=r,r=v+g|0}t[0]+=r,t[1]+=o,t[2]+=i,t[3]+=a,t[4]+=s,t[5]+=u,t[6]+=c,t[7]+=l},e}();e.exports.RawSha256=r})),s.register("fTDXo",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),s("j4yut").__exportStar(s("eCdCy"),e.exports)})),s.register("j4yut",(function(t,n){e(t.exports,"__awaiter",(()=>r)),e(t.exports,"__generator",(()=>o)),e(t.exports,"__exportStar",(()=>i));function r(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function o(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function i(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}})),s.register("eCdCy",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.supportsZeroByteGCM=e.exports.supportsSubtleCrypto=e.exports.supportsSecureRandom=e.exports.supportsWebCrypto=void 0;var n=s("j4yut"),r=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function o(e){return"object"==typeof e&&"object"==typeof e.crypto&&"function"==typeof e.crypto.getRandomValues}function i(e){return e&&r.every((function(t){return"function"==typeof e[t]}))}e.exports.supportsWebCrypto=function(e){return!(!o(e)||"object"!=typeof e.crypto.subtle)&&i(e.crypto.subtle)},e.exports.supportsSecureRandom=o,e.exports.supportsSubtleCrypto=i,e.exports.supportsZeroByteGCM=function(e){return n.__awaiter(this,void 0,void 0,(function(){var t;return n.__generator(this,(function(n){switch(n.label){case 0:if(!i(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=n.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===n.sent().byteLength];case 4:return n.sent(),[2,!1];case 5:return[2]}}))}))}})),s.register("l96Da",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0});var n=s("4qHs8");n.__exportStar(s("fr2no"),e.exports),n.__exportStar(s("6SEAh"),e.exports),n.__exportStar(s("73q8h"),e.exports),n.__exportStar(s("fUUTc"),e.exports),n.__exportStar(s("6WzA3"),e.exports)})),s.register("4qHs8",(function(t,n){e(t.exports,"__exportStar",(()=>r));function r(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}})),s.register("fr2no",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0})})),s.register("6SEAh",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0})})),s.register("73q8h",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0})})),s.register("fUUTc",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0})})),s.register("6WzA3",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.isMsWindow=void 0;var n=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];e.exports.isMsWindow=function(e){if(function(e){return"MSInputMethodContext"in e&&"msCrypto"in e}(e)&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,r=t.getRandomValues,o=t.subtle;return n.map((function(e){return o[e]})).concat(r).every((function(e){return"function"==typeof e}))}return!1}})),s.register("j0EVl",(function(e,n){var r;e.exports=(r=r||function(e,n){var r;if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),"undefined"!=typeof self&&self.crypto&&(r=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(r=globalThis.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&void 0!==t&&t.crypto&&(r=t.crypto),!r)try{r=s("4AFFV")}catch(e){}var o=function(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},i=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),a={},u=a.lib={},c=u.Base={extend:function(e){var t=i(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},l=u.WordArray=c.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=t!=n?t:4*e.length},toString:function(e){return(e||f).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,o=e.sigBytes;if(this.clamp(),r%4)for(var i=0;i<o;i++){var a=n[i>>>2]>>>24-i%4*8&255;t[r+i>>>2]|=a<<24-(r+i)%4*8}else for(var s=0;s<o;s+=4)t[r+s>>>2]=n[s>>>2];return this.sigBytes+=o,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=c.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(o());return new l.init(t,e)}}),d=a.enc={},f=d.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new l.init(n,t/2)}},h=d.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push(String.fromCharCode(i))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new l.init(n,t)}},p=d.Utf8={stringify:function(e){try{return decodeURIComponent(escape(h.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return h.parse(unescape(encodeURIComponent(e)))}},v=u.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=p.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,o=r.words,i=r.sigBytes,a=this.blockSize,s=i/(4*a),u=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*a,c=e.min(4*u,i);if(u){for(var d=0;d<u;d+=a)this._doProcessBlock(o,d);n=o.splice(0,u),r.sigBytes-=c}return new l.init(n,c)},clone:function(){var e=c.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),g=(u.Hasher=v.extend({cfg:c.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){v.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new g.HMAC.init(e,n).finalize(t)}}}),a.algo={});return a}(Math),r)})),s.register("4AFFV",(function(e,t){})),s.register("dWihT",(function(e,t){var n;e.exports=(n=s("j0EVl"),function(){if("function"==typeof ArrayBuffer){var e=n.lib.WordArray,t=e.init,r=e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var n=e.byteLength,r=[],o=0;o<n;o++)r[o>>>2]|=e[o]<<24-o%4*8;t.call(this,r,n)}else t.apply(this,arguments)};r.prototype=e}}(),n.lib.WordArray)})),s.register("e5at0",(function(e,t){var n;e.exports=(n=s("j0EVl"),function(e){var t=n,r=t.lib,o=r.WordArray,i=r.Hasher,a=t.algo,s=[],u=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,o=0;o<64;)t(r)&&(o<8&&(s[o]=n(e.pow(r,.5))),u[o]=n(e.pow(r,1/3)),o++),r++}();var c=[],l=a.SHA256=i.extend({_doReset:function(){this._hash=new o.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],o=n[1],i=n[2],a=n[3],s=n[4],l=n[5],d=n[6],f=n[7],h=0;h<64;h++){if(h<16)c[h]=0|e[t+h];else{var p=c[h-15],v=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,g=c[h-2],m=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;c[h]=v+c[h-7]+m+c[h-16]}var y=r&o^r&i^o&i,b=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),w=f+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&l^~s&d)+u[h]+c[h];f=d,d=l,l=s,s=a+w|0,a=i,i=o,o=r,r=w+(b+y)|0}n[0]=n[0]+r|0,n[1]=n[1]+o|0,n[2]=n[2]+i|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+l|0,n[6]=n[6]+d|0,n[7]=n[7]+f|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,o=8*t.sigBytes;return n[o>>>5]|=128<<24-o%32,n[14+(o+64>>>9<<4)]=e.floor(r/4294967296),n[15+(o+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=i._createHelper(l),t.HmacSHA256=i._createHmacHelper(l)}(Math),n.SHA256)})),s.register("1BRlx",(function(e,t){var n;e.exports=(n=s("j0EVl"),s("e5at0"),s("2SrGQ"),n.HmacSHA256)})),s.register("2SrGQ",(function(e,t){var n,r,o,i;e.exports=(n=s("j0EVl"),o=(r=n).lib.Base,i=r.enc.Utf8,void(r.algo.HMAC=o.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=i.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),a=this._iKey=t.clone(),s=o.words,u=a.words,c=0;c<n;c++)s[c]^=1549556828,u[c]^=909522486;o.sigBytes=a.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})))})),s.register("fU9hS",(function(e,t){var n;e.exports=(n=s("j0EVl"),function(){var e=n,t=e.lib.WordArray;function r(e,n,r){for(var o=[],i=0,a=0;a<n;a++)if(a%4){var s=r[e.charCodeAt(a-1)]<<a%4*2|r[e.charCodeAt(a)]>>>6-a%4*2;o[i>>>2]|=s<<24-i%4*8,i++}return t.create(o,i)}e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var o=[],i=0;i<n;i+=3)for(var a=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,s=0;s<4&&i+.75*s<n;s++)o.push(r.charAt(a>>>6*(3-s)&63));var u=r.charAt(64);if(u)for(;o.length%4;)o.push(u);return o.join("")},parse:function(e){var t=e.length,n=this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var i=0;i<n.length;i++)o[n.charCodeAt(i)]=i}var a=n.charAt(64);if(a){var s=e.indexOf(a);-1!==s&&(t=s)}return r(e,t,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),n.enc.Base64)})),s.register("fCwtl",(function(t,r){function o(e,t){return t=t||{},new Promise((function(n,r){var o=new XMLHttpRequest,i=[],a=[],s={},u=function(){return{ok:2==(o.status/100|0),statusText:o.statusText,status:o.status,url:o.responseURL,text:function(){return Promise.resolve(o.responseText)},json:function(){return Promise.resolve(o.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([o.response]))},clone:u,headers:{keys:function(){return i},entries:function(){return a},get:function(e){return s[e.toLowerCase()]},has:function(e){return e.toLowerCase()in s}}}};for(var c in o.open(t.method||"get",e,!0),o.onload=function(){o.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){i.push(t=t.toLowerCase()),a.push([t,n]),s[t]=s[t]?s[t]+","+n:n})),n(u())},o.onerror=r,o.withCredentials="include"==t.credentials,t.headers)o.setRequestHeader(c,t.headers[c]);o.send(t.body||null)}))}n(t.exports),e(t.exports,"default",(()=>o))})),s.register("gtKTD",(function(t,n){var r;e(t.exports,"convert2nimn",(()=>r),(e=>r=e));const o=function(e){return String.fromCharCode(e)},i={nilChar:o(176),missingChar:o(201),nilPremitive:o(175),missingPremitive:o(200),emptyChar:o(178),emptyValue:o(177),boundryChar:o(179),objStart:o(198),arrStart:o(204),arrayEnd:o(185)},a=[i.nilChar,i.nilPremitive,i.missingChar,i.missingPremitive,i.boundryChar,i.emptyChar,i.emptyValue,i.arrayEnd,i.objStart,i.arrStart],u=function(e,t,n){if("string"==typeof t)return e&&e[0]&&void 0!==e[0].val?c(e[0].val,t):c(e,t);{const o=void 0===(r=e)?i.missingChar:null===r?i.nilChar:!(r.child&&0===Object.keys(r.child).length&&(!r.attrsMap||0===Object.keys(r.attrsMap).length))||i.emptyChar;if(!0===o){let r="";if(Array.isArray(t)){r+=i.arrStart;const o=t[0],a=e.length;if("string"==typeof o)for(let t=0;t<a;t++){const n=c(e[t].val,o);r=l(r,n)}else for(let t=0;t<a;t++){const i=u(e[t],o,n);r=l(r,i)}r+=i.arrayEnd}else{r+=i.objStart;const o=Object.keys(t);Array.isArray(e)&&(e=e[0]);for(let i in o){const a=o[i];let s;s=!n.ignoreAttributes&&e.attrsMap&&e.attrsMap[a]?u(e.attrsMap[a],t[a],n):a===n.textNodeName?u(e.val,t[a],n):u(e.child[a],t[a],n),r=l(r,s)}}return r}return o}var r},c=function(e){switch(e){case void 0:return i.missingPremitive;case null:return i.nilPremitive;case"":return i.emptyValue;default:return e}},l=function(e,t){return d(t[0])||d(e[e.length-1])||(e+=i.boundryChar),e+t},d=function(e){return-1!==a.indexOf(e)};var f=s("eH8DD"),h=s("8KbL0").buildOptions;r=function(e,t,n){return n=h(n,f.defaultOptions,f.props),u(e,t,n)}})),s.register("eH8DD",(function(t,n){var r,o,i;e(t.exports,"defaultOptions",(()=>r),(e=>r=e)),e(t.exports,"props",(()=>o),(e=>o=e)),e(t.exports,"getTraversalObj",(()=>i),(e=>i=e));var a=s("8KbL0"),u=(a=s("8KbL0")).buildOptions,c=s("1rnk8");"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,a.nameRegexp);!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const l={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,ignoreNameSpace:!1,allowBooleanAttributes:!1,parseNodeValue:!0,parseAttributeValue:!1,arrayMode:!1,trimValues:!0,cdataTagName:!1,cdataPositionChar:"\\c",tagValueProcessor:function(e,t){return e},attrValueProcessor:function(e,t){return e},stopNodes:[]};r=l;const d=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","ignoreNameSpace","allowBooleanAttributes","parseNodeValue","parseAttributeValue","arrayMode","trimValues","cdataTagName","cdataPositionChar","tagValueProcessor","attrValueProcessor","parseTrueNumberOnly","stopNodes"];function f(e,t,n){return t&&(n.trimValues&&(t=t.trim()),t=p(t=n.tagValueProcessor(t,e),n.parseNodeValue,n.parseTrueNumberOnly)),t}function h(e,t){if(t.ignoreNameSpace){const t=e.split(":"),n="/"===e.charAt(0)?"/":"";if("xmlns"===t[0])return"";2===t.length&&(e=n+t[1])}return e}function p(e,t,n){if(t&&"string"==typeof e){let t;return""===e.trim()||isNaN(e)?t="true"===e||"false"!==e&&e:(-1!==e.indexOf("0x")?t=Number.parseInt(e,16):-1!==e.indexOf(".")?(t=Number.parseFloat(e),e=e.replace(/\.?0+$/,"")):t=Number.parseInt(e,10),n&&(t=String(t)===e?t:e)),t}return a.isExist(e)?e:""}o=d;const v=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])(.*?)\\3)?","g");function g(e,t){if(!t.ignoreAttributes&&"string"==typeof e){e=e.replace(/\r?\n/g," ");const n=a.getAllMatches(e,v),r=n.length,o={};for(let e=0;e<r;e++){const r=h(n[e][1],t);r.length&&(void 0!==n[e][4]?(t.trimValues&&(n[e][4]=n[e][4].trim()),n[e][4]=t.attrValueProcessor(n[e][4],r),o[t.attributeNamePrefix+r]=p(n[e][4],t.parseAttributeValue,t.parseTrueNumberOnly)):t.allowBooleanAttributes&&(o[t.attributeNamePrefix+r]=!0))}if(!Object.keys(o).length)return;if(t.attrNodeName){const e={};return e[t.attrNodeName]=o,e}return o}}function m(e,t){let n,r="";for(let o=t;o<e.length;o++){let t=e[o];if(n)t===n&&(n="");else if('"'===t||"'"===t)n=t;else{if(">"===t)return{data:r,index:o};"\t"===t&&(t=" ")}r+=t}}function y(e,t,n,r){const o=e.indexOf(t,n);if(-1===o)throw new Error(r);return o+t.length-1}i=function(e,t){e=e.replace(/\r\n?/g,"\n"),t=u(t,l,d);const n=new c("!xml");let r=n,o="";for(let n=0;n<e.length;n++){if("<"===e[n])if("/"===e[n+1]){const i=y(e,">",n,"Closing Tag is not closed.");let s=e.substring(n+2,i).trim();if(t.ignoreNameSpace){const e=s.indexOf(":");-1!==e&&(s=s.substr(e+1))}r&&(r.val?r.val=a.getValue(r.val)+""+f(s,o,t):r.val=f(s,o,t)),t.stopNodes.length&&t.stopNodes.includes(r.tagname)&&(r.child=[],null==r.attrsMap&&(r.attrsMap={}),r.val=e.substr(r.startIndex+1,n-r.startIndex-1)),r=r.parent,o="",n=i}else if("?"===e[n+1])n=y(e,"?>",n,"Pi Tag is not closed.");else if("!--"===e.substr(n+1,3))n=y(e,"--\x3e",n,"Comment is not closed.");else if("!D"===e.substr(n+1,2)){const t=y(e,">",n,"DOCTYPE is not closed.");n=e.substring(n,t).indexOf("[")>=0?e.indexOf("]>",n)+1:t}else if("!["===e.substr(n+1,2)){const i=y(e,"]]>",n,"CDATA is not closed.")-2,s=e.substring(n+9,i);if(o&&(r.val=a.getValue(r.val)+""+f(r.tagname,o,t),o=""),t.cdataTagName){const e=new c(t.cdataTagName,r,s);r.addChild(e),r.val=a.getValue(r.val)+t.cdataPositionChar,s&&(e.val=s)}else r.val=(r.val||"")+(s||"");n=i+2}else{const i=m(e,n+1);let s=i.data;const u=i.index,l=s.indexOf(" ");let d=s,h=!0;if(-1!==l&&(d=s.substr(0,l).replace(/\s\s*$/,""),s=s.substr(l+1)),t.ignoreNameSpace){const e=d.indexOf(":");-1!==e&&(d=d.substr(e+1),h=d!==i.data.substr(e+1))}if(r&&o&&"!xml"!==r.tagname&&(r.val=a.getValue(r.val)+""+f(r.tagname,o,t)),s.length>0&&s.lastIndexOf("/")===s.length-1){"/"===d[d.length-1]?(d=d.substr(0,d.length-1),s=d):s=s.substr(0,s.length-1);const e=new c(d,r,"");d!==s&&(e.attrsMap=g(s,t)),r.addChild(e)}else{const e=new c(d,r);t.stopNodes.length&&t.stopNodes.includes(e.tagname)&&(e.startIndex=u),d!==s&&h&&(e.attrsMap=g(s,t)),r.addChild(e),r=e}o="",n=u}else o+=e[n]}return n}})),s.register("8KbL0",(function(t,n){var r,o,i,a,s,u,c,l,d;e(t.exports,"isExist",(()=>r),(e=>r=e)),e(t.exports,"isEmptyObject",(()=>o),(e=>o=e)),e(t.exports,"merge",(()=>i),(e=>i=e)),e(t.exports,"getValue",(()=>a),(e=>a=e)),e(t.exports,"buildOptions",(()=>s),(e=>s=e)),e(t.exports,"isTagNameInArrayMode",(()=>u),(e=>u=e)),e(t.exports,"isName",(()=>c),(e=>c=e)),e(t.exports,"getAllMatches",(()=>l),(e=>l=e)),e(t.exports,"nameRegexp",(()=>d),(e=>d=e));const f=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-퟿\\uF900-\\uFDCF\\uFDF0-\\uFFFD",h="["+f+"][:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-퟿\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",p=new RegExp("^"+h+"$");r=function(e){return void 0!==e},o=function(e){return 0===Object.keys(e).length},i=function(e,t,n){if(t){const r=Object.keys(t),o=r.length;for(let i=0;i<o;i++)e[r[i]]="strict"===n?[t[r[i]]]:t[r[i]]}},a=function(e){return r(e)?e:""},s=function(e,t,n){var r={};if(!e)return t;for(let o=0;o<n.length;o++)void 0!==e[n[o]]?r[n[o]]=e[n[o]]:r[n[o]]=t[n[o]];return r},u=function(e,t,n){return!1!==t&&(t instanceof RegExp?t.test(e):"function"==typeof t?!!t(e,n):"strict"===t)},c=function(e){const t=p.exec(e);return!(null==t)},l=function(e,t){const n=[];let r=t.exec(e);for(;r;){const o=[],i=r.length;for(let e=0;e<i;e++)o.push(r[e]);n.push(o),r=t.exec(e)}return n},d=h})),s.register("1rnk8",(function(e,t){e.exports=function(e,t,n){this.tagname=e,this.parent=t,this.child={},this.attrsMap={},this.val=n,this.addChild=function(e){Array.isArray(this.child[e.tagname])?this.child[e.tagname].push(e):this.child[e.tagname]=[e]}}})),s.register("c5Mcw",(function(t,n){var r;e(t.exports,"convertToJsonString",(()=>r),(e=>r=e));var o=s("8KbL0"),i=(o=s("8KbL0")).buildOptions,a=s("eH8DD");const u=function(e,t,n){let r="{";const i=Object.keys(e.child);for(let n=0;n<i.length;n++){var a=i[n];if(e.child[a]&&e.child[a].length>1){for(var s in r+='"'+a+'" : [ ',e.child[a])r+=u(e.child[a][s],t)+" , ";r=r.substr(0,r.length-1)+" ] "}else r+='"'+a+'" : '+u(e.child[a][0],t)+" ,"}return o.merge(r,e.attrsMap),o.isEmptyObject(r)?o.isExist(e.val)?e.val:"":(o.isExist(e.val)&&("string"!=typeof e.val||""!==e.val&&e.val!==t.cdataPositionChar)&&(r+='"'+t.textNodeName+'" : '+(!0!==(c=e.val)&&!1!==c&&isNaN(c)?'"'+c+'"':c)),","===r[r.length-1]&&(r=r.substr(0,r.length-2)),r+"}");var c};r=function(e,t){return(t=i(t,a.defaultOptions,a.props)).indentBy=t.indentBy||"",u(e,t,0)}})),s.register("hpVIs",(function(e,t){var n=s("8KbL0").buildOptions;const r={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataTagName:!1,cdataPositionChar:"\\c",format:!1,indentBy:"  ",supressEmptyNode:!1,tagValueProcessor:function(e){return e},attrValueProcessor:function(e){return e}},o=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","cdataTagName","cdataPositionChar","format","indentBy","supressEmptyNode","tagValueProcessor","attrValueProcessor"];function i(e){this.options=n(e,r,o),this.options.ignoreAttributes||this.options.attrNodeName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=p),this.options.cdataTagName?this.isCDATA=v:this.isCDATA=function(){return!1},this.replaceCDATAstr=a,this.replaceCDATAarr=u,this.options.format?(this.indentate=h,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.supressEmptyNode?(this.buildTextNode=f,this.buildObjNode=l):(this.buildTextNode=d,this.buildObjNode=c),this.buildTextValNode=d,this.buildObjectNode=c}function a(e,t){return e=this.options.tagValueProcessor(""+e),""===this.options.cdataPositionChar||""===e?e+"<![CDATA["+t+"]]"+this.tagEndChar:e.replace(this.options.cdataPositionChar,"<![CDATA["+t+"]]"+this.tagEndChar)}function u(e,t){if(e=this.options.tagValueProcessor(""+e),""===this.options.cdataPositionChar||""===e)return e+"<![CDATA["+t.join("]]><![CDATA[")+"]]"+this.tagEndChar;for(let n in t)e=e.replace(this.options.cdataPositionChar,"<![CDATA["+t[n]+"]]>");return e+this.newLine}function c(e,t,n,r){return n&&!e.includes("<")?this.indentate(r)+"<"+t+n+">"+e+"</"+t+this.tagEndChar:this.indentate(r)+"<"+t+n+this.tagEndChar+e+this.indentate(r)+"</"+t+this.tagEndChar}function l(e,t,n,r){return""!==e?this.buildObjectNode(e,t,n,r):this.indentate(r)+"<"+t+n+"/"+this.tagEndChar}function d(e,t,n,r){return this.indentate(r)+"<"+t+n+">"+this.options.tagValueProcessor(e)+"</"+t+this.tagEndChar}function f(e,t,n,r){return""!==e?this.buildTextValNode(e,t,n,r):this.indentate(r)+"<"+t+n+"/"+this.tagEndChar}function h(e){return this.options.indentBy.repeat(e)}function p(e){return!!e.startsWith(this.options.attributeNamePrefix)&&e.substr(this.attrPrefixLen)}function v(e){return e===this.options.cdataTagName}i.prototype.parse=function(e){return this.j2x(e,0).val},i.prototype.j2x=function(e,t){let n="",r="";const o=Object.keys(e),i=o.length;for(let a=0;a<i;a++){const i=o[a];if(void 0===e[i]);else if(null===e[i])r+=this.indentate(t)+"<"+i+"/"+this.tagEndChar;else if(e[i]instanceof Date)r+=this.buildTextNode(e[i],i,"",t);else if("object"!=typeof e[i]){const o=this.isAttribute(i);o?n+=" "+o+'="'+this.options.attrValueProcessor(""+e[i])+'"':this.isCDATA(i)?e[this.options.textNodeName]?r+=this.replaceCDATAstr(e[this.options.textNodeName],e[i]):r+=this.replaceCDATAstr("",e[i]):i===this.options.textNodeName?e[this.options.cdataTagName]||(r+=this.options.tagValueProcessor(""+e[i])):r+=this.buildTextNode(e[i],i,"",t)}else if(Array.isArray(e[i]))if(this.isCDATA(i))r+=this.indentate(t),e[this.options.textNodeName]?r+=this.replaceCDATAarr(e[this.options.textNodeName],e[i]):r+=this.replaceCDATAarr("",e[i]);else{const n=e[i].length;for(let o=0;o<n;o++){const n=e[i][o];if(void 0===n);else if(null===n)r+=this.indentate(t)+"<"+i+"/"+this.tagEndChar;else if("object"==typeof n){const e=this.j2x(n,t+1);r+=this.buildObjNode(e.val,i,e.attrStr,t)}else r+=this.buildTextNode(n,i,"",t)}}else if(this.options.attrNodeName&&i===this.options.attrNodeName){const t=Object.keys(e[i]),r=t.length;for(let o=0;o<r;o++)n+=" "+t[o]+'="'+this.options.attrValueProcessor(""+e[i][t[o]])+'"'}else{const n=this.j2x(e[i],t+1);r+=this.buildObjNode(n.val,i,n.attrStr,t)}}return{attrStr:n,val:r}},e.exports=i})),s.register("4ugWl",(function(e,t){var n=s("lzVG2"),r=s("aMNqE"),o=s("1BjuQ"),i=s("gonow");function a(e){var t=new o(e),i=r(o.prototype.request,t);return n.extend(i,o.prototype,t),n.extend(i,t),i}var u=a(s("3RCF8"));u.Axios=o,u.create=function(e){return a(i(u.defaults,e))},u.Cancel=s("8sRov"),u.CancelToken=s("j3tXW"),u.isCancel=s("5ecQK"),u.all=function(e){return Promise.all(e)},u.spread=s("90WkS"),u.isAxiosError=s("3tdmX"),e.exports=u,e.exports.default=u})),s.register("lzVG2",(function(e,t){var n=s("aMNqE"),r=Object.prototype.toString;function o(e){return"[object Array]"===r.call(e)}function i(e){return void 0===e}function a(e){return null!==e&&"object"==typeof e}function u(e){if("[object Object]"!==r.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===r.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===r.call(e)},isBuffer:function(e){return null!==e&&!i(e)&&null!==e.constructor&&!i(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isPlainObject:u,isUndefined:i,isDate:function(e){return"[object Date]"===r.call(e)},isFile:function(e){return"[object File]"===r.call(e)},isBlob:function(e){return"[object Blob]"===r.call(e)},isFunction:c,isStream:function(e){return a(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:l,merge:function e(){var t={};function n(n,r){u(t[r])&&u(n)?t[r]=e(t[r],n):u(n)?t[r]=e({},n):o(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)l(arguments[r],n);return t},extend:function(e,t,r){return l(t,(function(t,o){e[o]=r&&"function"==typeof t?n(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}})),s.register("aMNqE",(function(e,t){e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}})),s.register("1BjuQ",(function(e,t){var n=s("lzVG2"),r=s("1cFpw"),o=s("gXswp"),i=s("4V6xk"),a=s("gonow"),u=s("2DHvC"),c=u.validators;function l(e){this.defaults=e,this.interceptors={request:new o,response:new o}}l.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&u.assertOptions(t,{silentJSONParsing:c.transitional(c.boolean,"1.0.0"),forcedJSONParsing:c.transitional(c.boolean,"1.0.0"),clarifyTimeoutError:c.transitional(c.boolean,"1.0.0")},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var o,s=[];if(this.interceptors.response.forEach((function(e){s.push(e.fulfilled,e.rejected)})),!r){var l=[i,void 0];for(Array.prototype.unshift.apply(l,n),l=l.concat(s),o=Promise.resolve(e);l.length;)o=o.then(l.shift(),l.shift());return o}for(var d=e;n.length;){var f=n.shift(),h=n.shift();try{d=f(d)}catch(e){h(e);break}}try{o=i(d)}catch(e){return Promise.reject(e)}for(;s.length;)o=o.then(s.shift(),s.shift());return o},l.prototype.getUri=function(e){return e=a(this.defaults,e),r(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(a(r||{},{method:e,url:t,data:n}))}})),e.exports=l})),s.register("1cFpw",(function(e,t){var n=s("lzVG2");function r(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,o){if(!t)return e;var i;if(o)i=o(t);else if(n.isURLSearchParams(t))i=t.toString();else{var a=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),a.push(r(t)+"="+r(e))})))})),i=a.join("&")}if(i){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}})),s.register("gXswp",(function(e,t){var n=s("lzVG2");function r(){this.handlers=[]}r.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=r})),s.register("4V6xk",(function(e,t){var n=s("lzVG2"),r=s("9VdnS"),o=s("5ecQK"),i=s("3RCF8");function a(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return a(e),e.headers=e.headers||{},e.data=r.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||i.adapter)(e).then((function(t){return a(e),t.data=r.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(a(e),t&&t.response&&(t.response.data=r.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}})),s.register("9VdnS",(function(e,t){var n=s("lzVG2"),r=s("3RCF8");e.exports=function(e,t,o){var i=this||r;return n.forEach(o,(function(n){e=n.call(i,e,t)})),e}})),s.register("3RCF8",(function(e,t){var n=s("9Mq5w"),r=s("lzVG2"),o=s("b2tQ0"),i=s("lioaM"),a={"Content-Type":"application/x-www-form-urlencoded"};function u(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,l={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==n&&"[object process]"===Object.prototype.toString.call(n))&&(c=s("e3H2t")),c),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(u(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(u(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,n=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||o&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(a){if("SyntaxError"===e.name)throw i(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};l.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){l.headers[e]=r.merge(a)})),e.exports=l})),s.register("9Mq5w",(function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,d=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):d=-1,c.length&&h())}function h(){if(!l){var e=s(f);l=!0;for(var t=c.length;t;){for(u=c,c=[];++d<t;)u&&u[d].run();d=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}})),s.register("b2tQ0",(function(e,t){var n=s("lzVG2");e.exports=function(e,t){n.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}})),s.register("lioaM",(function(e,t){e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}})),s.register("e3H2t",(function(e,t){var n=s("lzVG2"),r=s("7PDWv"),o=s("iUKfi"),i=s("1cFpw"),a=s("hhT6k"),u=s("8jGaW"),c=s("8XH9H"),l=s("gh3sg");e.exports=function(e){return new Promise((function(t,s){var d=e.data,f=e.headers,h=e.responseType;n.isFormData(d)&&delete f["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var v=e.auth.username||"",g=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";f.Authorization="Basic "+btoa(v+":"+g)}var m=a(e.baseURL,e.url);function y(){if(p){var n="getAllResponseHeaders"in p?u(p.getAllResponseHeaders()):null,o={data:h&&"text"!==h&&"json"!==h?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:e,request:p};r(t,s,o),p=null}}if(p.open(e.method.toUpperCase(),i(m,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,"onloadend"in p?p.onloadend=y:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(y)},p.onabort=function(){p&&(s(l("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){s(l("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),s(l(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",p)),p=null},n.isStandardBrowserEnv()){var b=(e.withCredentials||c(m))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;b&&(f[e.xsrfHeaderName]=b)}"setRequestHeader"in p&&n.forEach(f,(function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete f[t]:p.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),h&&"json"!==h&&(p.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),s(e),p=null)})),d||(d=null),p.send(d)}))}})),s.register("7PDWv",(function(e,t){var n=s("gh3sg");e.exports=function(e,t,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}})),s.register("gh3sg",(function(e,t){var n=s("lioaM");e.exports=function(e,t,r,o,i){var a=new Error(e);return n(a,t,r,o,i)}})),s.register("iUKfi",(function(e,t){var n=s("lzVG2");e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(o)&&s.push("path="+o),n.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}})),s.register("hhT6k",(function(e,t){var n=s("11ilS"),r=s("lxaOG");e.exports=function(e,t){return e&&!n(t)?r(e,t):t}})),s.register("11ilS",(function(e,t){e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}})),s.register("lxaOG",(function(e,t){e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}})),s.register("8jGaW",(function(e,t){var n=s("lzVG2"),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,o,i,a={};return e?(n.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=n.trim(e.substr(0,i)).toLowerCase(),o=n.trim(e.substr(i+1)),t){if(a[t]&&r.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([o]):a[t]?a[t]+", "+o:o}})),a):a}})),s.register("8XH9H",(function(e,t){var n=s("lzVG2");e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=o(window.location.href),function(t){var r=n.isString(t)?o(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}})),s.register("5ecQK",(function(e,t){e.exports=function(e){return!(!e||!e.__CANCEL__)}})),s.register("gonow",(function(e,t){var n=s("lzVG2");e.exports=function(e,t){t=t||{};var r={},o=["url","method","data"],i=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function u(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function c(o){n.isUndefined(t[o])?n.isUndefined(e[o])||(r[o]=u(void 0,e[o])):r[o]=u(e[o],t[o])}n.forEach(o,(function(e){n.isUndefined(t[e])||(r[e]=u(void 0,t[e]))})),n.forEach(i,c),n.forEach(a,(function(o){n.isUndefined(t[o])?n.isUndefined(e[o])||(r[o]=u(void 0,e[o])):r[o]=u(void 0,t[o])})),n.forEach(s,(function(n){n in t?r[n]=u(e[n],t[n]):n in e&&(r[n]=u(void 0,e[n]))}));var l=o.concat(i).concat(a).concat(s),d=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return n.forEach(d,c),r}})),s.register("2DHvC",(function(e,t){var n=s("dflbC"),r={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){r[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={},i=n.version.split(".");function a(e,t){for(var n=t?t.split("."):i,r=e.split("."),o=0;o<3;o++){if(n[o]>r[o])return!0;if(n[o]<r[o])return!1}return!1}r.transitional=function(e,t,r){var i=t&&a(t);function s(e,t){return"[Axios v"+n.version+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(n,r,a){if(!1===e)throw new Error(s(r," has been removed in "+t));return i&&!o[r]&&(o[r]=!0,console.warn(s(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}},e.exports={isOlderVersion:a,assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),o=r.length;o-- >0;){var i=r[o],a=t[i];if(a){var s=e[i],u=void 0===s||a(s,i,e);if(!0!==u)throw new TypeError("option "+i+" must be "+u)}else if(!0!==n)throw Error("Unknown option "+i)}},validators:r}})),s.register("dflbC",(function(e,t){e.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')})),s.register("8sRov",(function(e,t){function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n})),s.register("j3tXW",(function(e,t){var n=s("8sRov");function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var e;return{token:new r((function(t){e=t})),cancel:e}},e.exports=r})),s.register("90WkS",(function(e,t){e.exports=function(e){return function(t){return e.apply(null,t)}}})),s.register("3tdmX",(function(e,t){e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}})),s.register("lXkqT",(function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.Observable=void 0;var i=function(){return"function"==typeof Symbol},a=function(e){return i()&&Boolean(Symbol[e])},s=function(e){return a(e)?Symbol[e]:"@@"+e};i()&&!a("observable")&&(Symbol.observable=Symbol("observable"));var u=s("iterator"),c=s("observable"),l=s("species");function d(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function f(e){var t=e.constructor;return void 0!==t&&null===(t=t[l])&&(t=void 0),void 0!==t?t:S}function h(e){h.log?h.log(e):setTimeout((function(){throw e}))}function p(e){Promise.resolve().then((function(){try{e()}catch(e){h(e)}}))}function v(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{var n=d(t,"unsubscribe");n&&n.call(t)}}catch(e){h(e)}}function g(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function m(e,t,n){e._state="running";var r=e._observer;try{var o=d(r,t);switch(t){case"next":o&&o.call(r,n);break;case"error":if(g(e),!o)throw n;o.call(r,n);break;case"complete":g(e),o&&o.call(r)}}catch(e){h(e)}"closed"===e._state?v(e):"running"===e._state&&(e._state="ready")}function y(e,t,n){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void p((function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(m(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)}))):void m(e,t,n);e._queue.push({type:t,value:n})}}var b=function(){function e(t,r){n(this,e),this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";var o=new w(this);try{this._cleanup=r.call(void 0,o)}catch(e){o.error(e)}"initializing"===this._state&&(this._state="ready")}return o(e,[{key:"unsubscribe",value:function(){"closed"!==this._state&&(g(this),v(this))}},{key:"closed",get:function(){return"closed"===this._state}}]),e}(),w=function(){function e(t){n(this,e),this._subscription=t}return o(e,[{key:"next",value:function(e){y(this._subscription,"next",e)}},{key:"error",value:function(e){y(this._subscription,"error",e)}},{key:"complete",value:function(){y(this._subscription,"complete")}},{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),S=function(){function e(t){if(n(this,e),!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}return o(e,[{key:"subscribe",value:function(e){return"object"==typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new b(e,this._subscriber)}},{key:"forEach",value:function(e){var t=this;return new Promise((function(n,r){if("function"==typeof e)var o=t.subscribe({next:function(t){try{e(t,i)}catch(e){r(e),o.unsubscribe()}},error:r,complete:n});else r(new TypeError(e+" is not a function"));function i(){o.unsubscribe(),n()}}))}},{key:"map",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(f(this))((function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"filter",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(f(this))((function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"reduce",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=f(this),r=arguments.length>1,o=!1,i=arguments[1],a=i;return new n((function(n){return t.subscribe({next:function(t){var i=!o;if(o=!0,!i||r)try{a=e(a,t)}catch(e){return n.error(e)}else a=t},error:function(e){n.error(e)},complete:function(){if(!o&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(a),n.complete()}})}))}},{key:"concat",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=f(this);return new o((function(t){var r,i=0;return function e(a){r=a.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){i===n.length?(r=void 0,t.complete()):e(o.from(n[i++]))}})}(e),function(){r&&(r.unsubscribe(),r=void 0)}}))}},{key:"flatMap",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=f(this);return new n((function(r){var o=[],i=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(e){return r.error(e)}var i=n.from(t).subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){var e=o.indexOf(i);e>=0&&o.splice(e,1),a()}});o.push(i)},error:function(e){r.error(e)},complete:function(){a()}});function a(){i.closed&&0===o.length&&r.complete()}return function(){o.forEach((function(e){return e.unsubscribe()})),i.unsubscribe()}}))}},{key:c,value:function(){return this}}],[{key:"from",value:function(t){var n="function"==typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var r=d(t,c);if(r){var o=r.call(t);if(Object(o)!==o)throw new TypeError(o+" is not an object");return function(e){return e instanceof S}(o)&&o.constructor===n?o:new n((function(e){return o.subscribe(e)}))}if(a("iterator")&&(r=d(t,u)))return new n((function(e){p((function(){if(!e.closed){var n=!0,o=!1,i=void 0;try{for(var a,s=r.call(t)[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value;if(e.next(u),e.closed)return}}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}e.complete()}}))}));if(Array.isArray(t))return new n((function(e){p((function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}}))}));throw new TypeError(t+" is not observable")}},{key:"of",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o="function"==typeof this?this:e;return new o((function(e){p((function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}}))}))}},{key:l,get:function(){return this}}]),e}();e.exports.Observable=S,i()&&Object.defineProperty(S,Symbol("extensions"),{value:{symbol:c,hostReportError:h},configurable:!0})})),s.register("1QK3d",(function(e,t){var n=s("lLLBm"),r=s("8mvgp"),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o?n.Buffer:void 0,u=(a?a.isBuffer:void 0)||r;e.exports=u})),s.register("lLLBm",(function(e,t){var n=s("eB2Bv"),r="object"==typeof self&&self&&self.Object===Object&&self,o=n||r||Function("return this")();e.exports=o})),s.register("eB2Bv",(function(e,n){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r})),s.register("8mvgp",(function(e,t){e.exports=function(){return!1}})),s.register("d2z8t",(function(e,t){var n=s("eB2Bv"),r=t&&!t.nodeType&&t,o=r&&e&&!e.nodeType&&e,i=o&&o.exports===r&&n.process,a=function(){try{var e=o&&o.require&&o.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=a})),s.register("bWvXv",(function(e,t){var n=s("lLLBm"),r=t&&!t.nodeType&&t,o=r&&e&&!e.nodeType&&e,i=o&&o.exports===r?n.Buffer:void 0,a=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=a?a(n):new e.constructor(n);return e.copy(r),r}})),s.register("la5wX",(function(t,n){var r;
/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */e(t.exports,"useSyncExternalStoreWithSelector",(()=>r),(e=>r=e));var o=s("fYo6y"),i=s("dc8m0");var a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},u=i.useSyncExternalStore,c=o.useRef,l=o.useEffect,d=o.useMemo,f=o.useDebugValue;r=function(e,t,n,r,o){var i=c(null);if(null===i.current){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=d((function(){function e(e){if(!c){if(c=!0,i=e,e=r(e),void 0!==o&&s.hasValue){var t=s.value;if(o(t,e))return u=t}return u=e}if(t=u,a(i,e))return t;var n=r(e);return void 0!==o&&o(t,n)?t:(i=e,u=n)}var i,u,c=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,r,o]);var h=u(e,i[0],i[1]);return l((function(){s.hasValue=!0,s.value=h}),[h]),f(h),h}})),s.register("dc8m0",(function(e,t){e.exports=s("lHBf1")})),s.register("lHBf1",(function(t,n){var r;
/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */e(t.exports,"useSyncExternalStore",(()=>r),(e=>r=e));var o=s("fYo6y");var i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=o.useState,u=o.useEffect,c=o.useLayoutEffect,l=o.useDebugValue;function d(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var f="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),o=r[0].inst,i=r[1];return c((function(){o.value=n,o.getSnapshot=t,d(o)&&i({inst:o})}),[e,n,t]),u((function(){return d(o)&&i({inst:o}),e((function(){d(o)&&i({inst:o})}))}),[e]),l(n),n};r=void 0!==o.useSyncExternalStore?o.useSyncExternalStore:f})),s.register("MMD0z",(function(e,t){})),s.register("98jrQ",(function(e,t){var n=s("gF23F"),r=s("9apzf"),o=s("abjnF"),i=s("hWtqY");var a=function e(t){var a=new o(t),s=r(o.prototype.request,a);return n.extend(s,o.prototype,a),n.extend(s,a),s.create=function(n){return e(i(t,n))},s}(s("9HTjz"));a.Axios=o,a.Cancel=s("g5U6c"),a.CancelToken=s("arDjx"),a.isCancel=s("b9o8v"),a.VERSION=s("hLvng").version,a.all=function(e){return Promise.all(e)},a.spread=s("eIQCA"),a.isAxiosError=s("fpeHK"),e.exports=a,e.exports.default=a})),s.register("gF23F",(function(e,t){var n=s("9apzf"),r=Object.prototype.toString;function o(e){return Array.isArray(e)}function i(e){return void 0===e}function a(e){return"[object ArrayBuffer]"===r.call(e)}function u(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==r.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===r.call(e)}function d(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:a,isBuffer:function(e){return null!==e&&!i(e)&&null!==e.constructor&&!i(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===r.call(e)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&a(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:u,isPlainObject:c,isUndefined:i,isDate:function(e){return"[object Date]"===r.call(e)},isFile:function(e){return"[object File]"===r.call(e)},isBlob:function(e){return"[object Blob]"===r.call(e)},isFunction:l,isStream:function(e){return u(e)&&l(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===r.call(e)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:d,merge:function e(){var t={};function n(n,r){c(t[r])&&c(n)?t[r]=e(t[r],n):c(n)?t[r]=e({},n):o(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)d(arguments[r],n);return t},extend:function(e,t,r){return d(t,(function(t,o){e[o]=r&&"function"==typeof t?n(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}})),s.register("9apzf",(function(e,t){e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}})),s.register("abjnF",(function(e,t){var n=s("gF23F"),r=s("5ciNt"),o=s("cmXN8"),i=s("a1RZd"),a=s("hWtqY"),u=s("g9MLb"),c=u.validators;function l(e){this.defaults=e,this.interceptors={request:new o,response:new o}}l.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&u.assertOptions(n,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var r=[],o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var s,l=[];if(this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)})),!o){var d=[i,void 0];for(Array.prototype.unshift.apply(d,r),d=d.concat(l),s=Promise.resolve(t);d.length;)s=s.then(d.shift(),d.shift());return s}for(var f=t;r.length;){var h=r.shift(),p=r.shift();try{f=h(f)}catch(e){p(e);break}}try{s=i(f)}catch(e){return Promise.reject(e)}for(;l.length;)s=s.then(l.shift(),l.shift());return s},l.prototype.getUri=function(e){return e=a(this.defaults,e),r(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(a(r||{},{method:e,url:t,data:n}))}})),e.exports=l})),s.register("5ciNt",(function(e,t){var n=s("gF23F");function r(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,o){if(!t)return e;var i;if(o)i=o(t);else if(n.isURLSearchParams(t))i=t.toString();else{var a=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),a.push(r(t)+"="+r(e))})))})),i=a.join("&")}if(i){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}})),s.register("cmXN8",(function(e,t){var n=s("gF23F");function r(){this.handlers=[]}r.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=r})),s.register("a1RZd",(function(e,t){var n=s("gF23F"),r=s("14SWq"),o=s("b9o8v"),i=s("9HTjz"),a=s("g5U6c");function u(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a("canceled")}e.exports=function(e){return u(e),e.headers=e.headers||{},e.data=r.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||i.adapter)(e).then((function(t){return u(e),t.data=r.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(u(e),t&&t.response&&(t.response.data=r.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}})),s.register("14SWq",(function(e,t){var n=s("gF23F"),r=s("9HTjz");e.exports=function(e,t,o){var i=this||r;return n.forEach(o,(function(n){e=n.call(i,e,t)})),e}})),s.register("9HTjz",(function(e,t){var n=s("9Mq5w"),r=s("gF23F"),o=s("499CX"),i=s("9ws4U"),a={"Content-Type":"application/x-www-form-urlencoded"};function u(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,l={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==n&&"[object process]"===Object.prototype.toString.call(n))&&(c=s("7oE0c")),c),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(u(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(u(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||l.transitional,n=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||o&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(a){if("SyntaxError"===e.name)throw i(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){l.headers[e]=r.merge(a)})),e.exports=l})),s.register("499CX",(function(e,t){var n=s("gF23F");e.exports=function(e,t){n.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}})),s.register("9ws4U",(function(e,t){e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}})),s.register("7oE0c",(function(e,t){var n=s("gF23F"),r=s("8AUz7"),o=s("cC0ai"),i=s("5ciNt"),a=s("7NoFY"),u=s("4Vsl4"),c=s("h85ky"),l=s("bRlKf"),d=s("9HTjz"),f=s("g5U6c");e.exports=function(e){return new Promise((function(t,s){var h,p=e.data,v=e.headers,g=e.responseType;function m(){e.cancelToken&&e.cancelToken.unsubscribe(h),e.signal&&e.signal.removeEventListener("abort",h)}n.isFormData(p)&&delete v["Content-Type"];var y=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";v.Authorization="Basic "+btoa(b+":"+w)}var S=a(e.baseURL,e.url);function x(){if(y){var n="getAllResponseHeaders"in y?u(y.getAllResponseHeaders()):null,o={data:g&&"text"!==g&&"json"!==g?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:n,config:e,request:y};r((function(e){t(e),m()}),(function(e){s(e),m()}),o),y=null}}if(y.open(e.method.toUpperCase(),i(S,e.params,e.paramsSerializer),!0),y.timeout=e.timeout,"onloadend"in y?y.onloadend=x:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(x)},y.onabort=function(){y&&(s(l("Request aborted",e,"ECONNABORTED",y)),y=null)},y.onerror=function(){s(l("Network Error",e,null,y)),y=null},y.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||d.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),s(l(t,e,n.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",y)),y=null},n.isStandardBrowserEnv()){var _=(e.withCredentials||c(S))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;_&&(v[e.xsrfHeaderName]=_)}"setRequestHeader"in y&&n.forEach(v,(function(e,t){void 0===p&&"content-type"===t.toLowerCase()?delete v[t]:y.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(y.withCredentials=!!e.withCredentials),g&&"json"!==g&&(y.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&y.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&y.upload&&y.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(h=function(e){y&&(s(!e||e&&e.type?new f("canceled"):e),y.abort(),y=null)},e.cancelToken&&e.cancelToken.subscribe(h),e.signal&&(e.signal.aborted?h():e.signal.addEventListener("abort",h))),p||(p=null),y.send(p)}))}})),s.register("8AUz7",(function(e,t){var n=s("bRlKf");e.exports=function(e,t,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}})),s.register("bRlKf",(function(e,t){var n=s("9ws4U");e.exports=function(e,t,r,o,i){var a=new Error(e);return n(a,t,r,o,i)}})),s.register("cC0ai",(function(e,t){var n=s("gF23F");e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(o)&&s.push("path="+o),n.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}})),s.register("7NoFY",(function(e,t){var n=s("gQb5p"),r=s("eHwfl");e.exports=function(e,t){return e&&!n(t)?r(e,t):t}})),s.register("gQb5p",(function(e,t){e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}})),s.register("eHwfl",(function(e,t){e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}})),s.register("4Vsl4",(function(e,t){var n=s("gF23F"),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,o,i,a={};return e?(n.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=n.trim(e.substr(0,i)).toLowerCase(),o=n.trim(e.substr(i+1)),t){if(a[t]&&r.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([o]):a[t]?a[t]+", "+o:o}})),a):a}})),s.register("h85ky",(function(e,t){var n=s("gF23F");e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=o(window.location.href),function(t){var r=n.isString(t)?o(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}})),s.register("g5U6c",(function(e,t){function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n})),s.register("b9o8v",(function(e,t){e.exports=function(e){return!(!e||!e.__CANCEL__)}})),s.register("hWtqY",(function(e,t){var n=s("gF23F");e.exports=function(e,t){t=t||{};var r={};function o(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function i(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:o(void 0,e[r]):o(e[r],t[r])}function a(e){if(!n.isUndefined(t[e]))return o(void 0,t[e])}function s(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:o(void 0,e[r]):o(void 0,t[r])}function u(n){return n in t?o(e[n],t[n]):n in e?o(void 0,e[n]):void 0}var c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u};return n.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||i,o=t(e);n.isUndefined(o)&&t!==u||(r[e]=o)})),r}})),s.register("g9MLb",(function(e,t){var n=s("hLvng").version,r={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){r[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={};r.transitional=function(e,t,r){function i(e,t){return"[Axios v"+n+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(n,r,a){if(!1===e)throw new Error(i(r," has been removed"+(t?" in "+t:"")));return t&&!o[r]&&(o[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),o=r.length;o-- >0;){var i=r[o],a=t[i];if(a){var s=e[i],u=void 0===s||a(s,i,e);if(!0!==u)throw new TypeError("option "+i+" must be "+u)}else if(!0!==n)throw Error("Unknown option "+i)}},validators:r}})),s.register("hLvng",(function(e,t){e.exports={version:"0.26.0"}})),s.register("arDjx",(function(e,t){var n=s("g5U6c");function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;this.promise.then((function(e){if(r._listeners){var t,n=r._listeners.length;for(t=0;t<n;t++)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},r.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},r.source=function(){var e;return{token:new r((function(t){e=t})),cancel:e}},e.exports=r})),s.register("eIQCA",(function(e,t){e.exports=function(e){return function(t){return e.apply(null,t)}}})),s.register("fpeHK",(function(e,t){var n=s("gF23F");e.exports=function(e){return n.isObject(e)&&!0===e.isAxiosError}})),s.register("5u9Vj",(function(e,t){!function(e,t){function n(e){return"function"==typeof Symbol&&Boolean(Symbol[e])}function r(e){return n(e)?Symbol[e]:"@@"+e}function o(e){setTimeout((function(){throw e}))}function i(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function a(e){var t=e.constructor;return void 0!==t&&null===(t=t[r("species")])&&(t=void 0),void 0!==t?t:p}function s(e,t){Object.keys(t).forEach((function(n){var r=Object.getOwnPropertyDescriptor(t,n);r.enumerable=!1,Object.defineProperty(e,n,r)}))}function u(e){var t=e._cleanup;if(t){e._cleanup=void 0;try{t()}catch(e){o(e)}}}function c(e){return void 0===e._observer}function l(e){c(e)||(e._observer=void 0,u(e))}function d(e){return function(){e.unsubscribe()}}function f(e,t){if(Object(e)!==e)throw new TypeError("Observer must be an object");this._cleanup=void 0,this._observer=e;try{var n=i(e,"start");n&&n.call(e,this)}catch(e){o(e)}if(!c(this)){e=new h(this);try{var r=t.call(void 0,e);if(null!=r){if("function"==typeof r.unsubscribe)r=d(r);else if("function"!=typeof r)throw new TypeError(r+" is not a function");this._cleanup=r}}catch(t){return void e.error(t)}c(this)&&u(this)}}function h(e){this._subscription=e}function p(e){if(!(this instanceof p))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof e)throw new TypeError("Observable initializer must be a function");this._subscriber=e}"function"!=typeof Symbol||Symbol.observable||(Symbol.observable=Symbol("observable")),s(f.prototype={},{get closed(){return c(this)},unsubscribe:function(){l(this)}}),s(h.prototype={},{get closed(){return c(this._subscription)},next:function(e){var t=this._subscription;if(!c(t)){var n=t._observer;try{var r=i(n,"next");r&&r.call(n,e)}catch(e){o(e)}}},error:function(e){var t=this._subscription;if(c(t))o(e);else{var n=t._observer;t._observer=void 0;try{var r=i(n,"error");if(!r)throw e;r.call(n,e)}catch(e){o(e)}u(t)}},complete:function(){var e=this._subscription;if(!c(e)){var t=e._observer;e._observer=void 0;try{var n=i(t,"complete");n&&n.call(t)}catch(e){o(e)}u(e)}}}),s(p.prototype,{subscribe:function(e){for(var t=[],n=1;n<arguments.length;++n)t.push(arguments[n]);return"function"==typeof e?e={next:e,error:t[0],complete:t[1]}:"object"==typeof e&&null!==e||(e={}),new f(e,this._subscriber)},forEach:function(e){var t=this;return new Promise((function(n,r){if("function"!=typeof e)return Promise.reject(new TypeError(e+" is not a function"));t.subscribe({_subscription:null,start:function(e){if(Object(e)!==e)throw new TypeError(e+" is not an object");this._subscription=e},next:function(t){var n=this._subscription;if(!n.closed)try{e(t)}catch(e){r(e),n.unsubscribe()}},error:r,complete:n})}))},map:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(a(this))((function(n){return t.subscribe({next:function(t){if(!n.closed){try{t=e(t)}catch(e){return n.error(e)}n.next(t)}},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},filter:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(a(this))((function(n){return t.subscribe({next:function(t){if(!n.closed){try{if(!e(t))return}catch(e){return n.error(e)}n.next(t)}},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},reduce:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=a(this),r=arguments.length>1,o=!1,i=arguments[1];return new n((function(n){return t.subscribe({next:function(t){if(!n.closed){var a=!o;if(o=!0,!a||r)try{i=e(i,t)}catch(e){return n.error(e)}else i=t}},error:function(e){n.error(e)},complete:function(){if(!o&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(i),n.complete()}})}))}}),Object.defineProperty(p.prototype,r("observable"),{value:function(){return this},writable:!0,configurable:!0}),s(p,{from:function(e){var t="function"==typeof this?this:p;if(null==e)throw new TypeError(e+" is not an object");var o=i(e,r("observable"));if(o){var a=o.call(e);if(Object(a)!==a)throw new TypeError(a+" is not an object");return a.constructor===t?a:new t((function(e){return a.subscribe(e)}))}if(n("iterator")&&(o=i(e,r("iterator"))))return new t((function(t){for(var n,r=o.call(e)[Symbol.iterator]();!(n=r.next()).done;){var i=n.value;if(t.next(i),t.closed)return}t.complete()}));if(Array.isArray(e))return new t((function(t){for(var n=0;n<e.length;++n)if(t.next(e[n]),t.closed)return;t.complete()}));throw new TypeError(e+" is not observable")},of:function(){for(var e=[],t=0;t<arguments.length;++t)e.push(arguments[t]);return new("function"==typeof this?this:p)((function(t){for(var n=0;n<e.length;++n)if(t.next(e[n]),t.closed)return;t.complete()}))}}),Object.defineProperty(p,r("species"),{get:function(){return this},configurable:!0}),Object.defineProperty(p,"extensions",{value:{observableSymbol:r("observable"),setHostReportError:function(e){o=e}}}),e.Observable=p}(t)})),s.register("6xYci",(function(t,n){e(t.exports,"default",(()=>c),(e=>c=e));var r=s("64PKy"),o=s("jEE5j"),i=n&&!n.nodeType&&n,a=i&&t&&!t.nodeType&&t,u=a&&a.exports===i?r.default.Buffer:void 0,c=(u?u.isBuffer:void 0)||o.default})),s.register("64PKy",(function(t,n){e(t.exports,"default",(()=>i));var r=s("kyoQ5"),o="object"==typeof self&&self&&self.Object===Object&&self,i=r.default||o||Function("return this")()})),s.register("kyoQ5",(function(n,r){e(n.exports,"default",(()=>o));var o="object"==typeof t&&t&&t.Object===Object&&t})),s.register("jEE5j",(function(t,n){e(t.exports,"default",(()=>r));var r=function(){return!1}})),s.register("jdlov",(function(t,n){e(t.exports,"default",(()=>u),(e=>u=e));var r=s("kyoQ5"),o=n&&!n.nodeType&&n,i=o&&t&&!t.nodeType&&t,a=i&&i.exports===o&&r.default.process,u=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}()})),s.register("3SvwC",(function(t,n){e(t.exports,"default",(()=>c),(e=>c=e));var r=s("64PKy"),o=n&&!n.nodeType&&n,i=o&&t&&!t.nodeType&&t,a=i&&i.exports===o?r.default.Buffer:void 0,u=a?a.allocUnsafe:void 0;var c=function(e,t){if(t)return e.slice();var n=e.length,r=u?u(n):new e.constructor(n);return e.copy(r),r}})),s.register("2VfMU",(function(t,n){var r,o,i,a,s,u,c,l,d,f,h,p,v,g,m,y,b,w,S,x,_,E,C,k,A,T,I,N;e(t.exports,"AsyncMode",(()=>r),(e=>r=e)),e(t.exports,"ConcurrentMode",(()=>o),(e=>o=e)),e(t.exports,"ContextConsumer",(()=>i),(e=>i=e)),e(t.exports,"ContextProvider",(()=>a),(e=>a=e)),e(t.exports,"Element",(()=>s),(e=>s=e)),e(t.exports,"ForwardRef",(()=>u),(e=>u=e)),e(t.exports,"Fragment",(()=>c),(e=>c=e)),e(t.exports,"Lazy",(()=>l),(e=>l=e)),e(t.exports,"Memo",(()=>d),(e=>d=e)),e(t.exports,"Portal",(()=>f),(e=>f=e)),e(t.exports,"Profiler",(()=>h),(e=>h=e)),e(t.exports,"StrictMode",(()=>p),(e=>p=e)),e(t.exports,"Suspense",(()=>v),(e=>v=e)),e(t.exports,"isAsyncMode",(()=>g),(e=>g=e)),e(t.exports,"isConcurrentMode",(()=>m),(e=>m=e)),e(t.exports,"isContextConsumer",(()=>y),(e=>y=e)),e(t.exports,"isContextProvider",(()=>b),(e=>b=e)),e(t.exports,"isElement",(()=>w),(e=>w=e)),e(t.exports,"isForwardRef",(()=>S),(e=>S=e)),e(t.exports,"isFragment",(()=>x),(e=>x=e)),e(t.exports,"isLazy",(()=>_),(e=>_=e)),e(t.exports,"isMemo",(()=>E),(e=>E=e)),e(t.exports,"isPortal",(()=>C),(e=>C=e)),e(t.exports,"isProfiler",(()=>k),(e=>k=e)),e(t.exports,"isStrictMode",(()=>A),(e=>A=e)),e(t.exports,"isSuspense",(()=>T),(e=>T=e)),e(t.exports,"isValidElementType",(()=>I),(e=>I=e)),e(t.exports,"typeOf",(()=>N),(e=>N=e));var O="function"==typeof Symbol&&Symbol.for,P=O?Symbol.for("react.element"):60103,j=O?Symbol.for("react.portal"):60106,R=O?Symbol.for("react.fragment"):60107,M=O?Symbol.for("react.strict_mode"):60108,U=O?Symbol.for("react.profiler"):60114,L=O?Symbol.for("react.provider"):60109,D=O?Symbol.for("react.context"):60110,F=O?Symbol.for("react.async_mode"):60111,B=O?Symbol.for("react.concurrent_mode"):60111,z=O?Symbol.for("react.forward_ref"):60112,V=O?Symbol.for("react.suspense"):60113,q=O?Symbol.for("react.suspense_list"):60120,K=O?Symbol.for("react.memo"):60115,H=O?Symbol.for("react.lazy"):60116,G=O?Symbol.for("react.block"):60121,W=O?Symbol.for("react.fundamental"):60117,$=O?Symbol.for("react.responder"):60118,Y=O?Symbol.for("react.scope"):60119;function J(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case P:switch(e=e.type){case F:case B:case R:case U:case M:case V:return e;default:switch(e=e&&e.$$typeof){case D:case z:case H:case K:case L:return e;default:return t}}case j:return t}}}function Q(e){return J(e)===B}r=F,o=B,i=D,a=L,s=P,u=z,c=R,l=H,d=K,f=j,h=U,p=M,v=V,g=function(e){return Q(e)||J(e)===F},m=Q,y=function(e){return J(e)===D},b=function(e){return J(e)===L},w=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===P},S=function(e){return J(e)===z},x=function(e){return J(e)===R},_=function(e){return J(e)===H},E=function(e){return J(e)===K},C=function(e){return J(e)===j},k=function(e){return J(e)===U},A=function(e){return J(e)===M},T=function(e){return J(e)===V},I=function(e){return"string"==typeof e||"function"==typeof e||e===R||e===B||e===U||e===M||e===V||e===q||"object"==typeof e&&null!==e&&(e.$$typeof===H||e.$$typeof===K||e.$$typeof===L||e.$$typeof===D||e.$$typeof===z||e.$$typeof===W||e.$$typeof===$||e.$$typeof===Y||e.$$typeof===G)},N=J})),s("dRo73").register(JSON.parse('{"kh1xT":"index.2318549a.js","aXObF":"Flare_Logo_Color.f47d17f4.png","40NZK":"QuickBooks_Logo_Color.32b5868c.png","2zcCp":"Flare_Logo_Color.355a7786.svg","jvYhD":"card-landing-page-logo.680f7c65.png","18pOW":"card-background.ac85e286.png","2CYF7":"card-logo.c04c9121.png","1jTOY":"GROUP.e150608d.png","9CJno":"index.593120d8.css"}'));var u={};u=s("cjuLU");var c,l,d={};e(d,"createRoot",(()=>c),(e=>c=e)),e(d,"hydrateRoot",(()=>l),(e=>l=e));var f;
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function h(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function p(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),f=s("gAtBI"),c=f.createRoot,l=f.hydrateRoot;var v=s("fYo6y"),g=(v=s("fYo6y"),function(e){var t;return null===(t=e.context.actorRef)||void 0===t?void 0:t.getSnapshot()}),m=function(e){var t;return null===(t=g(e))||void 0===t?void 0:t.context},y=function(){return y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},y.apply(this,arguments)};function b(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function w(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function S(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function x(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}var _=function(e){var t=function(t){return function(n){return e({type:t,data:n})}};return{resendCode:t("RESEND"),signOut:t("SIGN_OUT"),submitForm:t("SUBMIT"),updateForm:t("CHANGE"),updateBlur:t("BLUR"),toFederatedSignIn:t("FEDERATED_SIGN_IN"),toResetPassword:t("RESET_PASSWORD"),toSignIn:t("SIGN_IN"),toSignUp:t("SIGN_UP"),skipVerification:t("SKIP")}},E=function(e){var t,n,r=null===(t=e.context)||void 0===t?void 0:t.user,o=g(e),i=m(e),a=null==i?void 0:i.remoteError,s=y({},null==i?void 0:i.validationError),u=null==i?void 0:i.codeDeliveryDetails,c=Object.keys(s).length>0,l=e.hasTag("pending")||(null===(n=g(e))||void 0===n?void 0:n.hasTag("pending")),d=function(){switch(!0){case e.matches("idle"):return"idle";case e.matches("setup"):return"setup";case e.matches("signOut"):return"signOut";case e.matches("authenticated"):return"authenticated";case null==o?void 0:o.matches("confirmSignUp"):return"confirmSignUp";case null==o?void 0:o.matches("confirmSignIn"):return"confirmSignIn";case null==o?void 0:o.matches("setupTOTP"):return"setupTOTP";case null==o?void 0:o.matches("signIn"):return"signIn";case null==o?void 0:o.matches("signUp"):return"signUp";case null==o?void 0:o.matches("forceNewPassword"):return"forceNewPassword";case null==o?void 0:o.matches("resetPassword"):return"resetPassword";case null==o?void 0:o.matches("confirmResetPassword"):return"confirmResetPassword";case null==o?void 0:o.matches("verifyUser"):return"verifyUser";case null==o?void 0:o.matches("confirmVerifyUser"):return"confirmVerifyUser";default:return console.debug("Cannot infer `route` from Authenticator state:",e.value),null}}();return{error:a,hasValidationErrors:c,isPending:l,route:d,authStatus:function(e){switch(e){case"idle":case"setup":return"configuring";case"authenticated":return"authenticated";default:return"unauthenticated"}}(d),user:r,validationErrors:s,codeDeliveryDetails:u}},C=["+1","+7","+20","+27","+30","+31","+32","+33","+34","+36","+39","+40","+41","+43","+44","+45","+46","+47","+48","+49","+51","+52","+53","+54","+55","+56","+57","+58","+60","+61","+62","+63","+64","+65","+66","+81","+82","+84","+86","+90","+91","+92","+93","+94","+95","+98","+212","+213","+216","+218","+220","+221","+222","+223","+224","+225","+226","+227","+228","+229","+230","+231","+232","+233","+234","+235","+236","+237","+238","+239","+240","+241","+242","+243","+244","+245","+246","+248","+249","+250","+251","+252","+253","+254","+255","+256","+257","+258","+260","+261","+262","+263","+264","+265","+266","+267","+268","+269","+290","+291","+297","+298","+299","+345","+350","+351","+352","+353","+354","+355","+356","+357","+358","+359","+370","+371","+372","+373","+374","+375","+376","+377","+378","+379","+380","+381","+382","+385","+386","+387","+389","+420","+421","+423","+500","+501","+502","+503","+504","+505","+506","+507","+508","+509","+537","+590","+591","+593","+594","+595","+596","+597","+598","+599","+670","+672","+673","+674","+675","+676","+677","+678","+679","+680","+681","+682","+683","+685","+686","+687","+688","+689","+690","+691","+692","+850","+852","+853","+855","+856","+872","+880","+886","+960","+961","+962","+963","+964","+965","+966","+967","+968","+970","+971","+972","+973","+974","+975","+976","+977","+992","+993","+994","+995","+996","+998"],k={birthdate:{label:"Birthdate",labelHidden:!0,placeholder:"Birthdate",type:"date",autocomplete:"bday",isRequired:!0},confirmation_code:{label:"Confirmation Code",labelHidden:!0,placeholder:"Code",type:"number",autocomplete:"one-time-code",isRequired:!0},confirm_password:{label:"Confirm Password",labelHidden:!0,placeholder:"Confirm Password",type:"password",autocomplete:"new-password",isRequired:!0},email:{label:"Email",labelHidden:!0,placeholder:"Email",type:"email",autocomplete:"username",isRequired:!0},family_name:{label:"Family Name",labelHidden:!0,placeholder:"Family Name",type:"text",autocomplete:"family-name",isRequired:!0},given_name:{label:"Given Name",labelHidden:!0,placeholder:"Given Name",type:"text",autocomplete:"given-name",isRequired:!0},middle_name:{label:"Middle Name",labelHidden:!0,placeholder:"Middle Name",type:"text",autocomplete:"additional-name",isRequired:!0},name:{label:"Name",labelHidden:!0,placeholder:"Name",type:"text",autocomplete:"name",isRequired:!0},nickname:{label:"Nickname",labelHidden:!0,placeholder:"Nickname",type:"text",autocomplete:"tel",isRequired:!0},password:{label:"Password",labelHidden:!0,placeholder:"Password",type:"password",autocomplete:"new-password",isRequired:!0},phone_number:{label:"Phone Number",labelHidden:!0,placeholder:"Phone",type:"tel",autocomplete:"tel",dialCode:"+1",dialCodeList:C,isRequired:!0},preferred_username:{label:"Preferred Username",labelHidden:!0,placeholder:"Preferred Username",type:"text",isRequired:!0},profile:{label:"Profile",labelHidden:!0,placeholder:"Profile",type:"url",autocomplete:"url",isRequired:!0},website:{label:"Website",labelHidden:!0,placeholder:"Website",type:"url",autocomplete:"url",isRequired:!0},username:{label:"Username",labelHidden:!0,placeholder:"Username",type:"text",autocomplete:"username",isRequired:!0}},A=["username","email","phone_number"],T=x(x(x([],A,!0),["birthdate","email","family_name","given_name","middle_name","name","nickname","phone_number","preferred_username","profile","website"],!0),["confirmation_code","password","confirm_password"],!1),I=function(e){return T.includes(e)},N={};n(N),e(N,"Constants",(()=>Id)),e(N,"ConsoleLogger",(()=>P.ConsoleLogger)),e(N,"Logger",(()=>P.ConsoleLogger)),e(N,"Hub",(()=>G.Hub)),e(N,"I18n",(()=>ie)),e(N,"Signer",(()=>Se.Signer)),e(N,"Credentials",(()=>ku.Credentials)),e(N,"ServiceWorker",(()=>dd)),e(N,"StorageHelper",(()=>Iu)),e(N,"UniversalStorage",(()=>Ed)),e(N,"Platform",(()=>K)),e(N,"getAmplifyUserAgent",(()=>H)),e(N,"Amplify",(()=>O.Amplify)),e(N,"JS",(()=>we)),e(N,"browserOrNode",(()=>ge)),e(N,"Parser",(()=>Nt.Parser)),e(N,"JS",(()=>Nt.JS)),e(N,"urlSafeDecode",(()=>Nt.urlSafeDecode)),e(N,"urlSafeEncode",(()=>Nt.urlSafeEncode)),e(N,"INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER",(()=>Nt.INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER)),e(N,"DateUtils",(()=>Nt.DateUtils)),e(N,"jitteredExponentialRetry",(()=>Nt.jitteredExponentialRetry)),e(N,"browserOrNode",(()=>Nt.browserOrNode)),e(N,"INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER",(()=>Nt.INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER)),e(N,"parseMobileHubConfig",(()=>Nt.parseMobileHubConfig)),e(N,"USER_AGENT_HEADER",(()=>Nt.USER_AGENT_HEADER)),e(N,"NonRetryableError",(()=>Nt.NonRetryableError)),e(N,"INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER",(()=>Ad)),e(N,"INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER",(()=>kd)),e(N,"USER_AGENT_HEADER",(()=>Td));var O={};e(O,"Amplify",(()=>q),(e=>q=e));var P={};e(P,"ConsoleLogger",(()=>B),(e=>B=e));var j,R,M=["ResourceNotFoundException","InvalidSequenceTokenException"],U=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},L=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},D=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(L(arguments[t]));return e},F={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5};(R=j||(j={})).DEBUG="DEBUG",R.ERROR="ERROR",R.INFO="INFO",R.WARN="WARN",R.VERBOSE="VERBOSE";var B=function(){function e(e,t){void 0===t&&(t=j.WARN),this.name=e,this.level=t,this._pluggables=[]}return e.prototype._padding=function(e){return e<10?"0"+e:""+e},e.prototype._ts=function(){var e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(":")+"."+e.getMilliseconds()},e.prototype.configure=function(e){return e?(this._config=e,this._config):this._config},e.prototype._log=function(t){for(var n,r,o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];var a=this.level;e.LOG_LEVEL&&(a=e.LOG_LEVEL),"undefined"!=typeof window&&window.LOG_LEVEL&&(a=window.LOG_LEVEL);var s=F[a],u=F[t];if(u>=s){var c=console.log.bind(console);t===j.ERROR&&console.error&&(c=console.error.bind(console)),t===j.WARN&&console.warn&&(c=console.warn.bind(console));var l="["+t+"] "+this._ts()+" "+this.name,d="";if(1===o.length&&"string"==typeof o[0])c(d=l+" - "+o[0]);else if(1===o.length)d=l+" "+o[0],c(l,o[0]);else if("string"==typeof o[0]){var f=o.slice(1);1===f.length&&(f=f[0]),d=l+" - "+o[0]+" "+f,c(l+" - "+o[0],f)}else d=l+" "+o,c(l,o);try{for(var h=U(this._pluggables),p=h.next();!p.done;p=h.next()){var v=p.value,g={message:d,timestamp:Date.now()};v.pushLogs([g])}}catch(e){n={error:e}}finally{try{p&&!p.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}}},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,D([j.INFO],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,D([j.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,D([j.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,D([j.ERROR],e))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,D([j.DEBUG],e))},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,D([j.VERBOSE],e))},e.prototype.addPluggable=function(e){e&&"Logging"===e.getCategoryName()&&(this._pluggables.push(e),e.configure(this._config))},e.prototype.listPluggables=function(){return this._pluggables},e.LOG_LEVEL=null,e}(),z=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},V=new(0,P.ConsoleLogger)("Amplify"),q=new(function(){function e(){this._components=[],this._config={},this._modules={},this.Auth=null,this.Analytics=null,this.API=null,this.Credentials=null,this.Storage=null,this.I18n=null,this.Cache=null,this.PubSub=null,this.Interactions=null,this.Pushnotification=null,this.UI=null,this.XR=null,this.Predictions=null,this.DataStore=null,this.Geo=null,this.Logger=P.ConsoleLogger,this.ServiceWorker=null}return e.prototype.register=function(e){V.debug("component registered in amplify",e),this._components.push(e),"function"==typeof e.getModuleName?(this._modules[e.getModuleName()]=e,this[e.getModuleName()]=e):V.debug("no getModuleName method for component",e),e.configure(this._config)},e.prototype.configure=function(e){var t=this;return e?(this._config=Object.assign(this._config,e),V.debug("amplify config",this._config),Object.entries(this._modules).forEach((function(e){var n=z(e,2),r=(n[0],n[1]);Object.keys(r).forEach((function(e){t._modules[e]&&(r[e]=t._modules[e])}))})),this._components.map((function(e){e.configure(t._config)})),this._config):this._config},e.prototype.addPluggable=function(e){e&&e.getCategory&&"function"==typeof e.getCategory&&this._components.map((function(t){t.addPluggable&&"function"==typeof t.addPluggable&&t.addPluggable(e)}))},e}()),K={userAgent:"aws-amplify/4.5.3 js",product:"",navigator:null,isReactNative:!1};if("undefined"!=typeof navigator&&navigator.product)if(K.product=navigator.product||"",K.navigator=navigator||null,"ReactNative"===navigator.product)K.userAgent="aws-amplify/4.5.3 react-native",K.isReactNative=!0;else K.userAgent="aws-amplify/4.5.3 js",K.isReactNative=!1;var H=function(){return K.userAgent},G={};e(G,"Hub",(()=>X),(e=>X=e));var W=function(){return W=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},W.apply(this,arguments)},$=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Y=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat($(arguments[t]));return e},J=new(0,P.ConsoleLogger)("Hub"),Q="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default";var Z=function(){function e(e){this.listeners=[],this.patterns=[],this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=e}return e.prototype.remove=function(e,t){if(e instanceof RegExp){var n=this.patterns.find((function(t){return t.pattern.source===e.source}));if(!n)return void J.warn("No listeners for "+e);this.patterns=Y(this.patterns.filter((function(e){return e!==n})))}else{var r=this.listeners[e];if(!r)return void J.warn("No listeners for "+e);this.listeners[e]=Y(r.filter((function(e){return e.callback!==t})))}},e.prototype.dispatch=function(e,t,n,r){(void 0===n&&(n=""),this.protectedChannels.indexOf(e)>-1)&&(r===Q||J.warn("WARNING: "+e+" is protected and dispatching on it can have unintended consequences"));var o={channel:e,payload:W({},t),source:n,patternInfo:[]};try{this._toListeners(o)}catch(e){J.error(e)}},e.prototype.listen=function(e,t,n){var r,o=this;if(void 0===n&&(n="noname"),function(e){return void 0!==e.onHubCapsule}(t))J.warn("WARNING onHubCapsule is Deprecated. Please pass in a callback."),r=t.onHubCapsule.bind(t);else{if("function"!=typeof t)throw new Error("No callback supplied to Hub");r=t}if(e instanceof RegExp)this.patterns.push({pattern:e,callback:r});else{var i=this.listeners[e];i||(i=[],this.listeners[e]=i),i.push({name:n,callback:r})}return function(){o.remove(e,r)}},e.prototype._toListeners=function(e){var t=e.channel,n=e.payload,r=this.listeners[t];if(r&&r.forEach((function(r){J.debug("Dispatching to "+t+" with ",n);try{r.callback(e)}catch(e){J.error(e)}})),this.patterns.length>0){if(!n.message)return void J.warn("Cannot perform pattern matching without a message key");var o=n.message;this.patterns.forEach((function(t){var n=o.match(t.pattern);if(n){var r=$(n).slice(1),i=W(W({},e),{patternInfo:r});try{t.callback(i)}catch(e){J.error(e)}}}))}},e}(),X=new Z("__default__"),ee=new(0,P.ConsoleLogger)("I18n"),te=function(){function e(e){this._options=null,this._lang=null,this._dict={},this._options=Object.assign({},e),this._lang=this._options.language,!this._lang&&"undefined"!=typeof window&&window&&window.navigator&&(this._lang=window.navigator.language),ee.debug(this._lang)}return e.prototype.setLanguage=function(e){this._lang=e},e.prototype.get=function(e,t){if(void 0===t&&(t=void 0),!this._lang)return void 0!==t?t:e;var n=this._lang,r=this.getByLanguage(e,n);return r||(n.indexOf("-")>0&&(r=this.getByLanguage(e,n.split("-")[0])),r||(void 0!==t?t:e))},e.prototype.getByLanguage=function(e,t,n){if(void 0===n&&(n=null),!t)return n;var r=this._dict[t];return r?r[e]:n},e.prototype.putVocabulariesForLanguage=function(e,t){var n=this._dict[e];n||(n=this._dict[e]={}),Object.assign(n,t)},e.prototype.putVocabularies=function(e){var t=this;Object.keys(e).map((function(n){t.putVocabulariesForLanguage(n,e[n])}))},e}(),ne=new(0,P.ConsoleLogger)("I18n"),re=null,oe=null,ie=function(){function e(){}return e.configure=function(t){return ne.debug("configure I18n"),t?(re=Object.assign({},re,t.I18n||t),e.createInstance(),re):re},e.getModuleName=function(){return"I18n"},e.createInstance=function(){ne.debug("create I18n instance"),oe||(oe=new te(re))},e.setLanguage=function(t){return e.checkConfig(),oe.setLanguage(t)},e.get=function(t,n){return e.checkConfig()?oe.get(t,n):void 0===n?t:n},e.putVocabulariesForLanguage=function(t,n){return e.checkConfig(),oe.putVocabulariesForLanguage(t,n)},e.putVocabularies=function(t){return e.checkConfig(),oe.putVocabularies(t)},e.checkConfig=function(){return oe||(oe=new te(re)),!0},e}();O.Amplify.register(ie);var ae=s("9Mq5w"),se=[{type:"text/plain",ext:"txt"},{type:"text/html",ext:"html"},{type:"text/javascript",ext:"js"},{type:"text/css",ext:"css"},{type:"text/csv",ext:"csv"},{type:"text/yaml",ext:"yml"},{type:"text/yaml",ext:"yaml"},{type:"text/calendar",ext:"ics"},{type:"text/calendar",ext:"ical"},{type:"image/apng",ext:"apng"},{type:"image/bmp",ext:"bmp"},{type:"image/gif",ext:"gif"},{type:"image/x-icon",ext:"ico"},{type:"image/x-icon",ext:"cur"},{type:"image/jpeg",ext:"jpg"},{type:"image/jpeg",ext:"jpeg"},{type:"image/jpeg",ext:"jfif"},{type:"image/jpeg",ext:"pjp"},{type:"image/jpeg",ext:"pjpeg"},{type:"image/png",ext:"png"},{type:"image/svg+xml",ext:"svg"},{type:"image/tiff",ext:"tif"},{type:"image/tiff",ext:"tiff"},{type:"image/webp",ext:"webp"},{type:"application/json",ext:"json"},{type:"application/xml",ext:"xml"},{type:"application/x-sh",ext:"sh"},{type:"application/zip",ext:"zip"},{type:"application/x-rar-compressed",ext:"rar"},{type:"application/x-tar",ext:"tar"},{type:"application/x-bzip",ext:"bz"},{type:"application/x-bzip2",ext:"bz2"},{type:"application/pdf",ext:"pdf"},{type:"application/java-archive",ext:"jar"},{type:"application/msword",ext:"doc"},{type:"application/vnd.ms-excel",ext:"xls"},{type:"application/vnd.ms-excel",ext:"xlsx"},{type:"message/rfc822",ext:"eml"}],ue=function(e){return void 0===e&&(e={}),0===Object.keys(e).length},ce=function(e,t,n){if(!e||!e.sort)return!1;var r=n&&"desc"===n?-1:1;return e.sort((function(e,n){var o=e[t],i=n[t];return void 0===i?void 0===o?0:1*r:void 0===o||o<i?-1*r:o>i?1*r:0})),!0},le=function(e,t){var n=Object.assign({},e);return t&&("string"==typeof t?delete n[t]:t.forEach((function(e){delete n[e]}))),n},de=function(e,t){void 0===t&&(t="application/octet-stream");var n=e.toLowerCase(),r=se.filter((function(e){return n.endsWith("."+e.ext)}));return r.length>0?r[0].type:t},fe=function(e){var t=e.toLowerCase();return!!t.startsWith("text/")||("application/json"===t||"application/xml"===t||"application/sh"===t)},he=function(){for(var e="",t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=32;n>0;n-=1)e+=t[Math.floor(Math.random()*t.length)];return e},pe=function(e){if(e.isResolved)return e;var t=!0,n=!1,r=!1,o=e.then((function(e){return r=!0,t=!1,e}),(function(e){throw n=!0,t=!1,e}));return o.isFullfilled=function(){return r},o.isPending=function(){return t},o.isRejected=function(){return n},o},ve=function(){if("undefined"==typeof self)return!1;var e=self;return void 0!==e.WorkerGlobalScope&&self instanceof e.WorkerGlobalScope},ge=function(){return{isBrowser:"undefined"!=typeof window&&void 0!==window.document,isNode:void 0!==ae&&null!=ae.versions&&null!=ae.versions.node}},me=function(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=[]),!be(e))return e;var r={};for(var o in e)if(e.hasOwnProperty(o)){r[t.includes(o)?o:o[0].toLowerCase()+o.slice(1)]=n.includes(o)?e[o]:me(e[o],t,n)}return r},ye=function(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=[]),!be(e))return e;var r={};for(var o in e)if(e.hasOwnProperty(o)){r[t.includes(o)?o:o[0].toUpperCase()+o.slice(1)]=n.includes(o)?e[o]:ye(e[o],t,n)}return r},be=function(e){return!(!(e instanceof Object)||e instanceof Array||e instanceof Function||e instanceof Number||e instanceof String||e instanceof Boolean)},we=function(){function e(){}return e.isEmpty=ue,e.sortByField=ce,e.objectLessAttributes=le,e.filenameToContentType=de,e.isTextFile=fe,e.generateRandomString=he,e.makeQuerablePromise=pe,e.isWebWorker=ve,e.browserOrNode=ge,e.transferKeyToLowerCase=me,e.transferKeyToUpperCase=ye,e.isStrictObject=be,e}(),Se={};e(Se,"Signer",(()=>Et),(e=>Et=e));var xe={};Object.defineProperty(xe,"__esModule",{value:!0}),s("7Au5E").__exportStar(s("97Jyt"),xe);for(var _e,Ee,Ce={},ke={},Ae=0;Ae<256;Ae++){var Te=Ae.toString(16).toLowerCase();1===Te.length&&(Te="0"+Te),Ce[Ae]=Te,ke[Te]=Ae}function Ie(e){if(e.length%2!=0)throw new Error("Hex encoded strings must have an even number length");for(var t=new Uint8Array(e.length/2),n=0;n<e.length;n+=2){var r=e.substr(n,2).toLowerCase();if(!(r in ke))throw new Error("Cannot decode unrecognized sequence "+r+" as hexadecimal");t[n/2]=ke[r]}return t}function Ne(e){for(var t="",n=0;n<e.byteLength;n++)t+=Ce[e[n]];return t}var Oe,Pe=s("5tGEO");function je(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}Oe={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}},_e=$e,Ee=function(e){Oe.isString(e)&&(e=$e(e));return e instanceof je?e.format():je.prototype.format.call(e)};var Re,Me,Ue=/^([a-z0-9.+-]+:)/i,Le=/:[0-9]*$/,De=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Fe=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),Be=["'"].concat(Fe),ze=["%","/","?",";","#"].concat(Be),Ve=["/","?","#"],qe=/^[+a-z0-9A-Z_-]{0,63}$/,Ke=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,He={javascript:!0,"javascript:":!0},Ge={javascript:!0,"javascript:":!0},We={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function $e(e,t,n){if(e&&Oe.isObject(e)&&e instanceof je)return e;var r=new je;return r.parse(e,t,n),r}Re=s("bu5IZ"),Me=s("4gCs1"),je.prototype.parse=function(e,t,n){if(!Oe.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),o=-1!==r&&r<e.indexOf("#")?"?":"#",i=e.split(o);i[0]=i[0].replace(/\\/g,"/");var a=e=i.join(o);if(a=a.trim(),!n&&1===e.split("#").length){var s=De.exec(a);if(s)return this.path=a,this.href=a,this.pathname=s[1],s[2]?(this.search=s[2],this.query=t?Re(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var u=Ue.exec(a);if(u){var c=(u=u[0]).toLowerCase();this.protocol=c,a=a.substr(u.length)}if(n||u||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var l="//"===a.substr(0,2);!l||u&&Ge[u]||(a=a.substr(2),this.slashes=!0)}if(!Ge[u]&&(l||u&&!We[u])){for(var d,f,h=-1,p=0;p<Ve.length;p++){-1!==(v=a.indexOf(Ve[p]))&&(-1===h||v<h)&&(h=v)}-1!==(f=-1===h?a.lastIndexOf("@"):a.lastIndexOf("@",h))&&(d=a.slice(0,f),a=a.slice(f+1),this.auth=decodeURIComponent(d)),h=-1;for(p=0;p<ze.length;p++){var v;-1!==(v=a.indexOf(ze[p]))&&(-1===h||v<h)&&(h=v)}-1===h&&(h=a.length),this.host=a.slice(0,h),a=a.slice(h),this.parseHost(),this.hostname=this.hostname||"";var g="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!g)for(var m=this.hostname.split(/\./),y=(p=0,m.length);p<y;p++){var b=m[p];if(b&&!b.match(qe)){for(var w="",S=0,x=b.length;S<x;S++)b.charCodeAt(S)>127?w+="x":w+=b[S];if(!w.match(qe)){var _=m.slice(0,p),E=m.slice(p+1),C=b.match(Ke);C&&(_.push(C[1]),E.unshift(C[2])),E.length&&(a="/"+E.join(".")+a),this.hostname=_.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),g||(this.hostname=Pe.toASCII(this.hostname));var k=this.port?":"+this.port:"",A=this.hostname||"";this.host=A+k,this.href+=this.host,g&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!He[c])for(p=0,y=Be.length;p<y;p++){var T=Be[p];if(-1!==a.indexOf(T)){var I=encodeURIComponent(T);I===T&&(I=escape(T)),a=a.split(T).join(I)}}var N=a.indexOf("#");-1!==N&&(this.hash=a.substr(N),a=a.slice(0,N));var O=a.indexOf("?");if(-1!==O?(this.search=a.substr(O),this.query=a.substr(O+1),t&&(this.query=Re(this.query)),a=a.slice(0,O)):t&&(this.search="",this.query={}),a&&(this.pathname=a),We[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){k=this.pathname||"";var P=this.search||"";this.path=k+P}return this.href=this.format(),this},je.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,i="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&Oe.isObject(this.query)&&Object.keys(this.query).length&&(i=Me(this.query));var a=this.search||i&&"?"+i||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||We[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),t+o+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+r},je.prototype.resolve=function(e){return this.resolveObject($e(e,!1,!0)).format()},je.prototype.resolveObject=function(e){if(Oe.isString(e)){var t=new je;t.parse(e,!1,!0),e=t}for(var n=new je,r=Object.keys(this),o=0;o<r.length;o++){var i=r[o];n[i]=this[i]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),s=0;s<a.length;s++){var u=a[s];"protocol"!==u&&(n[u]=e[u])}return We[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!We[e.protocol]){for(var c=Object.keys(e),l=0;l<c.length;l++){var d=c[l];n[d]=e[d]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||Ge[e.protocol])n.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),n.pathname=f.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var h=n.pathname||"",p=n.search||"";n.path=h+p}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var v=n.pathname&&"/"===n.pathname.charAt(0),g=e.host||e.pathname&&"/"===e.pathname.charAt(0),m=g||v||n.host&&e.pathname,y=m,b=n.pathname&&n.pathname.split("/")||[],w=(f=e.pathname&&e.pathname.split("/")||[],n.protocol&&!We[n.protocol]);if(w&&(n.hostname="",n.port=null,n.host&&(""===b[0]?b[0]=n.host:b.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),m=m&&(""===f[0]||""===b[0])),g)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,b=f;else if(f.length)b||(b=[]),b.pop(),b=b.concat(f),n.search=e.search,n.query=e.query;else if(!Oe.isNullOrUndefined(e.search)){if(w)n.hostname=n.host=b.shift(),(C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=C.shift(),n.host=n.hostname=C.shift());return n.search=e.search,n.query=e.query,Oe.isNull(n.pathname)&&Oe.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!b.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var S=b.slice(-1)[0],x=(n.host||e.host||b.length>1)&&("."===S||".."===S)||""===S,_=0,E=b.length;E>=0;E--)"."===(S=b[E])?b.splice(E,1):".."===S?(b.splice(E,1),_++):_&&(b.splice(E,1),_--);if(!m&&!y)for(;_--;_)b.unshift("..");!m||""===b[0]||b[0]&&"/"===b[0].charAt(0)||b.unshift(""),x&&"/"!==b.join("/").substr(-1)&&b.push("");var C,k=""===b[0]||b[0]&&"/"===b[0].charAt(0);w&&(n.hostname=n.host=k?"":b.length?b.shift():"",(C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=C.shift(),n.host=n.hostname=C.shift()));return(m=m||n.host&&b.length)&&!k&&b.unshift(""),b.length?n.pathname=b.join("/"):(n.pathname=null,n.path=null),Oe.isNull(n.pathname)&&Oe.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},je.prototype.parseHost=function(){var e=this.host,t=Le.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};var Ye={};e(Ye,"urlSafeDecode",(()=>dt)),e(Ye,"urlSafeEncode",(()=>lt));var Je={};e(Je,"NonRetryableError",(()=>ot),(e=>ot=e)),e(Je,"jitteredExponentialRetry",(()=>at),(e=>at=e));var Qe,Ze=(Qe=function(e,t){return(Qe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Qe(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Xe=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},et=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},tt=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},nt=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(tt(arguments[t]));return e},rt=new(0,P.ConsoleLogger)("Util"),ot=function(e){function t(t){var n=e.call(this,t)||this;return n.nonRetryable=!0,n}return Ze(t,e),t}(Error);function it(e,t,n,r){return void 0===r&&(r=1),Xe(this,void 0,void 0,(function(){var o,i;return et(this,(function(a){switch(a.label){case 0:if("function"!=typeof e)throw Error("functionToRetry must be a function");rt.debug(e.name+" attempt #"+r+" with this vars: "+JSON.stringify(t)),a.label=1;case 1:return a.trys.push([1,3,,8]),[4,e.apply(void 0,nt(t))];case 2:return[2,a.sent()];case 3:if(o=a.sent(),rt.debug("error on "+e.name,o),(s=o)&&s.nonRetryable)throw rt.debug(e.name+" non retryable error",o),o;return i=n(r,t,o),rt.debug(e.name+" retrying in "+i+" ms"),!1===i?[3,6]:[4,new Promise((function(e){return setTimeout(e,i)}))];case 4:return a.sent(),[4,it(e,t,n,r+1)];case 5:return[2,a.sent()];case 6:throw o;case 7:return[3,8];case 8:return[2]}var s}))}))}var at=function(e,t,n){return void 0===n&&(n=3e5),it(e,t,function(e){return void 0===e&&(e=3e5),function(t){var n=100*Math.pow(2,t)+100*Math.random();return!(n>e)&&n}}(n))},st={};e(st,"DateUtils",(()=>ct),(e=>ct=e));var ut=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},ct={clockOffset:0,getDateWithClockOffset:function(){return ct.clockOffset?new Date((new Date).getTime()+ct.clockOffset):new Date},getClockOffset:function(){return ct.clockOffset},getHeaderStringFromDate:function(e){return void 0===e&&(e=ct.getDateWithClockOffset()),e.toISOString().replace(/[:\-]|\.\d{3}/g,"")},getDateFromHeaderString:function(e){var t=ut(e.match(/^(\d{4})(\d{2})(\d{2})T(\d{2})(\d{2})(\d{2}).+/),7),n=t[1],r=t[2],o=t[3],i=t[4],a=t[5],s=t[6];return new Date(Date.UTC(Number(n),Number(r)-1,Number(o),Number(i),Number(a),Number(s)))},isClockSkewed:function(e){return Math.abs(e.getTime()-ct.getDateWithClockOffset().getTime())>=3e5},isClockSkewError:function(e){if(!e.response||!e.response.headers)return!1;var t=e.response.headers;return Boolean(["BadRequestException","InvalidSignatureException"].includes(t["x-amzn-errortype"])&&(t.date||t.Date))},setClockOffset:function(e){ct.clockOffset=e}};function lt(e){return e.split("").map((function(e){return e.charCodeAt(0).toString(16).padStart(2,"0")})).join("")}function dt(e){return e.match(/.{2}/g).map((function(e){return String.fromCharCode(parseInt(e,16))})).join("")}o(Ye,Je),o(Ye,st);var ft=function(){return ft=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ft.apply(this,arguments)},ht=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},pt=new(0,P.ConsoleLogger)("Signer"),vt=function(e,t){var n=new(0,xe.Sha256)(e);return n.update(t),n.digestSync()},gt=function(e){var t=e||"",n=new(0,xe.Sha256);return n.update(t),Ne(n.digestSync())},mt=function(e){return Object.keys(e).map((function(e){return e.toLowerCase()})).sort().join(";")},yt=function(e){var t,n,r=_e(e.url);return[e.method||"/",encodeURIComponent(r.pathname).replace(/%2F/gi,"/"),(n=r.query,n&&0!==n.length?n.split("&").map((function(e){var t=e.split("=");if(1===t.length)return e;var n=t[1].replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}));return t[0]+"="+n})).sort((function(e,t){var n=e.split("=")[0],r=t.split("=")[0];return n===r?e<t?-1:1:n<r?-1:1})).join("&"):""),(t=e.headers,t&&0!==Object.keys(t).length?Object.keys(t).map((function(e){return{key:e.toLowerCase(),value:t[e]?t[e].trim().replace(/\s+/g," "):""}})).sort((function(e,t){return e.key<t.key?-1:1})).map((function(e){return e.key+":"+e.value})).join("\n")+"\n":""),mt(e.headers),gt(e.data)].join("\n")},bt=function(e){var t=(_e(e.url).host.match(/([^\.]+)\.(?:([^\.]*)\.)?amazonaws\.com$/)||[]).slice(1,3);return"es"===t[1]&&(t=t.reverse()),{service:e.service||t[0],region:e.region||t[1]}},wt=function(e,t,n){return[e,t,n,"aws4_request"].join("/")},St=function(e,t,n,r){return[e,n,r,gt(t)].join("\n")},xt=function(e,t,n){pt.debug(n);var r=vt("AWS4"+e,t),o=vt(r,n.region),i=vt(o,n.service);return vt(i,"aws4_request")},_t=function(e,t){return Ne(vt(e,t))},Et=function(){function e(){}return e.sign=function(e,t,n){void 0===n&&(n=null),e.headers=e.headers||{};var r=st.DateUtils.getDateWithClockOffset().toISOString().replace(/[:\-]|\.\d{3}/g,""),o=r.substr(0,8),i=_e(e.url);e.headers.host=i.host,e.headers["x-amz-date"]=r,t.session_token&&(e.headers["X-Amz-Security-Token"]=t.session_token);var a=yt(e);pt.debug(a);var s=n||bt(e),u=wt(o,s.region,s.service),c=St("AWS4-HMAC-SHA256",a,r,u),l=xt(t.secret_key,o,s),d=_t(l,c),f=function(e,t,n,r,o){return[e+" Credential="+t+"/"+n,"SignedHeaders="+r,"Signature="+o].join(", ")}("AWS4-HMAC-SHA256",t.access_key,u,mt(e.headers),d);return e.headers.Authorization=f,e},e.signUrl=function(e,t,n,r){var o="object"==typeof e?e.url:e,i="object"==typeof e?e.method:"GET",a="object"==typeof e?e.body:void 0,s=st.DateUtils.getDateWithClockOffset().toISOString().replace(/[:\-]|\.\d{3}/g,""),u=s.substr(0,8),c=_e(o,!0,!0),l=(c.search,ht(c,["search"])),d={host:l.host},f=n||bt({url:Ee(l)}),h=f.region,p=f.service,v=wt(u,h,p),g=t.session_token&&"iotdevicegateway"!==p,m=ft(ft(ft({"X-Amz-Algorithm":"AWS4-HMAC-SHA256","X-Amz-Credential":[t.access_key,v].join("/"),"X-Amz-Date":s.substr(0,16)},g?{"X-Amz-Security-Token":""+t.session_token}:{}),r?{"X-Amz-Expires":""+r}:{}),{"X-Amz-SignedHeaders":Object.keys(d).join(",")}),y=yt({method:i,url:Ee(ft(ft({},l),{query:ft(ft({},l.query),m)})),headers:d,data:a}),b=St("AWS4-HMAC-SHA256",y,s,v),w=xt(t.secret_key,u,{region:h,service:p}),S=_t(w,b),x=ft({"X-Amz-Signature":S},t.session_token&&{"X-Amz-Security-Token":t.session_token});return Ee({protocol:l.protocol,slashes:!0,hostname:l.hostname,port:l.port,pathname:l.pathname,query:ft(ft(ft({},l.query),m),x)})},e}(),Ct={};e(Ct,"parseMobileHubConfig",(()=>Tt),(e=>Tt=e)),e(Ct,"Parser",(()=>It),(e=>It=e));var kt=function(){return kt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},kt.apply(this,arguments)},At=new(0,P.ConsoleLogger)("Parser"),Tt=function(e){var t,n={};if(e.aws_mobile_analytics_app_id){var r={AWSPinpoint:{appId:e.aws_mobile_analytics_app_id,region:e.aws_mobile_analytics_app_region}};n.Analytics=r}return(e.aws_cognito_identity_pool_id||e.aws_user_pools_id)&&(n.Auth={userPoolId:e.aws_user_pools_id,userPoolWebClientId:e.aws_user_pools_web_client_id,region:e.aws_cognito_region,identityPoolId:e.aws_cognito_identity_pool_id,identityPoolRegion:e.aws_cognito_region,mandatorySignIn:"enable"===e.aws_mandatory_sign_in}),t=e.aws_user_files_s3_bucket?{AWSS3:{bucket:e.aws_user_files_s3_bucket,region:e.aws_user_files_s3_bucket_region,dangerouslyConnectToHttpEndpointForTesting:e.aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing}}:e?e.Storage||e:{},e.Logging&&(n.Logging=kt(kt({},e.Logging),{region:e.aws_project_region})),e.geo&&(n.Geo=Object.assign({},e.geo),e.geo.amazon_location_service&&(n.Geo={AmazonLocationService:e.geo.amazon_location_service})),n.Analytics=Object.assign({},n.Analytics,e.Analytics),n.Auth=Object.assign({},n.Auth,e.Auth),n.Storage=Object.assign({},t),n.Logging=Object.assign({},n.Logging,e.Logging),At.debug("parse config",e,"to amplifyconfig",n),n},It=function(){function e(){}return e.parseMobilehubConfig=Tt,e}(),Nt={},Ot=function(e,t){return(Ot=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function Pt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Ot(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var jt=function(){return jt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},jt.apply(this,arguments)};function Rt(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Mt(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}Object.create;function Ut(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}Object.create;var Lt;Lt=JSON.parse('{"name":"@aws-sdk/client-cloudwatch-logs","description":"AWS SDK for JavaScript Cloudwatch Logs Client for Node.js, Browser and React Native","version":"3.6.1","scripts":{"clean":"yarn remove-definitions && yarn remove-dist && yarn remove-documentation","build-documentation":"yarn remove-documentation && typedoc ./","prepublishOnly":"yarn build","pretest":"yarn build:cjs","remove-definitions":"rimraf ./types","remove-dist":"rimraf ./dist","remove-documentation":"rimraf ./docs","test":"exit 0","build:cjs":"tsc -p tsconfig.json","build:es":"tsc -p tsconfig.es.json","build":"yarn build:cjs && yarn build:es","postbuild":"downlevel-dts types types/ts3.4"},"main":"./dist/cjs/index.js","types":"./types/index.d.ts","module":"./dist/es/index.js","browser":{"./runtimeConfig":"./runtimeConfig.browser"},"react-native":{"./runtimeConfig":"./runtimeConfig.native"},"sideEffects":false,"dependencies":{"@aws-crypto/sha256-browser":"^1.0.0","@aws-crypto/sha256-js":"^1.0.0","@aws-sdk/config-resolver":"3.6.1","@aws-sdk/credential-provider-node":"3.6.1","@aws-sdk/fetch-http-handler":"3.6.1","@aws-sdk/hash-node":"3.6.1","@aws-sdk/invalid-dependency":"3.6.1","@aws-sdk/middleware-content-length":"3.6.1","@aws-sdk/middleware-host-header":"3.6.1","@aws-sdk/middleware-logger":"3.6.1","@aws-sdk/middleware-retry":"3.6.1","@aws-sdk/middleware-serde":"3.6.1","@aws-sdk/middleware-signing":"3.6.1","@aws-sdk/middleware-stack":"3.6.1","@aws-sdk/middleware-user-agent":"3.6.1","@aws-sdk/node-config-provider":"3.6.1","@aws-sdk/node-http-handler":"3.6.1","@aws-sdk/protocol-http":"3.6.1","@aws-sdk/smithy-client":"3.6.1","@aws-sdk/types":"3.6.1","@aws-sdk/url-parser":"3.6.1","@aws-sdk/url-parser-native":"3.6.1","@aws-sdk/util-base64-browser":"3.6.1","@aws-sdk/util-base64-node":"3.6.1","@aws-sdk/util-body-length-browser":"3.6.1","@aws-sdk/util-body-length-node":"3.6.1","@aws-sdk/util-user-agent-browser":"3.6.1","@aws-sdk/util-user-agent-node":"3.6.1","@aws-sdk/util-utf8-browser":"3.6.1","@aws-sdk/util-utf8-node":"3.6.1","tslib":"^2.0.0"},"devDependencies":{"@aws-sdk/client-documentation-generator":"3.6.1","@types/node":"^12.7.5","downlevel-dts":"0.7.0","jest":"^26.1.0","rimraf":"^3.0.0","typedoc":"^0.19.2","typescript":"~4.1.2"},"engines":{"node":">=10.0.0"},"typesVersions":{"<4.0":{"types/*":["types/ts3.4/*"]}},"author":{"name":"AWS SDK for JavaScript Team","url":"https://aws.amazon.com/javascript/"},"license":"Apache-2.0","homepage":"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-cloudwatch-logs","repository":{"type":"git","url":"https://github.com/aws/aws-sdk-js-v3.git","directory":"clients/client-cloudwatch-logs"}}');var Dt={};Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.WebCryptoSha256=Dt.Ie11Sha256=void 0,(0,s("auuzt").__exportStar)(s("jbHNC"),Dt);var Ft=s("lvCt3");Object.defineProperty(Dt,"Ie11Sha256",{enumerable:!0,get:function(){return Ft.Sha256}});var Bt=s("5dePs");Object.defineProperty(Dt,"WebCryptoSha256",{enumerable:!0,get:function(){return Bt.Sha256}});function zt(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Vt(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function qt(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var Kt=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers},e}();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ht=function(){return Ht=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ht.apply(this,arguments)};function Gt(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var Wt=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.substr(-1)?e.protocol+":":e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/"+e.path:e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,n=new e(Ht(Ht({},this),{headers:Ht({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r,o=t[n];return Ht(Ht({},e),((r={})[n]=Array.isArray(o)?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Gt(arguments[t]));return e}(o):o,r))}),{}))),n},e}();function $t(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var Yt=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,Jt)},Jt=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()};function Qt(e){var t,n,r=[];try{for(var o=$t(Object.keys(e).sort()),i=o.next();!i.done;i=o.next()){var a=i.value,s=e[a];if(a=Yt(a),Array.isArray(s))for(var u=0,c=s.length;u<c;u++)r.push(a+"="+Yt(s[u]));else{var l=a;(s||"string"==typeof s)&&(l+="="+Yt(s)),r.push(l)}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r.join("&")}for(var Zt=function(){function e(e){var t=(void 0===e?{}:e).requestTimeout;this.requestTimeout=t}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=(void 0===t?{}:t).abortSignal,r=this.requestTimeout;if(null==n?void 0:n.aborted){var o=new Error("Request aborted");return o.name="AbortError",Promise.reject(o)}var i=e.path;if(e.query){var a=Qt(e.query);a&&(i+="?"+a)}var s=e.port,u=e.method,c=e.protocol+"//"+e.hostname+(s?":"+s:"")+i,l={body:"GET"===u||"HEAD"===u?void 0:e.body,headers:new Headers(e.headers),method:u};"undefined"!=typeof AbortController&&(l.signal=n);var d,f=new Request(c,l),h=[fetch(f).then((function(e){var t,n,r=e.headers,o={};try{for(var i=qt(r.entries()),a=i.next();!a.done;a=i.next()){var s=a.value;o[s[0]]=s[1]}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return void 0!==e.body?{response:new Kt({headers:o,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new Kt({headers:o,statusCode:e.status,body:t})}}))})),(d=r,void 0===d&&(d=0),new Promise((function(e,t){d&&setTimeout((function(){var e=new Error("Request did not complete within "+d+" ms");e.name="TimeoutError",t(e)}),d)})))];return n&&h.push(new Promise((function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),Promise.race(h)},e}(),Xt={},en=new Array(64),tn=0,nn="A".charCodeAt(0),rn="Z".charCodeAt(0);tn+nn<=rn;tn++){var on=String.fromCharCode(tn+nn);Xt[on]=tn,en[tn]=on}for(tn=0,nn="a".charCodeAt(0),rn="z".charCodeAt(0);tn+nn<=rn;tn++){on=String.fromCharCode(tn+nn);var an=tn+26;Xt[on]=an,en[an]=on}for(tn=0;tn<10;tn++){Xt[tn.toString(10)]=tn+52;on=tn.toString(10),an=tn+52;Xt[on]=an,en[an]=on}Xt["+"]=62,en[62]="+",Xt["/"]=63,en[63]="/";function sn(e){var t=e.length/4*3;"=="===e.substr(-2)?t-=2:"="===e.substr(-1)&&t--;for(var n=new ArrayBuffer(t),r=new DataView(n),o=0;o<e.length;o+=4){for(var i=0,a=0,s=o,u=o+3;s<=u;s++)"="!==e[s]?(i|=Xt[e[s]]<<6*(u-s),a+=6):i>>=6;var c=o/4*3;i>>=a%8;for(var l=Math.floor(a/8),d=0;d<l;d++){var f=8*(l-d-1);r.setUint8(c+d,(i&255<<f)>>f)}}return new Uint8Array(n)}function un(e){for(var t="",n=0;n<e.length;n+=3){for(var r=0,o=0,i=n,a=Math.min(n+3,e.length);i<a;i++)r|=e[i]<<8*(a-i-1),o+=8;var s=Math.ceil(o/6);r<<=6*s-o;for(var u=1;u<=s;u++){var c=6*(s-u);t+=en[(r&63<<c)>>c]}t+="==".slice(0,4-s)}return t}var cn=function(e){return"function"==typeof Blob&&e instanceof Blob?function(e){return zt(this,void 0,void 0,(function(){var t,n;return Vt(this,(function(r){switch(r.label){case 0:return[4,ln(e)];case 1:return t=r.sent(),n=sn(t),[2,new Uint8Array(n)]}}))}))}(e):function(e){return zt(this,void 0,void 0,(function(){var t,n,r,o,i,a,s;return Vt(this,(function(u){switch(u.label){case 0:t=new Uint8Array(0),n=e.getReader(),r=!1,u.label=1;case 1:return r?[3,3]:[4,n.read()];case 2:return o=u.sent(),i=o.done,(a=o.value)&&(s=t,(t=new Uint8Array(s.length+a.length)).set(s),t.set(a,s.length)),r=i,[3,1];case 3:return[2,t]}}))}))}(e)};function ln(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){var e;if(2!==r.readyState)return n(new Error("Reader aborted too early"));var o=null!==(e=r.result)&&void 0!==e?e:"",i=o.indexOf(","),a=i>-1?i+1:o.length;t(o.substring(a))},r.onabort=function(){return n(new Error("Read aborted"))},r.onerror=function(){return n(r.error)},r.readAsDataURL(e)}))}var dn=function(e){return function(){return Promise.reject(e)}};var fn=function(){return fn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},fn.apply(this,arguments)};function hn(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function pn(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function vn(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function gn(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(vn(arguments[t]));return e}var mn,yn,bn=function(e){return function(t,n){return function(r){return hn(void 0,void 0,void 0,(function(){var o;return pn(this,(function(i){return(null===(o=null==e?void 0:e.retryStrategy)||void 0===o?void 0:o.mode)&&(n.userAgent=gn(n.userAgent||[],[["cfg/retry-mode",e.retryStrategy.mode]])),[2,e.retryStrategy.retry(t,r)]}))}))}}},wn={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Sn=function(e){return{applyToStack:function(t){t.add(bn(e),wn)}}},xn=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],_n=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],En=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],Cn=[500,502,503,504],kn=function(e){return void 0!==e.$retryable},An=function(e){return xn.includes(e.name)},Tn=function(e){var t,n;return 429===(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||_n.includes(e.name)||1==(null===(n=e.$retryable)||void 0===n?void 0:n.throttling)},In=function(e){var t;return En.includes(e.name)||Cn.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)},Nn={},On="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(On){var Pn=new Uint8Array(16);Nn=function(){return On(Pn),Pn}}else{var jn=new Array(16);Nn=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),jn[t]=e>>>((3&t)<<3)&255;return jn}}for(var Rn,Mn,Un={},Ln=[],Dn=0;Dn<256;++Dn)Ln[Dn]=(Dn+256).toString(16).substr(1);Un=function(e,t){var n=t||0,r=Ln;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")};var Fn=0,Bn=0;yn=function(e,t,n){var r=t&&n||0,o=t||[],i=(e=e||{}).node||Rn,a=void 0!==e.clockseq?e.clockseq:Mn;if(null==i||null==a){var s=Nn();null==i&&(i=Rn=[1|s[0],s[1],s[2],s[3],s[4],s[5]]),null==a&&(a=Mn=16383&(s[6]<<8|s[7]))}var u=void 0!==e.msecs?e.msecs:(new Date).getTime(),c=void 0!==e.nsecs?e.nsecs:Bn+1,l=u-Fn+(c-Bn)/1e4;if(l<0&&void 0===e.clockseq&&(a=a+1&16383),(l<0||u>Fn)&&void 0===e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Fn=u,Bn=c,Mn=a;var d=(1e4*(268435455&(u+=122192928e5))+c)%4294967296;o[r++]=d>>>24&255,o[r++]=d>>>16&255,o[r++]=d>>>8&255,o[r++]=255&d;var f=u/4294967296*1e4&268435455;o[r++]=f>>>8&255,o[r++]=255&f,o[r++]=f>>>24&15|16,o[r++]=f>>>16&255,o[r++]=a>>>8|128,o[r++]=255&a;for(var h=0;h<6;++h)o[r+h]=i[h];return t||Un(o)};var zn;var Vn=zn=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||Nn)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var i=0;i<16;++i)t[r+i]=o[i];return t||Un(o)};Vn.v1=yn,Vn.v4=zn,mn=Vn;var qn=function(e,t){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,t)*e))},Kn=function(e){return!!e&&(kn(e)||An(e)||Tn(e)||In(e))},Hn=function(){function e(e,t){var n,r,o,i,a,s,u,c;this.maxAttemptsProvider=e,this.mode="standard",this.retryDecider=null!==(n=null==t?void 0:t.retryDecider)&&void 0!==n?n:Kn,this.delayDecider=null!==(r=null==t?void 0:t.delayDecider)&&void 0!==r?r:qn,this.retryQuota=null!==(o=null==t?void 0:t.retryQuota)&&void 0!==o?o:(a=i=500,s=i,u=function(e){return"TimeoutError"===e.name?10:5},c=function(e){return u(e)<=s},Object.freeze({hasRetryTokens:c,retrieveRetryTokens:function(e){if(!c(e))throw new Error("No retry token available");var t=u(e);return s-=t,t},releaseRetryTokens:function(e){s+=null!=e?e:1,s=Math.min(s,a)}}))}return e.prototype.shouldRetry=function(e,t,n){return t<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return hn(this,void 0,void 0,(function(){var e;return pn(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=3,[3,3];case 3:return[2,e]}}))}))},e.prototype.retry=function(e,t){return hn(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c;return pn(this,(function(l){switch(l.label){case 0:return r=0,o=0,[4,this.getMaxAttempts()];case 1:i=l.sent(),a=t.request,Wt.isInstance(a)&&(a.headers["amz-sdk-invocation-id"]=(0,mn.v4)()),s=function(){var s,c,l,d,f;return pn(this,(function(h){switch(h.label){case 0:return h.trys.push([0,2,,5]),Wt.isInstance(a)&&(a.headers["amz-sdk-request"]="attempt="+(r+1)+"; max="+i),[4,e(t)];case 1:return s=h.sent(),c=s.response,l=s.output,u.retryQuota.releaseRetryTokens(n),l.$metadata.attempts=r+1,l.$metadata.totalRetryDelay=o,[2,{value:{response:c,output:l}}];case 2:return d=h.sent(),r++,u.shouldRetry(d,r,i)?(n=u.retryQuota.retrieveRetryTokens(d),f=u.delayDecider(Tn(d)?500:100,r),o+=f,[4,new Promise((function(e){return setTimeout(e,f)}))]):[3,4];case 3:return h.sent(),[2,"continue"];case 4:throw d.$metadata||(d.$metadata={}),d.$metadata.attempts=r,d.$metadata.totalRetryDelay=o,d;case 5:return[2]}}))},u=this,l.label=2;case 2:return[5,s()];case 3:return"object"==typeof(c=l.sent())?[2,c.value]:[3,2];case 4:return[2]}}))}))},e}(),Gn=function(e){var t=Wn(e.maxAttempts);return fn(fn({},e),{maxAttempts:t,retryStrategy:e.retryStrategy||new Hn(t)})},Wn=function(e){if(void 0===e&&(e=3),"number"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e};function $n(e){if("string"==typeof e){for(var t=e.length,n=t-1;n>=0;n--){var r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2)}return t}return"number"==typeof e.byteLength?e.byteLength:"number"==typeof e.size?e.size:void 0}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Yn(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Jn(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var Qn={};Qn=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){t.__esModule=!0,t.default=void 0;var r=n(18),o=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var o=e.getVersionPrecision(t),i=e.getVersionPrecision(n),a=Math.max(o,i),s=0,u=e.map([t,n],(function(t){var n=a-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(s=a-Math.min(o,i)),a-=1;a>=s;){if(u[0][a]>u[1][a])return 1;if(u[0][a]===u[1][a]){if(a===s)return 0;a-=1}else if(u[0][a]<u[1][a])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var o=e[n];if(t(o,n))return o}},e.assign=function(e){for(var t,n,r=e,o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];if(Object.assign)return Object.assign.apply(Object,[e].concat(i));var s=function(){var e=i[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){r[t]=e[t]}))};for(t=0,n=i.length;t<n;t+=1)s();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=o,e.exports=t.default},18:function(e,t,n){t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,o=(r=n(91))&&r.__esModule?r:{default:r},i=n(18);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){}var t;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new o.default(e,t)},e.parse=function(e){return new o.default(e).getResult()},(t=[{key:"BROWSER_MAP",get:function(){return i.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return i.ENGINE_MAP}},{key:"OS_MAP",get:function(){return i.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return i.PLATFORMS_MAP}}])&&a(e,t),e}();t.default=s,e.exports=t.default},91:function(e,t,n){t.__esModule=!0,t.default=void 0;var r=u(n(92)),o=u(n(93)),i=u(n(94)),a=u(n(95)),s=u(n(17));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=s.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=s.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=s.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=s.default.find(a.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return s.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,o={},i=0;if(Object.keys(e).forEach((function(t){var a=e[t];"string"==typeof a?(o[t]=a,i+=1):"object"==typeof a&&(n[t]=a,r+=1)})),r>0){var a=Object.keys(n),u=s.default.find(a,(function(e){return t.isOS(e)}));if(u){var c=this.satisfies(n[u]);if(void 0!==c)return c}var l=s.default.find(a,(function(e){return t.isPlatform(e)}));if(l){var d=this.satisfies(n[l]);if(void 0!==d)return d}}if(i>0){var f=Object.keys(o),h=s.default.find(f,(function(e){return t.isBrowser(e,!0)}));if(void 0!==h)return this.compareVersion(o[h])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),o=s.default.getBrowserTypeByAlias(r);return t&&o&&(r=o.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,o=this.getBrowserVersion();if("string"==typeof o)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(s.default.compareVersions(o,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=c,e.exports=t.default},92:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,o=(r=n(17))&&r.__esModule?r:{default:r},i=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=o.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=o.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=o.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=o.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=o.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=o.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=o.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=o.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=o.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=o.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=o.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=o.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=o.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=o.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=o.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=o.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=o.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=o.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=o.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=o.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=o.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=o.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=o.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=o.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=o.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=o.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=o.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:o.default.getFirstMatch(t,e),version:o.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,o=(r=n(17))&&r.__esModule?r:{default:r},i=n(18),a=[{test:[/Roku\/DVP/],describe:function(e){var t=o.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:i.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=o.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=o.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=o.default.getWindowsVersionName(t);return{name:i.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:i.OS_MAP.iOS},n=o.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=o.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=o.default.getMacOSVersionName(t),r={name:i.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=o.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:i.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=o.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=o.default.getAndroidVersionName(t),r={name:i.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=o.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:i.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=o.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||o.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||o.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:i.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=o.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=o.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:i.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:i.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=o.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.PlayStation4,version:t}}}];t.default=a,e.exports=t.default},94:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,o=(r=n(17))&&r.__esModule?r:{default:r},i=n(18),a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=o.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:i.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=o.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:i.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:i.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,o=(r=n(17))&&r.__esModule?r:{default:r},i=n(18),a=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:i.ENGINE_MAP.Blink};var t=o.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:i.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:i.ENGINE_MAP.Trident},n=o.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:i.ENGINE_MAP.Presto},n=o.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:i.ENGINE_MAP.Gecko},n=o.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:i.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:i.ENGINE_MAP.WebKit},n=o.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=a,e.exports=t.default}});var Zn=function(e){var t=e.serviceId,n=e.clientVersion;return function(){return Yn(void 0,void 0,void 0,(function(){var e,o,i,a,s,u,c,l,d;return Jn(this,(function(f){return e=(null===(i=null===window||void 0===window?void 0:window.navigator)||void 0===i?void 0:i.userAgent)?r(Qn).parse(window.navigator.userAgent):void 0,o=[["aws-sdk-js",n],["os/"+((null===(a=null==e?void 0:e.os)||void 0===a?void 0:a.name)||"other"),null===(s=null==e?void 0:e.os)||void 0===s?void 0:s.version],["lang/js"],["md/browser",(null!==(c=null===(u=null==e?void 0:e.browser)||void 0===u?void 0:u.name)&&void 0!==c?c:"unknown")+"_"+(null!==(d=null===(l=null==e?void 0:e.browser)||void 0===l?void 0:l.version)&&void 0!==d?d:"unknown")]],t&&o.push(["api/"+t,n]),[2,o]}))}))}},Xn=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192,63&o|128);else if(n+1<e.length&&55296==(64512&o)&&56320==(64512&e.charCodeAt(n+1))){var i=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n));t.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else t.push(o>>12|224,o>>6&63|128,63&o|128)}return Uint8Array.from(t)},er=function(e){for(var t="",n=0,r=e.length;n<r;n++){var o=e[n];if(o<128)t+=String.fromCharCode(o);else if(192<=o&&o<224){var i=e[++n];t+=String.fromCharCode((31&o)<<6|63&i)}else if(240<=o&&o<365){var a="%"+[o,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&o)<<12|(63&e[++n])<<6|63&e[++n])}return t};function tr(e){return(new TextEncoder).encode(e)}function nr(e){return new TextDecoder("utf-8").decode(e)}var rr=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),or=new Set(["cn-north-1","cn-northwest-1"]),ir=new Set(["us-iso-east-1"]),ar=new Set(["us-isob-east-1"]),sr=new Set(["us-gov-east-1","us-gov-west-1"]);function ur(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function cr(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function lr(e){var t,n,r={};if(e=e.replace(/^\?/,""))try{for(var o=ur(e.split("&")),i=o.next();!i.done;i=o.next()){var a=cr(i.value.split("="),2),s=a[0],u=a[1],c=void 0===u?null:u;s=decodeURIComponent(s),c&&(c=decodeURIComponent(c)),s in r?Array.isArray(r[s])?r[s].push(c):r[s]=[r[s],c]:r[s]=c}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}var dr=function(e){var t,n=new URL(e),r=n.hostname,o=n.pathname,i=n.port,a=n.protocol,s=n.search;return s&&(t=lr(s)),{hostname:r,port:i?parseInt(i):void 0,protocol:a,path:o,query:t}},fr={apiVersion:"2014-03-28",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;switch(e){case"af-south-1":n={hostname:"logs.af-south-1.amazonaws.com",partition:"aws"};break;case"ap-east-1":n={hostname:"logs.ap-east-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-1":n={hostname:"logs.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":n={hostname:"logs.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":n={hostname:"logs.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":n={hostname:"logs.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":n={hostname:"logs.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":n={hostname:"logs.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":n={hostname:"logs.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"cn-northwest-1":n={hostname:"logs.cn-northwest-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":n={hostname:"logs.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":n={hostname:"logs.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-south-1":n={hostname:"logs.eu-south-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":n={hostname:"logs.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":n={hostname:"logs.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":n={hostname:"logs.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-east-1":n={hostname:"logs-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-east-2":n={hostname:"logs-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"fips-us-west-1":n={hostname:"logs-fips.us-west-1.amazonaws.com",partition:"aws",signingRegion:"us-west-1"};break;case"fips-us-west-2":n={hostname:"logs-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"me-south-1":n={hostname:"logs.me-south-1.amazonaws.com",partition:"aws"};break;case"sa-east-1":n={hostname:"logs.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":n={hostname:"logs.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":n={hostname:"logs.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-east-1":n={hostname:"logs.us-gov-east-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-east-1"};break;case"us-gov-west-1":n={hostname:"logs.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"us-iso-east-1":n={hostname:"logs.us-iso-east-1.c2s.ic.gov",partition:"aws-iso"};break;case"us-isob-east-1":n={hostname:"logs.us-isob-east-1.sc2s.sgov.gov",partition:"aws-iso-b"};break;case"us-west-1":n={hostname:"logs.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":n={hostname:"logs.us-west-2.amazonaws.com",partition:"aws"};break;default:rr.has(e)&&(n={hostname:"logs.{region}.amazonaws.com".replace("{region}",e),partition:"aws"}),or.has(e)&&(n={hostname:"logs.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),ir.has(e)&&(n={hostname:"logs.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),ar.has(e)&&(n={hostname:"logs.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),sr.has(e)&&(n={hostname:"logs.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:"logs.{region}.amazonaws.com".replace("{region}",e),partition:"aws"})}return Promise.resolve(jt({signingService:"logs"},n))},serviceId:"CloudWatch Logs",urlParser:dr},hr=jt(jt({},fr),{runtime:"browser",base64Decoder:sn,base64Encoder:un,bodyLengthChecker:$n,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:Zn({serviceId:fr.serviceId,clientVersion:r(Lt).version}),maxAttempts:3,region:dn("Region is missing"),requestHandler:new Zt,sha256:Dt.Sha256,streamCollector:cn,utf8Decoder:function(e){return"function"==typeof TextEncoder?tr(e):Xn(e)},utf8Encoder:function(e){return"function"==typeof TextDecoder?nr(e):er(e)}});var pr=function(){return pr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},pr.apply(this,arguments)};function vr(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function gr(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var mr=function(e){var t;return pr(pr({},e),{tls:null===(t=e.tls)||void 0===t||t,endpoint:e.endpoint?yr(e):function(){return br(e)},isCustomEndpoint:!!e.endpoint})},yr=function(e){var t=e.endpoint,n=e.urlParser;if("string"==typeof t){var r=Promise.resolve(n(t));return function(){return r}}if("object"==typeof t){var o=Promise.resolve(t);return function(){return o}}return t},br=function(e){return vr(void 0,void 0,void 0,(function(){var t,n,r,o,i;return gr(this,(function(a){switch(a.label){case 0:return t=e.tls,n=void 0===t||t,[4,e.region()];case 1:if(r=a.sent(),!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");return[4,e.regionInfoProvider(r)];case 2:if(!(o=(null!==(i=a.sent())&&void 0!==i?i:{}).hostname))throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser((n?"https:":"http:")+"//"+o)]}}))}))},wr=function(e){if(!e.region)throw new Error("Region is missing");return pr(pr({},e),{region:Sr(e.region)})},Sr=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e};var xr=function(){return xr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},xr.apply(this,arguments)};function _r(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Er(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var Cr={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},kr=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return _r(t,void 0,void 0,(function(){var t,o,i,a,s;return Er(this,(function(u){return t=r.request,Wt.isInstance(t)&&(o=t.body,i=t.headers,o&&-1===Object.keys(i).map((function(e){return e.toLowerCase()})).indexOf("content-length")&&void 0!==(a=e(o))&&(t.headers=xr(xr({},t.headers),((s={})["content-length"]=String(a),s)))),[2,n(xr(xr({},r),{request:t}))]}))}))}}}(e.bodyLengthChecker),Cr)}}};function Ar(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Tr(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var Ir={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Nr=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return Ar(void 0,void 0,void 0,(function(){var r,o;return Tr(this,(function(i){return Wt.isInstance(n.request)?(r=n.request,(void 0===(o=(e.requestHandler.metadata||{}).handlerProtocol)?"":o).indexOf("h2")>=0&&!r.headers[":authority"]?(delete r.headers.host,r.headers[":authority"]=""):r.headers.host||(r.headers.host=r.hostname),[2,t(n)]):[2,t(n)]}))}))}}}(e),Ir)}}};function Or(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function Pr(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function jr(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var Rr=function(){return function(e,t){return function(n){return Pr(void 0,void 0,void 0,(function(){var r,o,i,a,s,u,c,l,d;return jr(this,(function(f){switch(f.label){case 0:return r=t.clientName,o=t.commandName,i=t.inputFilterSensitiveLog,a=t.logger,s=t.outputFilterSensitiveLog,[4,e(n)];case 1:return u=f.sent(),a?("function"==typeof a.info&&(c=u.output,l=c.$metadata,d=Or(c,["$metadata"]),a.info({clientName:r,commandName:o,input:i(n.input),output:s(d),metadata:l})),[2,u]):[2,u]}}))}))}}},Mr={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Ur=function(e){return{applyToStack:function(e){e.add(Rr(),Mr)}}};var Lr=function(){return Lr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Lr.apply(this,arguments)};function Dr(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Fr(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function Br(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var zr=function(){return zr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},zr.apply(this,arguments)};function Vr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function qr(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Kr(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function Hr(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gr(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function Wr(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Gr(arguments[t]));return e}var $r="X-Amz-Date".toLowerCase(),Yr=["authorization",$r,"date"],Jr="X-Amz-Signature".toLowerCase(),Qr="X-Amz-Security-Token".toLowerCase(),Zr={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Xr=/^proxy-/,eo=/^sec-/,to={},no=[];function ro(e,t,n){return e+"/"+t+"/"+n+"/aws4_request"}var oo=function(e,t,n,r,o){return qr(void 0,void 0,void 0,(function(){var i,a,s,u,c,l,d,f,h;return Kr(this,(function(p){switch(p.label){case 0:return[4,io(e,t.secretAccessKey,t.accessKeyId)];case 1:if(i=p.sent(),(a=n+":"+r+":"+o+":"+Ne(i)+":"+t.sessionToken)in to)return[2,to[a]];for(no.push(a);no.length>50;)delete to[no.shift()];s="AWS4"+t.secretAccessKey,p.label=2;case 2:p.trys.push([2,7,8,9]),u=Hr([n,r,o,"aws4_request"]),c=u.next(),p.label=3;case 3:return c.done?[3,6]:(l=c.value,[4,io(e,s,l)]);case 4:s=p.sent(),p.label=5;case 5:return c=u.next(),[3,3];case 6:return[3,9];case 7:return d=p.sent(),f={error:d},[3,9];case 8:try{c&&!c.done&&(h=u.return)&&h.call(u)}finally{if(f)throw f.error}return[7];case 9:return[2,to[a]=s]}}))}))};function io(e,t,n){var r=new e(t);return r.update(n),r.digest()}function ao(e,t,n){var r,o,i=e.headers,a={};try{for(var s=Hr(Object.keys(i).sort()),u=s.next();!u.done;u=s.next()){var c=u.value,l=c.toLowerCase();(l in Zr||(null==t?void 0:t.has(l))||Xr.test(l)||eo.test(l))&&(!n||n&&!n.has(l))||(a[l]=i[c].trim().replace(/\s+/g," "))}}catch(e){r={error:e}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return a}function so(e){var t,n,r=e.query,o=void 0===r?{}:r,i=[],a={},s=function(e){if(e.toLowerCase()===Jr)return"continue";i.push(e);var t=o[e];"string"==typeof t?a[e]=Yt(e)+"="+Yt(t):Array.isArray(t)&&(a[e]=t.slice(0).sort().reduce((function(t,n){return t.concat([Yt(e)+"="+Yt(n)])}),[]).join("&"))};try{for(var u=Hr(Object.keys(o).sort()),c=u.next();!c.done;c=u.next()){s(c.value)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return i.map((function(e){return a[e]})).filter((function(e){return e})).join("&")}function uo(e,t){var n=e.headers,r=e.body;return qr(this,void 0,void 0,(function(){var e,o,i,a,s,u,c;return Kr(this,(function(l){switch(l.label){case 0:try{for(e=Hr(Object.keys(n)),o=e.next();!o.done;o=e.next())if("x-amz-content-sha256"===(i=o.value).toLowerCase())return[2,n[i]]}catch(e){u={error:e}}finally{try{o&&!o.done&&(c=e.return)&&c.call(e)}finally{if(u)throw u.error}}return null!=r?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"==typeof r||ArrayBuffer.isView(r)||(d=r,"function"==typeof ArrayBuffer&&d instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(d))?((a=new t).update(r),s=Ne,[4,a.digest()]):[3,3];case 2:return[2,s.apply(void 0,[l.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}var d}))}))}function co(e,t){var n,r;e=e.toLowerCase();try{for(var o=Hr(Object.keys(t)),i=o.next();!i.done;i=o.next()){if(e===i.value.toLowerCase())return!0}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!1}function lo(e){var t=e.headers,n=e.query,r=Vr(e,["headers","query"]);return zr(zr({},r),{headers:zr({},t),query:n?fo(n):void 0})}function fo(e){return Object.keys(e).reduce((function(t,n){var r,o=e[n];return zr(zr({},t),((r={})[n]=Array.isArray(o)?Wr(o):o,r))}),{})}function ho(e,t){var n,r,o;void 0===t&&(t={});var i="function"==typeof e.clone?e.clone():lo(e),a=i.headers,s=i.query,u=void 0===s?{}:s;try{for(var c=Hr(Object.keys(a)),l=c.next();!l.done;l=c.next()){var d=l.value,f=d.toLowerCase();"x-amz-"!==f.substr(0,6)||(null===(o=t.unhoistableHeaders)||void 0===o?void 0:o.has(f))||(u[d]=a[d],delete a[d])}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return zr(zr({},e),{headers:a,query:u})}function po(e){var t,n;e="function"==typeof e.clone?e.clone():lo(e);try{for(var r=Hr(Object.keys(e.headers)),o=r.next();!o.done;o=r.next()){var i=o.value;Yr.indexOf(i.toLowerCase())>-1&&delete e.headers[i]}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e}function vo(e){return function(e){if("number"==typeof e)return new Date(1e3*e);if("string"==typeof e)return Number(e)?new Date(1e3*Number(e)):new Date(e);return e}(e).toISOString().replace(/\.\d{3}Z$/,"Z")}var go=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,o=e.service,i=e.sha256,a=e.uriEscapePath,s=void 0===a||a;this.service=o,this.sha256=i,this.uriEscapePath=s,this.applyChecksum="boolean"!=typeof t||t,this.regionProvider=bo(r),this.credentialProvider=wo(n)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),qr(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,d,f,h,p,v,g,m,y,b,w,S,x,_,E,C;return Kr(this,(function(k){switch(k.label){case 0:return n=t.signingDate,r=void 0===n?new Date:n,o=t.expiresIn,i=void 0===o?3600:o,a=t.unsignableHeaders,s=t.unhoistableHeaders,u=t.signableHeaders,c=t.signingRegion,l=t.signingService,[4,this.credentialProvider()];case 1:return d=k.sent(),null==c?[3,2]:(h=c,[3,4]);case 2:return[4,this.regionProvider()];case 3:h=k.sent(),k.label=4;case 4:return f=h,p=mo(r),v=p.longDate,g=p.shortDate,i>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(m=ro(g,f,null!=l?l:this.service),y=ho(po(e),{unhoistableHeaders:s}),d.sessionToken&&(y.query["X-Amz-Security-Token"]=d.sessionToken),y.query["X-Amz-Algorithm"]="AWS4-HMAC-SHA256",y.query["X-Amz-Credential"]=d.accessKeyId+"/"+m,y.query["X-Amz-Date"]=v,y.query["X-Amz-Expires"]=i.toString(10),b=ao(y,a,u),y.query["X-Amz-SignedHeaders"]=yo(b),w=y.query,S="X-Amz-Signature",x=this.getSignature,_=[v,m,this.getSigningKey(d,f,g,l)],E=this.createCanonicalRequest,C=[y,b],[4,uo(e,this.sha256)]);case 5:return[4,x.apply(this,_.concat([E.apply(this,C.concat([k.sent()]))]))];case 6:return w[S]=k.sent(),[2,y]}}))}))},e.prototype.sign=function(e,t){return qr(this,void 0,void 0,(function(){return Kr(this,(function(n){return"string"==typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var n=e.headers,r=e.payload,o=t.signingDate,i=void 0===o?new Date:o,a=t.priorSignature,s=t.signingRegion,u=t.signingService;return qr(this,void 0,void 0,(function(){var e,t,o,c,l,d,f,h,p,v,g;return Kr(this,(function(m){switch(m.label){case 0:return null==s?[3,1]:(t=s,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=m.sent(),m.label=3;case 3:return e=t,o=mo(i),c=o.shortDate,l=o.longDate,d=ro(c,e,null!=u?u:this.service),[4,uo({headers:{},body:r},this.sha256)];case 4:return f=m.sent(),(h=new this.sha256).update(n),v=Ne,[4,h.digest()];case 5:return p=v.apply(void 0,[m.sent()]),g=["AWS4-HMAC-SHA256-PAYLOAD",l,d,a,p,f].join("\n"),[2,this.signString(g,{signingDate:i,signingRegion:e,signingService:u})]}}))}))},e.prototype.signString=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,o=void 0===r?new Date:r,i=n.signingRegion,a=n.signingService;return qr(this,void 0,void 0,(function(){var t,n,r,s,u,c,l,d;return Kr(this,(function(f){switch(f.label){case 0:return[4,this.credentialProvider()];case 1:return t=f.sent(),null==i?[3,2]:(r=i,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=f.sent(),f.label=4;case 4:return n=r,s=mo(o).shortDate,l=(c=this.sha256).bind,[4,this.getSigningKey(t,n,s,a)];case 5:return(u=new(l.apply(c,[void 0,f.sent()]))).update(e),d=Ne,[4,u.digest()];case 6:return[2,d.apply(void 0,[f.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,o=void 0===r?new Date:r,i=n.signableHeaders,a=n.unsignableHeaders,s=n.signingRegion,u=n.signingService;return qr(this,void 0,void 0,(function(){var t,n,r,c,l,d,f,h,p,v,g;return Kr(this,(function(m){switch(m.label){case 0:return[4,this.credentialProvider()];case 1:return t=m.sent(),null==s?[3,2]:(r=s,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=m.sent(),m.label=4;case 4:return n=r,c=po(e),l=mo(o),d=l.longDate,f=l.shortDate,h=ro(f,n,null!=u?u:this.service),c.headers[$r]=d,t.sessionToken&&(c.headers[Qr]=t.sessionToken),[4,uo(c,this.sha256)];case 5:return p=m.sent(),!co("x-amz-content-sha256",c.headers)&&this.applyChecksum&&(c.headers["x-amz-content-sha256"]=p),v=ao(c,a,i),[4,this.getSignature(d,h,this.getSigningKey(t,n,f,u),this.createCanonicalRequest(c,v,p))];case 6:return g=m.sent(),c.headers.authorization="AWS4-HMAC-SHA256 Credential="+t.accessKeyId+"/"+h+", SignedHeaders="+yo(v)+", Signature="+g,[2,c]}}))}))},e.prototype.createCanonicalRequest=function(e,t,n){var r=Object.keys(t).sort();return e.method+"\n"+this.getCanonicalPath(e)+"\n"+so(e)+"\n"+r.map((function(e){return e+":"+t[e]})).join("\n")+"\n\n"+r.join(";")+"\n"+n},e.prototype.createStringToSign=function(e,t,n){return qr(this,void 0,void 0,(function(){var r,o;return Kr(this,(function(i){switch(i.label){case 0:return(r=new this.sha256).update(n),[4,r.digest()];case 1:return o=i.sent(),[2,"AWS4-HMAC-SHA256\n"+e+"\n"+t+"\n"+Ne(o)]}}))}))},e.prototype.getCanonicalPath=function(e){var t=e.path;return this.uriEscapePath?"/"+encodeURIComponent(t.replace(/^\//,"")).replace(/%2F/g,"/"):t},e.prototype.getSignature=function(e,t,n,r){return qr(this,void 0,void 0,(function(){var o,i,a,s,u;return Kr(this,(function(c){switch(c.label){case 0:return[4,this.createStringToSign(e,t,r)];case 1:return o=c.sent(),s=(a=this.sha256).bind,[4,n];case 2:return(i=new(s.apply(a,[void 0,c.sent()]))).update(o),u=Ne,[4,i.digest()];case 3:return[2,u.apply(void 0,[c.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,n,r){return oo(this.sha256,e,n,t,r||this.service)},e}(),mo=function(e){var t=vo(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.substr(0,8)}},yo=function(e){return Object.keys(e).sort().join(";")},bo=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},wo=function(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e};function So(e){var t,n=this,r=xo(e.credentials||e.credentialDefaultProvider(e)),o=e.signingEscapePath,i=void 0===o||o,a=e.systemClockOffset,s=void 0===a?e.systemClockOffset||0:a,u=e.sha256;return t=e.signer?xo(e.signer):function(){return xo(e.region)().then((function(t){return Dr(n,void 0,void 0,(function(){return Fr(this,(function(n){switch(n.label){case 0:return[4,e.regionInfoProvider(t)];case 1:return[2,[n.sent()||{},t]]}}))}))})).then((function(t){var n=Br(t,2),o=n[0],a=n[1],s=o.signingRegion,c=o.signingService;return e.signingRegion=e.signingRegion||s||a,e.signingName=e.signingName||c||e.serviceId,new go({credentials:r,region:e.signingRegion,service:e.signingName,sha256:u,uriEscapePath:i})}))},Lr(Lr({},e),{systemClockOffset:s,signingEscapePath:i,credentials:r,signer:t})}function xo(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}var _o=function(e){return new Date(Date.now()+e)};function Eo(e){return function(t,n){return function(r){return Dr(this,void 0,void 0,(function(){var o,i,a,s,u,c,l,d,f;return Fr(this,(function(h){switch(h.label){case 0:return Wt.isInstance(r.request)?"function"!=typeof e.signer?[3,2]:[4,e.signer()]:[2,t(r)];case 1:return i=h.sent(),[3,3];case 2:i=e.signer,h.label=3;case 3:return o=i,s=t,u=[Lr({},r)],f={},[4,o.sign(r.request,{signingDate:new Date(Date.now()+e.systemClockOffset),signingRegion:n.signing_region,signingService:n.signing_service})];case 4:return[4,s.apply(void 0,[Lr.apply(void 0,u.concat([(f.request=h.sent(),f)]))])];case 5:return a=h.sent(),c=a.response.headers,(l=c&&(c.date||c.Date))&&(d=Date.parse(l),p=d,v=e.systemClockOffset,Math.abs(_o(v).getTime()-p)>=3e5&&(e.systemClockOffset=d-Date.now())),[2,a]}var p,v}))}))}}}var Co={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},ko=function(e){return{applyToStack:function(t){t.addRelativeTo(Eo(e),Co)}}};var Ao=function(){return Ao=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ao.apply(this,arguments)};function To(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Io(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function No(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function Oo(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(No(arguments[t]));return e}function Po(e){return Ao(Ao({},e),{customUserAgent:"string"==typeof e.customUserAgent?[[e.customUserAgent]]:e.customUserAgent})}var jo=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,Ro=function(e){var t=No(e,2),n=t[0],r=t[1],o=n.indexOf("/"),i=n.substring(0,o),a=n.substring(o+1);return"api"===i&&(a=a.toLowerCase()),[i,a,r].filter((function(e){return e&&e.length>0})).map((function(e){return null==e?void 0:e.replace(jo,"_")})).join("/")},Mo={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Uo=function(e){return{applyToStack:function(t){var n;t.add((n=e,function(e,t){return function(r){return To(void 0,void 0,void 0,(function(){var o,i,a,s,u,c,l,d;return Io(this,(function(f){switch(f.label){case 0:return o=r.request,Wt.isInstance(o)?(i=o.headers,a=(null===(l=null==t?void 0:t.userAgent)||void 0===l?void 0:l.map(Ro))||[],[4,n.defaultUserAgentProvider()]):[2,e(r)];case 1:return s=f.sent().map(Ro),u=(null===(d=null==n?void 0:n.customUserAgent)||void 0===d?void 0:d.map(Ro))||[],i["x-amz-user-agent"]=Oo(s,a,u).join(" "),c=Oo(s.filter((function(e){return e.startsWith("aws-sdk-")})),u).join(" "),"browser"!==n.runtime&&c&&(i["user-agent"]=i["user-agent"]?i["user-agent"]+" "+c:c),[2,e(Ao(Ao({},r),{request:o}))]}}))}))}}),Mo)}}};var Lo=function(){return Lo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Lo.apply(this,arguments)};function Do(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fo(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function Bo(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Fo(arguments[t]));return e}var zo=function(){var e=[],t=[],n=new Set,r=function(n){return e.forEach((function(e){n.add(e.middleware,Lo({},e))})),t.forEach((function(e){n.addRelativeTo(e.middleware,Lo({},e))})),n},o=function(e){var t=[];return e.before.forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,Bo(o(e)))})),t.push(e),e.after.reverse().forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,Bo(o(e)))})),t},i=function(){var n,r=[],i=[],a={};return e.forEach((function(e){var t=Lo(Lo({},e),{before:[],after:[]});t.name&&(a[t.name]=t),r.push(t)})),t.forEach((function(e){var t=Lo(Lo({},e),{before:[],after:[]});t.name&&(a[t.name]=t),i.push(t)})),i.forEach((function(e){if(e.toMiddleware){var t=a[e.toMiddleware];if(void 0===t)throw new Error(e.toMiddleware+" is not found when adding "+(e.name||"anonymous")+" middleware "+e.relation+" "+e.toMiddleware);"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}})),(n=r,n.sort((function(e,t){return Vo[t.step]-Vo[e.step]||qo[t.priority||"normal"]-qo[e.priority||"normal"]}))).map(o).reduce((function(e,t){return e.push.apply(e,Bo(t)),e}),[]).map((function(e){return e.middleware}))},a={add:function(t,r){void 0===r&&(r={});var o=r.name,i=r.override,a=Lo({step:"initialize",priority:"normal",middleware:t},r);if(o){if(n.has(o)){if(!i)throw new Error("Duplicate middleware name '"+o+"'");var s=e.findIndex((function(e){return e.name===o})),u=e[s];if(u.step!==a.step||u.priority!==a.priority)throw new Error('"'+o+'" middleware with '+u.priority+" priority in "+u.step+" step cannot be overridden by same-name middleware with "+a.priority+" priority in "+a.step+" step.");e.splice(s,1)}n.add(o)}e.push(a)},addRelativeTo:function(e,r){var o=r.name,i=r.override,a=Lo({middleware:e},r);if(o){if(n.has(o)){if(!i)throw new Error("Duplicate middleware name '"+o+"'");var s=t.findIndex((function(e){return e.name===o})),u=t[s];if(u.toMiddleware!==a.toMiddleware||u.relation!==a.relation)throw new Error('"'+o+'" middleware '+u.relation+' "'+u.toMiddleware+'" middleware cannot be overridden by same-name middleware '+a.relation+' "'+a.toMiddleware+'" middleware.');t.splice(s,1)}n.add(o)}t.push(a)},clone:function(){return r(zo())},use:function(e){e.applyToStack(a)},remove:function(r){return"string"==typeof r?function(r){var o=!1,i=function(e){return!e.name||e.name!==r||(o=!0,n.delete(r),!1)};return e=e.filter(i),t=t.filter(i),o}(r):function(r){var o=!1,i=function(e){return e.middleware!==r||(o=!0,e.name&&n.delete(e.name),!1)};return e=e.filter(i),t=t.filter(i),o}(r)},removeByTag:function(r){var o=!1,i=function(e){var t=e.tags,i=e.name;return!t||!t.includes(r)||(i&&n.delete(i),o=!0,!1)};return e=e.filter(i),t=t.filter(i),o},concat:function(e){var t=r(zo());return t.use(e),t},applyToStack:r,resolve:function(e,t){var n,r;try{for(var o=Do(i().reverse()),a=o.next();!a.done;a=o.next()){e=(0,a.value)(e,t)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return e}};return a},Vo={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},qo={high:3,normal:2,low:1},Ko=function(){function e(e){this.middlewareStack=zo(),this.config=e}return e.prototype.send=function(e,t,n){var r="function"!=typeof t?t:void 0,o="function"==typeof t?t:n,i=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!o)return i(e).then((function(e){return e.output}));i(e).then((function(e){return o(null,e.output)}),(function(e){return o(e)})).catch((function(){}))},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),Ho=function(){this.middlewareStack=zo()};function Go(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16)}))}var Wo=function(e){return Array.isArray(e)?e:[e]},$o=function(e){for(var t in e)e.hasOwnProperty(t)&&void 0!==e[t]["#text"]?e[t]=e[t]["#text"]:"object"==typeof e[t]&&null!==e[t]&&(e[t]=$o(e[t]));return e},Yo=function(e,t){return(Yo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function Jo(e,t){function n(){this.constructor=e}Yo(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function Qo(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function Zo(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Qo(arguments[t]));return e}var Xo=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,Zo([null],arguments)),n=new t;return Object.setPrototypeOf(n,e.prototype),n};Xo.prototype=Object.create(String.prototype,{constructor:{value:Xo,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(Xo,String);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Jo(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"==typeof e?e:JSON.stringify(e))}}(Xo);var ei=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ti=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ni(e){var t=e.getUTCFullYear(),n=e.getUTCMonth(),r=e.getUTCDay(),o=e.getUTCDate(),i=e.getUTCHours(),a=e.getUTCMinutes(),s=e.getUTCSeconds();return ei[r]+", "+(o<10?"0"+o:""+o)+" "+ti[n]+" "+t+" "+(i<10?"0"+i:""+i)+":"+(a<10?"0"+a:""+a)+":"+(s<10?"0"+s:""+s)+" GMT"}var ri,oi,ii,ai,si,ui,ci,li,di,fi,hi,pi,vi,gi,mi,yi,bi,wi,Si,xi,_i,Ei,Ci,ki,Ai,Ti,Ii,Ni,Oi,Pi,ji,Ri,Mi,Ui,Li,Di,Fi,Bi,zi,Vi,qi,Ki,Hi,Gi,Wi,$i,Yi,Ji,Qi,Zi,Xi,ea,ta,na,ra,oa,ia,aa,sa,ua,ca,la,da,fa,ha,pa,va,ga,ma,ya,ba,wa,Sa,xa,_a,Ea,Ca,ka,Aa,Ta,Ia,Na,Oa,Pa,ja,Ra,Ma,Ua,La,Da,Fa,Ba,za,Va,qa,Ka,Ha,Ga,Wa,$a,Ya,Ja,Qa,Za,Xa,es,ts,ns,rs=function(e){function t(t){var n=this,r=jt(jt({},hr),t),o=wr(r),i=So(mr(o)),a=Po(Gn(i));return(n=e.call(this,a)||this).config=a,n.middlewareStack.use(ko(n.config)),n.middlewareStack.use(Sn(n.config)),n.middlewareStack.use(kr(n.config)),n.middlewareStack.use(Nr(n.config)),n.middlewareStack.use(Ur(n.config)),n.middlewareStack.use(Uo(n.config)),n}return Pt(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(Ko);(ri||(ri={})).filterSensitiveLog=function(e){return jt({},e)},(oi||(oi={})).filterSensitiveLog=function(e){return jt({},e)},(ii||(ii={})).filterSensitiveLog=function(e){return jt({},e)},(ai||(ai={})).filterSensitiveLog=function(e){return jt({},e)},(si||(si={})).filterSensitiveLog=function(e){return jt({},e)},(ui||(ui={})).filterSensitiveLog=function(e){return jt({},e)},(ci||(ci={})).filterSensitiveLog=function(e){return jt({},e)},(li||(li={})).filterSensitiveLog=function(e){return jt({},e)},(di||(di={})).filterSensitiveLog=function(e){return jt({},e)},(fi||(fi={})).filterSensitiveLog=function(e){return jt({},e)},(hi||(hi={})).filterSensitiveLog=function(e){return jt({},e)},(pi||(pi={})).filterSensitiveLog=function(e){return jt({},e)},(vi||(vi={})).filterSensitiveLog=function(e){return jt({},e)},(gi||(gi={})).filterSensitiveLog=function(e){return jt({},e)},(mi||(mi={})).filterSensitiveLog=function(e){return jt({},e)},(yi||(yi={})).filterSensitiveLog=function(e){return jt({},e)},(bi||(bi={})).filterSensitiveLog=function(e){return jt({},e)},(wi||(wi={})).filterSensitiveLog=function(e){return jt({},e)},(Si||(Si={})).filterSensitiveLog=function(e){return jt({},e)},(xi||(xi={})).filterSensitiveLog=function(e){return jt({},e)},(_i||(_i={})).filterSensitiveLog=function(e){return jt({},e)},(Ei||(Ei={})).filterSensitiveLog=function(e){return jt({},e)},(Ci||(Ci={})).filterSensitiveLog=function(e){return jt({},e)},(ki||(ki={})).filterSensitiveLog=function(e){return jt({},e)},(Ai||(Ai={})).filterSensitiveLog=function(e){return jt({},e)},(Ti||(Ti={})).filterSensitiveLog=function(e){return jt({},e)},(Ni=Ii||(Ii={})).CANCELLED="CANCELLED",Ni.COMPLETED="COMPLETED",Ni.FAILED="FAILED",Ni.PENDING="PENDING",Ni.PENDING_CANCEL="PENDING_CANCEL",Ni.RUNNING="RUNNING",(Oi||(Oi={})).filterSensitiveLog=function(e){return jt({},e)},(Pi||(Pi={})).filterSensitiveLog=function(e){return jt({},e)},(ji||(ji={})).filterSensitiveLog=function(e){return jt({},e)},(Ri||(Ri={})).filterSensitiveLog=function(e){return jt({},e)},(Mi||(Mi={})).filterSensitiveLog=function(e){return jt({},e)},(Ui||(Ui={})).filterSensitiveLog=function(e){return jt({},e)},(Li||(Li={})).filterSensitiveLog=function(e){return jt({},e)},(Di||(Di={})).filterSensitiveLog=function(e){return jt({},e)},(Bi=Fi||(Fi={})).LastEventTime="LastEventTime",Bi.LogStreamName="LogStreamName",(zi||(zi={})).filterSensitiveLog=function(e){return jt({},e)},(Vi||(Vi={})).filterSensitiveLog=function(e){return jt({},e)},(qi||(qi={})).filterSensitiveLog=function(e){return jt({},e)},(Ki||(Ki={})).filterSensitiveLog=function(e){return jt({},e)},(Hi||(Hi={})).filterSensitiveLog=function(e){return jt({},e)},(Gi||(Gi={})).filterSensitiveLog=function(e){return jt({},e)},(Wi||(Wi={})).filterSensitiveLog=function(e){return jt({},e)},(Yi=$i||($i={})).Cancelled="Cancelled",Yi.Complete="Complete",Yi.Failed="Failed",Yi.Running="Running",Yi.Scheduled="Scheduled",(Ji||(Ji={})).filterSensitiveLog=function(e){return jt({},e)},(Qi||(Qi={})).filterSensitiveLog=function(e){return jt({},e)},(Zi||(Zi={})).filterSensitiveLog=function(e){return jt({},e)},(Xi||(Xi={})).filterSensitiveLog=function(e){return jt({},e)},(ea||(ea={})).filterSensitiveLog=function(e){return jt({},e)},(ta||(ta={})).filterSensitiveLog=function(e){return jt({},e)},(na||(na={})).filterSensitiveLog=function(e){return jt({},e)},(ra||(ra={})).filterSensitiveLog=function(e){return jt({},e)},(oa||(oa={})).filterSensitiveLog=function(e){return jt({},e)},(ia||(ia={})).filterSensitiveLog=function(e){return jt({},e)},(sa=aa||(aa={})).ByLogStream="ByLogStream",sa.Random="Random",(ua||(ua={})).filterSensitiveLog=function(e){return jt({},e)},(ca||(ca={})).filterSensitiveLog=function(e){return jt({},e)},(la||(la={})).filterSensitiveLog=function(e){return jt({},e)},(da||(da={})).filterSensitiveLog=function(e){return jt({},e)},(fa||(fa={})).filterSensitiveLog=function(e){return jt({},e)},(ha||(ha={})).filterSensitiveLog=function(e){return jt({},e)},(pa||(pa={})).filterSensitiveLog=function(e){return jt({},e)},(va||(va={})).filterSensitiveLog=function(e){return jt({},e)},(ga||(ga={})).filterSensitiveLog=function(e){return jt({},e)},(ma||(ma={})).filterSensitiveLog=function(e){return jt({},e)},(ya||(ya={})).filterSensitiveLog=function(e){return jt({},e)},(ba||(ba={})).filterSensitiveLog=function(e){return jt({},e)},(wa||(wa={})).filterSensitiveLog=function(e){return jt({},e)},(Sa||(Sa={})).filterSensitiveLog=function(e){return jt({},e)},(xa||(xa={})).filterSensitiveLog=function(e){return jt({},e)},(_a||(_a={})).filterSensitiveLog=function(e){return jt({},e)},(Ea||(Ea={})).filterSensitiveLog=function(e){return jt({},e)},(Ca||(Ca={})).filterSensitiveLog=function(e){return jt({},e)},(ka||(ka={})).filterSensitiveLog=function(e){return jt({},e)},(Aa||(Aa={})).filterSensitiveLog=function(e){return jt({},e)},(Ta||(Ta={})).filterSensitiveLog=function(e){return jt({},e)},(Ia||(Ia={})).filterSensitiveLog=function(e){return jt({},e)},(Na||(Na={})).filterSensitiveLog=function(e){return jt({},e)},(Oa||(Oa={})).filterSensitiveLog=function(e){return jt({},e)},(Pa||(Pa={})).filterSensitiveLog=function(e){return jt({},e)},(ja||(ja={})).filterSensitiveLog=function(e){return jt({},e)},(Ra||(Ra={})).filterSensitiveLog=function(e){return jt({},e)},(Ma||(Ma={})).filterSensitiveLog=function(e){return jt({},e)},(Ua||(Ua={})).filterSensitiveLog=function(e){return jt({},e)},(La||(La={})).filterSensitiveLog=function(e){return jt({},e)},(Da||(Da={})).filterSensitiveLog=function(e){return jt({},e)},(Fa||(Fa={})).filterSensitiveLog=function(e){return jt({},e)},(Ba||(Ba={})).filterSensitiveLog=function(e){return jt({},e)},(za||(za={})).filterSensitiveLog=function(e){return jt({},e)},(Va||(Va={})).filterSensitiveLog=function(e){return jt({},e)},(qa||(qa={})).filterSensitiveLog=function(e){return jt({},e)},(Ka||(Ka={})).filterSensitiveLog=function(e){return jt({},e)},(Ha||(Ha={})).filterSensitiveLog=function(e){return jt({},e)},(Ga||(Ga={})).filterSensitiveLog=function(e){return jt({},e)},(Wa||(Wa={})).filterSensitiveLog=function(e){return jt({},e)},($a||($a={})).filterSensitiveLog=function(e){return jt({},e)},(Ya||(Ya={})).filterSensitiveLog=function(e){return jt({},e)},(Ja||(Ja={})).filterSensitiveLog=function(e){return jt({},e)},(Qa||(Qa={})).filterSensitiveLog=function(e){return jt({},e)},(Za||(Za={})).filterSensitiveLog=function(e){return jt({},e)},(Xa||(Xa={})).filterSensitiveLog=function(e){return jt({},e)},(es||(es={})).filterSensitiveLog=function(e){return jt({},e)},(ts||(ts={})).filterSensitiveLog=function(e){return jt({},e)},(ns||(ns={})).filterSensitiveLog=function(e){return jt({},e)};var os=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r;return Mt(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.CreateLogGroup"},r=JSON.stringify(Os(e,t)),[2,ou(t,n,"/",void 0,r)]}))}))},is=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r;return Mt(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.CreateLogStream"},r=JSON.stringify(Ps(e,t)),[2,ou(t,n,"/",void 0,r)]}))}))},as=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r;return Mt(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DescribeLogGroups"},r=JSON.stringify(js(e,t)),[2,ou(t,n,"/",void 0,r)]}))}))},ss=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r;return Mt(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DescribeLogStreams"},r=JSON.stringify(Rs(e,t)),[2,ou(t,n,"/",void 0,r)]}))}))},us=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r;return Mt(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.GetLogEvents"},r=JSON.stringify(Ms(e,t)),[2,ou(t,n,"/",void 0,r)]}))}))},cs=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r;return Mt(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.PutLogEvents"},r=JSON.stringify(Ls(e,t)),[2,ou(t,n,"/",void 0,r)]}))}))},ls=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n;return Mt(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,ds(e,t)]:[4,ru(e.body,t)];case 1:return r.sent(),n={$metadata:nu(e)},[2,Promise.resolve(n)]}}))}))},ds=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,d,f,h;return Mt(this,(function(p){switch(p.label){case 0:return r=[jt({},e)],h={},[4,iu(e.body,t)];case 1:switch(n=jt.apply(void 0,r.concat([(h.body=p.sent(),h)])),i="UnknownError",i=au(e,n.body),i){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"LimitExceededException":case"com.amazonaws.cloudwatchlogs#LimitExceededException":return[3,4];case"OperationAbortedException":case"com.amazonaws.cloudwatchlogs#OperationAbortedException":return[3,6];case"ResourceAlreadyExistsException":case"com.amazonaws.cloudwatchlogs#ResourceAlreadyExistsException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,10]}return[3,12];case 2:return a=[{}],[4,_s(n,t)];case 3:return o=jt.apply(void 0,[jt.apply(void 0,a.concat([p.sent()])),{name:i,$metadata:nu(e)}]),[3,13];case 4:return s=[{}],[4,Cs(n,t)];case 5:return o=jt.apply(void 0,[jt.apply(void 0,s.concat([p.sent()])),{name:i,$metadata:nu(e)}]),[3,13];case 6:return u=[{}],[4,ks(n,t)];case 7:return o=jt.apply(void 0,[jt.apply(void 0,u.concat([p.sent()])),{name:i,$metadata:nu(e)}]),[3,13];case 8:return c=[{}],[4,As(n,t)];case 9:return o=jt.apply(void 0,[jt.apply(void 0,c.concat([p.sent()])),{name:i,$metadata:nu(e)}]),[3,13];case 10:return l=[{}],[4,Is(n,t)];case 11:return o=jt.apply(void 0,[jt.apply(void 0,l.concat([p.sent()])),{name:i,$metadata:nu(e)}]),[3,13];case 12:d=n.body,i=d.code||d.Code||i,o=jt(jt({},d),{name:""+i,message:d.message||d.Message||i,$fault:"client",$metadata:nu(e)}),p.label=13;case 13:return f=o.message||o.Message||i,o.message=f,delete o.Message,[2,Promise.reject(Object.assign(new Error(f),o))]}}))}))},fs=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n;return Mt(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,hs(e,t)]:[4,ru(e.body,t)];case 1:return r.sent(),n={$metadata:nu(e)},[2,Promise.resolve(n)]}}))}))},hs=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,d,f;return Mt(this,(function(h){switch(h.label){case 0:return r=[jt({},e)],f={},[4,iu(e.body,t)];case 1:switch(n=jt.apply(void 0,r.concat([(f.body=h.sent(),f)])),i="UnknownError",i=au(e,n.body),i){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ResourceAlreadyExistsException":case"com.amazonaws.cloudwatchlogs#ResourceAlreadyExistsException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,8]}return[3,10];case 2:return a=[{}],[4,_s(n,t)];case 3:return o=jt.apply(void 0,[jt.apply(void 0,a.concat([h.sent()])),{name:i,$metadata:nu(e)}]),[3,11];case 4:return s=[{}],[4,As(n,t)];case 5:return o=jt.apply(void 0,[jt.apply(void 0,s.concat([h.sent()])),{name:i,$metadata:nu(e)}]),[3,11];case 6:return u=[{}],[4,Ts(n,t)];case 7:return o=jt.apply(void 0,[jt.apply(void 0,u.concat([h.sent()])),{name:i,$metadata:nu(e)}]),[3,11];case 8:return c=[{}],[4,Is(n,t)];case 9:return o=jt.apply(void 0,[jt.apply(void 0,c.concat([h.sent()])),{name:i,$metadata:nu(e)}]),[3,11];case 10:l=n.body,i=l.code||l.Code||i,o=jt(jt({},l),{name:""+i,message:l.message||l.Message||i,$fault:"client",$metadata:nu(e)}),h.label=11;case 11:return d=o.message||o.Message||i,o.message=d,delete o.Message,[2,Promise.reject(Object.assign(new Error(d),o))]}}))}))},ps=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r,o;return Mt(this,(function(i){switch(i.label){case 0:return e.statusCode>=300?[2,vs(e,t)]:[4,iu(e.body,t)];case 1:return n=i.sent(),{},r=Bs(n,t),o=jt({$metadata:nu(e)},r),[2,Promise.resolve(o)]}}))}))},vs=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l;return Mt(this,(function(d){switch(d.label){case 0:return r=[jt({},e)],l={},[4,iu(e.body,t)];case 1:switch(n=jt.apply(void 0,r.concat([(l.body=d.sent(),l)])),i="UnknownError",i=au(e,n.body),i){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,4]}return[3,6];case 2:return a=[{}],[4,_s(n,t)];case 3:return o=jt.apply(void 0,[jt.apply(void 0,a.concat([d.sent()])),{name:i,$metadata:nu(e)}]),[3,7];case 4:return s=[{}],[4,Is(n,t)];case 5:return o=jt.apply(void 0,[jt.apply(void 0,s.concat([d.sent()])),{name:i,$metadata:nu(e)}]),[3,7];case 6:u=n.body,i=u.code||u.Code||i,o=jt(jt({},u),{name:""+i,message:u.message||u.Message||i,$fault:"client",$metadata:nu(e)}),d.label=7;case 7:return c=o.message||o.Message||i,o.message=c,delete o.Message,[2,Promise.reject(Object.assign(new Error(c),o))]}}))}))},gs=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r,o;return Mt(this,(function(i){switch(i.label){case 0:return e.statusCode>=300?[2,ms(e,t)]:[4,iu(e.body,t)];case 1:return n=i.sent(),{},r=zs(n,t),o=jt({$metadata:nu(e)},r),[2,Promise.resolve(o)]}}))}))},ms=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,d;return Mt(this,(function(f){switch(f.label){case 0:return r=[jt({},e)],d={},[4,iu(e.body,t)];case 1:switch(n=jt.apply(void 0,r.concat([(d.body=f.sent(),d)])),i="UnknownError",i=au(e,n.body),i){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,4];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,6]}return[3,8];case 2:return a=[{}],[4,_s(n,t)];case 3:return o=jt.apply(void 0,[jt.apply(void 0,a.concat([f.sent()])),{name:i,$metadata:nu(e)}]),[3,9];case 4:return s=[{}],[4,Ts(n,t)];case 5:return o=jt.apply(void 0,[jt.apply(void 0,s.concat([f.sent()])),{name:i,$metadata:nu(e)}]),[3,9];case 6:return u=[{}],[4,Is(n,t)];case 7:return o=jt.apply(void 0,[jt.apply(void 0,u.concat([f.sent()])),{name:i,$metadata:nu(e)}]),[3,9];case 8:c=n.body,i=c.code||c.Code||i,o=jt(jt({},c),{name:""+i,message:c.message||c.Message||i,$fault:"client",$metadata:nu(e)}),f.label=9;case 9:return l=o.message||o.Message||i,o.message=l,delete o.Message,[2,Promise.reject(Object.assign(new Error(l),o))]}}))}))},ys=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r,o;return Mt(this,(function(i){switch(i.label){case 0:return e.statusCode>=300?[2,bs(e,t)]:[4,iu(e.body,t)];case 1:return n=i.sent(),{},r=Vs(n,t),o=jt({$metadata:nu(e)},r),[2,Promise.resolve(o)]}}))}))},bs=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,d;return Mt(this,(function(f){switch(f.label){case 0:return r=[jt({},e)],d={},[4,iu(e.body,t)];case 1:switch(n=jt.apply(void 0,r.concat([(d.body=f.sent(),d)])),i="UnknownError",i=au(e,n.body),i){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,4];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,6]}return[3,8];case 2:return a=[{}],[4,_s(n,t)];case 3:return o=jt.apply(void 0,[jt.apply(void 0,a.concat([f.sent()])),{name:i,$metadata:nu(e)}]),[3,9];case 4:return s=[{}],[4,Ts(n,t)];case 5:return o=jt.apply(void 0,[jt.apply(void 0,s.concat([f.sent()])),{name:i,$metadata:nu(e)}]),[3,9];case 6:return u=[{}],[4,Is(n,t)];case 7:return o=jt.apply(void 0,[jt.apply(void 0,u.concat([f.sent()])),{name:i,$metadata:nu(e)}]),[3,9];case 8:c=n.body,i=c.code||c.Code||i,o=jt(jt({},c),{name:""+i,message:c.message||c.Message||i,$fault:"client",$metadata:nu(e)}),f.label=9;case 9:return l=o.message||o.Message||i,o.message=l,delete o.Message,[2,Promise.reject(Object.assign(new Error(l),o))]}}))}))},ws=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r,o;return Mt(this,(function(i){switch(i.label){case 0:return e.statusCode>=300?[2,Ss(e,t)]:[4,iu(e.body,t)];case 1:return n=i.sent(),{},r=Js(n,t),o=jt({$metadata:nu(e)},r),[2,Promise.resolve(o)]}}))}))},Ss=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,d,f,h,p;return Mt(this,(function(v){switch(v.label){case 0:return r=[jt({},e)],p={},[4,iu(e.body,t)];case 1:switch(n=jt.apply(void 0,r.concat([(p.body=v.sent(),p)])),i="UnknownError",i=au(e,n.body),i){case"DataAlreadyAcceptedException":case"com.amazonaws.cloudwatchlogs#DataAlreadyAcceptedException":return[3,2];case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,4];case"InvalidSequenceTokenException":case"com.amazonaws.cloudwatchlogs#InvalidSequenceTokenException":return[3,6];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,10];case"UnrecognizedClientException":case"com.amazonaws.cloudwatchlogs#UnrecognizedClientException":return[3,12]}return[3,14];case 2:return a=[{}],[4,xs(n,t)];case 3:return o=jt.apply(void 0,[jt.apply(void 0,a.concat([v.sent()])),{name:i,$metadata:nu(e)}]),[3,15];case 4:return s=[{}],[4,_s(n,t)];case 5:return o=jt.apply(void 0,[jt.apply(void 0,s.concat([v.sent()])),{name:i,$metadata:nu(e)}]),[3,15];case 6:return u=[{}],[4,Es(n,t)];case 7:return o=jt.apply(void 0,[jt.apply(void 0,u.concat([v.sent()])),{name:i,$metadata:nu(e)}]),[3,15];case 8:return c=[{}],[4,Ts(n,t)];case 9:return o=jt.apply(void 0,[jt.apply(void 0,c.concat([v.sent()])),{name:i,$metadata:nu(e)}]),[3,15];case 10:return l=[{}],[4,Is(n,t)];case 11:return o=jt.apply(void 0,[jt.apply(void 0,l.concat([v.sent()])),{name:i,$metadata:nu(e)}]),[3,15];case 12:return d=[{}],[4,Ns(n,t)];case 13:return o=jt.apply(void 0,[jt.apply(void 0,d.concat([v.sent()])),{name:i,$metadata:nu(e)}]),[3,15];case 14:f=n.body,i=f.code||f.Code||i,o=jt(jt({},f),{name:""+i,message:f.message||f.Message||i,$fault:"client",$metadata:nu(e)}),v.label=15;case 15:return h=o.message||o.Message||i,o.message=h,delete o.Message,[2,Promise.reject(Object.assign(new Error(h),o))]}}))}))},xs=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r;return Mt(this,(function(o){return n=e.body,r=Fs(n,t),[2,jt({name:"DataAlreadyAcceptedException",$fault:"client",$metadata:nu(e)},r)]}))}))},_s=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r;return Mt(this,(function(o){return n=e.body,r=qs(n,t),[2,jt({name:"InvalidParameterException",$fault:"client",$metadata:nu(e)},r)]}))}))},Es=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r;return Mt(this,(function(o){return n=e.body,r=Ks(n,t),[2,jt({name:"InvalidSequenceTokenException",$fault:"client",$metadata:nu(e)},r)]}))}))},Cs=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r;return Mt(this,(function(o){return n=e.body,r=Hs(n,t),[2,jt({name:"LimitExceededException",$fault:"client",$metadata:nu(e)},r)]}))}))},ks=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r;return Mt(this,(function(o){return n=e.body,r=$s(n,t),[2,jt({name:"OperationAbortedException",$fault:"client",$metadata:nu(e)},r)]}))}))},As=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r;return Mt(this,(function(o){return n=e.body,r=Zs(n,t),[2,jt({name:"ResourceAlreadyExistsException",$fault:"client",$metadata:nu(e)},r)]}))}))},Ts=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r;return Mt(this,(function(o){return n=e.body,r=Xs(n,t),[2,jt({name:"ResourceNotFoundException",$fault:"client",$metadata:nu(e)},r)]}))}))},Is=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r;return Mt(this,(function(o){return n=e.body,r=eu(n,t),[2,jt({name:"ServiceUnavailableException",$fault:"server",$metadata:nu(e)},r)]}))}))},Ns=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r;return Mt(this,(function(o){return n=e.body,r=tu(n,t),[2,jt({name:"UnrecognizedClientException",$fault:"client",$metadata:nu(e)},r)]}))}))},Os=function(e,t){return jt(jt(jt({},void 0!==e.kmsKeyId&&null!==e.kmsKeyId&&{kmsKeyId:e.kmsKeyId}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.tags&&null!==e.tags&&{tags:Ds(e.tags,t)})},Ps=function(e,t){return jt(jt({},void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.logStreamName&&null!==e.logStreamName&&{logStreamName:e.logStreamName})},js=function(e,t){return jt(jt(jt({},void 0!==e.limit&&null!==e.limit&&{limit:e.limit}),void 0!==e.logGroupNamePrefix&&null!==e.logGroupNamePrefix&&{logGroupNamePrefix:e.logGroupNamePrefix}),void 0!==e.nextToken&&null!==e.nextToken&&{nextToken:e.nextToken})},Rs=function(e,t){return jt(jt(jt(jt(jt(jt({},void 0!==e.descending&&null!==e.descending&&{descending:e.descending}),void 0!==e.limit&&null!==e.limit&&{limit:e.limit}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.logStreamNamePrefix&&null!==e.logStreamNamePrefix&&{logStreamNamePrefix:e.logStreamNamePrefix}),void 0!==e.nextToken&&null!==e.nextToken&&{nextToken:e.nextToken}),void 0!==e.orderBy&&null!==e.orderBy&&{orderBy:e.orderBy})},Ms=function(e,t){return jt(jt(jt(jt(jt(jt(jt({},void 0!==e.endTime&&null!==e.endTime&&{endTime:e.endTime}),void 0!==e.limit&&null!==e.limit&&{limit:e.limit}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.logStreamName&&null!==e.logStreamName&&{logStreamName:e.logStreamName}),void 0!==e.nextToken&&null!==e.nextToken&&{nextToken:e.nextToken}),void 0!==e.startFromHead&&null!==e.startFromHead&&{startFromHead:e.startFromHead}),void 0!==e.startTime&&null!==e.startTime&&{startTime:e.startTime})},Us=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return jt(jt({},void 0!==e.message&&null!==e.message&&{message:e.message}),void 0!==e.timestamp&&null!==e.timestamp&&{timestamp:e.timestamp})}(e)}))},Ls=function(e,t){return jt(jt(jt(jt({},void 0!==e.logEvents&&null!==e.logEvents&&{logEvents:Us(e.logEvents)}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.logStreamName&&null!==e.logStreamName&&{logStreamName:e.logStreamName}),void 0!==e.sequenceToken&&null!==e.sequenceToken&&{sequenceToken:e.sequenceToken})},Ds=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=Ut(t,2),o=r[0],i=r[1];return null===i?e:jt(jt({},e),((n={})[o]=i,n))}),{})},Fs=function(e,t){return{expectedSequenceToken:void 0!==e.expectedSequenceToken&&null!==e.expectedSequenceToken?e.expectedSequenceToken:void 0,message:void 0!==e.message&&null!==e.message?e.message:void 0}},Bs=function(e,t){return{logGroups:void 0!==e.logGroups&&null!==e.logGroups?Gs(e.logGroups,t):void 0,nextToken:void 0!==e.nextToken&&null!==e.nextToken?e.nextToken:void 0}},zs=function(e,t){return{logStreams:void 0!==e.logStreams&&null!==e.logStreams?Ws(e.logStreams,t):void 0,nextToken:void 0!==e.nextToken&&null!==e.nextToken?e.nextToken:void 0}},Vs=function(e,t){return{events:void 0!==e.events&&null!==e.events?Ys(e.events,t):void 0,nextBackwardToken:void 0!==e.nextBackwardToken&&null!==e.nextBackwardToken?e.nextBackwardToken:void 0,nextForwardToken:void 0!==e.nextForwardToken&&null!==e.nextForwardToken?e.nextForwardToken:void 0}},qs=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Ks=function(e,t){return{expectedSequenceToken:void 0!==e.expectedSequenceToken&&null!==e.expectedSequenceToken?e.expectedSequenceToken:void 0,message:void 0!==e.message&&null!==e.message?e.message:void 0}},Hs=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Gs=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{arn:void 0!==e.arn&&null!==e.arn?e.arn:void 0,creationTime:void 0!==e.creationTime&&null!==e.creationTime?e.creationTime:void 0,kmsKeyId:void 0!==e.kmsKeyId&&null!==e.kmsKeyId?e.kmsKeyId:void 0,logGroupName:void 0!==e.logGroupName&&null!==e.logGroupName?e.logGroupName:void 0,metricFilterCount:void 0!==e.metricFilterCount&&null!==e.metricFilterCount?e.metricFilterCount:void 0,retentionInDays:void 0!==e.retentionInDays&&null!==e.retentionInDays?e.retentionInDays:void 0,storedBytes:void 0!==e.storedBytes&&null!==e.storedBytes?e.storedBytes:void 0}}(e)}))},Ws=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{arn:void 0!==e.arn&&null!==e.arn?e.arn:void 0,creationTime:void 0!==e.creationTime&&null!==e.creationTime?e.creationTime:void 0,firstEventTimestamp:void 0!==e.firstEventTimestamp&&null!==e.firstEventTimestamp?e.firstEventTimestamp:void 0,lastEventTimestamp:void 0!==e.lastEventTimestamp&&null!==e.lastEventTimestamp?e.lastEventTimestamp:void 0,lastIngestionTime:void 0!==e.lastIngestionTime&&null!==e.lastIngestionTime?e.lastIngestionTime:void 0,logStreamName:void 0!==e.logStreamName&&null!==e.logStreamName?e.logStreamName:void 0,storedBytes:void 0!==e.storedBytes&&null!==e.storedBytes?e.storedBytes:void 0,uploadSequenceToken:void 0!==e.uploadSequenceToken&&null!==e.uploadSequenceToken?e.uploadSequenceToken:void 0}}(e)}))},$s=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Ys=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{ingestionTime:void 0!==e.ingestionTime&&null!==e.ingestionTime?e.ingestionTime:void 0,message:void 0!==e.message&&null!==e.message?e.message:void 0,timestamp:void 0!==e.timestamp&&null!==e.timestamp?e.timestamp:void 0}}(e)}))},Js=function(e,t){return{nextSequenceToken:void 0!==e.nextSequenceToken&&null!==e.nextSequenceToken?e.nextSequenceToken:void 0,rejectedLogEventsInfo:void 0!==e.rejectedLogEventsInfo&&null!==e.rejectedLogEventsInfo?Qs(e.rejectedLogEventsInfo,t):void 0}},Qs=function(e,t){return{expiredLogEventEndIndex:void 0!==e.expiredLogEventEndIndex&&null!==e.expiredLogEventEndIndex?e.expiredLogEventEndIndex:void 0,tooNewLogEventStartIndex:void 0!==e.tooNewLogEventStartIndex&&null!==e.tooNewLogEventStartIndex?e.tooNewLogEventStartIndex:void 0,tooOldLogEventEndIndex:void 0!==e.tooOldLogEventEndIndex&&null!==e.tooOldLogEventEndIndex?e.tooOldLogEventEndIndex:void 0}},Zs=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Xs=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},eu=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},tu=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},nu=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},ru=function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},ou=function(e,t,n,r,o){return Rt(void 0,void 0,void 0,(function(){var i,a,s,u,c,l;return Mt(this,(function(d){switch(d.label){case 0:return[4,e.endpoint()];case 1:return i=d.sent(),a=i.hostname,s=i.protocol,u=void 0===s?"https":s,c=i.port,l={protocol:u,hostname:a,port:c,method:"POST",path:n,headers:t},void 0!==r&&(l.hostname=r),void 0!==o&&(l.body=o),[2,new Wt(l)]}}))}))},iu=function(e,t){return function(e,t){return ru(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},au=function(e,t){var n,r,o=function(e){var t=e;return t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},i=(n=e.headers,r="x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()===r.toLowerCase()})));return void 0!==i?o(e.headers[i]):void 0!==t.code?o(t.code):void 0!==t.__type?o(t.__type):""};var su=function(){return su=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},su.apply(this,arguments)};function uu(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function cu(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var lu=function(e,t){return function(n,r){return function(r){return uu(void 0,void 0,void 0,(function(){var o,i;return cu(this,(function(a){switch(a.label){case 0:return[4,n(r)];case 1:return o=a.sent().response,[4,t(o,e)];case 2:return i=a.sent(),[2,{response:o,output:i}]}}))}))}}},du=function(e,t){return function(n,r){return function(r){return uu(void 0,void 0,void 0,(function(){var o;return cu(this,(function(i){switch(i.label){case 0:return[4,t(r.input,e)];case 1:return o=i.sent(),[2,n(su(su({},r),{request:o}))]}}))}))}}},fu={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},hu={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function pu(e,t,n){return{applyToStack:function(r){r.add(lu(e,n),fu),r.add(du(e,t),hu)}}}var vu=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Pt(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(pu(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"CreateLogGroupCommand",inputFilterSensitiveLog:pi.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return os(e,t)},t.prototype.deserialize=function(e,t){return ls(e,t)},t}(Ho),gu=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Pt(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(pu(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"CreateLogStreamCommand",inputFilterSensitiveLog:vi.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return is(e,t)},t.prototype.deserialize=function(e,t){return fs(e,t)},t}(Ho),mu=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Pt(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(pu(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DescribeLogGroupsCommand",inputFilterSensitiveLog:Ui.filterSensitiveLog,outputFilterSensitiveLog:Di.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return as(e,t)},t.prototype.deserialize=function(e,t){return ps(e,t)},t}(Ho),yu=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Pt(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(pu(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DescribeLogStreamsCommand",inputFilterSensitiveLog:zi.filterSensitiveLog,outputFilterSensitiveLog:qi.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return ss(e,t)},t.prototype.deserialize=function(e,t){return gs(e,t)},t}(Ho),bu=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Pt(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(pu(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"GetLogEventsCommand",inputFilterSensitiveLog:va.filterSensitiveLog,outputFilterSensitiveLog:ma.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return us(e,t)},t.prototype.deserialize=function(e,t){return ys(e,t)},t}(Ho),wu=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Pt(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(pu(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"PutLogEventsCommand",inputFilterSensitiveLog:Ra.filterSensitiveLog,outputFilterSensitiveLog:Ua.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return cs(e,t)},t.prototype.deserialize=function(e,t){return ws(e,t)},t}(Ho),Su=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},xu=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},_u=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Eu=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(_u(arguments[t]));return e},Cu=new(0,P.ConsoleLogger)("AWSCloudWatch"),ku=(function(){function e(e){this.configure(e),this._dataTracker={eventUploadInProgress:!1,logEvents:[]},this._currentLogBatch=[],this._initiateLogPushInterval()}e.prototype.getProviderName=function(){return e.PROVIDER_NAME},e.prototype.getCategoryName=function(){return e.CATEGORY},e.prototype.getLogQueue=function(){return this._dataTracker.logEvents},e.prototype.configure=function(e){if(!e)return this._config||{};var t=Object.assign({},this._config,(0,Ct.parseMobileHubConfig)(e).Logging,e);return this._config=t,this._config},e.prototype.createLogGroup=function(e){return Su(this,void 0,void 0,(function(){var t,n;return xu(this,(function(r){switch(r.label){case 0:Cu.debug("creating new log group in CloudWatch - ",e.logGroupName),t=new vu(e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this._ensureCredentials()];case 2:if(!r.sent())throw new Error("No credentials");return[4,this._initCloudWatchLogs().send(t)];case 3:return[2,r.sent()];case 4:throw n=r.sent(),Cu.error("error creating log group - "+n),n;case 5:return[2]}}))}))},e.prototype.getLogGroups=function(e){return Su(this,void 0,void 0,(function(){var t,n;return xu(this,(function(r){switch(r.label){case 0:Cu.debug("getting list of log groups"),t=new mu(e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this._ensureCredentials()];case 2:if(!r.sent())throw new Error("No credentials");return[4,this._initCloudWatchLogs().send(t)];case 3:return[2,r.sent()];case 4:throw n=r.sent(),Cu.error("error getting log group - "+n),n;case 5:return[2]}}))}))},e.prototype.createLogStream=function(e){return Su(this,void 0,void 0,(function(){var t,n;return xu(this,(function(r){switch(r.label){case 0:Cu.debug("creating new log stream in CloudWatch - ",e.logStreamName),t=new gu(e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this._ensureCredentials()];case 2:if(!r.sent())throw new Error("No credentials");return[4,this._initCloudWatchLogs().send(t)];case 3:return[2,r.sent()];case 4:throw n=r.sent(),Cu.error("error creating log stream - "+n),n;case 5:return[2]}}))}))},e.prototype.getLogStreams=function(e){return Su(this,void 0,void 0,(function(){var t,n;return xu(this,(function(r){switch(r.label){case 0:Cu.debug("getting list of log streams"),t=new yu(e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this._ensureCredentials()];case 2:if(!r.sent())throw new Error("No credentials");return[4,this._initCloudWatchLogs().send(t)];case 3:return[2,r.sent()];case 4:throw n=r.sent(),Cu.error("error getting log stream - "+n),n;case 5:return[2]}}))}))},e.prototype.getLogEvents=function(e){return Su(this,void 0,void 0,(function(){var t,n;return xu(this,(function(r){switch(r.label){case 0:Cu.debug("getting log events from stream - ",e.logStreamName),t=new bu(e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this._ensureCredentials()];case 2:if(!r.sent())throw new Error("No credentials");return[4,this._initCloudWatchLogs().send(t)];case 3:return[2,r.sent()];case 4:throw n=r.sent(),Cu.error("error getting log events - "+n),n;case 5:return[2]}}))}))},e.prototype.pushLogs=function(e){Cu.debug("pushing log events to Cloudwatch..."),this._dataTracker.logEvents=Eu(this._dataTracker.logEvents,e)},e.prototype._validateLogGroupExistsAndCreate=function(e){return Su(this,void 0,void 0,(function(){var t,n,r,o;return xu(this,(function(i){switch(i.label){case 0:if(this._dataTracker.verifiedLogGroup)return[2,this._dataTracker.verifiedLogGroup];i.label=1;case 1:return i.trys.push([1,5,,6]),[4,this._ensureCredentials()];case 2:if(!i.sent())throw new Error("No credentials");return[4,this.getLogGroups({logGroupNamePrefix:e})];case 3:return"string"!=typeof(t=i.sent())&&t.logGroups&&(n=t.logGroups.filter((function(t){return t.logGroupName===e}))).length>0?(this._dataTracker.verifiedLogGroup=n[0],[2,n[0]]):[4,this.createLogGroup({logGroupName:e})];case 4:return i.sent(),[2,null];case 5:throw r=i.sent(),o="failure during log group search: "+r,Cu.error(o),r;case 6:return[2]}}))}))},e.prototype._validateLogStreamExists=function(e,t){return Su(this,void 0,void 0,(function(){var n,r,o,i;return xu(this,(function(a){switch(a.label){case 0:return a.trys.push([0,4,,5]),[4,this._ensureCredentials()];case 1:if(!a.sent())throw new Error("No credentials");return[4,this.getLogStreams({logGroupName:e,logStreamNamePrefix:t})];case 2:return(n=a.sent()).logStreams&&(r=n.logStreams.filter((function(e){return e.logStreamName===t}))).length>0?(this._nextSequenceToken=r[0].uploadSequenceToken,[2,r[0]]):[4,this.createLogStream({logGroupName:e,logStreamName:t})];case 3:return a.sent(),[2,null];case 4:throw o=a.sent(),i="failure during log stream search: "+o,Cu.error(i),o;case 5:return[2]}}))}))},e.prototype._sendLogEvents=function(e){return Su(this,void 0,void 0,(function(){var t,n,r;return xu(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,this._ensureCredentials()];case 1:if(!o.sent())throw new Error("No credentials");return Cu.debug("sending log events to stream - ",e.logStreamName),t=new wu(e),[4,this._initCloudWatchLogs().send(t)];case 2:return[2,o.sent()];case 3:return n=o.sent(),r="failure during log push: "+n,Cu.error(r),[3,4];case 4:return[2]}}))}))},e.prototype._initCloudWatchLogs=function(){return new rs({region:this._config.region,credentials:this._config.credentials,customUserAgent:H(),endpoint:this._config.endpoint})},e.prototype._ensureCredentials=function(){return Su(this,void 0,void 0,(function(){var e=this;return xu(this,(function(t){switch(t.label){case 0:return[4,ku.Credentials.get().then((function(t){if(!t)return!1;var n=ku.Credentials.shear(t);return Cu.debug("set credentials for logging",n),e._config.credentials=n,!0})).catch((function(e){return Cu.warn("ensure credentials error",e),!1}))];case 1:return[2,t.sent()]}}))}))},e.prototype._getNextSequenceToken=function(){return Su(this,void 0,void 0,(function(){var e,t;return xu(this,(function(n){switch(n.label){case 0:if(this._nextSequenceToken&&this._nextSequenceToken.length>0)return[2,this._nextSequenceToken];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,this._validateLogGroupExistsAndCreate(this._config.logGroupName)];case 2:return n.sent(),this._nextSequenceToken=void 0,[4,this._validateLogStreamExists(this._config.logGroupName,this._config.logStreamName)];case 3:return(e=n.sent())&&(this._nextSequenceToken=e.uploadSequenceToken),[2,this._nextSequenceToken];case 4:throw t=n.sent(),Cu.error("failure while getting next sequence token: "+t),t;case 5:return[2]}}))}))},e.prototype._safeUploadLogEvents=function(){return Su(this,void 0,void 0,(function(){var e,t,n,r,o;return xu(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,this._getNextSequenceToken()];case 1:return e=i.sent(),t=0===this._currentLogBatch.length?this._getBufferedBatchOfLogs():this._currentLogBatch,n={logGroupName:this._config.logGroupName,logStreamName:this._config.logStreamName,logEvents:t,sequenceToken:e},this._dataTracker.eventUploadInProgress=!0,[4,this._sendLogEvents(n)];case 2:return r=i.sent(),this._nextSequenceToken=r.nextSequenceToken,this._dataTracker.eventUploadInProgress=!1,this._currentLogBatch=[],[2,r];case 3:if(o=i.sent(),Cu.error("error during _safeUploadLogEvents: "+o),!M.includes(o.name))throw this._dataTracker.eventUploadInProgress=!1,o;return this._getNewSequenceTokenAndSubmit({logEvents:this._currentLogBatch,logGroupName:this._config.logGroupName,logStreamName:this._config.logStreamName}),[3,4];case 4:return[2]}}))}))},e.prototype._getBufferedBatchOfLogs=function(){for(var e=0,t=0;e<this._dataTracker.logEvents.length;){var n=this._dataTracker.logEvents[e],r=n?(new TextEncoder).encode(n.message).length+26:0;if(r>256e3){var o="Log entry exceeds maximum size for CloudWatch logs. Log size: "+r+". Truncating log message.";Cu.warn(o),n.message=n.message.substring(0,r)}if(t+r>1048576)break;t+=r,e++}return this._currentLogBatch=this._dataTracker.logEvents.splice(0,e),this._currentLogBatch},e.prototype._getNewSequenceTokenAndSubmit=function(e){return Su(this,void 0,void 0,(function(){var t,n,r;return xu(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),this._nextSequenceToken=void 0,this._dataTracker.eventUploadInProgress=!0,[4,this._getNextSequenceToken()];case 1:return t=o.sent(),e.sequenceToken=t,[4,this._sendLogEvents(e)];case 2:return n=o.sent(),this._dataTracker.eventUploadInProgress=!1,this._currentLogBatch=[],[2,n];case 3:throw r=o.sent(),Cu.error("error when retrying log submission with new sequence token: "+r),this._dataTracker.eventUploadInProgress=!1,r;case 4:return[2]}}))}))},e.prototype._initiateLogPushInterval=function(){var e=this;this._timer&&clearInterval(this._timer),this._timer=setInterval((function(){return Su(e,void 0,void 0,(function(){var e;return xu(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),this._getDocUploadPermissibility()?[4,this._safeUploadLogEvents()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[3,4];case 3:return e=t.sent(),Cu.error("error when calling _safeUploadLogEvents in the timer interval - "+e),[3,4];case 4:return[2]}}))}))}),2e3)},e.prototype._getDocUploadPermissibility=function(){return(0!==this._dataTracker.logEvents.length||0!==this._currentLogBatch.length)&&!this._dataTracker.eventUploadInProgress},e.PROVIDER_NAME="AWSCloudWatch",e.CATEGORY="Logging"}(),{});e(ku,"Credentials",(()=>ud),(e=>ud=e));var Au={},Tu=function(){function e(){}return e.setItem=function(e,t){return Au[e]=t,Au[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(Au,e)?Au[e]:void 0},e.removeItem=function(e){return delete Au[e]},e.clear=function(){return Au={}},e}(),Iu=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.amplify.test-ls",1),this.storageWindow.removeItem("aws.amplify.test-ls")}catch(e){this.storageWindow=Tu}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),Nu={};e(Nu,"GoogleOAuth",(()=>Mu),(e=>Mu=e));var Ou=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},Pu=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},ju=new(0,P.ConsoleLogger)("CognitoCredentials"),Ru=new Promise((function(e,t){return ge().isBrowser?(window.gapi&&window.gapi.auth2?window.gapi.auth2:null)?(ju.debug("google api already loaded"),e()):void setTimeout((function(){return e()}),2e3):(ju.debug("not in the browser, directly resolved"),e())})),Mu=function(){function e(){this.initialized=!1,this.refreshGoogleToken=this.refreshGoogleToken.bind(this),this._refreshGoogleTokenImpl=this._refreshGoogleTokenImpl.bind(this)}return e.prototype.refreshGoogleToken=function(){return Ou(this,void 0,void 0,(function(){return Pu(this,(function(e){switch(e.label){case 0:return this.initialized?[3,2]:(ju.debug("need to wait for the Google SDK loaded"),[4,Ru]);case 1:e.sent(),this.initialized=!0,ju.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshGoogleTokenImpl()]}}))}))},e.prototype._refreshGoogleTokenImpl=function(){var e=null;return ge().isBrowser&&(e=window.gapi&&window.gapi.auth2?window.gapi.auth2:null),e?new Promise((function(t,n){e.getAuthInstance().then((function(e){e||(ju.debug("google Auth undefined"),n(new(0,Je.NonRetryableError)("google Auth undefined")));var r=e.currentUser.get();r.isSignedIn()?(ju.debug("refreshing the google access token"),r.reloadAuthResponse().then((function(e){var n=e.id_token,r=e.expires_at;t({token:n,expires_at:r})})).catch((function(e){e&&"network_error"===e.error?n("Network error reloading google auth response"):n(new(0,Je.NonRetryableError)("Failed to reload google auth response"))}))):n(new(0,Je.NonRetryableError)("User is not signed in with Google"))})).catch((function(e){ju.debug("Failed to refresh google token",e),n(new(0,Je.NonRetryableError)("Failed to refresh google token"))}))})):(ju.debug("no gapi auth2 available"),Promise.reject("no gapi auth2 available"))},e}(),Uu={};e(Uu,"FacebookOAuth",(()=>zu),(e=>zu=e));var Lu=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},Du=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Fu=new(0,P.ConsoleLogger)("CognitoCredentials"),Bu=new Promise((function(e,t){return ge().isBrowser?window.FB?(Fu.debug("FB SDK already loaded"),e()):void setTimeout((function(){return e()}),2e3):(Fu.debug("not in the browser, directly resolved"),e())})),zu=function(){function e(){this.initialized=!1,this.refreshFacebookToken=this.refreshFacebookToken.bind(this),this._refreshFacebookTokenImpl=this._refreshFacebookTokenImpl.bind(this)}return e.prototype.refreshFacebookToken=function(){return Lu(this,void 0,void 0,(function(){return Du(this,(function(e){switch(e.label){case 0:return this.initialized?[3,2]:(Fu.debug("need to wait for the Facebook SDK loaded"),[4,Bu]);case 1:e.sent(),this.initialized=!0,Fu.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshFacebookTokenImpl()]}}))}))},e.prototype._refreshFacebookTokenImpl=function(){var e=null;if(ge().isBrowser&&(e=window.FB),!e){var t="no fb sdk available";return Fu.debug(t),Promise.reject(new(0,Je.NonRetryableError)(t))}return new Promise((function(t,n){e.getLoginStatus((function(e){if(e&&e.authResponse){var r=e.authResponse,o=r.accessToken,i=1e3*r.expiresIn+(new Date).getTime();if(!o){a="the jwtToken is undefined";Fu.debug(a),n(new(0,Je.NonRetryableError)(a))}t({token:o,expires_at:i})}else{var a="no response from facebook when refreshing the jwt token";Fu.debug(a),n(new(0,Je.NonRetryableError)(a))}}),{scope:"public_profile,email"})}))},e}(),Vu=new(0,Nu.GoogleOAuth),qu=new(0,Uu.FacebookOAuth);function Ku(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Hu(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function Gu(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var Wu;Wu=JSON.parse('{"name":"@aws-sdk/client-cognito-identity","description":"AWS SDK for JavaScript Cognito Identity Client for Node.js, Browser and React Native","version":"3.6.1","scripts":{"clean":"yarn remove-definitions && yarn remove-dist && yarn remove-documentation","build-documentation":"yarn remove-documentation && typedoc ./","prepublishOnly":"yarn build","pretest":"yarn build:cjs","remove-definitions":"rimraf ./types","remove-dist":"rimraf ./dist","remove-documentation":"rimraf ./docs","test:unit":"mocha **/cjs/**/*.spec.js","test:e2e":"mocha **/cjs/**/*.ispec.js && karma start karma.conf.js","test":"yarn test:unit","build:cjs":"tsc -p tsconfig.json","build:es":"tsc -p tsconfig.es.json","build":"yarn build:cjs && yarn build:es","postbuild":"downlevel-dts types types/ts3.4"},"main":"./dist/cjs/index.js","types":"./types/index.d.ts","module":"./dist/es/index.js","browser":{"./runtimeConfig":"./runtimeConfig.browser"},"react-native":{"./runtimeConfig":"./runtimeConfig.native"},"sideEffects":false,"dependencies":{"@aws-crypto/sha256-browser":"^1.0.0","@aws-crypto/sha256-js":"^1.0.0","@aws-sdk/config-resolver":"3.6.1","@aws-sdk/credential-provider-node":"3.6.1","@aws-sdk/fetch-http-handler":"3.6.1","@aws-sdk/hash-node":"3.6.1","@aws-sdk/invalid-dependency":"3.6.1","@aws-sdk/middleware-content-length":"3.6.1","@aws-sdk/middleware-host-header":"3.6.1","@aws-sdk/middleware-logger":"3.6.1","@aws-sdk/middleware-retry":"3.6.1","@aws-sdk/middleware-serde":"3.6.1","@aws-sdk/middleware-signing":"3.6.1","@aws-sdk/middleware-stack":"3.6.1","@aws-sdk/middleware-user-agent":"3.6.1","@aws-sdk/node-config-provider":"3.6.1","@aws-sdk/node-http-handler":"3.6.1","@aws-sdk/protocol-http":"3.6.1","@aws-sdk/smithy-client":"3.6.1","@aws-sdk/types":"3.6.1","@aws-sdk/url-parser":"3.6.1","@aws-sdk/url-parser-native":"3.6.1","@aws-sdk/util-base64-browser":"3.6.1","@aws-sdk/util-base64-node":"3.6.1","@aws-sdk/util-body-length-browser":"3.6.1","@aws-sdk/util-body-length-node":"3.6.1","@aws-sdk/util-user-agent-browser":"3.6.1","@aws-sdk/util-user-agent-node":"3.6.1","@aws-sdk/util-utf8-browser":"3.6.1","@aws-sdk/util-utf8-node":"3.6.1","tslib":"^2.0.0"},"devDependencies":{"@aws-sdk/client-documentation-generator":"3.6.1","@aws-sdk/client-iam":"3.6.1","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^12.7.5","downlevel-dts":"0.7.0","jest":"^26.1.0","rimraf":"^3.0.0","typedoc":"^0.19.2","typescript":"~4.1.2"},"engines":{"node":">=10.0.0"},"typesVersions":{"<4.0":{"types/*":["types/ts3.4/*"]}},"author":{"name":"AWS SDK for JavaScript Team","url":"https://aws.amazon.com/javascript/"},"license":"Apache-2.0","homepage":"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-cognito-identity","repository":{"type":"git","url":"https://github.com/aws/aws-sdk-js-v3.git","directory":"clients/client-cognito-identity"}}');var $u=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192,63&o|128);else if(n+1<e.length&&55296==(64512&o)&&56320==(64512&e.charCodeAt(n+1))){var i=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n));t.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else t.push(o>>12|224,o>>6&63|128,63&o|128)}return Uint8Array.from(t)},Yu=function(e){for(var t="",n=0,r=e.length;n<r;n++){var o=e[n];if(o<128)t+=String.fromCharCode(o);else if(192<=o&&o<224){var i=e[++n];t+=String.fromCharCode((31&o)<<6|63&i)}else if(240<=o&&o<365){var a="%"+[o,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&o)<<12|(63&e[++n])<<6|63&e[++n])}return t};function Ju(e){return(new TextEncoder).encode(e)}function Qu(e){return new TextDecoder("utf-8").decode(e)}var Zu,Xu,ec,tc,nc,rc,oc,ic,ac,sc,uc,cc,lc,dc,fc,hc,pc,vc,gc,mc,yc,bc,wc,Sc,xc,_c,Ec,Cc,kc,Ac,Tc,Ic,Nc,Oc,Pc,jc,Rc,Mc,Uc,Lc,Dc,Fc,Bc,zc,Vc,qc,Kc,Hc,Gc,Wc,$c,Yc,Jc,Qc,Zc,Xc,el,tl,nl,rl,ol,il=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),al=new Set(["cn-north-1","cn-northwest-1"]),sl=new Set(["us-iso-east-1"]),ul=new Set(["us-isob-east-1"]),cl=new Set(["us-gov-east-1","us-gov-west-1"]),ll={apiVersion:"2014-06-30",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;switch(e){case"ap-northeast-1":n={hostname:"cognito-identity.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":n={hostname:"cognito-identity.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":n={hostname:"cognito-identity.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":n={hostname:"cognito-identity.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":n={hostname:"cognito-identity.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":n={hostname:"cognito-identity.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":n={hostname:"cognito-identity.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":n={hostname:"cognito-identity.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":n={hostname:"cognito-identity.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":n={hostname:"cognito-identity.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":n={hostname:"cognito-identity.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":n={hostname:"cognito-identity.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-east-1":n={hostname:"cognito-identity-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-east-2":n={hostname:"cognito-identity-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"fips-us-gov-west-1":n={hostname:"cognito-identity-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"fips-us-west-2":n={hostname:"cognito-identity-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"sa-east-1":n={hostname:"cognito-identity.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":n={hostname:"cognito-identity.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":n={hostname:"cognito-identity.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-west-1":n={hostname:"cognito-identity.us-gov-west-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-west-1":n={hostname:"cognito-identity.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":n={hostname:"cognito-identity.us-west-2.amazonaws.com",partition:"aws"};break;default:il.has(e)&&(n={hostname:"cognito-identity.{region}.amazonaws.com".replace("{region}",e),partition:"aws"}),al.has(e)&&(n={hostname:"cognito-identity.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),sl.has(e)&&(n={hostname:"cognito-identity.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),ul.has(e)&&(n={hostname:"cognito-identity.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),cl.has(e)&&(n={hostname:"cognito-identity.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:"cognito-identity.{region}.amazonaws.com".replace("{region}",e),partition:"aws"})}return Promise.resolve(jt({signingService:"cognito-identity"},n))},serviceId:"Cognito Identity",urlParser:dr},dl=jt(jt({},ll),{runtime:"browser",base64Decoder:sn,base64Encoder:un,bodyLengthChecker:$n,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:Zn({serviceId:ll.serviceId,clientVersion:r(Wu).version}),maxAttempts:3,region:dn("Region is missing"),requestHandler:new Zt,sha256:Dt.Sha256,streamCollector:cn,utf8Decoder:function(e){return"function"==typeof TextEncoder?Ju(e):$u(e)},utf8Encoder:function(e){return"function"==typeof TextDecoder?Qu(e):Yu(e)}}),fl=function(e){function t(t){var n=this,r=jt(jt({},dl),t),o=wr(r),i=So(mr(o)),a=Po(Gn(i));return(n=e.call(this,a)||this).config=a,n.middlewareStack.use(Sn(n.config)),n.middlewareStack.use(kr(n.config)),n.middlewareStack.use(Nr(n.config)),n.middlewareStack.use(Ur(n.config)),n.middlewareStack.use(Uo(n.config)),n}return Pt(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(Ko);(Xu=Zu||(Zu={})).AUTHENTICATED_ROLE="AuthenticatedRole",Xu.DENY="Deny",(ec||(ec={})).filterSensitiveLog=function(e){return jt({},e)},(tc||(tc={})).filterSensitiveLog=function(e){return jt({},e)},(nc||(nc={})).filterSensitiveLog=function(e){return jt({},e)},(rc||(rc={})).filterSensitiveLog=function(e){return jt({},e)},(oc||(oc={})).filterSensitiveLog=function(e){return jt({},e)},(ic||(ic={})).filterSensitiveLog=function(e){return jt({},e)},(ac||(ac={})).filterSensitiveLog=function(e){return jt({},e)},(sc||(sc={})).filterSensitiveLog=function(e){return jt({},e)},(uc||(uc={})).filterSensitiveLog=function(e){return jt({},e)},(cc||(cc={})).filterSensitiveLog=function(e){return jt({},e)},(dc=lc||(lc={})).ACCESS_DENIED="AccessDenied",dc.INTERNAL_SERVER_ERROR="InternalServerError",(fc||(fc={})).filterSensitiveLog=function(e){return jt({},e)},(hc||(hc={})).filterSensitiveLog=function(e){return jt({},e)},(pc||(pc={})).filterSensitiveLog=function(e){return jt({},e)},(vc||(vc={})).filterSensitiveLog=function(e){return jt({},e)},(gc||(gc={})).filterSensitiveLog=function(e){return jt({},e)},(mc||(mc={})).filterSensitiveLog=function(e){return jt({},e)},(yc||(yc={})).filterSensitiveLog=function(e){return jt({},e)},(bc||(bc={})).filterSensitiveLog=function(e){return jt({},e)},(wc||(wc={})).filterSensitiveLog=function(e){return jt({},e)},(Sc||(Sc={})).filterSensitiveLog=function(e){return jt({},e)},(xc||(xc={})).filterSensitiveLog=function(e){return jt({},e)},(_c||(_c={})).filterSensitiveLog=function(e){return jt({},e)},(Ec||(Ec={})).filterSensitiveLog=function(e){return jt({},e)},(Cc||(Cc={})).filterSensitiveLog=function(e){return jt({},e)},(kc||(kc={})).filterSensitiveLog=function(e){return jt({},e)},(Tc=Ac||(Ac={})).CONTAINS="Contains",Tc.EQUALS="Equals",Tc.NOT_EQUAL="NotEqual",Tc.STARTS_WITH="StartsWith",(Ic||(Ic={})).filterSensitiveLog=function(e){return jt({},e)},(Nc||(Nc={})).filterSensitiveLog=function(e){return jt({},e)},(Pc=Oc||(Oc={})).RULES="Rules",Pc.TOKEN="Token",(jc||(jc={})).filterSensitiveLog=function(e){return jt({},e)},(Rc||(Rc={})).filterSensitiveLog=function(e){return jt({},e)},(Mc||(Mc={})).filterSensitiveLog=function(e){return jt({},e)},(Uc||(Uc={})).filterSensitiveLog=function(e){return jt({},e)},(Lc||(Lc={})).filterSensitiveLog=function(e){return jt({},e)},(Dc||(Dc={})).filterSensitiveLog=function(e){return jt({},e)},(Fc||(Fc={})).filterSensitiveLog=function(e){return jt({},e)},(Bc||(Bc={})).filterSensitiveLog=function(e){return jt({},e)},(zc||(zc={})).filterSensitiveLog=function(e){return jt({},e)},(Vc||(Vc={})).filterSensitiveLog=function(e){return jt({},e)},(qc||(qc={})).filterSensitiveLog=function(e){return jt({},e)},(Kc||(Kc={})).filterSensitiveLog=function(e){return jt({},e)},(Hc||(Hc={})).filterSensitiveLog=function(e){return jt({},e)},(Gc||(Gc={})).filterSensitiveLog=function(e){return jt({},e)},(Wc||(Wc={})).filterSensitiveLog=function(e){return jt({},e)},($c||($c={})).filterSensitiveLog=function(e){return jt({},e)},(Yc||(Yc={})).filterSensitiveLog=function(e){return jt({},e)},(Jc||(Jc={})).filterSensitiveLog=function(e){return jt({},e)},(Qc||(Qc={})).filterSensitiveLog=function(e){return jt({},e)},(Zc||(Zc={})).filterSensitiveLog=function(e){return jt({},e)},(Xc||(Xc={})).filterSensitiveLog=function(e){return jt({},e)},(el||(el={})).filterSensitiveLog=function(e){return jt({},e)},(tl||(tl={})).filterSensitiveLog=function(e){return jt({},e)},(nl||(nl={})).filterSensitiveLog=function(e){return jt({},e)},(rl||(rl={})).filterSensitiveLog=function(e){return jt({},e)},(ol||(ol={})).filterSensitiveLog=function(e){return jt({},e)};var hl=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r;return Mt(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetCredentialsForIdentity"},r=JSON.stringify(Tl(e,t)),[2,Hl(t,n,"/",void 0,r)]}))}))},pl=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r;return Mt(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetId"},r=JSON.stringify(Il(e,t)),[2,Hl(t,n,"/",void 0,r)]}))}))},vl=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r,o;return Mt(this,(function(i){switch(i.label){case 0:return e.statusCode>=300?[2,gl(e,t)]:[4,Gl(e.body,t)];case 1:return n=i.sent(),{},r=jl(n,t),o=jt({$metadata:ql(e)},r),[2,Promise.resolve(o)]}}))}))},gl=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,d,f,h,p,v,g;return Mt(this,(function(m){switch(m.label){case 0:return r=[jt({},e)],g={},[4,Gl(e.body,t)];case 1:switch(n=jt.apply(void 0,r.concat([(g.body=m.sent(),g)])),i="UnknownError",i=Wl(e,n.body),i){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidIdentityPoolConfigurationException":case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":return[3,6];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,8];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return a=[{}],[4,bl(n,t)];case 3:return o=jt.apply(void 0,[jt.apply(void 0,a.concat([m.sent()])),{name:i,$metadata:ql(e)}]),[3,19];case 4:return s=[{}],[4,wl(n,t)];case 5:return o=jt.apply(void 0,[jt.apply(void 0,s.concat([m.sent()])),{name:i,$metadata:ql(e)}]),[3,19];case 6:return u=[{}],[4,Sl(n,t)];case 7:return o=jt.apply(void 0,[jt.apply(void 0,u.concat([m.sent()])),{name:i,$metadata:ql(e)}]),[3,19];case 8:return c=[{}],[4,xl(n,t)];case 9:return o=jt.apply(void 0,[jt.apply(void 0,c.concat([m.sent()])),{name:i,$metadata:ql(e)}]),[3,19];case 10:return l=[{}],[4,El(n,t)];case 11:return o=jt.apply(void 0,[jt.apply(void 0,l.concat([m.sent()])),{name:i,$metadata:ql(e)}]),[3,19];case 12:return d=[{}],[4,Cl(n,t)];case 13:return o=jt.apply(void 0,[jt.apply(void 0,d.concat([m.sent()])),{name:i,$metadata:ql(e)}]),[3,19];case 14:return f=[{}],[4,kl(n,t)];case 15:return o=jt.apply(void 0,[jt.apply(void 0,f.concat([m.sent()])),{name:i,$metadata:ql(e)}]),[3,19];case 16:return h=[{}],[4,Al(n,t)];case 17:return o=jt.apply(void 0,[jt.apply(void 0,h.concat([m.sent()])),{name:i,$metadata:ql(e)}]),[3,19];case 18:p=n.body,i=p.code||p.Code||i,o=jt(jt({},p),{name:""+i,message:p.message||p.Message||i,$fault:"client",$metadata:ql(e)}),m.label=19;case 19:return v=o.message||o.Message||i,o.message=v,delete o.Message,[2,Promise.reject(Object.assign(new Error(v),o))]}}))}))},ml=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r,o;return Mt(this,(function(i){switch(i.label){case 0:return e.statusCode>=300?[2,yl(e,t)]:[4,Gl(e.body,t)];case 1:return n=i.sent(),{},r=Rl(n,t),o=jt({$metadata:ql(e)},r),[2,Promise.resolve(o)]}}))}))},yl=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,d,f,h,p,v,g;return Mt(this,(function(m){switch(m.label){case 0:return r=[jt({},e)],g={},[4,Gl(e.body,t)];case 1:switch(n=jt.apply(void 0,r.concat([(g.body=m.sent(),g)])),i="UnknownError",i=Wl(e,n.body),i){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,6];case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":return[3,8];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return a=[{}],[4,bl(n,t)];case 3:return o=jt.apply(void 0,[jt.apply(void 0,a.concat([m.sent()])),{name:i,$metadata:ql(e)}]),[3,19];case 4:return s=[{}],[4,wl(n,t)];case 5:return o=jt.apply(void 0,[jt.apply(void 0,s.concat([m.sent()])),{name:i,$metadata:ql(e)}]),[3,19];case 6:return u=[{}],[4,xl(n,t)];case 7:return o=jt.apply(void 0,[jt.apply(void 0,u.concat([m.sent()])),{name:i,$metadata:ql(e)}]),[3,19];case 8:return c=[{}],[4,_l(n,t)];case 9:return o=jt.apply(void 0,[jt.apply(void 0,c.concat([m.sent()])),{name:i,$metadata:ql(e)}]),[3,19];case 10:return l=[{}],[4,El(n,t)];case 11:return o=jt.apply(void 0,[jt.apply(void 0,l.concat([m.sent()])),{name:i,$metadata:ql(e)}]),[3,19];case 12:return d=[{}],[4,Cl(n,t)];case 13:return o=jt.apply(void 0,[jt.apply(void 0,d.concat([m.sent()])),{name:i,$metadata:ql(e)}]),[3,19];case 14:return f=[{}],[4,kl(n,t)];case 15:return o=jt.apply(void 0,[jt.apply(void 0,f.concat([m.sent()])),{name:i,$metadata:ql(e)}]),[3,19];case 16:return h=[{}],[4,Al(n,t)];case 17:return o=jt.apply(void 0,[jt.apply(void 0,h.concat([m.sent()])),{name:i,$metadata:ql(e)}]),[3,19];case 18:p=n.body,i=p.code||p.Code||i,o=jt(jt({},p),{name:""+i,message:p.message||p.Message||i,$fault:"client",$metadata:ql(e)}),m.label=19;case 19:return v=o.message||o.Message||i,o.message=v,delete o.Message,[2,Promise.reject(Object.assign(new Error(v),o))]}}))}))},bl=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r;return Mt(this,(function(o){return n=e.body,r=Pl(n,t),[2,jt({name:"ExternalServiceException",$fault:"client",$metadata:ql(e)},r)]}))}))},wl=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r;return Mt(this,(function(o){return n=e.body,r=Ml(n,t),[2,jt({name:"InternalErrorException",$fault:"server",$metadata:ql(e)},r)]}))}))},Sl=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r;return Mt(this,(function(o){return n=e.body,r=Ul(n,t),[2,jt({name:"InvalidIdentityPoolConfigurationException",$fault:"client",$metadata:ql(e)},r)]}))}))},xl=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r;return Mt(this,(function(o){return n=e.body,r=Ll(n,t),[2,jt({name:"InvalidParameterException",$fault:"client",$metadata:ql(e)},r)]}))}))},_l=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r;return Mt(this,(function(o){return n=e.body,r=Dl(n,t),[2,jt({name:"LimitExceededException",$fault:"client",$metadata:ql(e)},r)]}))}))},El=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r;return Mt(this,(function(o){return n=e.body,r=Fl(n,t),[2,jt({name:"NotAuthorizedException",$fault:"client",$metadata:ql(e)},r)]}))}))},Cl=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r;return Mt(this,(function(o){return n=e.body,r=Bl(n,t),[2,jt({name:"ResourceConflictException",$fault:"client",$metadata:ql(e)},r)]}))}))},kl=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r;return Mt(this,(function(o){return n=e.body,r=zl(n,t),[2,jt({name:"ResourceNotFoundException",$fault:"client",$metadata:ql(e)},r)]}))}))},Al=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r;return Mt(this,(function(o){return n=e.body,r=Vl(n,t),[2,jt({name:"TooManyRequestsException",$fault:"client",$metadata:ql(e)},r)]}))}))},Tl=function(e,t){return jt(jt(jt({},void 0!==e.CustomRoleArn&&null!==e.CustomRoleArn&&{CustomRoleArn:e.CustomRoleArn}),void 0!==e.IdentityId&&null!==e.IdentityId&&{IdentityId:e.IdentityId}),void 0!==e.Logins&&null!==e.Logins&&{Logins:Nl(e.Logins,t)})},Il=function(e,t){return jt(jt(jt({},void 0!==e.AccountId&&null!==e.AccountId&&{AccountId:e.AccountId}),void 0!==e.IdentityPoolId&&null!==e.IdentityPoolId&&{IdentityPoolId:e.IdentityPoolId}),void 0!==e.Logins&&null!==e.Logins&&{Logins:Nl(e.Logins,t)})},Nl=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=Ut(t,2),o=r[0],i=r[1];return null===i?e:jt(jt({},e),((n={})[o]=i,n))}),{})},Ol=function(e,t){return{AccessKeyId:void 0!==e.AccessKeyId&&null!==e.AccessKeyId?e.AccessKeyId:void 0,Expiration:void 0!==e.Expiration&&null!==e.Expiration?new Date(Math.round(1e3*e.Expiration)):void 0,SecretKey:void 0!==e.SecretKey&&null!==e.SecretKey?e.SecretKey:void 0,SessionToken:void 0!==e.SessionToken&&null!==e.SessionToken?e.SessionToken:void 0}},Pl=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},jl=function(e,t){return{Credentials:void 0!==e.Credentials&&null!==e.Credentials?Ol(e.Credentials):void 0,IdentityId:void 0!==e.IdentityId&&null!==e.IdentityId?e.IdentityId:void 0}},Rl=function(e,t){return{IdentityId:void 0!==e.IdentityId&&null!==e.IdentityId?e.IdentityId:void 0}},Ml=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Ul=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Ll=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Dl=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Fl=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Bl=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},zl=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Vl=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},ql=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},Kl=function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},Hl=function(e,t,n,r,o){return Rt(void 0,void 0,void 0,(function(){var i,a,s,u,c,l;return Mt(this,(function(d){switch(d.label){case 0:return[4,e.endpoint()];case 1:return i=d.sent(),a=i.hostname,s=i.protocol,u=void 0===s?"https":s,c=i.port,l={protocol:u,hostname:a,port:c,method:"POST",path:n,headers:t},void 0!==r&&(l.hostname=r),void 0!==o&&(l.body=o),[2,new Wt(l)]}}))}))},Gl=function(e,t){return function(e,t){return Kl(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},Wl=function(e,t){var n,r,o=function(e){var t=e;return t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},i=(n=e.headers,r="x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()===r.toLowerCase()})));return void 0!==i?o(e.headers[i]):void 0!==t.code?o(t.code):void 0!==t.__type?o(t.__type):""},$l=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Pt(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(pu(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CognitoIdentityClient",commandName:"GetCredentialsForIdentityCommand",inputFilterSensitiveLog:wc.filterSensitiveLog,outputFilterSensitiveLog:xc.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return hl(e,t)},t.prototype.deserialize=function(e,t){return vl(e,t)},t}(Ho),Yl=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Pt(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(pu(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CognitoIdentityClient",commandName:"GetIdCommand",inputFilterSensitiveLog:Ec.filterSensitiveLog,outputFilterSensitiveLog:Cc.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return pl(e,t)},t.prototype.deserialize=function(e,t){return ml(e,t)},t}(Ho),Jl=function(e,t){return(Jl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function Ql(e,t){function n(){this.constructor=e}Jl(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Zl=function(e){function t(t,n){void 0===n&&(n=!0);var r=e.call(this,t)||this;return r.tryNextLink=n,r}return Ql(t,e),t}(Error);function Xl(e){return Promise.all(Object.keys(e).reduce((function(t,n){var r=e[n];return"string"==typeof r?t.push([n,r]):t.push(r().then((function(e){return[n,e]}))),t}),[])).then((function(e){return e.reduce((function(e,t){var n=Gu(t,2),r=n[0],o=n[1];return e[r]=o,e}),{})}))}function ed(e){var t=this;return function(){return Ku(t,void 0,void 0,(function(){var t,n,r,o,i,a,s,u,c,l,d,f,h;return Hu(this,(function(p){switch(p.label){case 0:return l=(c=e.client).send,d=$l.bind,h={CustomRoleArn:e.customRoleArn,IdentityId:e.identityId},e.logins?[4,Xl(e.logins)]:[3,2];case 1:return f=p.sent(),[3,3];case 2:f=void 0,p.label=3;case 3:return[4,l.apply(c,[new(d.apply($l,[void 0,(h.Logins=f,h)]))])];case 4:return t=p.sent().Credentials,n=void 0===t?function(){throw new Zl("Response from Amazon Cognito contained no credentials")}():t,r=n.AccessKeyId,o=void 0===r?function(){throw new Zl("Response from Amazon Cognito contained no access key ID")}():r,i=n.Expiration,a=n.SecretKey,s=void 0===a?function(){throw new Zl("Response from Amazon Cognito contained no secret key")}():a,u=n.SessionToken,[2,{identityId:e.identityId,accessKeyId:o,secretAccessKey:s,sessionToken:u,expiration:i}]}}))}))}}var td=function(){function e(e){void 0===e&&(e="aws:cognito-identity-ids"),this.dbName=e}return e.prototype.getItem=function(e){return this.withObjectStore("readonly",(function(t){var n=t.get(e);return new Promise((function(e){n.onerror=function(){return e(null)},n.onsuccess=function(){return e(n.result?n.result.value:null)}}))})).catch((function(){return null}))},e.prototype.removeItem=function(e){return this.withObjectStore("readwrite",(function(t){var n=t.delete(e);return new Promise((function(e,t){n.onerror=function(){return t(n.error)},n.onsuccess=function(){return e()}}))}))},e.prototype.setItem=function(e,t){return this.withObjectStore("readwrite",(function(n){var r=n.put({id:e,value:t});return new Promise((function(e,t){r.onerror=function(){return t(r.error)},r.onsuccess=function(){return e()}}))}))},e.prototype.getDb=function(){var e=self.indexedDB.open(this.dbName,1);return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)},e.onblocked=function(){n(new Error("Unable to access DB"))},e.onupgradeneeded=function(){var t=e.result;t.onerror=function(){n(new Error("Failed to create object store"))},t.createObjectStore("IdentityIds",{keyPath:"id"})}}))},e.prototype.withObjectStore=function(e,t){return this.getDb().then((function(n){var r=n.transaction("IdentityIds",e);return r.oncomplete=function(){return n.close()},new Promise((function(e,n){r.onerror=function(){return n(r.error)},e(t(r.objectStore("IdentityIds")))})).catch((function(e){throw n.close(),e}))}))},e}(),nd=new(function(){function e(e){void 0===e&&(e={}),this.store=e}return e.prototype.getItem=function(e){return e in this.store?this.store[e]:null},e.prototype.removeItem=function(e){delete this.store[e]},e.prototype.setItem=function(e,t){this.store[e]=t},e}());function rd(e){var t=this,n=e.accountId,r=e.cache,o=void 0===r?"object"==typeof self&&self.indexedDB?new td:"object"==typeof window&&window.localStorage?window.localStorage:nd:r,i=e.client,a=e.customRoleArn,s=e.identityPoolId,u=e.logins,c=e.userIdentifier,l=void 0===c?u&&0!==Object.keys(u).length?void 0:"ANONYMOUS":c,d=l?"aws:cognito-identity-credentials:"+s+":"+l:void 0,f=function(){return Ku(t,void 0,void 0,(function(){var e,t,r,c,l,h,p,v,g;return Hu(this,(function(m){switch(m.label){case 0:return(t=d)?[4,o.getItem(d)]:[3,2];case 1:t=m.sent(),m.label=2;case 2:return(e=t)?[3,7]:(h=(l=i).send,p=Yl.bind,g={AccountId:n,IdentityPoolId:s},u?[4,Xl(u)]:[3,4]);case 3:return v=m.sent(),[3,5];case 4:v=void 0,m.label=5;case 5:return[4,h.apply(l,[new(p.apply(Yl,[void 0,(g.Logins=v,g)]))])];case 6:r=m.sent().IdentityId,c=void 0===r?function(){throw new Zl("Response from Amazon Cognito contained no identity ID")}():r,e=c,d&&Promise.resolve(o.setItem(d,e)).catch((function(){})),m.label=7;case 7:return[2,(f=ed({client:i,customRoleArn:a,logins:u,identityId:e}))()]}}))}))};return function(){return f().catch((function(e){return Ku(t,void 0,void 0,(function(){return Hu(this,(function(t){throw d&&Promise.resolve(o.removeItem(d)).catch((function(){})),e}))}))}))}}var od=function(){return od=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},od.apply(this,arguments)},id=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},ad=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},sd=new(0,P.ConsoleLogger)("Credentials"),ud=new(function(){function e(e){this._gettingCredPromise=null,this._refreshHandlers={},this.Auth=void 0,this.configure(e),this._refreshHandlers.google=Vu.refreshGoogleToken,this._refreshHandlers.facebook=qu.refreshFacebookToken}return e.prototype.getModuleName=function(){return"Credentials"},e.prototype.getCredSource=function(){return this._credentials_source},e.prototype.configure=function(e){if(!e)return this._config||{};this._config=Object.assign({},this._config,e);var t=this._config.refreshHandlers;return t&&(this._refreshHandlers=od(od({},this._refreshHandlers),t)),this._storage=this._config.storage,this._storage||(this._storage=(new Iu).getStorage()),this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),this._config},e.prototype.get=function(){return sd.debug("getting credentials"),this._pickupCredentials()},e.prototype._getCognitoIdentityIdStorageKey=function(e){return"CognitoIdentityId-"+e},e.prototype._pickupCredentials=function(){return sd.debug("picking up credentials"),this._gettingCredPromise&&this._gettingCredPromise.isPending()?sd.debug("getting old cred promise"):(sd.debug("getting new cred promise"),this._gettingCredPromise=pe(this._keepAlive())),this._gettingCredPromise},e.prototype._keepAlive=function(){return id(this,void 0,void 0,(function(){var e,t,n,r,o,i,a;return ad(this,(function(s){switch(s.label){case 0:if(sd.debug("checking if credentials exists and not expired"),(e=this._credentials)&&!this._isExpired(e)&&!this._isPastTTL())return sd.debug("credentials not changed and not expired, directly return"),[2,Promise.resolve(e)];if(sd.debug("need to get a new credential or refresh the existing one"),t=this.Auth,!(n=void 0===t?O.Amplify.Auth:t)||"function"!=typeof n.currentUserCredentials)return[2,Promise.reject("No Auth module registered in Amplify")];if(this._isExpired(e)||!this._isPastTTL())return[3,6];sd.debug("ttl has passed but token is not yet expired"),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,n.currentUserPoolUser()];case 2:return r=s.sent(),[4,n.currentSession()];case 3:return o=s.sent(),i=o.refreshToken,[4,new Promise((function(e,t){r.refreshSession(i,(function(n,r){return n?t(n):e(r)}))}))];case 4:return s.sent(),[3,6];case 5:return a=s.sent(),sd.debug("Error attempting to refreshing the session",a),[3,6];case 6:return[2,n.currentUserCredentials()]}}))}))},e.prototype.refreshFederatedToken=function(e){sd.debug("Getting federated credentials");var t=e.provider,n=e.user,r=e.token,o=e.identity_id,i=e.expires_at;i=1970===new Date(i).getFullYear()?1e3*i:i;var a=this;return sd.debug("checking if federated jwt token expired"),i>(new Date).getTime()?(sd.debug("token not expired"),this._setCredentialsFromFederation({provider:t,token:r,user:n,identity_id:o,expires_at:i})):a._refreshHandlers[t]&&"function"==typeof a._refreshHandlers[t]?(sd.debug("getting refreshed jwt token from federation provider"),this._providerRefreshWithRetry({refreshHandler:a._refreshHandlers[t],provider:t,user:n})):(sd.debug("no refresh handler for provider:",t),this.clear(),Promise.reject("no refresh handler for provider"))},e.prototype._providerRefreshWithRetry=function(e){var t=this,n=e.refreshHandler,r=e.provider,o=e.user;return(0,Je.jitteredExponentialRetry)(n,[],1e4).then((function(e){return sd.debug("refresh federated token sucessfully",e),t._setCredentialsFromFederation({provider:r,token:e.token,user:o,identity_id:e.identity_id,expires_at:e.expires_at})})).catch((function(e){return"string"==typeof e&&0===e.toLowerCase().lastIndexOf("network error",e.length)||t.clear(),sd.debug("refresh federated token failed",e),Promise.reject("refreshing federation token failed: "+e)}))},e.prototype._isExpired=function(e){if(!e)return sd.debug("no credentials for expiration check"),!0;sd.debug("are these credentials expired?",e);var t=Date.now();return e.expiration.getTime()<=t},e.prototype._isPastTTL=function(){return this._nextCredentialsRefresh<=Date.now()},e.prototype._setCredentialsForGuest=function(){return id(this,void 0,void 0,(function(){var e,t,n,r,o,i,a,s=this;return ad(this,(function(u){switch(u.label){case 0:return sd.debug("setting credentials for guest"),e=this._config,t=e.identityPoolId,n=e.region,e.mandatorySignIn?[2,Promise.reject("cannot get guest credentials when mandatory signin enabled")]:t?n?(o=this,[4,this._getGuestIdentityId()]):(sd.debug("region is not configured for getting the credentials"),[2,Promise.reject("region is not configured for getting the credentials")]):(sd.debug("No Cognito Identity pool provided for unauthenticated access"),[2,Promise.reject("No Cognito Identity pool provided for unauthenticated access")]);case 1:return r=o._identityId=u.sent(),i=new fl({region:n,customUserAgent:H()}),a=void 0,a=r?ed({identityId:r,client:i})():function(){return id(s,void 0,void 0,(function(){var e;return ad(this,(function(n){switch(n.label){case 0:return[4,i.send(new Yl({IdentityPoolId:t}))];case 1:return e=n.sent().IdentityId,this._identityId=e,[2,ed({client:i,identityId:e})()]}}))}))}().catch((function(e){return id(s,void 0,void 0,(function(){return ad(this,(function(t){throw e}))}))})),[2,this._loadCredentials(a,"guest",!1,null).then((function(e){return e})).catch((function(e){return id(s,void 0,void 0,(function(){var n=this;return ad(this,(function(o){switch(o.label){case 0:return"ResourceNotFoundException"!==e.name||e.message!=="Identity '"+r+"' not found."?[3,2]:(sd.debug("Failed to load guest credentials"),[4,this._removeGuestIdentityId()]);case 1:return o.sent(),a=function(){return id(n,void 0,void 0,(function(){var e;return ad(this,(function(n){switch(n.label){case 0:return[4,i.send(new Yl({IdentityPoolId:t}))];case 1:return e=n.sent().IdentityId,this._identityId=e,[2,ed({client:i,identityId:e})()]}}))}))}().catch((function(e){return id(n,void 0,void 0,(function(){return ad(this,(function(t){throw e}))}))})),[2,this._loadCredentials(a,"guest",!1,null)];case 2:return[2,e]}}))}))}))]}}))}))},e.prototype._setCredentialsFromFederation=function(e){var t=e.provider,n=e.token,r=e.identity_id,o={google:"accounts.google.com",facebook:"graph.facebook.com",amazon:"www.amazon.com",developer:"cognito-identity.amazonaws.com"}[t]||t;if(!o)return Promise.reject("You must specify a federated provider");var i={};i[o]=n;var a=this._config,s=a.identityPoolId,u=a.region;if(!s)return sd.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!u)return sd.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var c=new fl({region:u,customUserAgent:H()}),l=void 0;r?l=ed({identityId:r,logins:i,client:c})():l=rd({logins:i,identityPoolId:s,client:c})();return this._loadCredentials(l,"federated",!0,e)},e.prototype._setCredentialsFromSession=function(e){var t=this;sd.debug("set credentials from session");var n=e.getIdToken().getJwtToken(),r=this._config,o=r.region,i=r.userPoolId,a=r.identityPoolId;if(!a)return sd.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!o)return sd.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var s={};s["cognito-idp."+o+".amazonaws.com/"+i]=n;var u=new fl({region:o,customUserAgent:H()}),c=id(t,void 0,void 0,(function(){var e,t,n,r,o,i,c,l,d,f;return ad(this,(function(h){switch(h.label){case 0:return[4,this._getGuestIdentityId()];case 1:return(e=h.sent())?[3,3]:[4,u.send(new Yl({IdentityPoolId:a,Logins:s}))];case 2:n=h.sent().IdentityId,t=n,h.label=3;case 3:return[4,u.send(new $l({IdentityId:e||t,Logins:s}))];case 4:return r=h.sent(),o=r.Credentials,i=o.AccessKeyId,c=o.Expiration,l=o.SecretKey,d=o.SessionToken,f=r.IdentityId,this._identityId=f,e?(sd.debug("The guest identity "+e+" has been successfully linked to the logins"),e===f&&sd.debug("The guest identity "+e+" has become the primary identity"),[4,this._removeGuestIdentityId()]):[3,6];case 5:h.sent(),h.label=6;case 6:return[2,{accessKeyId:i,secretAccessKey:l,sessionToken:d,expiration:c,identityId:f}]}}))})).catch((function(e){return id(t,void 0,void 0,(function(){return ad(this,(function(t){throw e}))}))}));return this._loadCredentials(c,"userPool",!0,null)},e.prototype._loadCredentials=function(e,t,n,r){var o=this,i=this;return new Promise((function(a,s){e.then((function(e){return id(o,void 0,void 0,(function(){var o,s,u,c,l;return ad(this,(function(d){switch(d.label){case 0:if(sd.debug("Load credentials successfully",e),this._identityId&&!e.identityId&&(e.identityId=this._identityId),i._credentials=e,i._credentials.authenticated=n,i._credentials_source=t,i._nextCredentialsRefresh=(new Date).getTime()+3e6,"federated"===t){o=Object.assign({id:this._credentials.identityId},r.user),s=r.provider,u=r.token,c=r.expires_at,l=r.identity_id;try{this._storage.setItem("aws-amplify-federatedInfo",JSON.stringify({provider:s,token:u,user:o,expires_at:c,identity_id:l}))}catch(e){sd.debug("Failed to put federated info into auth storage",e)}}return"guest"!==t?[3,2]:[4,this._setGuestIdentityId(e.identityId)];case 1:d.sent(),d.label=2;case 2:return a(i._credentials),[2]}}))}))})).catch((function(t){if(t)return sd.debug("Failed to load credentials",e),sd.debug("Error loading credentials",t),void s(t)}))}))},e.prototype.set=function(e,t){return"session"===t?this._setCredentialsFromSession(e):"federation"===t?this._setCredentialsFromFederation(e):"guest"===t?this._setCredentialsForGuest():(sd.debug("no source specified for setting credentials"),Promise.reject("invalid source"))},e.prototype.clear=function(){return id(this,void 0,void 0,(function(){return ad(this,(function(e){return this._credentials=null,this._credentials_source=null,sd.debug("removing aws-amplify-federatedInfo from storage"),this._storage.removeItem("aws-amplify-federatedInfo"),[2]}))}))},e.prototype._getGuestIdentityId=function(){return id(this,void 0,void 0,(function(){var e,t;return ad(this,(function(n){switch(n.label){case 0:e=this._config.identityPoolId,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this._storageSync];case 2:return n.sent(),[2,this._storage.getItem(this._getCognitoIdentityIdStorageKey(e))];case 3:return t=n.sent(),sd.debug("Failed to get the cached guest identityId",t),[3,4];case 4:return[2]}}))}))},e.prototype._setGuestIdentityId=function(e){return id(this,void 0,void 0,(function(){var t,n;return ad(this,(function(r){switch(r.label){case 0:t=this._config.identityPoolId,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._storageSync];case 2:return r.sent(),this._storage.setItem(this._getCognitoIdentityIdStorageKey(t),e),[3,4];case 3:return n=r.sent(),sd.debug("Failed to cache guest identityId",n),[3,4];case 4:return[2]}}))}))},e.prototype._removeGuestIdentityId=function(){return id(this,void 0,void 0,(function(){var e;return ad(this,(function(t){return e=this._config.identityPoolId,sd.debug("removing "+this._getCognitoIdentityIdStorageKey(e)+" from storage"),this._storage.removeItem(this._getCognitoIdentityIdStorageKey(e)),[2]}))}))},e.prototype.shear=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e}())(null);O.Amplify.register(ud);var cd,ld,dd=function(){function e(){this._logger=new(0,P.ConsoleLogger)("ServiceWorker")}return Object.defineProperty(e.prototype,"serviceWorker",{get:function(){return this._serviceWorker},enumerable:!0,configurable:!0}),e.prototype.register=function(e,t){var n=this;return void 0===e&&(e="/service-worker.js"),void 0===t&&(t="/"),this._logger.debug("registering "+e),this._logger.debug("registering service worker with scope "+t),new Promise((function(r,o){if(!navigator||!("serviceWorker"in navigator))return o(new Error("Service Worker not available"));navigator.serviceWorker.register(e,{scope:t}).then((function(e){return e.installing?n._serviceWorker=e.installing:e.waiting?n._serviceWorker=e.waiting:e.active&&(n._serviceWorker=e.active),n._registration=e,n._setupListeners(),n._logger.debug("Service Worker Registration Success: "+e),r(e)})).catch((function(e){return n._logger.debug("Service Worker Registration Failed "+e),o(e)}))}))},e.prototype.enablePush=function(e){var t=this;if(!this._registration)throw new Error("Service Worker not registered");return this._publicKey=e,new Promise((function(n,r){if(!ge().isBrowser)return r(new Error("Service Worker not available"));t._registration.pushManager.getSubscription().then((function(r){if(!r)return t._logger.debug("User is NOT subscribed to push"),t._registration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:t._urlB64ToUint8Array(e)}).then((function(e){t._subscription=e,t._logger.debug("User subscribed: "+JSON.stringify(e)),n(e)})).catch((function(e){t._logger.error(e)}));t._subscription=r,t._logger.debug("User is subscribed to push: "+JSON.stringify(r)),n(r)}))}))},e.prototype._urlB64ToUint8Array=function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(t),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);return r},e.prototype.send=function(e){this._serviceWorker&&this._serviceWorker.postMessage("object"==typeof e?JSON.stringify(e):e)},e.prototype._setupListeners=function(){var e=this;this._serviceWorker.addEventListener("statechange",(function(t){var n=e._serviceWorker.state;e._logger.debug("ServiceWorker statechange: "+n),O.Amplify.Analytics&&"function"==typeof O.Amplify.Analytics.record&&O.Amplify.Analytics.record({name:"ServiceWorker",attributes:{state:n}})})),this._serviceWorker.addEventListener("message",(function(t){e._logger.debug("ServiceWorker message event: "+t)}))},e}(),fd={};e(fd,"default",(()=>Sd),(e=>Sd=e)),cd=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var n={},r=t||{},o=e.split(";"),i=r.decode||hd,a=0;a<o.length;a++){var s=o[a],u=s.indexOf("=");if(!(u<0)){var c=s.substring(0,u).trim();if(null==n[c]){var l=s.substring(u+1,s.length).trim();'"'===l[0]&&(l=l.slice(1,-1)),n[c]=gd(l,i)}}}return n},ld=function(e,t,n){var r=n||{},o=r.encode||pd;if("function"!=typeof o)throw new TypeError("option encode is invalid");if(!vd.test(e))throw new TypeError("argument name is invalid");var i=o(t);if(i&&!vd.test(i))throw new TypeError("argument val is invalid");var a=e+"="+i;if(null!=r.maxAge){var s=r.maxAge-0;if(isNaN(s)||!isFinite(s))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(s)}if(r.domain){if(!vd.test(r.domain))throw new TypeError("option domain is invalid");a+="; Domain="+r.domain}if(r.path){if(!vd.test(r.path))throw new TypeError("option path is invalid");a+="; Path="+r.path}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");a+="; Expires="+r.expires.toUTCString()}r.httpOnly&&(a+="; HttpOnly");r.secure&&(a+="; Secure");if(r.sameSite){switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a};var hd=decodeURIComponent,pd=encodeURIComponent,vd=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function gd(e,t){try{return t(e)}catch(t){return e}}function md(e,t){return"string"==typeof e?cd(e,t):"object"==typeof e&&null!==e?e:{}}function yd(e,t){void 0===t&&(t={});var n=function(e){return e&&"j"===e[0]&&":"===e[1]?e.substr(2):e}(e);if(function(e,t){return void 0===t&&(t=!e||"{"!==e[0]&&"["!==e[0]&&'"'!==e[0]),!t}(n,t.doNotParse))try{return JSON.parse(n)}catch(e){}return e}var bd=function(){return bd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},bd.apply(this,arguments)},wd=function(){function e(e,t){var n=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=md(e,t),new Promise((function(){n.HAS_DOCUMENT_COOKIE="object"==typeof document&&"string"==typeof document.cookie})).catch((function(){}))}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=cd(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,n){return void 0===t&&(t={}),this._updateBrowserValues(n),yd(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var n={};for(var r in this.cookies)n[r]=yd(this.cookies[r],e);return n},e.prototype.set=function(e,t,n){var r;"object"==typeof t&&(t=JSON.stringify(t)),this.cookies=bd(bd({},this.cookies),((r={})[e]=t,r)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=ld(e,t,n)),this._emitChange({name:e,value:t,options:n})},e.prototype.remove=function(e,t){var n=t=bd(bd({},t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=bd({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=ld(e,"",n)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}(),Sd=wd,xd=fd.default,_d=ge().isBrowser,Ed=function(){function e(e){void 0===e&&(e={}),this.cookies=new xd,this.store=_d?window.localStorage:Object.create(null),this.cookies=e.req?new xd(e.req.headers.cookie):new xd,Object.assign(this.store,this.cookies.getAll())}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.entries(this.store).length},enumerable:!0,configurable:!0}),e.prototype.clear=function(){var e=this;Array.from(new Array(this.length)).map((function(t,n){return e.key(n)})).forEach((function(t){return e.removeItem(t)}))},e.prototype.getItem=function(e){return this.getLocalItem(e)},e.prototype.getLocalItem=function(e){return Object.prototype.hasOwnProperty.call(this.store,e)?this.store[e]:null},e.prototype.getUniversalItem=function(e){return this.cookies.get(e)},e.prototype.key=function(e){return Object.keys(this.store)[e]},e.prototype.removeItem=function(e){this.removeLocalItem(e),this.removeUniversalItem(e)},e.prototype.removeLocalItem=function(e){delete this.store[e]},e.prototype.removeUniversalItem=function(e){this.cookies.remove(e,{path:"/"})},e.prototype.setItem=function(e,t){switch(this.setLocalItem(e,t),e.split(".").pop()){case"LastAuthUser":case"accessToken":case"refreshToken":case"idToken":_d?this.setUniversalItem(e,t):this.setLocalItem(e,t)}},e.prototype.setLocalItem=function(e,t){this.store[e]=t},e.prototype.setUniversalItem=function(e,t){this.cookies.set(e,t,{path:"/",sameSite:!0,secure:"localhost"!==window.location.hostname})},e}(),Cd="undefined"!=typeof Symbol&&"function"==typeof Symbol.for,kd=Cd?Symbol.for("INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER"):"@@INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER",Ad=Cd?Symbol.for("INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER"):"@@INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER",Td="x-amz-user-agent",Id={userAgent:K.userAgent};O.Amplify;o(N,Ct),o(N,Ye);var Nd,Od,Pd,jd,Rd,Md,Ud={};function Ld(e){return e&&!!["provider"].find((function(t){return e.hasOwnProperty(t)}))}function Dd(e){return e&&!!["customState"].find((function(t){return e.hasOwnProperty(t)}))}function Fd(e){return void 0!==e.redirectSignIn}e(Ud,"Auth",(()=>yh),(e=>yh=e)),(Od=Nd||(Nd={})).Cognito="COGNITO",Od.Google="Google",Od.Facebook="Facebook",Od.Amazon="LoginWithAmazon",Od.Apple="SignInWithApple",(jd=Pd||(Pd={})).NoConfig="noConfig",jd.MissingAuthConfig="missingAuthConfig",jd.EmptyUsername="emptyUsername",jd.InvalidUsername="invalidUsername",jd.EmptyPassword="emptyPassword",jd.EmptyCode="emptyCode",jd.SignUpError="signUpError",jd.NoMFA="noMFA",jd.InvalidMFA="invalidMFA",jd.EmptyChallengeResponse="emptyChallengeResponse",jd.NoUserSession="noUserSession",jd.Default="default",jd.DeviceConfig="deviceConfig",jd.NetworkError="networkError",(Md=Rd||(Rd={})).API_KEY="API_KEY",Md.AWS_IAM="AWS_IAM",Md.OPENID_CONNECT="OPENID_CONNECT",Md.AMAZON_COGNITO_USER_POOLS="AMAZON_COGNITO_USER_POOLS",Md.AWS_LAMBDA="AWS_LAMBDA";
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var Bd=function(){function e(e){var t=e||{},n=t.ValidationData,r=t.Username,o=t.Password,i=t.AuthParameters,a=t.ClientMetadata;this.validationData=n||{},this.authParameters=i||{},this.clientMetadata=a||{},this.username=r,this.password=o}var t=e.prototype;return t.getUsername=function(){return this.username},t.getPassword=function(){return this.password},t.getValidationData=function(){return this.validationData},t.getAuthParameters=function(){return this.authParameters},t.getClientMetadata=function(){return this.clientMetadata},e}(),zd=s("awmEs"),Vd=s("j0EVl");s("dWihT");var qd,Kd=s("e5at0"),Hd=s("1BRlx");if("undefined"!=typeof window&&window.crypto&&(qd=window.crypto),!qd&&"undefined"!=typeof window&&window.msCrypto&&(qd=window.msCrypto),!qd&&void 0!==t&&t.crypto&&(qd=t.crypto),!qd)try{qd=s("4AFFV")}catch(e){}function Gd(){if(qd){if("function"==typeof qd.getRandomValues)try{return qd.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof qd.randomBytes)try{return qd.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")}var Wd,$d=function(){function e(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length}var t=e.prototype;return t.random=function(t){for(var n=[],r=0;r<t;r+=4)n.push(Gd());return new e(n,t)},t.toString=function(){return function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")}(this)},e}(),Yd=Jd;function Jd(e,t){null!=e&&this.fromString(e,t)}function Qd(){return new Jd(null)}var Zd="undefined"!=typeof navigator;Zd&&"Microsoft Internet Explorer"==navigator.appName?(Jd.prototype.am=function(e,t,n,r,o,i){for(var a=32767&t,s=t>>15;--i>=0;){var u=32767&this[e],c=this[e++]>>15,l=s*u+c*a;o=((u=a*u+((32767&l)<<15)+n[r]+(1073741823&o))>>>30)+(l>>>15)+s*c+(o>>>30),n[r++]=1073741823&u}return o},Wd=30):Zd&&"Netscape"!=navigator.appName?(Jd.prototype.am=function(e,t,n,r,o,i){for(;--i>=0;){var a=t*this[e++]+n[r]+o;o=Math.floor(a/67108864),n[r++]=67108863&a}return o},Wd=26):(Jd.prototype.am=function(e,t,n,r,o,i){for(var a=16383&t,s=t>>14;--i>=0;){var u=16383&this[e],c=this[e++]>>14,l=s*u+c*a;o=((u=a*u+((16383&l)<<14)+n[r]+o)>>28)+(l>>14)+s*c,n[r++]=268435455&u}return o},Wd=28),Jd.prototype.DB=Wd,Jd.prototype.DM=(1<<Wd)-1,Jd.prototype.DV=1<<Wd;Jd.prototype.FV=Math.pow(2,52),Jd.prototype.F1=52-Wd,Jd.prototype.F2=2*Wd-52;var Xd,ef,tf=new Array;for(Xd="0".charCodeAt(0),ef=0;ef<=9;++ef)tf[Xd++]=ef;for(Xd="a".charCodeAt(0),ef=10;ef<36;++ef)tf[Xd++]=ef;for(Xd="A".charCodeAt(0),ef=10;ef<36;++ef)tf[Xd++]=ef;function nf(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function rf(e,t){var n=tf[e.charCodeAt(t)];return null==n?-1:n}function of(e){var t=Qd();return t.fromInt(e),t}function af(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function sf(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function uf(e){return zd.Buffer.from((new $d).random(e).toString(),"hex")}sf.prototype.convert=function(e){var t=Qd();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(Jd.ZERO)>0&&this.m.subTo(t,t),t},sf.prototype.revert=function(e){var t=Qd();return e.copyTo(t),this.reduce(t),t},sf.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},sf.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},sf.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},Jd.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},Jd.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},Jd.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");n=2}this.t=0,this.s=0;for(var r=e.length,o=!1,i=0;--r>=0;){var a=rf(e,r);a<0?"-"==e.charAt(r)&&(o=!0):(o=!1,0==i?this[this.t++]=a:i+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-i)-1)<<i,this[this.t++]=a>>this.DB-i):this[this.t-1]|=a<<i,(i+=n)>=this.DB&&(i-=this.DB))}this.clamp(),o&&Jd.ZERO.subTo(this,this)},Jd.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},Jd.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},Jd.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},Jd.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,o=this.DB-r,i=(1<<o)-1,a=Math.floor(e/this.DB),s=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+a+1]=this[n]>>o|s,s=(this[n]&i)<<r;for(n=a-1;n>=0;--n)t[n]=0;t[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()},Jd.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,o=this.DB-r,i=(1<<r)-1;t[0]=this[n]>>r;for(var a=n+1;a<this.t;++a)t[a-n-1]|=(this[a]&i)<<o,t[a-n]=this[a]>>r;r>0&&(t[this.t-n-1]|=(this.s&i)<<o),t.t=this.t-n,t.clamp()}},Jd.prototype.subTo=function(e,t){for(var n=0,r=0,o=Math.min(e.t,this.t);n<o;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},Jd.prototype.multiplyTo=function(e,t){var n=this.abs(),r=e.abs(),o=n.t;for(t.t=o+r.t;--o>=0;)t[o]=0;for(o=0;o<r.t;++o)t[o+n.t]=n.am(0,r[o],t,o,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&Jd.ZERO.subTo(t,t)},Jd.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},Jd.prototype.divRemTo=function(e,t,n){var r=e.abs();if(!(r.t<=0)){var o=this.abs();if(o.t<r.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=Qd());var i=Qd(),a=this.s,s=e.s,u=this.DB-af(r[r.t-1]);u>0?(r.lShiftTo(u,i),o.lShiftTo(u,n)):(r.copyTo(i),o.copyTo(n));var c=i.t,l=i[c-1];if(0!=l){var d=l*(1<<this.F1)+(c>1?i[c-2]>>this.F2:0),f=this.FV/d,h=(1<<this.F1)/d,p=1<<this.F2,v=n.t,g=v-c,m=null==t?Qd():t;for(i.dlShiftTo(g,m),n.compareTo(m)>=0&&(n[n.t++]=1,n.subTo(m,n)),Jd.ONE.dlShiftTo(c,m),m.subTo(i,i);i.t<c;)i[i.t++]=0;for(;--g>=0;){var y=n[--v]==l?this.DM:Math.floor(n[v]*f+(n[v-1]+p)*h);if((n[v]+=i.am(0,y,n,g,0,c))<y)for(i.dlShiftTo(g,m),n.subTo(m,n);n[v]<--y;)n.subTo(m,n)}null!=t&&(n.drShiftTo(c,t),a!=s&&Jd.ZERO.subTo(t,t)),n.t=c,n.clamp(),u>0&&n.rShiftTo(u,n),a<0&&Jd.ZERO.subTo(n,n)}}},Jd.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},Jd.prototype.addTo=function(e,t){for(var n=0,r=0,o=Math.min(e.t,this.t);n<o;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},Jd.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");t=2}var n,r=(1<<t)-1,o=!1,i="",a=this.t,s=this.DB-a*this.DB%t;if(a-- >0)for(s<this.DB&&(n=this[a]>>s)>0&&(o=!0,i=nf(n));a>=0;)s<t?(n=(this[a]&(1<<s)-1)<<t-s,n|=this[--a]>>(s+=this.DB-t)):(n=this[a]>>(s-=t)&r,s<=0&&(s+=this.DB,--a)),n>0&&(o=!0),o&&(i+=nf(n));return o?i:"0"},Jd.prototype.negate=function(){var e=Qd();return Jd.ZERO.subTo(this,e),e},Jd.prototype.abs=function(){return this.s<0?this.negate():this},Jd.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},Jd.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+af(this[this.t-1]^this.s&this.DM)},Jd.prototype.mod=function(e){var t=Qd();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(Jd.ZERO)>0&&e.subTo(t,t),t},Jd.prototype.equals=function(e){return 0==this.compareTo(e)},Jd.prototype.add=function(e){var t=Qd();return this.addTo(e,t),t},Jd.prototype.subtract=function(e){var t=Qd();return this.subTo(e,t),t},Jd.prototype.multiply=function(e){var t=Qd();return this.multiplyTo(e,t),t},Jd.prototype.divide=function(e){var t=Qd();return this.divRemTo(e,t,null),t},Jd.prototype.modPow=function(e,t,n){var r,o=e.bitLength(),i=of(1),a=new sf(t);if(o<=0)return i;r=o<18?1:o<48?3:o<144?4:o<768?5:6;var s=new Array,u=3,c=r-1,l=(1<<r)-1;if(s[1]=a.convert(this),r>1){var d=Qd();for(a.sqrTo(s[1],d);u<=l;)s[u]=Qd(),a.mulTo(d,s[u-2],s[u]),u+=2}var f,h,p=e.t-1,v=!0,g=Qd();for(o=af(e[p])-1;p>=0;){for(o>=c?f=e[p]>>o-c&l:(f=(e[p]&(1<<o+1)-1)<<c-o,p>0&&(f|=e[p-1]>>this.DB+o-c)),u=r;0==(1&f);)f>>=1,--u;if((o-=u)<0&&(o+=this.DB,--p),v)s[f].copyTo(i),v=!1;else{for(;u>1;)a.sqrTo(i,g),a.sqrTo(g,i),u-=2;u>0?a.sqrTo(i,g):(h=i,i=g,g=h),a.mulTo(g,s[f],i)}for(;p>=0&&0==(e[p]&1<<o);)a.sqrTo(i,g),h=i,i=g,g=h,--o<0&&(o=this.DB-1,--p)}var m=a.revert(i);return n(null,m),m},Jd.ZERO=of(0),Jd.ONE=of(1);var cf=/^[89a-f]/i,lf=function(){function e(e){this.N=new Yd("FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",16),this.g=new Yd("2",16),this.k=new Yd(this.hexHash(""+this.padHex(this.N)+this.padHex(this.g)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue((function(){})),this.infoBits=zd.Buffer.from("Caldera Derived Key","utf8"),this.poolName=e}var t=e.prototype;return t.getSmallAValue=function(){return this.smallAValue},t.getLargeAValue=function(e){var t=this;this.largeAValue?e(null,this.largeAValue):this.calculateA(this.smallAValue,(function(n,r){n&&e(n,null),t.largeAValue=r,e(null,t.largeAValue)}))},t.generateRandomSmallA=function(){var e=uf(128).toString("hex");return new Yd(e,16)},t.generateRandomString=function(){return uf(40).toString("base64")},t.getRandomPassword=function(){return this.randomPassword},t.getSaltDevices=function(){return this.SaltToHashDevices},t.getVerifierDevices=function(){return this.verifierDevices},t.generateHashDevice=function(e,t,n){var r=this;this.randomPassword=this.generateRandomString();var o=""+e+t+":"+this.randomPassword,i=this.hash(o),a=uf(16).toString("hex");this.SaltToHashDevices=this.padHex(new Yd(a,16)),this.g.modPow(new Yd(this.hexHash(this.SaltToHashDevices+i),16),this.N,(function(e,t){e&&n(e,null),r.verifierDevices=r.padHex(t),n(null,null)}))},t.calculateA=function(e,t){var n=this;this.g.modPow(e,this.N,(function(e,r){e&&t(e,null),r.mod(n.N).equals(Yd.ZERO)&&t(new Error("Illegal paramater. A mod N cannot be 0."),null),t(null,r)}))},t.calculateU=function(e,t){return this.UHexHash=this.hexHash(this.padHex(e)+this.padHex(t)),new Yd(this.UHexHash,16)},t.hash=function(e){var t=e instanceof zd.Buffer?r(Vd).lib.WordArray.create(e):e,n=r(Kd)(t).toString();return new Array(64-n.length).join("0")+n},t.hexHash=function(e){return this.hash(zd.Buffer.from(e,"hex"))},t.computehkdf=function(e,t){var n=r(Vd).lib.WordArray.create(zd.Buffer.concat([this.infoBits,zd.Buffer.from(String.fromCharCode(1),"utf8")])),o=e instanceof zd.Buffer?r(Vd).lib.WordArray.create(e):e,i=t instanceof zd.Buffer?r(Vd).lib.WordArray.create(t):t,a=r(Hd)(o,i),s=r(Hd)(n,a);return zd.Buffer.from(s.toString(),"hex").slice(0,16)},t.getPasswordAuthenticationKey=function(e,t,n,r,o){var i=this;if(n.mod(this.N).equals(Yd.ZERO))throw new Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,n),this.UValue.equals(Yd.ZERO))throw new Error("U cannot be zero.");var a=""+this.poolName+e+":"+t,s=this.hash(a),u=new Yd(this.hexHash(this.padHex(r)+s),16);this.calculateS(u,n,(function(e,t){e&&o(e,null);var n=i.computehkdf(zd.Buffer.from(i.padHex(t),"hex"),zd.Buffer.from(i.padHex(i.UValue),"hex"));o(null,n)}))},t.calculateS=function(e,t,n){var r=this;this.g.modPow(e,this.N,(function(o,i){o&&n(o,null),t.subtract(r.k.multiply(i)).modPow(r.smallAValue.add(r.UValue.multiply(e)),r.N,(function(e,t){e&&n(e,null),n(null,t.mod(r.N))}))}))},t.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return"userAttributes."},t.padHex=function(e){if(!(e instanceof Yd))throw new Error("Not a BigInteger");var t=e.compareTo(Yd.ZERO)<0,n=e.abs().toString(16);if(n=n.length%2!=0?"0"+n:n,n=cf.test(n)?"00"+n:n,t){var r=n.split("").map((function(e){var t=15&~parseInt(e,16);return"0123456789ABCDEF".charAt(t)})).join("");(n=new Yd(r,16).add(Yd.ONE).toString(16)).toUpperCase().startsWith("FF8")&&(n=n.substring(2))}return n},e}(),df=(zd=s("awmEs"),function(){function e(e){this.jwtToken=e||"",this.payload=this.decodePayload()}var t=e.prototype;return t.getJwtToken=function(){return this.jwtToken},t.getExpiration=function(){return this.payload.exp},t.getIssuedAt=function(){return this.payload.iat},t.decodePayload=function(){var e=this.jwtToken.split(".")[1];try{return JSON.parse(zd.Buffer.from(e,"base64").toString("utf8"))}catch(e){return{}}},e}());function ff(e,t){return(ff=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var hf=function(e){var t,n;function r(t){var n=(void 0===t?{}:t).AccessToken;return e.call(this,n||"")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,ff(t,n),r}(df);function pf(e,t){return(pf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var vf=function(e){var t,n;function r(t){var n=(void 0===t?{}:t).IdToken;return e.call(this,n||"")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,pf(t,n),r}(df),gf=function(){function e(e){var t=(void 0===e?{}:e).RefreshToken;this.token=t||""}return e.prototype.getToken=function(){return this.token},e}();
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */zd=s("awmEs"),Vd=s("j0EVl");s("dWihT");var mf=s("fU9hS"),yf=(Hd=s("1BRlx"),function(){function e(e){var t=void 0===e?{}:e,n=t.IdToken,r=t.RefreshToken,o=t.AccessToken,i=t.ClockDrift;if(null==o||null==n)throw new Error("Id token and Access Token must be present.");this.idToken=n,this.refreshToken=r,this.accessToken=o,this.clockDrift=void 0===i?this.calculateClockDrift():i}var t=e.prototype;return t.getIdToken=function(){return this.idToken},t.getRefreshToken=function(){return this.refreshToken},t.getAccessToken=function(){return this.accessToken},t.getClockDrift=function(){return this.clockDrift},t.calculateClockDrift=function(){return Math.floor(new Date/1e3)-Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt())},t.isValid=function(){var e=Math.floor(new Date/1e3)-this.clockDrift;return e<this.accessToken.getExpiration()&&e<this.idToken.getExpiration()},e}()),bf=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wf=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Sf=function(){function e(){}return e.prototype.getNowString=function(){var e=new Date,t=wf[e.getUTCDay()],n=bf[e.getUTCMonth()],r=e.getUTCDate(),o=e.getUTCHours();o<10&&(o="0"+o);var i=e.getUTCMinutes();i<10&&(i="0"+i);var a=e.getUTCSeconds();return a<10&&(a="0"+a),t+" "+n+" "+r+" "+o+":"+i+":"+a+" UTC "+e.getUTCFullYear()},e}(),xf=function(){function e(e){var t=void 0===e?{}:e,n=t.Name,r=t.Value;this.Name=n||"",this.Value=r||""}var t=e.prototype;return t.getValue=function(){return this.Value},t.setValue=function(e){return this.Value=e,this},t.getName=function(){return this.Name},t.setName=function(e){return this.Name=e,this},t.toString=function(){return JSON.stringify(this)},t.toJSON=function(){return{Name:this.Name,Value:this.Value}},e}(),_f={},Ef=function(){function e(){}return e.setItem=function(e,t){return _f[e]=t,_f[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(_f,e)?_f[e]:void 0},e.removeItem=function(e){return delete _f[e]},e.clear=function(){return _f={}},e}(),Cf=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch(e){this.storageWindow=Ef}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),kf="undefined"!=typeof navigator?navigator.userAgent:"nodejs",Af=function(){function e(e){if(null==e||null==e.Username||null==e.Pool)throw new Error("Username and Pool information are required.");this.username=e.Username||"",this.pool=e.Pool,this.Session=null,this.client=e.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=e.Storage||(new Cf).getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}var t=e.prototype;return t.setSignInUserSession=function(e){this.clearCachedUserData(),this.signInUserSession=e,this.cacheTokens()},t.getSignInUserSession=function(){return this.signInUserSession},t.getUsername=function(){return this.username},t.getAuthenticationFlowType=function(){return this.authenticationFlowType},t.setAuthenticationFlowType=function(e){this.authenticationFlowType=e},t.initiateAuth=function(e,t){var n=this,r=e.getAuthParameters();r.USERNAME=this.username;var o=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),i={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:o};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",i,(function(e,r){if(e)return t.onFailure(e);var o=r.ChallengeName,i=r.ChallengeParameters;return"CUSTOM_CHALLENGE"===o?(n.Session=r.Session,t.customChallenge(i)):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),t.onSuccess(n.signInUserSession))}))},t.authenticateUser=function(e,t){return"USER_PASSWORD_AUTH"===this.authenticationFlowType?this.authenticateUserPlainUsernamePassword(e,t):"USER_SRP_AUTH"===this.authenticationFlowType||"CUSTOM_AUTH"===this.authenticationFlowType?this.authenticateUserDefaultAuth(e,t):t.onFailure(new Error("Authentication flow type is invalid."))},t.authenticateUserDefaultAuth=function(e,t){var n,o,i=this,a=new lf(this.pool.getUserPoolId().split("_")[1]),s=new Sf,u={};null!=this.deviceKey&&(u.DEVICE_KEY=this.deviceKey),u.USERNAME=this.username,a.getLargeAValue((function(c,l){c&&t.onFailure(c),u.SRP_A=l.toString(16),"CUSTOM_AUTH"===i.authenticationFlowType&&(u.CHALLENGE_NAME="SRP_A");var d=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),f={AuthFlow:i.authenticationFlowType,ClientId:i.pool.getClientId(),AuthParameters:u,ClientMetadata:d};i.getUserContextData(i.username)&&(f.UserContextData=i.getUserContextData(i.username)),i.client.request("InitiateAuth",f,(function(u,c){if(u)return t.onFailure(u);var l=c.ChallengeParameters;i.username=l.USER_ID_FOR_SRP,i.userDataKey=i.keyPrefix+"."+i.username+".userData",n=new Yd(l.SRP_B,16),o=new Yd(l.SALT,16),i.getCachedDeviceKeyAndPassword(),a.getPasswordAuthenticationKey(i.username,e.getPassword(),n,o,(function(e,n){e&&t.onFailure(e);var o=s.getNowString(),u=r(Vd).lib.WordArray.create(zd.Buffer.concat([zd.Buffer.from(i.pool.getUserPoolId().split("_")[1],"utf8"),zd.Buffer.from(i.username,"utf8"),zd.Buffer.from(l.SECRET_BLOCK,"base64"),zd.Buffer.from(o,"utf8")])),f=r(Vd).lib.WordArray.create(n),h=r(mf).stringify(r(Hd)(u,f)),p={};p.USERNAME=i.username,p.PASSWORD_CLAIM_SECRET_BLOCK=l.SECRET_BLOCK,p.TIMESTAMP=o,p.PASSWORD_CLAIM_SIGNATURE=h,null!=i.deviceKey&&(p.DEVICE_KEY=i.deviceKey);var v={ChallengeName:"PASSWORD_VERIFIER",ClientId:i.pool.getClientId(),ChallengeResponses:p,Session:c.Session,ClientMetadata:d};i.getUserContextData()&&(v.UserContextData=i.getUserContextData()),function e(t,n){return i.client.request("RespondToAuthChallenge",t,(function(r,o){return r&&"ResourceNotFoundException"===r.code&&-1!==r.message.toLowerCase().indexOf("device")?(p.DEVICE_KEY=null,i.deviceKey=null,i.randomPassword=null,i.deviceGroupKey=null,i.clearCachedDeviceKeyAndPassword(),e(t,n)):n(r,o)}))}(v,(function(e,n){return e?t.onFailure(e):i.authenticateUserInternal(n,a,t)}))}))}))}))},t.authenticateUserPlainUsernamePassword=function(e,t){var n=this,r={};if(r.USERNAME=this.username,r.PASSWORD=e.getPassword(),r.PASSWORD){var o=new lf(this.pool.getUserPoolId().split("_")[1]);this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(r.DEVICE_KEY=this.deviceKey);var i=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),a={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:i};this.getUserContextData(this.username)&&(a.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",a,(function(e,r){return e?t.onFailure(e):n.authenticateUserInternal(r,o,t)}))}else t.onFailure(new Error("PASSWORD parameter is required"))},t.authenticateUserInternal=function(e,t,n){var r=this,o=e.ChallengeName,i=e.ChallengeParameters;if("SMS_MFA"===o)return this.Session=e.Session,n.mfaRequired(o,i);if("SELECT_MFA_TYPE"===o)return this.Session=e.Session,n.selectMFAType(o,i);if("MFA_SETUP"===o)return this.Session=e.Session,n.mfaSetup(o,i);if("SOFTWARE_TOKEN_MFA"===o)return this.Session=e.Session,n.totpRequired(o,i);if("CUSTOM_CHALLENGE"===o)return this.Session=e.Session,n.customChallenge(i);if("NEW_PASSWORD_REQUIRED"===o){this.Session=e.Session;var a=null,s=null,u=[],c=t.getNewPasswordRequiredChallengeUserAttributePrefix();if(i&&(a=JSON.parse(e.ChallengeParameters.userAttributes),s=JSON.parse(e.ChallengeParameters.requiredAttributes)),s)for(var l=0;l<s.length;l++)u[l]=s[l].substr(c.length);return n.newPasswordRequired(a,u)}if("DEVICE_SRP_AUTH"===o)return this.Session=e.Session,void this.getDeviceResponse(n);this.signInUserSession=this.getCognitoUserSession(e.AuthenticationResult),this.challengeName=o,this.cacheTokens();var d=e.AuthenticationResult.NewDeviceMetadata;if(null==d)return n.onSuccess(this.signInUserSession);t.generateHashDevice(e.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,e.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(o){if(o)return n.onFailure(o);var i={Salt:zd.Buffer.from(t.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:zd.Buffer.from(t.getVerifierDevices(),"hex").toString("base64")};r.verifierDevices=i.PasswordVerifier,r.deviceGroupKey=d.DeviceGroupKey,r.randomPassword=t.getRandomPassword(),r.client.request("ConfirmDevice",{DeviceKey:d.DeviceKey,AccessToken:r.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:i,DeviceName:kf},(function(t,o){return t?n.onFailure(t):(r.deviceKey=e.AuthenticationResult.NewDeviceMetadata.DeviceKey,r.cacheDeviceKeyAndPassword(),!0===o.UserConfirmationNecessary?n.onSuccess(r.signInUserSession,o.UserConfirmationNecessary):n.onSuccess(r.signInUserSession))}))}))},t.completeNewPasswordChallenge=function(e,t,n,r){var o=this;if(!e)return n.onFailure(new Error("New password is required."));var i=new lf(this.pool.getUserPoolId().split("_")[1]),a=i.getNewPasswordRequiredChallengeUserAttributePrefix(),s={};t&&Object.keys(t).forEach((function(e){s[a+e]=t[e]})),s.NEW_PASSWORD=e,s.USERNAME=this.username;var u={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:s,Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(u.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",u,(function(e,t){return e?n.onFailure(e):o.authenticateUserInternal(t,i,n)}))},t.getDeviceResponse=function(e,t){var n=this,o=new lf(this.deviceGroupKey),i=new Sf,a={};a.USERNAME=this.username,a.DEVICE_KEY=this.deviceKey,o.getLargeAValue((function(s,u){s&&e.onFailure(s),a.SRP_A=u.toString(16);var c={ChallengeName:"DEVICE_SRP_AUTH",ClientId:n.pool.getClientId(),ChallengeResponses:a,ClientMetadata:t,Session:n.Session};n.getUserContextData()&&(c.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",c,(function(t,a){if(t)return e.onFailure(t);var s=a.ChallengeParameters,u=new Yd(s.SRP_B,16),c=new Yd(s.SALT,16);o.getPasswordAuthenticationKey(n.deviceKey,n.randomPassword,u,c,(function(t,o){if(t)return e.onFailure(t);var u=i.getNowString(),c=r(Vd).lib.WordArray.create(zd.Buffer.concat([zd.Buffer.from(n.deviceGroupKey,"utf8"),zd.Buffer.from(n.deviceKey,"utf8"),zd.Buffer.from(s.SECRET_BLOCK,"base64"),zd.Buffer.from(u,"utf8")])),l=r(Vd).lib.WordArray.create(o),d=r(mf).stringify(r(Hd)(c,l)),f={};f.USERNAME=n.username,f.PASSWORD_CLAIM_SECRET_BLOCK=s.SECRET_BLOCK,f.TIMESTAMP=u,f.PASSWORD_CLAIM_SIGNATURE=d,f.DEVICE_KEY=n.deviceKey;var h={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:n.pool.getClientId(),ChallengeResponses:f,Session:a.Session};n.getUserContextData()&&(h.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",h,(function(t,r){return t?e.onFailure(t):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),e.onSuccess(n.signInUserSession))}))}))}))}))},t.confirmRegistration=function(e,t,n,r){var o={ClientId:this.pool.getClientId(),ConfirmationCode:e,Username:this.username,ForceAliasCreation:t,ClientMetadata:r};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",o,(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.sendCustomChallengeAnswer=function(e,t,n){var r=this,o={};o.USERNAME=this.username,o.ANSWER=e;var i=new lf(this.pool.getUserPoolId().split("_")[1]);this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(o.DEVICE_KEY=this.deviceKey);var a={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:o,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:n};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",a,(function(e,n){return e?t.onFailure(e):r.authenticateUserInternal(n,i,t)}))},t.sendMFACode=function(e,t,n,r){var o=this,i={};i.USERNAME=this.username,i.SMS_MFA_CODE=e;var a=n||"SMS_MFA";"SOFTWARE_TOKEN_MFA"===a&&(i.SOFTWARE_TOKEN_MFA_CODE=e),null!=this.deviceKey&&(i.DEVICE_KEY=this.deviceKey);var s={ChallengeName:a,ChallengeResponses:i,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(s.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",s,(function(e,n){if(e)return t.onFailure(e);if("DEVICE_SRP_AUTH"!==n.ChallengeName){if(o.signInUserSession=o.getCognitoUserSession(n.AuthenticationResult),o.cacheTokens(),null==n.AuthenticationResult.NewDeviceMetadata)return t.onSuccess(o.signInUserSession);var r=new lf(o.pool.getUserPoolId().split("_")[1]);r.generateHashDevice(n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,n.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(e){if(e)return t.onFailure(e);var i={Salt:zd.Buffer.from(r.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:zd.Buffer.from(r.getVerifierDevices(),"hex").toString("base64")};o.verifierDevices=i.PasswordVerifier,o.deviceGroupKey=n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,o.randomPassword=r.getRandomPassword(),o.client.request("ConfirmDevice",{DeviceKey:n.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:o.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:i,DeviceName:kf},(function(e,r){return e?t.onFailure(e):(o.deviceKey=n.AuthenticationResult.NewDeviceMetadata.DeviceKey,o.cacheDeviceKeyAndPassword(),!0===r.UserConfirmationNecessary?t.onSuccess(o.signInUserSession,r.UserConfirmationNecessary):t.onSuccess(o.signInUserSession))}))}))}else o.getDeviceResponse(t)}))},t.changePassword=function(e,t,n,r){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:e,ProposedPassword:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:r},(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.enableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);var t=[];t.push({DeliveryMedium:"SMS",AttributeName:"phone_number"}),this.client.request("SetUserSettings",{MFAOptions:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},t.setUserMfaPreference=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:e,SoftwareTokenMfaSettings:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.disableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("SetUserSettings",{MFAOptions:[],AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},t.deleteUser=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:t},(function(t){return t?e(t,null):(n.clearCachedUser(),e(null,"SUCCESS"))}))},t.updateAttributes=function(e,t,n){var r=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:e,ClientMetadata:n},(function(e){return e?t(e,null):r.getUserData((function(){return t(null,"SUCCESS")}),{bypassCache:!0})}))},t.getUserAttributes=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){if(t)return e(t,null);for(var r=[],o=0;o<n.UserAttributes.length;o++){var i={Name:n.UserAttributes[o].Name,Value:n.UserAttributes[o].Value},a=new xf(i);r.push(a)}return e(null,r)}))},t.getMFAOptions=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){return t?e(t,null):e(null,n.MFAOptions)}))},t.createGetUserRequest=function(){return this.client.promisifyRequest("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()})},t.refreshSessionIfPossible=function(e){var t=this;return void 0===e&&(e={}),new Promise((function(n){var r=t.signInUserSession.getRefreshToken();r&&r.getToken()?t.refreshSession(r,n,e.clientMetadata):n()}))},t.getUserData=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return this.clearCachedUserData(),e(new Error("User is not authenticated"),null);var r=this.getUserDataFromCache();if(r)if(this.isFetchUserDataAndTokenRequired(t))this.fetchUserData().then((function(e){return n.refreshSessionIfPossible(t).then((function(){return e}))})).then((function(t){return e(null,t)})).catch(e);else try{return void e(null,JSON.parse(r))}catch(t){return this.clearCachedUserData(),void e(t,null)}else this.fetchUserData().then((function(t){e(null,t)})).catch(e)},t.getUserDataFromCache=function(){return this.storage.getItem(this.userDataKey)},t.isFetchUserDataAndTokenRequired=function(e){var t=(e||{}).bypassCache;return void 0!==t&&t},t.fetchUserData=function(){var e=this;return this.createGetUserRequest().then((function(t){return e.cacheUserData(t),t}))},t.deleteAttributes=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?t(e,null):n.getUserData((function(){return t(null,"SUCCESS")}),{bypassCache:!0})}))},t.resendConfirmationCode=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.client.request("ResendConfirmationCode",n,(function(t,n){return t?e(t,null):e(null,n)}))},t.getSession=function(e,t){if(void 0===t&&(t={}),null==this.username)return e(new Error("Username is null. Cannot retrieve a new session"),null);if(null!=this.signInUserSession&&this.signInUserSession.isValid())return e(null,this.signInUserSession);var n="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,r=n+".idToken",o=n+".accessToken",i=n+".refreshToken",a=n+".clockDrift";if(this.storage.getItem(r)){var s=new vf({IdToken:this.storage.getItem(r)}),u=new hf({AccessToken:this.storage.getItem(o)}),c=new gf({RefreshToken:this.storage.getItem(i)}),l=parseInt(this.storage.getItem(a),0)||0,d=new yf({IdToken:s,AccessToken:u,RefreshToken:c,ClockDrift:l});if(d.isValid())return this.signInUserSession=d,e(null,this.signInUserSession);if(!c.getToken())return e(new Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(c,e,t.clientMetadata)}else e(new Error("Local storage is missing an ID Token, Please authenticate"),null)},t.refreshSession=function(e,t,n){var r=this,o=this.pool.wrapRefreshSessionCallback?this.pool.wrapRefreshSessionCallback(t):t,i={};i.REFRESH_TOKEN=e.getToken();var a="CognitoIdentityServiceProvider."+this.pool.getClientId(),s=a+".LastAuthUser";if(this.storage.getItem(s)){this.username=this.storage.getItem(s);var u=a+"."+this.username+".deviceKey";this.deviceKey=this.storage.getItem(u),i.DEVICE_KEY=this.deviceKey}var c={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:i,ClientMetadata:n};this.getUserContextData()&&(c.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",c,(function(t,n){if(t)return"NotAuthorizedException"===t.code&&r.clearCachedUser(),o(t,null);if(n){var i=n.AuthenticationResult;return Object.prototype.hasOwnProperty.call(i,"RefreshToken")||(i.RefreshToken=e.getToken()),r.signInUserSession=r.getCognitoUserSession(i),r.cacheTokens(),o(null,r.signInUserSession)}}))},t.cacheTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",r=e+"."+this.username+".refreshToken",o=e+"."+this.username+".clockDrift",i=e+".LastAuthUser";this.storage.setItem(t,this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(n,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(r,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(o,""+this.signInUserSession.getClockDrift()),this.storage.setItem(i,this.username)},t.cacheUserData=function(e){this.storage.setItem(this.userDataKey,JSON.stringify(e))},t.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},t.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},t.cacheDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.setItem(t,this.deviceKey),this.storage.setItem(n,this.randomPassword),this.storage.setItem(r,this.deviceGroupKey)},t.getCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.getItem(t)&&(this.deviceKey=this.storage.getItem(t),this.randomPassword=this.storage.getItem(n),this.deviceGroupKey=this.storage.getItem(r))},t.clearCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(r)},t.clearCachedTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",r=e+"."+this.username+".refreshToken",o=e+".LastAuthUser",i=e+"."+this.username+".clockDrift";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(r),this.storage.removeItem(o),this.storage.removeItem(i)},t.getCognitoUserSession=function(e){var t=new vf(e),n=new hf(e),r=new gf(e);return new yf({IdToken:t,AccessToken:n,RefreshToken:r})},t.forgotPassword=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.getUserContextData()&&(n.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",n,(function(t,n){return t?e.onFailure(t):"function"==typeof e.inputVerificationCode?e.inputVerificationCode(n):e.onSuccess(n)}))},t.confirmPassword=function(e,t,n,r){var o={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:e,Password:t,ClientMetadata:r};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",o,(function(e){return e?n.onFailure(e):n.onSuccess("SUCCESS")}))},t.getAttributeVerificationCode=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:n},(function(e,n){return e?t.onFailure(e):"function"==typeof t.inputVerificationCode?t.inputVerificationCode(n):t.onSuccess("SUCCESS")}))},t.verifyAttribute=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:e,Code:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?n.onFailure(e):n.onSuccess("SUCCESS")}))},t.getDevice=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},(function(t,n){return t?e.onFailure(t):e.onSuccess(n)}))},t.forgetSpecificDevice=function(e,t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:e},(function(e){return e?t.onFailure(e):t.onSuccess("SUCCESS")}))},t.forgetDevice=function(e){var t=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:e.onFailure,onSuccess:function(n){return t.deviceKey=null,t.deviceGroupKey=null,t.randomPassword=null,t.clearCachedDeviceKeyAndPassword(),e.onSuccess(n)}})},t.setDeviceStatusRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},(function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")}))},t.setDeviceStatusNotRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},(function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")}))},t.listDevices=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));var r={AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:e};t&&(r.PaginationToken=t),this.client.request("ListDevices",r,(function(e,t){return e?n.onFailure(e):n.onSuccess(t)}))},t.globalSignOut=function(e){var t=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(n){return n?e.onFailure(n):(t.clearCachedUser(),e.onSuccess("SUCCESS"))}))},t.signOut=function(e){var t=this;e&&"function"==typeof e?this.getSession((function(n,r){if(n)return e(n);t.revokeTokens((function(n){t.cleanClientData(),e(n)}))})):this.cleanClientData()},t.revokeTokens=function(e){if(void 0===e&&(e=function(){}),"function"!=typeof e)throw new Error("Invalid revokeTokenCallback. It should be a function.");if(!this.signInUserSession)return e(new Error("User is not authenticated"));if(!this.signInUserSession.getAccessToken())return e(new Error("No Access token available"));var t=this.signInUserSession.getRefreshToken().getToken(),n=this.signInUserSession.getAccessToken();if(this.isSessionRevocable(n)&&t)return this.revokeToken({token:t,callback:e});e()},t.isSessionRevocable=function(e){if(e&&"function"==typeof e.decodePayload)try{return!!e.decodePayload().origin_jti}catch(e){}return!1},t.cleanClientData=function(){this.signInUserSession=null,this.clearCachedUser()},t.revokeToken=function(e){var t=e.token,n=e.callback;this.client.requestWithRetry("RevokeToken",{Token:t,ClientId:this.pool.getClientId()},(function(e){if(e)return n(e);n()}))},t.sendMFASelectionAnswer=function(e,t){var n=this,r={};r.USERNAME=this.username,r.ANSWER=e;var o={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:r,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",o,(function(r,o){return r?t.onFailure(r):(n.Session=o.Session,"SMS_MFA"===e?t.mfaRequired(o.ChallengeName,o.ChallengeParameters):"SOFTWARE_TOKEN_MFA"===e?t.totpRequired(o.ChallengeName,o.ChallengeParameters):void 0)}))},t.getUserContextData=function(){return this.pool.getUserContextData(this.username)},t.associateSoftwareToken=function(e){var t=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){return t?e.onFailure(t):e.associateSecretCode(n.SecretCode)})):this.client.request("AssociateSoftwareToken",{Session:this.Session},(function(n,r){return n?e.onFailure(n):(t.Session=r.Session,e.associateSecretCode(r.SecretCode))}))},t.verifySoftwareToken=function(e,t,n){var r=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:e,FriendlyDeviceName:t},(function(e,t){return e?n.onFailure(e):n.onSuccess(t)})):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:e,FriendlyDeviceName:t},(function(e,t){if(e)return n.onFailure(e);r.Session=t.Session;var o={};o.USERNAME=r.username;var i={ChallengeName:"MFA_SETUP",ClientId:r.pool.getClientId(),ChallengeResponses:o,Session:r.Session};r.getUserContextData()&&(i.UserContextData=r.getUserContextData()),r.client.request("RespondToAuthChallenge",i,(function(e,t){return e?n.onFailure(e):(r.signInUserSession=r.getCognitoUserSession(t.AuthenticationResult),r.cacheTokens(),n.onSuccess(r.signInUserSession))}))}))},e}();self.fetch||(self.fetch=s("fCwtl").default||s("fCwtl"));var Tf={userAgent:"aws-amplify/5.0.4 js",product:"",navigator:null,isReactNative:!1};if("undefined"!=typeof navigator&&navigator.product)if(Tf.product=navigator.product||"",Tf.navigator=navigator||null,"ReactNative"===navigator.product)Tf.userAgent="aws-amplify/5.0.4 react-native",Tf.isReactNative=!0;else Tf.userAgent="aws-amplify/5.0.4 js",Tf.isReactNative=!1;function If(){}If.prototype.userAgent=Tf.userAgent;var Nf=If;function Of(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Mf(e,t)}function Pf(e){var t="function"==typeof Map?new Map:void 0;return Pf=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return jf(e,arguments,Uf(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Mf(r,e)},Pf(e)}function jf(e,t,n){return(jf=Rf()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&Mf(o,n.prototype),o}).apply(null,arguments)}function Rf(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Mf(e,t){return(Mf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Uf(e){return(Uf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Lf=function(e){function t(t,n,r,o){var i;return(i=e.call(this,t)||this).code=n,i.name=r,i.statusCode=o,i}return Of(t,e),t}(Pf(Error)),Df=function(){function e(e,t,n){this.endpoint=t||"https://cognito-idp."+e+".amazonaws.com/";var r=(n||{}).credentials;this.fetchOptions=r?{credentials:r}:{}}var t=e.prototype;return t.promisifyRequest=function(e,t){var n=this;return new Promise((function(r,o){n.request(e,t,(function(e,t){e?o(new Lf(e.message,e.code,e.name,e.statusCode)):r(t)}))}))},t.requestWithRetry=function(e,t,n){var r=this;(function(e,t,n){void 0===n&&(n=3e5);return Bf(e,t,function(e){var t=100,n=100;return function(r){var o=Math.pow(2,r)*t+n*Math.random();return!(o>e)&&o}}(n))})((function(t){return new Promise((function(n,o){r.request(e,t,(function(e,t){e?o(e):n(t)}))}))}),[t],5e3).then((function(e){return n(null,e)})).catch((function(e){return n(e)}))},t.request=function(e,t,n){var r,o={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+e,"X-Amz-User-Agent":Nf.prototype.userAgent},i=Object.assign({},this.fetchOptions,{headers:o,method:"POST",mode:"cors",cache:"no-cache",body:JSON.stringify(t)});fetch(this.endpoint,i).then((function(e){return r=e,e}),(function(e){if(e instanceof TypeError)throw new Error("Network error");throw e})).then((function(e){return e.json().catch((function(){return{}}))})).then((function(e){if(r.ok)return n(null,e);e;var t=(e.__type||e.code).split("#").pop(),o=new Error(e.message||e.Message||null);return o.name=t,o.code=t,n(o)})).catch((function(e){if(r&&r.headers&&r.headers.get("x-amzn-errortype"))try{var t=r.headers.get("x-amzn-errortype").split(":")[0],o=new Error(r.status?r.status.toString():null);return o.code=t,o.name=t,o.statusCode=r.status,n(o)}catch(t){return n(e)}else e instanceof Error&&"Network error"===e.message&&(e.code="NetworkError");return n(e)}))},e}(),Ff=function(){};Error;function Bf(e,t,n,r){if(void 0===r&&(r=1),"function"!=typeof e)throw Error("functionToRetry must be a function");return Ff(e.name+" attempt #"+r+" with args: "+JSON.stringify(t)),e.apply(void 0,t).catch((function(o){if(Ff("error on "+e.name,o),(i=o)&&i.nonRetryable)throw Ff(e.name+" non retryable error",o),o;var i,a=n(r,t,o);if(Ff(e.name+" retrying in "+a+" ms"),!1!==a)return new Promise((function(e){return setTimeout(e,a)})).then((function(){return Bf(e,t,n,r+1)}));throw o}))}var zf=function(){function e(e,t){var n=e||{},r=n.UserPoolId,o=n.ClientId,i=n.endpoint,a=n.fetchOptions,s=n.AdvancedSecurityDataCollectionFlag;if(!r||!o)throw new Error("Both UserPoolId and ClientId are required.");if(r.length>55||!/^[\w-]+_[0-9a-zA-Z]+$/.test(r))throw new Error("Invalid UserPoolId format.");var u=r.split("_")[0];this.userPoolId=r,this.clientId=o,this.client=new Df(u,i,a),this.advancedSecurityDataCollectionFlag=!1!==s,this.storage=e.Storage||(new Cf).getStorage(),t&&(this.wrapRefreshSessionCallback=t)}var t=e.prototype;return t.getUserPoolId=function(){return this.userPoolId},t.getClientId=function(){return this.clientId},t.signUp=function(e,t,n,r,o,i){var a=this,s={ClientId:this.clientId,Username:e,Password:t,UserAttributes:n,ValidationData:r,ClientMetadata:i};this.getUserContextData(e)&&(s.UserContextData=this.getUserContextData(e)),this.client.request("SignUp",s,(function(t,n){if(t)return o(t,null);var r={Username:e,Pool:a,Storage:a.storage},i={user:new Af(r),userConfirmed:n.UserConfirmed,userSub:n.UserSub,codeDeliveryDetails:n.CodeDeliveryDetails};return o(null,i)}))},t.getCurrentUser=function(){var e="CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser",t=this.storage.getItem(e);if(t){var n={Username:t,Pool:this,Storage:this.storage};return new Af(n)}return null},t.getUserContextData=function(e){if("undefined"!=typeof AmazonCognitoAdvancedSecurityData){var t=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var n=t.getData(e,this.userPoolId,this.clientId);if(n)return{EncodedData:n}}return{}}},e}(),Vf={};!function(e){if("function"==typeof define&&define.amd&&(define(e),!0),Vf=e(),!!0){var t=window.Cookies,n=window.Cookies=e();n.noConflict=function(){return window.Cookies=t,n}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(t,n,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var u in i)i[u]&&(s+="; "+u,!0!==i[u]&&(s+="="+i[u].split(";")[0]));return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var s=i[a].split("="),u=s.slice(1).join("=");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var c=t(s[0]);if(u=(r.read||r)(u,c)||t(u),n)try{u=JSON.parse(u)}catch(e){}if(o[c]=u,e===c)break}catch(e){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return a(e,!1)},o.getJSON=function(e){return a(e,!0)},o.remove=function(t,n){i(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))}));var qf=function(){function e(e){if(!e.domain)throw new Error("The domain of cookieStorage can not be undefined.");if(this.domain=e.domain,e.path?this.path=e.path:this.path="/",Object.prototype.hasOwnProperty.call(e,"expires")?this.expires=e.expires:this.expires=365,Object.prototype.hasOwnProperty.call(e,"secure")?this.secure=e.secure:this.secure=!0,Object.prototype.hasOwnProperty.call(e,"sameSite")){if(!["strict","lax","none"].includes(e.sameSite))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===e.sameSite&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=e.sameSite}else this.sameSite=null}var t=e.prototype;return t.setItem=function(e,t){var n={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(n.sameSite=this.sameSite),Vf.set(e,t,n),Vf.get(e)},t.getItem=function(e){return Vf.get(e)},t.removeItem=function(e){var t={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(t.sameSite=this.sameSite),Vf.remove(e,t)},t.clear=function(){for(var e=Vf.get(),t=Object.keys(e).length,n=0;n<t;++n)this.removeItem(Object.keys(e)[n]);return{}},e}(),Kf={};e(Kf,"default",(()=>nh),(e=>nh=e));var Hf,Gf,Wf=function(e){var t=window.open(e,"_self");return t?Promise.resolve(t):Promise.reject()},$f=(Kd=s("e5at0"),mf=s("fU9hS"),function(){return $f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},$f.apply(this,arguments)}),Yf=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},Jf=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Qf=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Zf="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",Xf=function(e,t,n){G.Hub.dispatch("auth",{event:e,data:t,message:n},"Auth",Zf)},eh=new(0,P.ConsoleLogger)("OAuth"),th=function(){function e(e){var t=e.config,n=e.cognitoClientId,r=e.scopes,o=void 0===r?[]:r;if(this._urlOpener=t.urlOpener||Wf,this._config=t,this._cognitoClientId=n,!this.isValidScopes(o))throw Error("scopes must be a String Array");this._scopes=o}return e.prototype.isValidScopes=function(e){return Array.isArray(e)&&e.every((function(e){return"string"==typeof e}))},e.prototype.oauthSignIn=function(e,t,n,r,o,i){void 0===e&&(e="code"),void 0===o&&(o=Nd.Cognito);var a=this._generateState(32),s=i?a+"-"+lt(i):a;!function(e){window.sessionStorage.setItem("oauth_state",e)}(s);var u,c=this._generateRandom(128);u=c,window.sessionStorage.setItem("ouath_pkce_key",u);var l=this._generateChallenge(c),d=this._scopes.join(" "),f="https://"+t+"/oauth2/authorize?"+Object.entries($f($f({redirect_uri:n,response_type:e,client_id:r,identity_provider:o,scope:d,state:s},"code"===e?{code_challenge:l}:{}),"code"===e?{code_challenge_method:"S256"}:{})).map((function(e){var t=Qf(e,2),n=t[0],r=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(r)})).join("&");eh.debug("Redirecting to "+f),this._urlOpener(f,n)},e.prototype._handleCodeFlow=function(e){return Yf(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,u,c,l,d,f,h,p;return Jf(this,(function(v){switch(v.label){case 0:return t=(_e(e).query||"").split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n,r=Qf(t,2),o=r[0],i=r[1];return $f($f({},e),((n={})[o]=i,n))}),{code:void 0}).code,n=_e(e).pathname||"/",r=_e(this._config.redirectSignIn).pathname||"/",t&&n===r?(o="https://"+this._config.domain+"/oauth2/token",Xf("codeFlow",{},"Retrieving tokens from "+o),i=Fd(this._config)?this._cognitoClientId:this._config.clientID,a=Fd(this._config)?this._config.redirectSignIn:this._config.redirectUri,g=window.sessionStorage.getItem("ouath_pkce_key"),window.sessionStorage.removeItem("ouath_pkce_key"),u=$f({grant_type:"authorization_code",code:t,client_id:i,redirect_uri:a},(s=g)?{code_verifier:s}:{}),eh.debug("Calling token endpoint: "+o+" with",u),c=Object.entries(u).map((function(e){var t=Qf(e,2),n=t[0],r=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(r)})).join("&"),[4,fetch(o,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:c})]):[2];case 1:return[4,v.sent().json()];case 2:if(l=v.sent(),d=l.access_token,f=l.refresh_token,h=l.id_token,p=l.error)throw new Error(p);return[2,{accessToken:d,refreshToken:f,idToken:h}]}var g}))}))},e.prototype._handleImplicitFlow=function(e){return Yf(this,void 0,void 0,(function(){var t,n,r;return Jf(this,(function(o){return t=(_e(e).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n,r=Qf(t,2),o=r[0],i=r[1];return $f($f({},e),((n={})[o]=i,n))}),{id_token:void 0,access_token:void 0}),n=t.id_token,r=t.access_token,Xf("implicitFlow",{},"Got tokens from "+e),eh.debug("Retrieving implicit tokens from "+e+" with"),[2,{accessToken:r,idToken:n,refreshToken:null}]}))}))},e.prototype.handleAuthResponse=function(e){return Yf(this,void 0,void 0,(function(){var t,n,r,o,i,a,s;return Jf(this,(function(u){switch(u.label){case 0:if(u.trys.push([0,5,,6]),t=e?$f($f({},(_e(e).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n=Qf(t,2),r=n[0],o=n[1];return e[r]=o,e}),{})),(_e(e).query||"").split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n=Qf(t,2),r=n[0],o=n[1];return e[r]=o,e}),{})):{},n=t.error,r=t.error_description,n)throw new Error(r);return o=this._validateState(t),eh.debug("Starting "+this._config.responseType+" flow with "+e),"code"!==this._config.responseType?[3,2]:(i=[{}],[4,this._handleCodeFlow(e)]);case 1:return[2,$f.apply(void 0,[$f.apply(void 0,i.concat([u.sent()])),{state:o}])];case 2:return a=[{}],[4,this._handleImplicitFlow(e)];case 3:return[2,$f.apply(void 0,[$f.apply(void 0,a.concat([u.sent()])),{state:o}])];case 4:return[3,6];case 5:throw s=u.sent(),eh.error("Error handling auth response.",s),s;case 6:return[2]}}))}))},e.prototype._validateState=function(e){if(e){var t,n=(t=window.sessionStorage.getItem("oauth_state"),window.sessionStorage.removeItem("oauth_state"),t),r=e.state;if(n&&n!==r)throw new Error("Invalid state in OAuth flow");return r}},e.prototype.signOut=function(){return Yf(this,void 0,void 0,(function(){var e,t,n;return Jf(this,(function(r){return e="https://"+this._config.domain+"/logout?",t=Fd(this._config)?this._cognitoClientId:this._config.oauth.clientID,n=Fd(this._config)?this._config.redirectSignOut:this._config.returnTo,e+=Object.entries({client_id:t,logout_uri:encodeURIComponent(n)}).map((function(e){var t=Qf(e,2);return t[0]+"="+t[1]})).join("&"),Xf("oAuthSignOut",{oAuth:"signOut"},"Signing out from "+e),eh.debug("Signing out from "+e),[2,this._urlOpener(e,n)]}))}))},e.prototype._generateState=function(e){for(var t="",n=e,r="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";n>0;--n)t+=r[Math.round(Math.random()*(r.length-1))];return t},e.prototype._generateChallenge=function(e){return this._base64URL(r(Kd)(e))},e.prototype._base64URL=function(e){return e.toString(r(mf)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},e.prototype._generateRandom=function(e){var t=new Uint8Array(e);if("undefined"!=typeof window&&window.crypto)window.crypto.getRandomValues(t);else for(var n=0;n<e;n+=1)t[n]=Math.random()*"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~".length|0;return this._bufferToString(t)},e.prototype._bufferToString=function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[],r=0;r<e.byteLength;r+=1){var o=e[r]%t.length;n.push(t[o])}return n.join("")},e}(),nh=th,rh=function(e){if(we.browserOrNode().isBrowser&&window.location)e({url:window.location.href});else if(!we.browserOrNode().isNode)throw new Error("Not supported")},oh={};e(oh,"AuthError",(()=>sh),(e=>sh=e)),e(oh,"NoUserPoolError",(()=>uh),(e=>uh=e)),(Gf=Hf||(Hf={})).DEFAULT_MSG="Authentication Error",Gf.EMPTY_EMAIL="Email cannot be empty",Gf.EMPTY_PHONE="Phone number cannot be empty",Gf.EMPTY_USERNAME="Username cannot be empty",Gf.INVALID_USERNAME="The username should either be a string or one of the sign in types",Gf.EMPTY_PASSWORD="Password cannot be empty",Gf.EMPTY_CODE="Confirmation code cannot be empty",Gf.SIGN_UP_ERROR="Error creating account",Gf.NO_MFA="No valid MFA method provided",Gf.INVALID_MFA="Invalid MFA type",Gf.EMPTY_CHALLENGE="Challenge response cannot be empty",Gf.NO_USER_SESSION="Failed to get the session because the user is empty",Gf.NETWORK_ERROR="Network Error",Gf.DEVICE_CONFIG="Device tracking has not been configured in this User Pool";var ih=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ah=new(0,P.ConsoleLogger)("AuthError"),sh=function(e){function t(n){var r=this,o=ch[n],i=o.message,a=o.log;return(r=e.call(this,i)||this).constructor=t,Object.setPrototypeOf(r,t.prototype),r.name="AuthError",r.log=a||i,ah.error(r.log),r}return ih(t,e),t}(Error),uh=function(e){function t(n){var r=e.call(this,n)||this;return r.constructor=t,Object.setPrototypeOf(r,t.prototype),r.name="NoUserPoolError",r}return ih(t,e),t}(sh),ch={noConfig:{message:Hf.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly.\n            This error is typically caused by one of the following scenarios:\n\n            1. Make sure you're passing the awsconfig object to Amplify.configure() in your app's entry point\n                See https://aws-amplify.github.io/docs/js/authentication#configure-your-app for more information\n            \n            2. There might be multiple conflicting versions of amplify packages in your node_modules.\n\t\t\t\tRefer to our docs site for help upgrading Amplify packages (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js)\n        "},missingAuthConfig:{message:Hf.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly. \n            The configuration object is missing required auth properties.\n            This error is typically caused by one of the following scenarios:\n\n            1. Did you run `amplify push` after adding auth via `amplify add auth`?\n                See https://aws-amplify.github.io/docs/js/authentication#amplify-project-setup for more information\n\n            2. This could also be caused by multiple conflicting versions of amplify packages, see (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js) for help upgrading Amplify packages.\n        "},emptyUsername:{message:Hf.EMPTY_USERNAME},invalidUsername:{message:Hf.INVALID_USERNAME},emptyPassword:{message:Hf.EMPTY_PASSWORD},emptyCode:{message:Hf.EMPTY_CODE},signUpError:{message:Hf.SIGN_UP_ERROR,log:"The first parameter should either be non-null string or object"},noMFA:{message:Hf.NO_MFA},invalidMFA:{message:Hf.INVALID_MFA},emptyChallengeResponse:{message:Hf.EMPTY_CHALLENGE},noUserSession:{message:Hf.NO_USER_SESSION},deviceConfig:{message:Hf.DEVICE_CONFIG},networkError:{message:Hf.NETWORK_ERROR},default:{message:Hf.DEFAULT_MSG}},lh=function(){return lh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},lh.apply(this,arguments)},dh=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},fh=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},hh=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},ph=new(0,P.ConsoleLogger)("AuthClass"),vh="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",gh=function(e,t,n){G.Hub.dispatch("auth",{event:e,data:t,message:n},"Auth",vh)},mh=function(){function e(e){var t=this;this.userPool=null,this.user=null,this.oAuthFlowInProgress=!1,this.Credentials=ku.Credentials,this.wrapRefreshSessionCallback=function(e){return function(t,n){return n?gh("tokenRefresh",void 0,"New token retrieved"):gh("tokenRefresh_failure",t,"Failed to retrieve new token"),e(t,n)}},this.configure(e),this.currentCredentials=this.currentCredentials.bind(this),this.currentUserCredentials=this.currentUserCredentials.bind(this),G.Hub.listen("auth",(function(e){switch(e.payload.event){case"signIn":t._storage.setItem("amplify-signin-with-hostedUI","false");break;case"signOut":t._storage.removeItem("amplify-signin-with-hostedUI");break;case"cognitoHostedUI":t._storage.setItem("amplify-signin-with-hostedUI","true")}}))}return e.prototype.getModuleName=function(){return"Auth"},e.prototype.configure=function(e){var t=this;if(!e)return this._config||{};ph.debug("configure Auth");var n=Object.assign({},this._config,Ct.Parser.parseMobilehubConfig(e).Auth,e);this._config=n;var r=this._config,o=r.userPoolId,i=r.userPoolWebClientId,a=r.cookieStorage,s=r.oauth,u=r.region,c=r.identityPoolId,l=r.mandatorySignIn,d=r.refreshHandlers,f=r.identityPoolRegion,h=r.clientMetadata,p=r.endpoint;if(this._config.storage){if(!this._isValidAuthStorage(this._config.storage))throw ph.error("The storage in the Auth config is not valid!"),new Error("Empty storage object");this._storage=this._config.storage}else this._storage=a?new qf(a):e.ssr?new Ed:(new Iu).getStorage();if(this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),o){var v={UserPoolId:o,ClientId:i,endpoint:p};v.Storage=this._storage,this.userPool=new zf(v,this.wrapRefreshSessionCallback)}this.Credentials.configure({mandatorySignIn:l,region:f||u,userPoolId:o,identityPoolId:c,refreshHandlers:d,storage:this._storage});var g=s?Fd(this._config.oauth)?s:s.awsCognito:void 0;if(g){var m=Object.assign({cognitoClientId:i,UserPoolId:o,domain:g.domain,scopes:g.scope,redirectSignIn:g.redirectSignIn,redirectSignOut:g.redirectSignOut,responseType:g.responseType,Storage:this._storage,urlOpener:g.urlOpener,clientMetadata:h},g.options);this._oAuthHandler=new(0,Kf.default)({scopes:m.scopes,config:m,cognitoClientId:m.cognitoClientId});var y={};rh((function(e){var n=e.url;y[n]||(y[n]=!0,t._handleAuthResponse(n))}))}return gh("configured",null,"The Auth category has been configured successfully"),this._config},e.prototype.signUp=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(!this.userPool)return this.rejectNoUserPool();var o,i=null,a=null,s=[],u=null;if(e&&"string"==typeof e){i=e,a=n?n[0]:null;var c=n?n[1]:null,l=n?n[2]:null;c&&s.push(new xf({Name:"email",Value:c})),l&&s.push(new xf({Name:"phone_number",Value:l}))}else{if(!e||"object"!=typeof e)return this.rejectAuthError(Pd.SignUpError);i=e.username,a=e.password,e&&e.clientMetadata?o=e.clientMetadata:this._config.clientMetadata&&(o=this._config.clientMetadata);var d=e.attributes;d&&Object.keys(d).map((function(e){s.push(new xf({Name:e,Value:d[e]}))}));var f=e.validationData;f&&(u=[],Object.keys(f).map((function(e){u.push(new xf({Name:e,Value:f[e]}))})))}return i?a?(ph.debug("signUp attrs:",s),ph.debug("signUp validation data:",u),new Promise((function(e,n){t.userPool.signUp(i,a,s,u,(function(t,r){t?(gh("signUp_failure",t,i+" failed to signup"),n(t)):(gh("signUp",r,i+" has signed up successfully"),e(r))}),o)}))):this.rejectAuthError(Pd.EmptyPassword):this.rejectAuthError(Pd.EmptyUsername)},e.prototype.confirmSignUp=function(e,t,n){if(!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(Pd.EmptyUsername);if(!t)return this.rejectAuthError(Pd.EmptyCode);var r,o=this.createCognitoUser(e),i=!n||"boolean"!=typeof n.forceAliasCreation||n.forceAliasCreation;return n&&n.clientMetadata?r=n.clientMetadata:this._config.clientMetadata&&(r=this._config.clientMetadata),new Promise((function(e,n){o.confirmRegistration(t,i,(function(t,r){t?n(t):e(r)}),r)}))},e.prototype.resendSignUp=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(Pd.EmptyUsername);var n=this.createCognitoUser(e);return new Promise((function(e,r){n.resendConfirmationCode((function(t,n){t?r(t):e(n)}),t)}))},e.prototype.signIn=function(e,t,n){if(void 0===n&&(n=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();var r=null,o=null,i={};if("string"==typeof e)r=e,o=t;else{if(!e.username)return this.rejectAuthError(Pd.InvalidUsername);void 0!==t&&ph.warn("The password should be defined under the first parameter object!"),r=e.username,o=e.password,i=e.validationData}if(!r)return this.rejectAuthError(Pd.EmptyUsername);var a=new Bd({Username:r,Password:o,ValidationData:i,ClientMetadata:n});return o?this.signInWithPassword(a):this.signInWithoutPassword(a)},e.prototype.authCallbacks=function(e,t,n){var r=this,o=this;return{onSuccess:function(i){return dh(r,void 0,void 0,(function(){var r,a,s,u;return fh(this,(function(c){switch(c.label){case 0:ph.debug(i),delete e.challengeName,delete e.challengeParam,c.label=1;case 1:return c.trys.push([1,4,5,9]),[4,this.Credentials.clear()];case 2:return c.sent(),[4,this.Credentials.set(i,"session")];case 3:return r=c.sent(),ph.debug("succeed to get cognito credentials",r),[3,9];case 4:return a=c.sent(),ph.debug("cannot get cognito credentials",a),[3,9];case 5:return c.trys.push([5,7,,8]),[4,this.currentUserPoolUser()];case 6:return s=c.sent(),o.user=s,gh("signIn",s,"A user "+e.getUsername()+" has been signed in"),t(s),[3,8];case 7:return u=c.sent(),ph.error("Failed to get the signed in user",u),n(u),[3,8];case 8:return[7];case 9:return[2]}}))}))},onFailure:function(t){ph.debug("signIn failure",t),gh("signIn_failure",t,e.getUsername()+" failed to signin"),n(t)},customChallenge:function(n){ph.debug("signIn custom challenge answer required"),e.challengeName="CUSTOM_CHALLENGE",e.challengeParam=n,t(e)},mfaRequired:function(n,r){ph.debug("signIn MFA required"),e.challengeName=n,e.challengeParam=r,t(e)},mfaSetup:function(n,r){ph.debug("signIn mfa setup",n),e.challengeName=n,e.challengeParam=r,t(e)},newPasswordRequired:function(n,r){ph.debug("signIn new password"),e.challengeName="NEW_PASSWORD_REQUIRED",e.challengeParam={userAttributes:n,requiredAttributes:r},t(e)},totpRequired:function(n,r){ph.debug("signIn totpRequired"),e.challengeName=n,e.challengeParam=r,t(e)},selectMFAType:function(n,r){ph.debug("signIn selectMFAType",n),e.challengeName=n,e.challengeParam=r,t(e)}}},e.prototype.signInWithPassword=function(e){var t=this;if(this.pendingSignIn)throw new Error("Pending sign-in attempt already in progress");var n=this.createCognitoUser(e.getUsername());return this.pendingSignIn=new Promise((function(r,o){n.authenticateUser(e,t.authCallbacks(n,(function(e){t.pendingSignIn=null,r(e)}),(function(e){t.pendingSignIn=null,o(e)})))})),this.pendingSignIn},e.prototype.signInWithoutPassword=function(e){var t=this,n=this.createCognitoUser(e.getUsername());return n.setAuthenticationFlowType("CUSTOM_AUTH"),new Promise((function(r,o){n.initiateAuth(e,t.authCallbacks(n,r,o))}))},e.prototype.getMFAOptions=function(e){return new Promise((function(t,n){e.getMFAOptions((function(e,r){if(e)return ph.debug("get MFA Options failed",e),void n(e);ph.debug("get MFA options success",r),t(r)}))}))},e.prototype.getPreferredMFA=function(e,t){var n=this,r=this;return new Promise((function(o,i){var a=n._config.clientMetadata,s=!!t&&t.bypassCache;e.getUserData((function(t,a){return dh(n,void 0,void 0,(function(){var n,s;return fh(this,(function(u){switch(u.label){case 0:if(!t)return[3,5];if(ph.debug("getting preferred mfa failed",t),!this.isSessionInvalid(t))return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return u.sent(),[3,4];case 3:return n=u.sent(),i(new Error("Session is invalid due to: "+t.message+" and failed to clean up invalid session: "+n.message)),[2];case 4:return i(t),[2];case 5:return(s=r._getMfaTypeFromUserData(a))?(o(s),[2]):(i("invalid MFA Type"),[2])}}))}))}),{bypassCache:s,clientMetadata:a})}))},e.prototype._getMfaTypeFromUserData=function(e){var t=null,n=e.PreferredMfaSetting;if(n)t=n;else{var r=e.UserMFASettingList;if(r)0===r.length?t="NOMFA":ph.debug("invalid case for getPreferredMFA",e);else t=e.MFAOptions?"SMS_MFA":"NOMFA"}return t},e.prototype._getUserData=function(e,t){var n=this;return new Promise((function(r,o){e.getUserData((function(t,i){return dh(n,void 0,void 0,(function(){var n;return fh(this,(function(a){switch(a.label){case 0:if(!t)return[3,5];if(ph.debug("getting user data failed",t),!this.isSessionInvalid(t))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return a.sent(),[3,4];case 3:return n=a.sent(),o(new Error("Session is invalid due to: "+t.message+" and failed to clean up invalid session: "+n.message)),[2];case 4:return o(t),[2];case 5:r(i),a.label=6;case 6:return[2]}}))}))}),t)}))},e.prototype.setPreferredMFA=function(e,t){return dh(this,void 0,void 0,(function(){var n,r,o,i,a,s,u=this;return fh(this,(function(c){switch(c.label){case 0:return n=this._config.clientMetadata,[4,this._getUserData(e,{bypassCache:!0,clientMetadata:n})];case 1:switch(r=c.sent(),o=null,i=null,t){case"TOTP":case"SOFTWARE_TOKEN_MFA":return[3,2];case"SMS":case"SMS_MFA":return[3,3];case"NOMFA":return[3,4]}return[3,6];case 2:return i={PreferredMfa:!0,Enabled:!0},[3,7];case 3:return o={PreferredMfa:!0,Enabled:!0},[3,7];case 4:return a=r.UserMFASettingList,[4,this._getMfaTypeFromUserData(r)];case 5:if("NOMFA"===(s=c.sent()))return[2,Promise.resolve("No change for mfa type")];if("SMS_MFA"===s)o={PreferredMfa:!1,Enabled:!1};else{if("SOFTWARE_TOKEN_MFA"!==s)return[2,this.rejectAuthError(Pd.InvalidMFA)];i={PreferredMfa:!1,Enabled:!1}}return a&&0!==a.length&&a.forEach((function(e){"SMS_MFA"===e?o={PreferredMfa:!1,Enabled:!1}:"SOFTWARE_TOKEN_MFA"===e&&(i={PreferredMfa:!1,Enabled:!1})})),[3,7];case 6:return ph.debug("no validmfa method provided"),[2,this.rejectAuthError(Pd.NoMFA)];case 7:return this,[2,new Promise((function(t,r){e.setUserMfaPreference(o,i,(function(o,i){if(o)return ph.debug("Set user mfa preference error",o),r(o);ph.debug("Set user mfa success",i),ph.debug("Caching the latest user data into local"),e.getUserData((function(n,o){return dh(u,void 0,void 0,(function(){var o;return fh(this,(function(a){switch(a.label){case 0:if(!n)return[3,5];if(ph.debug("getting user data failed",n),!this.isSessionInvalid(n))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return a.sent(),[3,4];case 3:return o=a.sent(),r(new Error("Session is invalid due to: "+n.message+" and failed to clean up invalid session: "+o.message)),[2];case 4:return[2,r(n)];case 5:return[2,t(i)]}}))}))}),{bypassCache:!0,clientMetadata:n})}))}))]}}))}))},e.prototype.disableSMS=function(e){return new Promise((function(t,n){e.disableMFA((function(e,r){if(e)return ph.debug("disable mfa failed",e),void n(e);ph.debug("disable mfa succeed",r),t(r)}))}))},e.prototype.enableSMS=function(e){return new Promise((function(t,n){e.enableMFA((function(e,r){if(e)return ph.debug("enable mfa failed",e),void n(e);ph.debug("enable mfa succeed",r),t(r)}))}))},e.prototype.setupTOTP=function(e){return new Promise((function(t,n){e.associateSoftwareToken({onFailure:function(e){ph.debug("associateSoftwareToken failed",e),n(e)},associateSecretCode:function(e){ph.debug("associateSoftwareToken sucess",e),t(e)}})}))},e.prototype.verifyTotpToken=function(e,t){return ph.debug("verification totp token",e,t),new Promise((function(n,r){e.verifySoftwareToken(t,"My TOTP device",{onFailure:function(e){ph.debug("verifyTotpToken failed",e),r(e)},onSuccess:function(t){gh("signIn",e,"A user "+e.getUsername()+" has been signed in"),ph.debug("verifyTotpToken success",t),n(t)}})}))},e.prototype.confirmSignIn=function(e,t,n,r){var o=this;if(void 0===r&&(r=this._config.clientMetadata),!t)return this.rejectAuthError(Pd.EmptyCode);var i=this;return new Promise((function(a,s){e.sendMFACode(t,{onSuccess:function(t){return dh(o,void 0,void 0,(function(){var n,r;return fh(this,(function(o){switch(o.label){case 0:ph.debug(t),o.label=1;case 1:return o.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return o.sent(),[4,this.Credentials.set(t,"session")];case 3:return n=o.sent(),ph.debug("succeed to get cognito credentials",n),[3,6];case 4:return r=o.sent(),ph.debug("cannot get cognito credentials",r),[3,6];case 5:return i.user=e,gh("signIn",e,"A user "+e.getUsername()+" has been signed in"),a(e),[7];case 6:return[2]}}))}))},onFailure:function(e){ph.debug("confirm signIn failure",e),s(e)}},n,r)}))},e.prototype.completeNewPassword=function(e,t,n,r){var o=this;if(void 0===n&&(n={}),void 0===r&&(r=this._config.clientMetadata),!t)return this.rejectAuthError(Pd.EmptyPassword);var i=this;return new Promise((function(a,s){e.completeNewPasswordChallenge(t,n,{onSuccess:function(t){return dh(o,void 0,void 0,(function(){var n,r;return fh(this,(function(o){switch(o.label){case 0:ph.debug(t),o.label=1;case 1:return o.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return o.sent(),[4,this.Credentials.set(t,"session")];case 3:return n=o.sent(),ph.debug("succeed to get cognito credentials",n),[3,6];case 4:return r=o.sent(),ph.debug("cannot get cognito credentials",r),[3,6];case 5:return i.user=e,gh("signIn",e,"A user "+e.getUsername()+" has been signed in"),a(e),[7];case 6:return[2]}}))}))},onFailure:function(e){ph.debug("completeNewPassword failure",e),gh("completeNewPassword_failure",e,o.user+" failed to complete the new password flow"),s(e)},mfaRequired:function(t,n){ph.debug("signIn MFA required"),e.challengeName=t,e.challengeParam=n,a(e)},mfaSetup:function(t,n){ph.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=n,a(e)},totpRequired:function(t,n){ph.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=n,a(e)}},r)}))},e.prototype.sendCustomChallengeAnswer=function(e,t,n){var r=this;if(void 0===n&&(n=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!t)return this.rejectAuthError(Pd.EmptyChallengeResponse);return new Promise((function(o,i){e.sendCustomChallengeAnswer(t,r.authCallbacks(e,o,i),n)}))},e.prototype.deleteUserAttributes=function(e,t){var n=this;return new Promise((function(r,o){n.userSession(e).then((function(n){e.deleteAttributes(t,(function(e,t){return e?o(e):r(t)}))}))}))},e.prototype.deleteUser=function(){return dh(this,void 0,void 0,(function(){var e,t,n=this;return fh(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this._storageSync];case 1:return r.sent(),[3,3];case 2:throw e=r.sent(),ph.debug("Failed to sync cache info into memory",e),new Error(e);case 3:return t=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise((function(e,r){return dh(n,void 0,void 0,(function(){var n,o=this;return fh(this,(function(i){if(this.userPool){if(!(n=this.userPool.getCurrentUser()))return ph.debug("Failed to get user from user pool"),[2,r(new Error("No current user."))];n.getSession((function(i,a){return dh(o,void 0,void 0,(function(){var o,a=this;return fh(this,(function(s){switch(s.label){case 0:if(!i)return[3,5];if(ph.debug("Failed to get the user session",i),!this.isSessionInvalid(i))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(n)];case 2:return s.sent(),[3,4];case 3:return o=s.sent(),r(new Error("Session is invalid due to: "+i.message+" and failed to clean up invalid session: "+o.message)),[2];case 4:return[2,r(i)];case 5:n.deleteUser((function(o,i){if(o)r(o);else{gh("userDeleted",i,"The authenticated user has been deleted."),n.signOut(),a.user=null;try{a.cleanCachedItems()}catch(e){ph.debug("failed to clear cached items")}t?a.oAuthSignOutRedirect(e,r):(gh("signOut",a.user,"A user has been signed out"),e(i))}})),s.label=6;case 6:return[2]}}))}))}))}else ph.debug("no Congito User pool"),r(new Error("Cognito User pool does not exist"));return[2]}))}))}))]}}))}))},e.prototype.updateUserAttributes=function(e,t,n){void 0===n&&(n=this._config.clientMetadata);var r=[],o=this;return new Promise((function(i,a){o.userSession(e).then((function(o){for(var s in t)if("sub"!==s&&s.indexOf("_verified")<0){var u={Name:s,Value:t[s]};r.push(u)}e.updateAttributes(r,(function(e,t){return e?a(e):i(t)}),n)}))}))},e.prototype.userAttributes=function(e){var t=this;return new Promise((function(n,r){t.userSession(e).then((function(t){e.getUserAttributes((function(e,t){e?r(e):n(t)}))}))}))},e.prototype.verifiedContact=function(e){var t=this;return this.userAttributes(e).then((function(e){var n=t.attributesToObject(e),r={},o={};return n.email&&(n.email_verified?o.email=n.email:r.email=n.email),n.phone_number&&(n.phone_number_verified?o.phone_number=n.phone_number:r.phone_number=n.phone_number),{verified:o,unverified:r}}))},e.prototype.isErrorWithMessage=function(e){return"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"message")},e.prototype.isTokenRevokedError=function(e){return this.isErrorWithMessage(e)&&"Access Token has been revoked"===e.message},e.prototype.isRefreshTokenRevokedError=function(e){return this.isErrorWithMessage(e)&&"Refresh Token has been revoked"===e.message},e.prototype.isUserDisabledError=function(e){return this.isErrorWithMessage(e)&&"User is disabled."===e.message},e.prototype.isUserDoesNotExistError=function(e){return this.isErrorWithMessage(e)&&"User does not exist."===e.message},e.prototype.isRefreshTokenExpiredError=function(e){return this.isErrorWithMessage(e)&&"Refresh Token has expired"===e.message},e.prototype.isSignedInHostedUI=function(){return this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI")},e.prototype.isSessionInvalid=function(e){return this.isUserDisabledError(e)||this.isUserDoesNotExistError(e)||this.isTokenRevokedError(e)||this.isRefreshTokenRevokedError(e)||this.isRefreshTokenExpiredError(e)},e.prototype.cleanUpInvalidSession=function(e){return dh(this,void 0,void 0,(function(){var t=this;return fh(this,(function(n){switch(n.label){case 0:e.signOut(),this.user=null,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.cleanCachedItems()];case 2:return n.sent(),[3,4];case 3:return n.sent(),ph.debug("failed to clear cached items"),[3,4];case 4:return this.isSignedInHostedUI()?[2,new Promise((function(e,n){t.oAuthSignOutRedirect(e,n)}))]:(gh("signOut",this.user,"A user has been signed out"),[2])}}))}))},e.prototype.currentUserPoolUser=function(e){var t=this;return this.userPool?new Promise((function(n,r){t._storageSync.then((function(){return dh(t,void 0,void 0,(function(){var t,o,i=this;return fh(this,(function(a){switch(a.label){case 0:return this.isOAuthInProgress()?(ph.debug("OAuth signIn in progress, waiting for resolution..."),[4,new Promise((function(e){var t=setTimeout((function(){ph.debug("OAuth signIn in progress timeout"),G.Hub.remove("auth",n),e()}),1e4);function n(r){var o=r.payload.event;"cognitoHostedUI"!==o&&"cognitoHostedUI_failure"!==o||(ph.debug("OAuth signIn resolved: "+o),clearTimeout(t),G.Hub.remove("auth",n),e())}G.Hub.listen("auth",n)}))]):[3,2];case 1:a.sent(),a.label=2;case 2:return(t=this.userPool.getCurrentUser())?(o=this._config.clientMetadata,t.getSession((function(o,a){return dh(i,void 0,void 0,(function(){var i,s,u,c,l=this;return fh(this,(function(d){switch(d.label){case 0:if(!o)return[3,5];if(ph.debug("Failed to get the user session",o),!this.isSessionInvalid(o))return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return d.sent(),[3,4];case 3:return i=d.sent(),r(new Error("Session is invalid due to: "+o.message+" and failed to clean up invalid session: "+i.message)),[2];case 4:return r(o),[2];case 5:return(s=!!e&&e.bypassCache)?[4,this.Credentials.clear()]:[3,7];case 6:d.sent(),d.label=7;case 7:return u=this._config.clientMetadata,c=a.getAccessToken().decodePayload().scope,(void 0===c?"":c).split(" ").includes("aws.cognito.signin.user.admin")?(t.getUserData((function(e,o){return dh(l,void 0,void 0,(function(){var i,a,s,u,c,l,d;return fh(this,(function(f){switch(f.label){case 0:if(!e)return[3,7];if(ph.debug("getting user data failed",e),!this.isSessionInvalid(e))return[3,5];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return f.sent(),[3,4];case 3:return i=f.sent(),r(new Error("Session is invalid due to: "+e.message+" and failed to clean up invalid session: "+i.message)),[2];case 4:return r(e),[3,6];case 5:n(t),f.label=6;case 6:return[2];case 7:for(a=o.PreferredMfaSetting||"NOMFA",s=[],u=0;u<o.UserAttributes.length;u++)c={Name:o.UserAttributes[u].Name,Value:o.UserAttributes[u].Value},l=new xf(c),s.push(l);return d=this.attributesToObject(s),Object.assign(t,{attributes:d,preferredMFA:a}),[2,n(t)]}}))}))}),{bypassCache:s,clientMetadata:u}),[2]):(ph.debug("Unable to get the user data because the aws.cognito.signin.user.admin is not in the scopes of the access token"),[2,n(t)])}}))}))}),{clientMetadata:o}),[2]):(ph.debug("Failed to get user from user pool"),r("No current user"),[2])}}))}))})).catch((function(e){return ph.debug("Failed to sync cache info into memory",e),r(e)}))})):this.rejectNoUserPool()},e.prototype.isOAuthInProgress=function(){return this.oAuthFlowInProgress},e.prototype.currentAuthenticatedUser=function(e){return dh(this,void 0,void 0,(function(){var t,n,r,o,i;return fh(this,(function(a){switch(a.label){case 0:ph.debug("getting current authenticated user"),t=null,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this._storageSync];case 2:return a.sent(),[3,4];case 3:throw n=a.sent(),ph.debug("Failed to sync cache info into memory",n),n;case 4:try{(r=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")))&&(t=lh(lh({},r.user),{token:r.token}))}catch(e){ph.debug("cannot load federated user from auth storage")}return t?(this.user=t,ph.debug("get current authenticated federated user",this.user),[2,this.user]):[3,5];case 5:ph.debug("get current authenticated userpool user"),o=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,this.currentUserPoolUser(e)];case 7:return o=a.sent(),[3,9];case 8:return"No userPool"===(i=a.sent())&&ph.error("Cannot get the current user because the user pool is missing. Please make sure the Auth module is configured with a valid Cognito User Pool ID"),ph.debug("The user is not authenticated by the error",i),[2,Promise.reject("The user is not authenticated")];case 9:return this.user=o,[2,this.user]}}))}))},e.prototype.currentSession=function(){var e=this;return ph.debug("Getting current session"),this.userPool?new Promise((function(t,n){e.currentUserPoolUser().then((function(r){e.userSession(r).then((function(e){t(e)})).catch((function(e){ph.debug("Failed to get the current session",e),n(e)}))})).catch((function(e){ph.debug("Failed to get the current user",e),n(e)}))})):this.rejectNoUserPool()},e.prototype.userSession=function(e){var t=this;if(!e)return ph.debug("the user is null"),this.rejectAuthError(Pd.NoUserSession);var n=this._config.clientMetadata;return new Promise((function(r,o){ph.debug("Getting the session from this user:",e),e.getSession((function(n,i){return dh(t,void 0,void 0,(function(){var t;return fh(this,(function(a){switch(a.label){case 0:if(!n)return[3,5];if(ph.debug("Failed to get the session from user",e),!this.isSessionInvalid(n))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return a.sent(),[3,4];case 3:return t=a.sent(),o(new Error("Session is invalid due to: "+n.message+" and failed to clean up invalid session: "+t.message)),[2];case 4:return o(n),[2];case 5:return ph.debug("Succeed to get the user session",i),r(i),[2]}}))}))}),{clientMetadata:n})}))},e.prototype.currentUserCredentials=function(){return dh(this,void 0,void 0,(function(){var e,t,n=this;return fh(this,(function(r){switch(r.label){case 0:ph.debug("Getting current user credentials"),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._storageSync];case 2:return r.sent(),[3,4];case 3:throw e=r.sent(),ph.debug("Failed to sync cache info into memory",e),e;case 4:t=null;try{t=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo"))}catch(e){ph.debug("failed to get or parse item aws-amplify-federatedInfo",e)}return t?[2,this.Credentials.refreshFederatedToken(t)]:[2,this.currentSession().then((function(e){return ph.debug("getting session success",e),n.Credentials.set(e,"session")})).catch((function(){return ph.debug("getting guest credentials"),n.Credentials.set(null,"guest")}))]}}))}))},e.prototype.currentCredentials=function(){return ph.debug("getting current credentials"),this.Credentials.get()},e.prototype.verifyUserAttribute=function(e,t,n){return void 0===n&&(n=this._config.clientMetadata),new Promise((function(r,o){e.getAttributeVerificationCode(t,{onSuccess:function(e){return r(e)},onFailure:function(e){return o(e)}},n)}))},e.prototype.verifyUserAttributeSubmit=function(e,t,n){return n?new Promise((function(r,o){e.verifyAttribute(t,n,{onSuccess:function(e){r(e)},onFailure:function(e){o(e)}})})):this.rejectAuthError(Pd.EmptyCode)},e.prototype.verifyCurrentUserAttribute=function(e){var t=this;return t.currentUserPoolUser().then((function(n){return t.verifyUserAttribute(n,e)}))},e.prototype.verifyCurrentUserAttributeSubmit=function(e,t){var n=this;return n.currentUserPoolUser().then((function(r){return n.verifyUserAttributeSubmit(r,e,t)}))},e.prototype.cognitoIdentitySignOut=function(e,t){return dh(this,void 0,void 0,(function(){var n,r,o=this;return fh(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this._storageSync];case 1:return i.sent(),[3,3];case 2:throw n=i.sent(),ph.debug("Failed to sync cache info into memory",n),n;case 3:return r=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise((function(n,i){if(e&&e.global){ph.debug("user global sign out",t);var a=o._config.clientMetadata;t.getSession((function(e,a){return dh(o,void 0,void 0,(function(){var o,a=this;return fh(this,(function(s){switch(s.label){case 0:if(!e)return[3,5];if(ph.debug("failed to get the user session",e),!this.isSessionInvalid(e))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return s.sent(),[3,4];case 3:return o=s.sent(),i(new Error("Session is invalid due to: "+e.message+" and failed to clean up invalid session: "+o.message)),[2];case 4:return[2,i(e)];case 5:return t.globalSignOut({onSuccess:function(e){if(ph.debug("global sign out success"),!r)return n();a.oAuthSignOutRedirect(n,i)},onFailure:function(e){return ph.debug("global sign out failed",e),i(e)}}),[2]}}))}))}),{clientMetadata:a})}else ph.debug("user sign out",t),t.signOut((function(){if(!r)return n();o.oAuthSignOutRedirect(n,i)}))}))]}}))}))},e.prototype.oAuthSignOutRedirect=function(e,t){we.browserOrNode().isBrowser?this.oAuthSignOutRedirectOrReject(t):this.oAuthSignOutAndResolve(e)},e.prototype.oAuthSignOutAndResolve=function(e){this._oAuthHandler.signOut(),e()},e.prototype.oAuthSignOutRedirectOrReject=function(e){this._oAuthHandler.signOut(),setTimeout((function(){return e(Error("Signout timeout fail"))}),3e3)},e.prototype.signOut=function(e){return dh(this,void 0,void 0,(function(){var t;return fh(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.cleanCachedItems()];case 1:return n.sent(),[3,3];case 2:return n.sent(),ph.debug("failed to clear cached items"),[3,3];case 3:return this.userPool?(t=this.userPool.getCurrentUser())?[4,this.cognitoIdentitySignOut(e,t)]:[3,5]:[3,7];case 4:return n.sent(),[3,6];case 5:ph.debug("no current Cognito user"),n.label=6;case 6:return[3,8];case 7:ph.debug("no Cognito User pool"),n.label=8;case 8:return gh("signOut",this.user,"A user has been signed out"),this.user=null,[2]}}))}))},e.prototype.cleanCachedItems=function(){return dh(this,void 0,void 0,(function(){return fh(this,(function(e){switch(e.label){case 0:return[4,this.Credentials.clear()];case 1:return e.sent(),[2]}}))}))},e.prototype.changePassword=function(e,t,n,r){var o=this;return void 0===r&&(r=this._config.clientMetadata),new Promise((function(i,a){o.userSession(e).then((function(o){e.changePassword(t,n,(function(e,t){return e?(ph.debug("change password failure",e),a(e)):i(t)}),r)}))}))},e.prototype.forgotPassword=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(Pd.EmptyUsername);var n=this.createCognitoUser(e);return new Promise((function(r,o){n.forgotPassword({onSuccess:function(){r()},onFailure:function(t){ph.debug("forgot password failure",t),gh("forgotPassword_failure",t,e+" forgotPassword failed"),o(t)},inputVerificationCode:function(t){gh("forgotPassword",n,e+" has initiated forgot password flow"),r(t)}},t)}))},e.prototype.forgotPasswordSubmit=function(e,t,n,r){if(void 0===r&&(r=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(Pd.EmptyUsername);if(!t)return this.rejectAuthError(Pd.EmptyCode);if(!n)return this.rejectAuthError(Pd.EmptyPassword);var o=this.createCognitoUser(e);return new Promise((function(i,a){o.confirmPassword(t,n,{onSuccess:function(t){gh("forgotPasswordSubmit",o,e+" forgotPasswordSubmit successful"),i(t)},onFailure:function(t){gh("forgotPasswordSubmit_failure",t,e+" forgotPasswordSubmit failed"),a(t)}},r)}))},e.prototype.currentUserInfo=function(){return dh(this,void 0,void 0,(function(){var e,t,n,r,o,i,a;return fh(this,(function(s){switch(s.label){case 0:return(e=this.Credentials.getCredSource())&&"aws"!==e&&"userPool"!==e?[3,9]:[4,this.currentUserPoolUser().catch((function(e){return ph.error(e)}))];case 1:if(!(a=s.sent()))return[2,null];s.label=2;case 2:return s.trys.push([2,8,,9]),[4,this.userAttributes(a)];case 3:t=s.sent(),n=this.attributesToObject(t),r=null,s.label=4;case 4:return s.trys.push([4,6,,7]),[4,this.currentCredentials()];case 5:return r=s.sent(),[3,7];case 6:return o=s.sent(),ph.debug("Failed to retrieve credentials while getting current user info",o),[3,7];case 7:return[2,{id:r?r.identityId:void 0,username:a.getUsername(),attributes:n}];case 8:return i=s.sent(),ph.error("currentUserInfo error",i),[2,{}];case 9:return"federated"===e?[2,(a=this.user)||{}]:[2]}}))}))},e.prototype.federatedSignIn=function(e,t,n){return dh(this,void 0,void 0,(function(){var r,o,i,a,s,u,c,l,d,f,h;return fh(this,(function(p){switch(p.label){case 0:if(!this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation requires either a User Pool or Identity Pool in config");if(void 0===e&&this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation with Identity Pools requires tokens passed as arguments");return Ld(e)||(v=e)&&["customProvider"].find((function(e){return v.hasOwnProperty(e)}))||Dd(e)||void 0===e?(r=e||{provider:Nd.Cognito},s=Ld(r)?r.provider:r.customProvider,Ld(r),o=r.customState,this._config.userPoolId&&(i=Fd(this._config.oauth)?this._config.userPoolWebClientId:this._config.oauth.clientID,a=Fd(this._config.oauth)?this._config.oauth.redirectSignIn:this._config.oauth.redirectUri,this._oAuthHandler.oauthSignIn(this._config.oauth.responseType,this._config.oauth.domain,a,i,s,o)),[3,4]):[3,1];case 1:s=e;try{(u=JSON.stringify(JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")).user))&&ph.warn("There is already a signed in user: "+u+" in your app.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tYou should not call Auth.federatedSignIn method again as it may cause unexpected behavior.")}catch(e){}return c=t.token,l=t.identity_id,d=t.expires_at,[4,this.Credentials.set({provider:s,token:c,identity_id:l,user:n,expires_at:d},"federation")];case 2:return f=p.sent(),[4,this.currentAuthenticatedUser()];case 3:return h=p.sent(),gh("signIn",h,"A user "+h.username+" has been signed in"),ph.debug("federated sign in credentials",f),[2,f];case 4:return[2]}var v}))}))},e.prototype._handleAuthResponse=function(e){return dh(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,u,c,l,d,f,h,p;return fh(this,(function(v){switch(v.label){case 0:if(this.oAuthFlowInProgress)return ph.debug("Skipping URL "+e+" current flow in progress"),[2];v.label=1;case 1:if(v.trys.push([1,,8,9]),this.oAuthFlowInProgress=!0,!this._config.userPoolId)throw new Error("OAuth responses require a User Pool defined in config");if(gh("parsingCallbackUrl",{url:e},"The callback url is being parsed"),t=e||(we.browserOrNode().isBrowser?window.location.href:""),n=!!(_e(t).query||"").split("&").map((function(e){return e.split("=")})).find((function(e){var t=hh(e,1)[0];return"code"===t||"error"===t})),r=!!(_e(t).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).find((function(e){var t=hh(e,1)[0];return"access_token"===t||"error"===t})),!n&&!r)return[3,7];this._storage.setItem("amplify-redirected-from-hosted-ui","true"),v.label=2;case 2:return v.trys.push([2,6,,7]),[4,this._oAuthHandler.handleAuthResponse(t)];case 3:return o=v.sent(),i=o.accessToken,a=o.idToken,s=o.refreshToken,u=o.state,c=new yf({IdToken:new vf({IdToken:a}),RefreshToken:new gf({RefreshToken:s}),AccessToken:new hf({AccessToken:i})}),l=void 0,this._config.identityPoolId?[4,this.Credentials.set(c,"session")]:[3,5];case 4:l=v.sent(),ph.debug("AWS credentials",l),v.label=5;case 5:return d=/-/.test(u),(f=this.createCognitoUser(c.getIdToken().decodePayload()["cognito:username"])).setSignInUserSession(c),window&&void 0!==window.history&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),gh("signIn",f,"A user "+f.getUsername()+" has been signed in"),gh("cognitoHostedUI",f,"A user "+f.getUsername()+" has been signed in via Cognito Hosted UI"),d&&(h=u.split("-").splice(1).join("-"),gh("customOAuthState",dt(h),"State for user "+f.getUsername())),[2,l];case 6:return p=v.sent(),ph.debug("Error in cognito hosted auth response",p),window&&void 0!==window.history&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),gh("signIn_failure",p,"The OAuth response flow failed"),gh("cognitoHostedUI_failure",p,"A failure occurred when returning to the Cognito Hosted UI"),gh("customState_failure",p,"A failure occurred when returning state"),[3,7];case 7:return[3,9];case 8:return this.oAuthFlowInProgress=!1,[7];case 9:return[2]}}))}))},e.prototype.essentialCredentials=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e.prototype.attributesToObject=function(e){var t=this,n={};return e&&e.map((function(e){"email_verified"===e.Name||"phone_number_verified"===e.Name?n[e.Name]=t.isTruthyString(e.Value)||!0===e.Value:n[e.Name]=e.Value})),n},e.prototype.isTruthyString=function(e){return"function"==typeof e.toLowerCase&&"true"===e.toLowerCase()},e.prototype.createCognitoUser=function(e){var t={Username:e,Pool:this.userPool};t.Storage=this._storage;var n=this._config.authenticationFlowType,r=new Af(t);return n&&r.setAuthenticationFlowType(n),r},e.prototype._isValidAuthStorage=function(e){return!!e&&"function"==typeof e.getItem&&"function"==typeof e.setItem&&"function"==typeof e.removeItem&&"function"==typeof e.clear},e.prototype.noUserPoolErrorHandler=function(e){return!e||e.userPoolId&&e.identityPoolId?Pd.NoConfig:Pd.MissingAuthConfig},e.prototype.rejectAuthError=function(e){return Promise.reject(new(0,oh.AuthError)(e))},e.prototype.rejectNoUserPool=function(){var e=this.noUserPoolErrorHandler(this._config);return Promise.reject(new(0,oh.NoUserPoolError)(e))},e.prototype.rememberDevice=function(){return dh(this,void 0,void 0,(function(){var e,t;return fh(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:return t=n.sent(),ph.debug("The user is not authenticated by the error",t),[2,Promise.reject("The user is not authenticated")];case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise((function(t,n){e.setDeviceStatusRemembered({onSuccess:function(e){t(e)},onFailure:function(e){"InvalidParameterException"===e.code?n(new(0,oh.AuthError)(Pd.DeviceConfig)):"NetworkError"===e.code?n(new(0,oh.AuthError)(Pd.NetworkError)):n(e)}})}))]}}))}))},e.prototype.forgetDevice=function(){return dh(this,void 0,void 0,(function(){var e,t;return fh(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:return t=n.sent(),ph.debug("The user is not authenticated by the error",t),[2,Promise.reject("The user is not authenticated")];case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise((function(t,n){e.forgetDevice({onSuccess:function(e){t(e)},onFailure:function(e){"InvalidParameterException"===e.code?n(new(0,oh.AuthError)(Pd.DeviceConfig)):"NetworkError"===e.code?n(new(0,oh.AuthError)(Pd.NetworkError)):n(e)}})}))]}}))}))},e.prototype.fetchDevices=function(){return dh(this,void 0,void 0,(function(){var e,t;return fh(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:throw t=n.sent(),ph.debug("The user is not authenticated by the error",t),new Error("The user is not authenticated");case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise((function(t,n){var r={onSuccess:function(e){var n=e.Devices.map((function(e){var t=e.DeviceAttributes.find((function(e){return"device_name"===e.Name}))||{};return{id:e.DeviceKey,name:t.Value}}));t(n)},onFailure:function(e){"InvalidParameterException"===e.code?n(new(0,oh.AuthError)(Pd.DeviceConfig)):"NetworkError"===e.code?n(new(0,oh.AuthError)(Pd.NetworkError)):n(e)}};e.listDevices(60,null,r)}))]}}))}))},e}(),yh=new mh(null);O.Amplify.register(yh);var bh=Ud.Auth,wh={};e(wh,"BrowserStorageCache",(()=>Nh),(e=>Nh=e));var Sh={keyPrefix:"aws-amplify-cache",capacityInBytes:1048576,itemMaxSize:21e4,defaultTTL:2592e5,defaultPriority:5,warningThreshold:.8,storage:(new Iu).getStorage()};function xh(e){var t=0;t=e.length;for(var n=e.length;n>=0;n-=1){var r=e.charCodeAt(n);r>127&&r<=2047?t+=1:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&(n-=1)}return t}function _h(){return(new Date).getTime()}function Eh(e){return Number.isInteger?Number.isInteger(e):function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}(e)}var Ch={},kh=(function(){function e(){}e.clear=function(){Ch={}},e.getItem=function(e){return Ch[e]||null},e.setItem=function(e,t){Ch[e]=t},e.removeItem=function(e){delete Ch[e]}}(),new(0,P.ConsoleLogger)("StorageCache")),Ah=function(){function e(e){this.config=Object.assign({},e),this.cacheCurSizeKey=this.config.keyPrefix+"CurSize",this.checkConfig()}return e.prototype.getModuleName=function(){return"Cache"},e.prototype.checkConfig=function(){Eh(this.config.capacityInBytes)||(kh.error("Invalid parameter: capacityInBytes. It should be an Integer. Setting back to default."),this.config.capacityInBytes=Sh.capacityInBytes),Eh(this.config.itemMaxSize)||(kh.error("Invalid parameter: itemMaxSize. It should be an Integer. Setting back to default."),this.config.itemMaxSize=Sh.itemMaxSize),Eh(this.config.defaultTTL)||(kh.error("Invalid parameter: defaultTTL. It should be an Integer. Setting back to default."),this.config.defaultTTL=Sh.defaultTTL),Eh(this.config.defaultPriority)||(kh.error("Invalid parameter: defaultPriority. It should be an Integer. Setting back to default."),this.config.defaultPriority=Sh.defaultPriority),this.config.itemMaxSize>this.config.capacityInBytes&&(kh.error("Invalid parameter: itemMaxSize. It should be smaller than capacityInBytes. Setting back to default."),this.config.itemMaxSize=Sh.itemMaxSize),(this.config.defaultPriority>5||this.config.defaultPriority<1)&&(kh.error("Invalid parameter: defaultPriority. It should be between 1 and 5. Setting back to default."),this.config.defaultPriority=Sh.defaultPriority),(Number(this.config.warningThreshold)>1||Number(this.config.warningThreshold)<0)&&(kh.error("Invalid parameter: warningThreshold. It should be between 0 and 1. Setting back to default."),this.config.warningThreshold=Sh.warningThreshold);this.config.capacityInBytes>5242880&&(kh.error("Cache Capacity should be less than 5MB. Setting back to default. Setting back to default."),this.config.capacityInBytes=Sh.capacityInBytes)},e.prototype.fillCacheItem=function(e,t,n){var r={key:e,data:t,timestamp:_h(),visitedTime:_h(),priority:n.priority,expires:n.expires,type:typeof t,byteSize:0};return r.byteSize=xh(JSON.stringify(r)),r.byteSize=xh(JSON.stringify(r)),r},e.prototype.configure=function(e){return e?(e.keyPrefix&&kh.warn("Don't try to configure keyPrefix!"),this.config=Object.assign({},this.config,e,e.Cache),this.checkConfig(),this.config):this.config},e}(),Th=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ih=new(0,P.ConsoleLogger)("Cache"),Nh=new(function(e){function t(t){var n=this,r=t?Object.assign({},Sh,t):Sh;return(n=e.call(this,r)||this).config.storage=r.storage,n.getItem=n.getItem.bind(n),n.setItem=n.setItem.bind(n),n.removeItem=n.removeItem.bind(n),n}return Th(t,e),t.prototype._decreaseCurSizeInBytes=function(e){var t=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(t-e).toString())},t.prototype._increaseCurSizeInBytes=function(e){var t=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(t+e).toString())},t.prototype._refreshItem=function(e,t){return e.visitedTime=_h(),this.config.storage.setItem(t,JSON.stringify(e)),e},t.prototype._isExpired=function(e){var t=this.config.storage.getItem(e),n=JSON.parse(t);return _h()>=n.expires},t.prototype._removeItem=function(e,t){var n=t||JSON.parse(this.config.storage.getItem(e)).byteSize;this._decreaseCurSizeInBytes(n),this.config.storage.removeItem(e)},t.prototype._setItem=function(e,t){this._increaseCurSizeInBytes(t.byteSize);try{this.config.storage.setItem(e,JSON.stringify(t))}catch(e){this._decreaseCurSizeInBytes(t.byteSize),Ih.error("Failed to set item "+e)}},t.prototype._sizeToPop=function(e){var t=this.getCacheCurSize()+e-this.config.capacityInBytes,n=(1-this.config.warningThreshold)*this.config.capacityInBytes;return t>n?t:n},t.prototype._isCacheFull=function(e){return e+this.getCacheCurSize()>this.config.capacityInBytes},t.prototype._findValidKeys=function(){for(var e=[],t=[],n=0;n<this.config.storage.length;n+=1)t.push(this.config.storage.key(n));for(n=0;n<t.length;n+=1){var r=t[n];0===r.indexOf(this.config.keyPrefix)&&r!==this.cacheCurSizeKey&&(this._isExpired(r)?this._removeItem(r):e.push(r))}return e},t.prototype._popOutItems=function(e,t){for(var n=[],r=t,o=0;o<e.length;o+=1){var i=this.config.storage.getItem(e[o]);if(null!=i){var a=JSON.parse(i);n.push(a)}}n.sort((function(e,t){return e.priority>t.priority?-1:e.priority<t.priority?1:e.visitedTime<t.visitedTime?-1:1}));for(o=0;o<n.length;o+=1)if(this._removeItem(n[o].key,n[o].byteSize),(r-=n[o].byteSize)<=0)return},t.prototype.setItem=function(e,t,n){Ih.log("Set item: key is "+e+", value is "+t+" with options: "+n);var r=this.config.keyPrefix+e;if(r!==this.config.keyPrefix&&r!==this.cacheCurSizeKey)if(void 0!==t){var o={priority:n&&void 0!==n.priority?n.priority:this.config.defaultPriority,expires:n&&void 0!==n.expires?n.expires:this.config.defaultTTL+_h()};if(o.priority<1||o.priority>5)Ih.warn("Invalid parameter: priority due to out or range. It should be within 1 and 5.");else{var i=this.fillCacheItem(r,t,o);if(i.byteSize>this.config.itemMaxSize)Ih.warn("Item with key: "+e+" you are trying to put into is too big!");else try{var a=this.config.storage.getItem(r);if(a&&this._removeItem(r,JSON.parse(a).byteSize),this._isCacheFull(i.byteSize)){var s=this._findValidKeys();if(this._isCacheFull(i.byteSize)){var u=this._sizeToPop(i.byteSize);this._popOutItems(s,u)}}this._setItem(r,i)}catch(e){Ih.warn("setItem failed! "+e)}}}else Ih.warn("The value of item should not be undefined!");else Ih.warn("Invalid key: should not be empty or 'CurSize'")},t.prototype.getItem=function(e,t){Ih.log("Get item: key is "+e+" with options "+t);var n=null,r=this.config.keyPrefix+e;if(r===this.config.keyPrefix||r===this.cacheCurSizeKey)return Ih.warn("Invalid key: should not be empty or 'CurSize'"),null;try{if(null!=(n=this.config.storage.getItem(r))){if(!this._isExpired(r)){var o=JSON.parse(n);return(o=this._refreshItem(o,r)).data}this._removeItem(r,JSON.parse(n).byteSize),n=null}if(t&&void 0!==t.callback){var i=t.callback();return null!==i&&this.setItem(e,i,t),i}return null}catch(e){return Ih.warn("getItem failed! "+e),null}},t.prototype.removeItem=function(e){Ih.log("Remove item: key is "+e);var t=this.config.keyPrefix+e;if(t!==this.config.keyPrefix&&t!==this.cacheCurSizeKey)try{var n=this.config.storage.getItem(t);n&&this._removeItem(t,JSON.parse(n).byteSize)}catch(e){Ih.warn("removeItem failed! "+e)}},t.prototype.clear=function(){Ih.log("Clear Cache");for(var e=[],t=0;t<this.config.storage.length;t+=1){var n=this.config.storage.key(t);0===n.indexOf(this.config.keyPrefix)&&e.push(n)}try{for(t=0;t<e.length;t+=1)this.config.storage.removeItem(e[t])}catch(e){Ih.warn("clear failed! "+e)}},t.prototype.getAllKeys=function(){for(var e=[],t=0;t<this.config.storage.length;t+=1){var n=this.config.storage.key(t);0===n.indexOf(this.config.keyPrefix)&&n!==this.cacheCurSizeKey&&e.push(n.substring(this.config.keyPrefix.length))}return e},t.prototype.getCacheCurSize=function(){var e=this.config.storage.getItem(this.cacheCurSizeKey);return e||(this.config.storage.setItem(this.cacheCurSizeKey,"0"),e="0"),Number(e)},t.prototype.createInstance=function(e){return e.keyPrefix&&e.keyPrefix!==Sh.keyPrefix||(Ih.error("invalid keyPrefix, setting keyPrefix with timeStamp"),e.keyPrefix=_h.toString()),new t(e)},t}(Ah)),Oh=wh.BrowserStorageCache;O.Amplify.register(wh.BrowserStorageCache);var Ph={};e(Ph,"Storage",(()=>PE),(e=>PE=e));var jh={};e(jh,"AWSS3Provider",(()=>TE),(e=>TE=e));var Rh;Rh=JSON.parse('{"name":"@aws-sdk/client-s3","description":"AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native","version":"3.6.1","scripts":{"clean":"yarn remove-definitions && yarn remove-dist && yarn remove-documentation","build-documentation":"yarn remove-documentation && typedoc ./","prepublishOnly":"yarn build","pretest":"yarn build:cjs","remove-definitions":"rimraf ./types","remove-dist":"rimraf ./dist","remove-documentation":"rimraf ./docs","test:unit":"mocha **/cjs/**/*.spec.js","test:e2e":"mocha **/cjs/**/*.ispec.js && karma start karma.conf.js","test":"yarn test:unit","build:cjs":"tsc -p tsconfig.json","build:es":"tsc -p tsconfig.es.json","build":"yarn build:cjs && yarn build:es","postbuild":"downlevel-dts types types/ts3.4"},"main":"./dist/cjs/index.js","types":"./types/index.d.ts","module":"./dist/es/index.js","browser":{"./runtimeConfig":"./runtimeConfig.browser"},"react-native":{"./runtimeConfig":"./runtimeConfig.native"},"sideEffects":false,"dependencies":{"@aws-crypto/sha256-browser":"^1.0.0","@aws-crypto/sha256-js":"^1.0.0","@aws-sdk/config-resolver":"3.6.1","@aws-sdk/credential-provider-node":"3.6.1","@aws-sdk/eventstream-serde-browser":"3.6.1","@aws-sdk/eventstream-serde-config-resolver":"3.6.1","@aws-sdk/eventstream-serde-node":"3.6.1","@aws-sdk/fetch-http-handler":"3.6.1","@aws-sdk/hash-blob-browser":"3.6.1","@aws-sdk/hash-node":"3.6.1","@aws-sdk/hash-stream-node":"3.6.1","@aws-sdk/invalid-dependency":"3.6.1","@aws-sdk/md5-js":"3.6.1","@aws-sdk/middleware-apply-body-checksum":"3.6.1","@aws-sdk/middleware-bucket-endpoint":"3.6.1","@aws-sdk/middleware-content-length":"3.6.1","@aws-sdk/middleware-expect-continue":"3.6.1","@aws-sdk/middleware-host-header":"3.6.1","@aws-sdk/middleware-location-constraint":"3.6.1","@aws-sdk/middleware-logger":"3.6.1","@aws-sdk/middleware-retry":"3.6.1","@aws-sdk/middleware-sdk-s3":"3.6.1","@aws-sdk/middleware-serde":"3.6.1","@aws-sdk/middleware-signing":"3.6.1","@aws-sdk/middleware-ssec":"3.6.1","@aws-sdk/middleware-stack":"3.6.1","@aws-sdk/middleware-user-agent":"3.6.1","@aws-sdk/node-config-provider":"3.6.1","@aws-sdk/node-http-handler":"3.6.1","@aws-sdk/protocol-http":"3.6.1","@aws-sdk/smithy-client":"3.6.1","@aws-sdk/types":"3.6.1","@aws-sdk/url-parser":"3.6.1","@aws-sdk/url-parser-native":"3.6.1","@aws-sdk/util-base64-browser":"3.6.1","@aws-sdk/util-base64-node":"3.6.1","@aws-sdk/util-body-length-browser":"3.6.1","@aws-sdk/util-body-length-node":"3.6.1","@aws-sdk/util-user-agent-browser":"3.6.1","@aws-sdk/util-user-agent-node":"3.6.1","@aws-sdk/util-utf8-browser":"3.6.1","@aws-sdk/util-utf8-node":"3.6.1","@aws-sdk/util-waiter":"3.6.1","@aws-sdk/xml-builder":"3.6.1","fast-xml-parser":"^3.16.0","tslib":"^2.0.0"},"devDependencies":{"@aws-sdk/client-documentation-generator":"3.6.1","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^12.7.5","downlevel-dts":"0.7.0","jest":"^26.1.0","rimraf":"^3.0.0","typedoc":"^0.19.2","typescript":"~4.1.2"},"engines":{"node":">=10.0.0"},"typesVersions":{"<4.0":{"types/*":["types/ts3.4/*"]}},"author":{"name":"AWS SDK for JavaScript Team","url":"https://aws.amazon.com/javascript/"},"license":"Apache-2.0","homepage":"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3","repository":{"type":"git","url":"https://github.com/aws/aws-sdk-js-v3.git","directory":"clients/client-s3"}}');var Mh={};Object.defineProperty(Mh,"__esModule",{value:!0}),Mh.AwsCrc32=Mh.Crc32=Mh.crc32=void 0;function Uh(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Lh(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function Dh(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var Fh=s("4cc5w");Mh.crc32=function(e){return(new Bh).update(e).digest()};var Bh=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(e){var t,n;try{for(var r=Dh(e),o=r.next();!o.done;o=r.next()){var i=o.value;this.checksum=this.checksum>>>8^zh[255&(this.checksum^i)]}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(4294967295^this.checksum)>>>0},e}();Mh.Crc32=Bh;var zh=(0,Fh.uint32ArrayFrom)([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),Vh={};Object.defineProperty(Vh,"__esModule",{value:!0}),Vh.AwsCrc32=void 0;Fh=s("4cc5w");var qh=function(){function e(){this.crc32=new Mh.Crc32}return e.prototype.update=function(e){(0,Fh.isEmptyData)(e)||this.crc32.update((0,Fh.convertToBuffer)(e))},e.prototype.digest=function(){return Uh(this,void 0,void 0,(function(){return Lh(this,(function(e){return[2,(0,Fh.numToUint8)(this.crc32.digest())]}))}))},e}();Vh.AwsCrc32=qh,Object.defineProperty(Mh,"AwsCrc32",{enumerable:!0,get:function(){return Vh.AwsCrc32}});function Kh(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var Hh=function(){function e(e){if(this.bytes=e,8!==e.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}return e.fromNumber=function(t){if(t>0x8000000000000000||t<-0x8000000000000000)throw new Error(t+" is too large (or, if negative, too small) to represent as an Int64");for(var n=new Uint8Array(8),r=7,o=Math.abs(Math.round(t));r>-1&&o>0;r--,o/=256)n[r]=o;return t<0&&Gh(n),new e(n)},e.prototype.valueOf=function(){var e=this.bytes.slice(0),t=128&e[0];return t&&Gh(e),parseInt(Ne(e),16)*(t?-1:1)},e.prototype.toString=function(){return String(this.valueOf())},e}();function Gh(e){for(var t=0;t<8;t++)e[t]^=255;for(t=7;t>-1&&(e[t]++,0===e[t]);t--);}var Wh,$h,Yh=function(){function e(e,t){this.toUtf8=e,this.fromUtf8=t}return e.prototype.format=function(e){var t,n,r,o,i=[];try{for(var a=Kh(Object.keys(e)),s=a.next();!s.done;s=a.next()){var u=s.value,c=this.fromUtf8(u);i.push(Uint8Array.from([c.byteLength]),c,this.formatHeaderValue(e[u]))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}var l=new Uint8Array(i.reduce((function(e,t){return e+t.byteLength}),0)),d=0;try{for(var f=Kh(i),h=f.next();!h.done;h=f.next()){var p=h.value;l.set(p,d),d+=p.byteLength}}catch(e){r={error:e}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}return l},e.prototype.formatHeaderValue=function(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":var t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":var n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":var r=new Uint8Array(9);return r[0]=5,r.set(e.value.bytes,1),r;case"binary":var o=new DataView(new ArrayBuffer(3+e.value.byteLength));o.setUint8(0,6),o.setUint16(1,e.value.byteLength,!1);var i=new Uint8Array(o.buffer);return i.set(e.value,3),i;case"string":var a=this.fromUtf8(e.value),s=new DataView(new ArrayBuffer(3+a.byteLength));s.setUint8(0,7),s.setUint16(1,a.byteLength,!1);var u=new Uint8Array(s.buffer);return u.set(a,3),u;case"timestamp":var c=new Uint8Array(9);return c[0]=8,c.set(Hh.fromNumber(e.value.valueOf()).bytes,1),c;case"uuid":if(!ip.test(e.value))throw new Error("Invalid UUID received: "+e.value);var l=new Uint8Array(17);return l[0]=9,l.set(Ie(e.value.replace(/\-/g,"")),1),l}},e.prototype.parse=function(e){for(var t={},n=0;n<e.byteLength;){var r=e.getUint8(n++),o=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,r));switch(n+=r,e.getUint8(n++)){case 0:t[o]={type:Jh,value:!0};break;case 1:t[o]={type:Jh,value:!1};break;case 2:t[o]={type:Qh,value:e.getInt8(n++)};break;case 3:t[o]={type:Zh,value:e.getInt16(n,!1)},n+=2;break;case 4:t[o]={type:Xh,value:e.getInt32(n,!1)},n+=4;break;case 5:t[o]={type:ep,value:new Hh(new Uint8Array(e.buffer,e.byteOffset+n,8))},n+=8;break;case 6:var i=e.getUint16(n,!1);n+=2,t[o]={type:tp,value:new Uint8Array(e.buffer,e.byteOffset+n,i)},n+=i;break;case 7:var a=e.getUint16(n,!1);n+=2,t[o]={type:np,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,a))},n+=a;break;case 8:t[o]={type:rp,value:new Date(new Hh(new Uint8Array(e.buffer,e.byteOffset+n,8)).valueOf())},n+=8;break;case 9:var s=new Uint8Array(e.buffer,e.byteOffset+n,16);n+=16,t[o]={type:op,value:Ne(s.subarray(0,4))+"-"+Ne(s.subarray(4,6))+"-"+Ne(s.subarray(6,8))+"-"+Ne(s.subarray(8,10))+"-"+Ne(s.subarray(10))};break;default:throw new Error("Unrecognized header type tag")}}return t},e}();($h=Wh||(Wh={}))[$h.boolTrue=0]="boolTrue",$h[$h.boolFalse=1]="boolFalse",$h[$h.byte=2]="byte",$h[$h.short=3]="short",$h[$h.integer=4]="integer",$h[$h.long=5]="long",$h[$h.byteArray=6]="byteArray",$h[$h.string=7]="string",$h[$h.timestamp=8]="timestamp",$h[$h.uuid=9]="uuid";var Jh="boolean",Qh="byte",Zh="short",Xh="integer",ep="long",tp="binary",np="string",rp="timestamp",op="uuid",ip=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;function ap(e){var t=e.byteLength,n=e.byteOffset,r=e.buffer;if(t<16)throw new Error("Provided message too short to accommodate event stream message overhead");var o=new DataView(r,n,t),i=o.getUint32(0,!1);if(t!==i)throw new Error("Reported message length does not match received message length");var a=o.getUint32(4,!1),s=o.getUint32(8,!1),u=o.getUint32(t-4,!1),c=(new(0,Mh.Crc32)).update(new Uint8Array(r,n,8));if(s!==c.digest())throw new Error("The prelude checksum specified in the message ("+s+") does not match the calculated CRC32 checksum ("+c.digest()+")");if(c.update(new Uint8Array(r,n+8,t-12)),u!==c.digest())throw new Error("The message checksum ("+c.digest()+") did not match the expected value of "+u);return{headers:new DataView(r,n+8+4,a),body:new Uint8Array(r,n+8+4+a,i-a-16)}}var sp=function(){function e(e,t){this.headerMarshaller=new Yh(e,t)}return e.prototype.marshall=function(e){var t=e.headers,n=e.body,r=this.headerMarshaller.format(t),o=r.byteLength+n.byteLength+16,i=new Uint8Array(o),a=new DataView(i.buffer,i.byteOffset,i.byteLength),s=new(0,Mh.Crc32);return a.setUint32(0,o,!1),a.setUint32(4,r.byteLength,!1),a.setUint32(8,s.update(i.subarray(0,8)).digest(),!1),i.set(r,12),i.set(n,r.byteLength+12),a.setUint32(o-4,s.update(i.subarray(8,o-4)).digest(),!1),i},e.prototype.unmarshall=function(e){var t=ap(e),n=t.headers,r=t.body;return{headers:this.headerMarshaller.parse(n),body:r}},e.prototype.formatHeaders=function(e){return this.headerMarshaller.format(e)},e}();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function up(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function cp(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function lp(e){return this instanceof lp?(this.v=e,this):new lp(e)}function dp(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof lp?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function fp(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=cp(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}function hp(e,t){var n;return(n={})[Symbol.asyncIterator]=function(){return dp(this,arguments,(function(){var n,r,o,i,a,s,u,c,l,d,f,h,p,v,g,m,y;return up(this,(function(b){switch(b.label){case 0:b.trys.push([0,12,13,18]),n=fp(e),b.label=1;case 1:return[4,lp(n.next())];case 2:if((r=b.sent()).done)return[3,11];if(o=r.value,i=t.eventMarshaller.unmarshall(o),"error"!==(a=i.headers[":message-type"].value))return[3,3];throw(s=new Error(i.headers[":error-message"].value||"UnknownError")).name=i.headers[":error-code"].value,s;case 3:return"exception"!==a?[3,5]:(u=i.headers[":exception-type"].value,(v={})[u]=i,c=v,[4,lp(t.deserializer(c))]);case 4:if((l=b.sent()).$unknown)throw(d=new Error(t.toUtf8(i.body))).name=u,d;throw l[u];case 5:return"event"!==a?[3,9]:((g={})[i.headers[":event-type"].value]=i,f=g,[4,lp(t.deserializer(f))]);case 6:return(h=b.sent()).$unknown?[3,10]:[4,lp(h)];case 7:return[4,b.sent()];case 8:return b.sent(),[3,10];case 9:throw Error("Unrecognizable event type: "+i.headers[":event-type"].value);case 10:return[3,1];case 11:return[3,18];case 12:return p=b.sent(),m={error:p},[3,18];case 13:return b.trys.push([13,,16,17]),r&&!r.done&&(y=n.return)?[4,lp(y.call(n))]:[3,15];case 14:b.sent(),b.label=15;case 15:return[3,17];case 16:if(m)throw m.error;return[7];case 17:return[7];case 18:return[2]}}))}))},n}var pp=function(){function e(e){var t=e.utf8Encoder,n=e.utf8Decoder;this.eventMarshaller=new sp(t,n),this.utfEncoder=t}return e.prototype.deserialize=function(e,t){var n,r,o,i,a,s,u,c=(n=e,o=0,i=0,a=null,s=null,u=function(e){if("number"!=typeof e)throw new Error("Attempted to allocate an event message where size was not a number: "+e);o=e,i=4,a=new Uint8Array(e),new DataView(a.buffer).setUint32(0,e,!1)},(r={})[Symbol.asyncIterator]=function(){return dp(this,arguments,(function(){var e,t,r,c,l,d,f,h;return up(this,(function(p){switch(p.label){case 0:e=n[Symbol.asyncIterator](),p.label=1;case 1:return[4,lp(e.next())];case 2:return t=p.sent(),r=t.value,t.done?o?[3,4]:[4,lp(void 0)]:[3,10];case 3:return[2,p.sent()];case 4:return o!==i?[3,7]:[4,lp(a)];case 5:return[4,p.sent()];case 6:return p.sent(),[3,8];case 7:throw new Error("Truncated event message received.");case 8:return[4,lp(void 0)];case 9:return[2,p.sent()];case 10:c=r.length,l=0,p.label=11;case 11:if(!(l<c))return[3,15];if(!a){if(d=c-l,s||(s=new Uint8Array(4)),f=Math.min(4-i,d),s.set(r.slice(l,l+f),i),l+=f,(i+=f)<4)return[3,15];u(new DataView(s.buffer).getUint32(0,!1)),s=null}return h=Math.min(o-i,c-l),a.set(r.slice(l,l+h),i),i+=h,l+=h,o&&o===i?[4,lp(a)]:[3,14];case 12:return[4,p.sent()];case 13:p.sent(),a=null,o=0,i=0,p.label=14;case 14:return[3,11];case 15:return[3,1];case 16:return[2]}}))}))},r);return hp(c,{eventMarshaller:this.eventMarshaller,deserializer:t,toUtf8:this.utfEncoder})},e.prototype.serialize=function(e,t){var n,r=this;return(n={})[Symbol.asyncIterator]=function(){return dp(this,arguments,(function(){var n,o,i,a,s,u;return up(this,(function(c){switch(c.label){case 0:c.trys.push([0,7,8,13]),n=fp(e),c.label=1;case 1:return[4,lp(n.next())];case 2:return(o=c.sent()).done?[3,6]:(i=o.value,[4,lp(r.eventMarshaller.marshall(t(i)))]);case 3:return[4,c.sent()];case 4:c.sent(),c.label=5;case 5:return[3,1];case 6:return[3,13];case 7:return a=c.sent(),s={error:a},[3,13];case 8:return c.trys.push([8,,11,12]),o&&!o.done&&(u=n.return)?[4,lp(u.call(n))]:[3,10];case 9:c.sent(),c.label=10;case 10:return[3,12];case 11:if(s)throw s.error;return[7];case 12:return[7];case 13:return[4,lp(new Uint8Array(0))];case 14:return[4,c.sent()];case 15:return c.sent(),[2]}}))}))},n},e}();function vp(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function gp(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function mp(e){return this instanceof mp?(this.v=e,this):new mp(e)}function yp(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof mp?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}var bp=function(){function e(e){var t=e.utf8Encoder,n=e.utf8Decoder;this.eventMarshaller=new sp(t,n),this.universalMarshaller=new pp({utf8Decoder:n,utf8Encoder:t})}return e.prototype.deserialize=function(e,t){var n,r,o=wp(e)?(n=e,(r={})[Symbol.asyncIterator]=function(){return yp(this,arguments,(function(){var e,t,r,o;return gp(this,(function(i){switch(i.label){case 0:e=n.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,mp(e.read())];case 3:return t=i.sent(),r=t.done,o=t.value,r?[4,mp(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,mp(o)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}}))}))},r):e;return this.universalMarshaller.deserialize(o,t)},e.prototype.serialize=function(e,t){var n,r=this.universalMarshaller.serialize(e,t);return"function"==typeof ReadableStream?(n=r[Symbol.asyncIterator](),new ReadableStream({pull:function(e){return vp(this,void 0,void 0,(function(){var t,r,o;return gp(this,(function(i){switch(i.label){case 0:return[4,n.next()];case 1:return t=i.sent(),r=t.done,o=t.value,r?[2,e.close()]:(e.enqueue(o),[2])}}))}))}})):r},e}(),wp=function(e){return"function"==typeof ReadableStream&&e instanceof ReadableStream};function Sp(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function xp(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function _p(e,t,n){return void 0===n&&(n=1048576),new Promise((function(r,o){var i=new FileReader;i.addEventListener("error",o),i.addEventListener("abort",o);var a=e.size,s=0;function u(){s>=a?r():i.readAsArrayBuffer(e.slice(s,Math.min(a,s+n)))}i.addEventListener("load",(function(e){var n=e.target.result;t(new Uint8Array(n)),s+=n.byteLength,u()})),u()}))}function Ep(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Cp(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var kp=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192,63&o|128);else if(n+1<e.length&&55296==(64512&o)&&56320==(64512&e.charCodeAt(n+1))){var i=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n));t.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else t.push(o>>12|224,o>>6&63|128,63&o|128)}return Uint8Array.from(t)};function Ap(e){return(new TextEncoder).encode(e)}var Tp=function(e){return"function"==typeof TextEncoder?Ap(e):kp(e)},Ip=[1732584193,4023233417,2562383102,271733878],Np=function(){function e(){this.state=Uint32Array.from(Ip),this.buffer=new DataView(new ArrayBuffer(64)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(!function(e){return"string"==typeof e?0===e.length:0===e.byteLength}(e)){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=function(e){return"string"==typeof e?Tp(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}(e),n=0,r=t.byteLength;for(this.bytesHashed+=r;r>0;)this.buffer.setUint8(this.bufferLength++,t[n++]),r--,64===this.bufferLength&&(this.hashBuffer(),this.bufferLength=0)}},e.prototype.digest=function(){return Ep(this,void 0,void 0,(function(){var e,t,n,r,o,i,a;return Cp(this,(function(s){if(!this.finished){if(t=(e=this).buffer,n=e.bufferLength,r=e.bytesHashed,o=8*r,t.setUint8(this.bufferLength++,128),n%64>=56){for(a=this.bufferLength;a<64;a++)t.setUint8(a,0);this.hashBuffer(),this.bufferLength=0}for(a=this.bufferLength;a<56;a++)t.setUint8(a,0);t.setUint32(56,o>>>0,!0),t.setUint32(60,Math.floor(o/4294967296),!0),this.hashBuffer(),this.finished=!0}for(i=new DataView(new ArrayBuffer(16)),a=0;a<4;a++)i.setUint32(4*a,this.state[a],!0);return[2,new Uint8Array(i.buffer,i.byteOffset,i.byteLength)]}))}))},e.prototype.hashBuffer=function(){var e=this.buffer,t=this.state,n=t[0],r=t[1],o=t[2],i=t[3];n=Pp(n,r,o,i,e.getUint32(0,!0),7,3614090360),i=Pp(i,n,r,o,e.getUint32(4,!0),12,3905402710),o=Pp(o,i,n,r,e.getUint32(8,!0),17,606105819),r=Pp(r,o,i,n,e.getUint32(12,!0),22,3250441966),n=Pp(n,r,o,i,e.getUint32(16,!0),7,4118548399),i=Pp(i,n,r,o,e.getUint32(20,!0),12,1200080426),o=Pp(o,i,n,r,e.getUint32(24,!0),17,2821735955),r=Pp(r,o,i,n,e.getUint32(28,!0),22,4249261313),n=Pp(n,r,o,i,e.getUint32(32,!0),7,1770035416),i=Pp(i,n,r,o,e.getUint32(36,!0),12,2336552879),o=Pp(o,i,n,r,e.getUint32(40,!0),17,4294925233),r=Pp(r,o,i,n,e.getUint32(44,!0),22,2304563134),n=Pp(n,r,o,i,e.getUint32(48,!0),7,1804603682),i=Pp(i,n,r,o,e.getUint32(52,!0),12,4254626195),o=Pp(o,i,n,r,e.getUint32(56,!0),17,2792965006),n=jp(n,r=Pp(r,o,i,n,e.getUint32(60,!0),22,1236535329),o,i,e.getUint32(4,!0),5,4129170786),i=jp(i,n,r,o,e.getUint32(24,!0),9,3225465664),o=jp(o,i,n,r,e.getUint32(44,!0),14,643717713),r=jp(r,o,i,n,e.getUint32(0,!0),20,3921069994),n=jp(n,r,o,i,e.getUint32(20,!0),5,3593408605),i=jp(i,n,r,o,e.getUint32(40,!0),9,38016083),o=jp(o,i,n,r,e.getUint32(60,!0),14,3634488961),r=jp(r,o,i,n,e.getUint32(16,!0),20,3889429448),n=jp(n,r,o,i,e.getUint32(36,!0),5,568446438),i=jp(i,n,r,o,e.getUint32(56,!0),9,3275163606),o=jp(o,i,n,r,e.getUint32(12,!0),14,4107603335),r=jp(r,o,i,n,e.getUint32(32,!0),20,1163531501),n=jp(n,r,o,i,e.getUint32(52,!0),5,2850285829),i=jp(i,n,r,o,e.getUint32(8,!0),9,4243563512),o=jp(o,i,n,r,e.getUint32(28,!0),14,1735328473),n=Rp(n,r=jp(r,o,i,n,e.getUint32(48,!0),20,2368359562),o,i,e.getUint32(20,!0),4,4294588738),i=Rp(i,n,r,o,e.getUint32(32,!0),11,2272392833),o=Rp(o,i,n,r,e.getUint32(44,!0),16,1839030562),r=Rp(r,o,i,n,e.getUint32(56,!0),23,4259657740),n=Rp(n,r,o,i,e.getUint32(4,!0),4,2763975236),i=Rp(i,n,r,o,e.getUint32(16,!0),11,1272893353),o=Rp(o,i,n,r,e.getUint32(28,!0),16,4139469664),r=Rp(r,o,i,n,e.getUint32(40,!0),23,3200236656),n=Rp(n,r,o,i,e.getUint32(52,!0),4,681279174),i=Rp(i,n,r,o,e.getUint32(0,!0),11,3936430074),o=Rp(o,i,n,r,e.getUint32(12,!0),16,3572445317),r=Rp(r,o,i,n,e.getUint32(24,!0),23,76029189),n=Rp(n,r,o,i,e.getUint32(36,!0),4,3654602809),i=Rp(i,n,r,o,e.getUint32(48,!0),11,3873151461),o=Rp(o,i,n,r,e.getUint32(60,!0),16,530742520),n=Mp(n,r=Rp(r,o,i,n,e.getUint32(8,!0),23,3299628645),o,i,e.getUint32(0,!0),6,4096336452),i=Mp(i,n,r,o,e.getUint32(28,!0),10,1126891415),o=Mp(o,i,n,r,e.getUint32(56,!0),15,2878612391),r=Mp(r,o,i,n,e.getUint32(20,!0),21,4237533241),n=Mp(n,r,o,i,e.getUint32(48,!0),6,1700485571),i=Mp(i,n,r,o,e.getUint32(12,!0),10,2399980690),o=Mp(o,i,n,r,e.getUint32(40,!0),15,4293915773),r=Mp(r,o,i,n,e.getUint32(4,!0),21,2240044497),n=Mp(n,r,o,i,e.getUint32(32,!0),6,1873313359),i=Mp(i,n,r,o,e.getUint32(60,!0),10,4264355552),o=Mp(o,i,n,r,e.getUint32(24,!0),15,2734768916),r=Mp(r,o,i,n,e.getUint32(52,!0),21,1309151649),n=Mp(n,r,o,i,e.getUint32(16,!0),6,4149444226),i=Mp(i,n,r,o,e.getUint32(44,!0),10,3174756917),o=Mp(o,i,n,r,e.getUint32(8,!0),15,718787259),r=Mp(r,o,i,n,e.getUint32(36,!0),21,3951481745),t[0]=n+t[0]&4294967295,t[1]=r+t[1]&4294967295,t[2]=o+t[2]&4294967295,t[3]=i+t[3]&4294967295},e}();function Op(e,t,n,r,o,i){return((t=(t+e&4294967295)+(r+i&4294967295)&4294967295)<<o|t>>>32-o)+n&4294967295}function Pp(e,t,n,r,o,i,a){return Op(t&n|~t&r,e,t,o,i,a)}function jp(e,t,n,r,o,i,a){return Op(t&r|n&~r,e,t,o,i,a)}function Rp(e,t,n,r,o,i,a){return Op(t^n^r,e,t,o,i,a)}function Mp(e,t,n,r,o,i,a){return Op(n^(t|~r),e,t,o,i,a)}var Up=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192,63&o|128);else if(n+1<e.length&&55296==(64512&o)&&56320==(64512&e.charCodeAt(n+1))){var i=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n));t.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else t.push(o>>12|224,o>>6&63|128,63&o|128)}return Uint8Array.from(t)},Lp=function(e){for(var t="",n=0,r=e.length;n<r;n++){var o=e[n];if(o<128)t+=String.fromCharCode(o);else if(192<=o&&o<224){var i=e[++n];t+=String.fromCharCode((31&o)<<6|63&i)}else if(240<=o&&o<365){var a="%"+[o,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&o)<<12|(63&e[++n])<<6|63&e[++n])}return t};function Dp(e){return(new TextEncoder).encode(e)}function Fp(e){return new TextDecoder("utf-8").decode(e)}var Bp=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),zp=new Set(["cn-north-1","cn-northwest-1"]),Vp=new Set(["us-iso-east-1"]),qp=new Set(["us-isob-east-1"]),Kp=new Set(["us-gov-east-1","us-gov-west-1"]),Hp={apiVersion:"2006-03-01",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;switch(e){case"af-south-1":n={hostname:"s3.af-south-1.amazonaws.com",partition:"aws"};break;case"ap-east-1":n={hostname:"s3.ap-east-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-1":n={hostname:"s3.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":n={hostname:"s3.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":n={hostname:"s3.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":n={hostname:"s3.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":n={hostname:"s3.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"aws-global":n={hostname:"s3.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"ca-central-1":n={hostname:"s3.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":n={hostname:"s3.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"cn-northwest-1":n={hostname:"s3.cn-northwest-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":n={hostname:"s3.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":n={hostname:"s3.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-south-1":n={hostname:"s3.eu-south-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":n={hostname:"s3.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":n={hostname:"s3.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":n={hostname:"s3.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-gov-west-1":n={hostname:"s3-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"me-south-1":n={hostname:"s3.me-south-1.amazonaws.com",partition:"aws"};break;case"s3-external-1":n={hostname:"s3-external-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"sa-east-1":n={hostname:"s3.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":n={hostname:"s3.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":n={hostname:"s3.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-east-1":n={hostname:"s3.us-gov-east-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-gov-west-1":n={hostname:"s3.us-gov-west-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-iso-east-1":n={hostname:"s3.us-iso-east-1.c2s.ic.gov",partition:"aws-iso"};break;case"us-isob-east-1":n={hostname:"s3.us-isob-east-1.sc2s.sgov.gov",partition:"aws-iso-b"};break;case"us-west-1":n={hostname:"s3.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":n={hostname:"s3.us-west-2.amazonaws.com",partition:"aws"};break;default:Bp.has(e)&&(n={hostname:"s3.{region}.amazonaws.com".replace("{region}",e),partition:"aws"}),zp.has(e)&&(n={hostname:"s3.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),Vp.has(e)&&(n={hostname:"s3.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),qp.has(e)&&(n={hostname:"s3.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),Kp.has(e)&&(n={hostname:"s3.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:"s3.{region}.amazonaws.com".replace("{region}",e),partition:"aws"})}return Promise.resolve(jt({signingService:"s3"},n))},serviceId:"S3",signingEscapePath:!1,urlParser:dr,useArnRegion:!1},Gp=jt(jt({},Hp),{runtime:"browser",base64Decoder:sn,base64Encoder:un,bodyLengthChecker:$n,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:Zn({serviceId:Hp.serviceId,clientVersion:r(Rh).version}),eventStreamSerdeProvider:function(e){return new bp(e)},maxAttempts:3,md5:Np,region:dn("Region is missing"),requestHandler:new Zt,sha256:Dt.Sha256,streamCollector:cn,streamHasher:function(e,t){return Sp(this,void 0,void 0,(function(){var n;return xp(this,(function(r){switch(r.label){case 0:return n=new e,[4,_p(t,(function(e){n.update(e)}))];case 1:return r.sent(),[2,n.digest()]}}))}))},utf8Decoder:function(e){return"function"==typeof TextEncoder?Dp(e):Up(e)},utf8Encoder:function(e){return"function"==typeof TextDecoder?Fp(e):Lp(e)}});var Wp=function(){return Wp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Wp.apply(this,arguments)};var $p=function(e){return Wp(Wp({},e),{eventStreamMarshaller:e.eventStreamSerdeProvider(e)})};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Yp=function(){return Yp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Yp.apply(this,arguments)};function Jp(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Qp(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function Zp(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function Xp(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var ev=function(e){return"string"==typeof e&&0===e.indexOf("arn:")&&e.split(":").length>=6},tv=function(e){var t=e.split(":");if(t.length<6||"arn"!==t[0])throw new Error("Malformed ARN");var n=Xp(t);return{partition:n[1],service:n[2],region:n[3],accountId:n[4],resource:n.slice(5).join(":")}},nv=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,rv=/(\d+\.){3}\d+/,ov=/\.\./,iv=/\./,av=/^(.+\.)?s3[.-]([a-z0-9-]+)\./,sv=/^s3(-external-1)?\.amazonaws\.com$/,uv=function(e){return"string"==typeof e.bucketName},cv=function(e){return yv(e)?e.replace(/fips-|-fips/,""):e},lv=function(e){return nv.test(e)&&!rv.test(e)&&!ov.test(e)},dv=function(e){var t=e.match(av);return[t[2],e.replace(new RegExp("^"+t[0]),"")]},fv=function(e){if(e.pathStyleEndpoint)throw new Error("Path-style S3 endpoint is not supported when bucket is an ARN");if(e.accelerateEndpoint)throw new Error("Accelerate endpoint is not supported when bucket is an ARN");if(!e.tlsCompatible)throw new Error("HTTPS is required when bucket is an ARN")},hv=function(e){if("s3"!==e&&"s3-outposts"!==e)throw new Error("Expect 's3' or 's3-outposts' in ARN service component")},pv=function(e){if("s3"!==e)throw new Error("Expect 's3' in Accesspoint ARN service component")},vv=function(e){if("s3-outposts"!==e)throw new Error("Expect 's3-posts' in Outpost ARN service component")},gv=function(e,t){if(e!==t.clientPartition)throw new Error('Partition in ARN is incompatible, got "'+e+'" but expected "'+t.clientPartition+'"')},mv=function(e,t){if(""===e)throw new Error("ARN region is empty");if(!t.useArnRegion&&!bv(e,t.clientRegion)&&!bv(e,t.clientSigningRegion))throw new Error("Region in ARN is incompatible, got "+e+" but expected "+t.clientRegion);if(t.useArnRegion&&yv(e))throw new Error("Endpoint does not support FIPS region")},yv=function(e){return e.startsWith("fips-")||e.endsWith("-fips")},bv=function(e,t){return e===t||cv(e)===t||e===cv(t)},wv=function(e){if(!/[0-9]{12}/.exec(e))throw new Error("Access point ARN accountID does not match regex '[0-9]{12}'")},Sv=function(e,t){if(void 0===t&&(t={tlsCompatible:!0}),e.length>=64||!/^[a-z0-9][a-z0-9.-]+[a-z0-9]$/.test(e)||/(\d+\.){3}\d+/.test(e)||/[.-]{2}/.test(e)||(null==t?void 0:t.tlsCompatible)&&iv.test(e))throw new Error("Invalid DNS label "+e)},xv=function(e){var t=e.includes(":")?":":"/",n=Zp(e.split(t)),r=n[0],o=n.slice(1);if("accesspoint"===r){if(1!==o.length||""===o[0])throw new Error("Access Point ARN should have one resource accesspoint"+t+"{accesspointname}");return{accesspointName:o[0]}}if("outpost"===r){if(!o[0]||"accesspoint"!==o[1]||!o[2]||3!==o.length)throw new Error("Outpost ARN should have resource outpost"+t+"{outpostId}"+t+"accesspoint"+t+"{accesspointName}");var i=Zp(o,3),a=i[0];i[1];return{outpostId:a,accesspointName:i[2]}}throw new Error("ARN resource should begin with 'accesspoint"+t+"' or 'outpost"+t+"'")},_v=function(e){if(e)throw new Error("Dualstack endpoint is not supported with Outpost")},Ev=function(e){if(yv(null!=e?e:""))throw new Error("FIPS region is not supported with Outpost, got "+e)},Cv=function(e){var t=e.isCustomEndpoint,n=(e.baseHostname,e.dualstackEndpoint),r=e.accelerateEndpoint;if(t){if(n)throw new Error("Dualstack endpoint is not supported with custom endpoint");if(r)throw new Error("Accelerate endpoint is not supported with custom endpoint")}return uv(e)?Av(Yp(Yp({},e),{isCustomEndpoint:t})):kv(Yp(Yp({},e),{isCustomEndpoint:t}))},kv=function(e){var t,n=e.isCustomEndpoint,r=e.baseHostname,o=Zp(n?[e.clientRegion,r]:(t=r,sv.test(t)?[t.replace(".amazonaws.com",""),"amazonaws.com"]:dv(t)),2),i=o[0],a=o[1],s=e.pathStyleEndpoint,u=e.dualstackEndpoint,c=void 0!==u&&u,l=e.accelerateEndpoint,d=void 0!==l&&l,f=e.tlsCompatible,h=void 0===f||f,p=e.useArnRegion,v=e.bucketName,g=e.clientPartition,m=void 0===g?"aws":g,y=e.clientSigningRegion,b=void 0===y?i:y;fv({pathStyleEndpoint:s,accelerateEndpoint:d,tlsCompatible:h});var w=v.service,S=v.partition,x=v.accountId,_=v.region,E=v.resource;hv(w),gv(S,{clientPartition:m}),wv(x),mv(_,{useArnRegion:p,clientRegion:i,clientSigningRegion:b});var C=xv(E),k=C.accesspointName,A=C.outpostId;Sv(k+"-"+x,{tlsCompatible:h});var T=p?_:i,I=p?_:b;return A?(vv(w),Sv(A,{tlsCompatible:h}),_v(c),Ev(T),{bucketEndpoint:!0,hostname:k+"-"+x+"."+A+(n?"":".s3-outposts."+T)+"."+a,signingRegion:I,signingService:"s3-outposts"}):(pv(w),{bucketEndpoint:!0,hostname:k+"-"+x+(n?"":".s3-accesspoint"+(c?".dualstack":"")+"."+T)+"."+a,signingRegion:I})},Av=function(e){var t,n=e.accelerateEndpoint,r=void 0!==n&&n,o=e.clientRegion,i=e.baseHostname,a=e.bucketName,s=e.dualstackEndpoint,u=void 0!==s&&s,c=e.pathStyleEndpoint,l=void 0!==c&&c,d=e.tlsCompatible,f=void 0===d||d,h=e.isCustomEndpoint,p=Zp(void 0!==h&&h?[o,i]:(t=i,sv.test(t)?["us-east-1","amazonaws.com"]:dv(t)),2),v=p[0],g=p[1];return l||!lv(a)||f&&iv.test(a)?{bucketEndpoint:!1,hostname:u?"s3.dualstack."+v+"."+g:i}:(r?i="s3-accelerate"+(u?".dualstack":"")+"."+g:u&&(i="s3.dualstack."+v+"."+g),{bucketEndpoint:!0,hostname:a+"."+i})},Tv=function(e){return function(t,n){return function(r){return Jp(void 0,void 0,void 0,(function(){var o,i,a,s,u,c,l,d,f,h,p,v,g,m,y,b,w,S;return Qp(this,(function(x){switch(x.label){case 0:return o=r.input.Bucket,i=e.bucketEndpoint,a=r.request,Wt.isInstance(a)?e.bucketEndpoint?(a.hostname=o,[3,7]):[3,1]:[3,8];case 1:return ev(o)?(s=tv(o),u=cv,[4,e.region()]):[3,5];case 2:return m=u.apply(void 0,[x.sent()]),[4,e.regionInfoProvider(m)];case 3:return c=x.sent()||{},l=c.partition,d=c.signingRegion,f=void 0===d?m:d,[4,e.useArnRegion()];case 4:return h=x.sent(),p=Cv({bucketName:s,baseHostname:a.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:e.useDualstackEndpoint,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:"https:"===a.protocol,useArnRegion:h,clientPartition:l,clientSigningRegion:f,clientRegion:m,isCustomEndpoint:e.isCustomEndpoint}),w=p.hostname,S=p.bucketEndpoint,v=p.signingRegion,g=p.signingService,v&&v!==f&&(n.signing_region=v),g&&"s3"!==g&&(n.signing_service=g),a.hostname=w,i=S,[3,7];case 5:return y=cv,[4,e.region()];case 6:m=y.apply(void 0,[x.sent()]),b=Cv({bucketName:o,clientRegion:m,baseHostname:a.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:e.useDualstackEndpoint,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:"https:"===a.protocol,isCustomEndpoint:e.isCustomEndpoint}),w=b.hostname,S=b.bucketEndpoint,a.hostname=w,i=S,x.label=7;case 7:i&&(a.path=a.path.replace(/^(\/)?[^\/]+/,""),""===a.path&&(a.path="/")),x.label=8;case 8:return[2,t(Yp(Yp({},r),{request:a}))]}}))}))}}},Iv={tags:["BUCKET_ENDPOINT"],name:"bucketEndpointMiddleware",relation:"before",toMiddleware:"hostHeaderMiddleware",override:!0},Nv=function(e){return{applyToStack:function(t){t.addRelativeTo(Tv(e),Iv)}}};var Ov=function(){return Ov=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ov.apply(this,arguments)};function Pv(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function jv(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var Rv={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},Mv=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return Pv(t,void 0,void 0,(function(){var t;return jv(this,(function(o){return t=r.request,Wt.isInstance(t)&&t.body&&"node"===e.runtime&&(t.headers=Ov(Ov({},t.headers),{Expect:"100-continue"})),[2,n(Ov(Ov({},r),{request:t}))]}))}))}}}(e),Rv)}}};var Uv=function(){return Uv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Uv.apply(this,arguments)};function Lv(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Dv(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var Fv,Bv,zv,Vv,qv,Kv,Hv,Gv,Wv,$v,Yv,Jv,Qv,Zv,Xv,eg,tg,ng,rg,og,ig,ag,sg,ug,cg,lg,dg,fg,hg,pg,vg,gg,mg,yg,bg,wg,Sg,xg,_g,Eg,Cg,kg,Ag,Tg,Ig,Ng,Og,Pg,jg,Rg,Mg,Ug,Lg,Dg,Fg,Bg,zg,Vg,qg,Kg,Hg,Gg,Wg,$g,Yg,Jg,Qg,Zg,Xg,em,tm,nm,rm,om,im,am,sm,um,cm,lm,dm,fm,hm,pm,vm,gm,mm,ym,bm,wm,Sm,xm,_m,Em,Cm,km,Am,Tm,Im,Nm,Om,Pm,jm,Rm,Mm,Um,Lm,Dm,Fm,Bm,zm,Vm,qm,Km,Hm,Gm,Wm,$m,Ym,Jm,Qm,Zm,Xm,ey,ty,ny,ry,oy,iy,ay,sy,uy,cy,ly,dy,fy,hy,py,vy,gy,my,yy,by,wy,Sy,xy,_y,Ey,Cy,ky,Ay,Ty,Iy,Ny,Oy,Py,jy,Ry,My,Uy,Ly,Dy,Fy,By,zy,Vy,qy,Ky,Hy,Gy,Wy,$y,Yy,Jy,Qy,Zy,Xy,eb,tb,nb,rb,ob,ib,ab,sb,ub,cb,lb,db,fb,hb,pb,vb,gb,mb,yb,bb,wb,Sb,xb,_b,Eb,Cb,kb,Ab,Tb,Ib,Nb,Ob,Pb,jb,Rb,Mb,Ub,Lb,Db,Fb,Bb,zb,Vb,qb,Kb,Hb,Gb,Wb,$b,Yb,Jb,Qb,Zb,Xb,ew,tw,nw,rw,ow,iw,aw,sw,uw,cw,lw,dw,fw,hw,pw,vw,gw,mw,yw,bw,ww,Sw,xw,_w,Ew={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},Cw=function(e){return{applyToStack:function(e){e.add(function(){var e=this;return function(t){return function(n){return Lv(e,void 0,void 0,(function(){var e,r;return Dv(this,(function(o){if("string"==typeof(e=n.input.Bucket)&&!ev(e)&&e.indexOf("/")>=0)throw(r=new Error("Bucket name shouldn't contain '/', received '"+e+"'")).name="InvalidBucketName",r;return[2,t(Uv({},n))]}))}))}}}(),Ew)}}},kw={step:"build",tags:["USE_REGIONAL_ENDPOINT","S3"],name:"useRegionalEndpointMiddleware",override:!0},Aw=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return Lv(void 0,void 0,void 0,(function(){var r,o;return Dv(this,(function(i){switch(i.label){case 0:return r=n.request,!Wt.isInstance(r)||e.isCustomEndpoint?[2,t(Uv({},n))]:"s3.amazonaws.com"!==r.hostname?[3,1]:(r.hostname="s3.us-east-1.amazonaws.com",[3,3]);case 1:return o="aws-global",[4,e.region()];case 2:o===i.sent()&&(r.hostname="s3.amazonaws.com"),i.label=3;case 3:return[2,t(Uv({},n))]}}))}))}}}(e),kw)}}},Tw=function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},Iw=function(e,t){return Tw(e,t).then((function(e){return t.utf8Encoder(e)}))},Nw={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},Ow=function(e){return{applyToStack:function(t){t.addRelativeTo(function(e){return function(t){return function(n){return Lv(void 0,void 0,void 0,(function(){var r,o,i,a,s,u,c;return Dv(this,(function(l){switch(l.label){case 0:return[4,t(n)];case 1:return r=l.sent(),o=r.response,Kt.isInstance(o)?(i=o.statusCode,a=o.body,i<200&&i>=300?[2,r]:[4,Tw(a,e)]):[2,r];case 2:return s=l.sent(),[4,Iw(s,e)];case 3:if(u=l.sent(),0===s.length)throw(c=new Error("S3 aborted request")).name="InternalError",c;return u&&u.match("<Error>")&&(o.statusCode=400),o.body=s,[2,r]}}))}))}}}(e),Nw)}}},Pw=function(e){function t(t){var n,r,o,i,a,s,u,c,l,d,f,h=this,p=jt(jt({},Gp),t),v=wr(p),g=So(mr(v)),m=Gn(g),y=Po((r=(n=m).bucketEndpoint,o=void 0!==r&&r,i=n.forcePathStyle,a=void 0!==i&&i,s=n.useAccelerateEndpoint,u=void 0!==s&&s,c=n.useDualstackEndpoint,l=void 0!==c&&c,d=n.useArnRegion,f=void 0!==d&&d,Yp(Yp({},n),{bucketEndpoint:o,forcePathStyle:a,useAccelerateEndpoint:u,useDualstackEndpoint:l,useArnRegion:"function"==typeof f?f:function(){return Promise.resolve(f)}}))),b=$p(y);return(h=e.call(this,b)||this).config=b,h.middlewareStack.use(ko(h.config)),h.middlewareStack.use(Sn(h.config)),h.middlewareStack.use(kr(h.config)),h.middlewareStack.use(Nr(h.config)),h.middlewareStack.use(Ur(h.config)),h.middlewareStack.use(Cw(h.config)),h.middlewareStack.use(Aw(h.config)),h.middlewareStack.use(Mv(h.config)),h.middlewareStack.use(Uo(h.config)),h}return Pt(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(Ko);(Fv||(Fv={})).filterSensitiveLog=function(e){return jt({},e)},(Bv||(Bv={})).filterSensitiveLog=function(e){return jt({},e)},(zv||(zv={})).filterSensitiveLog=function(e){return jt({},e)},(Vv||(Vv={})).filterSensitiveLog=function(e){return jt({},e)},(qv||(qv={})).filterSensitiveLog=function(e){return jt({},e)},(Kv||(Kv={})).filterSensitiveLog=function(e){return jt({},e)},(Hv||(Hv={})).filterSensitiveLog=function(e){return jt({},e)},(Gv||(Gv={})).filterSensitiveLog=function(e){return jt({},e)},(Wv||(Wv={})).filterSensitiveLog=function(e){return jt({},e)},($v||($v={})).filterSensitiveLog=function(e){return jt({},e)},(Yv||(Yv={})).filterSensitiveLog=function(e){return jt(jt({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:"***SensitiveInformation***"})},(Jv||(Jv={})).filterSensitiveLog=function(e){return jt({},e)},(Qv||(Qv={})).filterSensitiveLog=function(e){return jt({},e)},(Zv||(Zv={})).filterSensitiveLog=function(e){return jt({},e)},(Xv||(Xv={})).filterSensitiveLog=function(e){return jt({},e)},(eg||(eg={})).filterSensitiveLog=function(e){return jt(jt(jt({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:"***SensitiveInformation***"}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:"***SensitiveInformation***"})},(tg||(tg={})).filterSensitiveLog=function(e){return jt(jt(jt(jt(jt({},e),e.SSECustomerKey&&{SSECustomerKey:"***SensitiveInformation***"}),e.SSEKMSKeyId&&{SSEKMSKeyId:"***SensitiveInformation***"}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:"***SensitiveInformation***"}),e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:"***SensitiveInformation***"})},(ng||(ng={})).filterSensitiveLog=function(e){return jt({},e)},(rg||(rg={})).filterSensitiveLog=function(e){return jt({},e)},(og||(og={})).filterSensitiveLog=function(e){return jt({},e)},(ig||(ig={})).filterSensitiveLog=function(e){return jt({},e)},(ag||(ag={})).filterSensitiveLog=function(e){return jt({},e)},(sg||(sg={})).filterSensitiveLog=function(e){return jt({},e)},(ug||(ug={})).filterSensitiveLog=function(e){return jt(jt(jt({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:"***SensitiveInformation***"}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:"***SensitiveInformation***"})},(cg||(cg={})).filterSensitiveLog=function(e){return jt(jt(jt(jt({},e),e.SSECustomerKey&&{SSECustomerKey:"***SensitiveInformation***"}),e.SSEKMSKeyId&&{SSEKMSKeyId:"***SensitiveInformation***"}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:"***SensitiveInformation***"})},(lg||(lg={})).filterSensitiveLog=function(e){return jt({},e)},(dg||(dg={})).filterSensitiveLog=function(e){return jt({},e)},(fg||(fg={})).filterSensitiveLog=function(e){return jt({},e)},(hg||(hg={})).filterSensitiveLog=function(e){return jt({},e)},(pg||(pg={})).filterSensitiveLog=function(e){return jt({},e)},(vg||(vg={})).filterSensitiveLog=function(e){return jt({},e)},(gg||(gg={})).filterSensitiveLog=function(e){return jt({},e)},(mg||(mg={})).filterSensitiveLog=function(e){return jt({},e)},(yg||(yg={})).filterSensitiveLog=function(e){return jt({},e)},(bg||(bg={})).filterSensitiveLog=function(e){return jt({},e)},(wg||(wg={})).filterSensitiveLog=function(e){return jt({},e)},(Sg||(Sg={})).filterSensitiveLog=function(e){return jt({},e)},(xg||(xg={})).filterSensitiveLog=function(e){return jt({},e)},(_g||(_g={})).filterSensitiveLog=function(e){return jt({},e)},(Eg||(Eg={})).filterSensitiveLog=function(e){return jt({},e)},(Cg||(Cg={})).filterSensitiveLog=function(e){return jt({},e)},(kg||(kg={})).filterSensitiveLog=function(e){return jt({},e)},(Ag||(Ag={})).filterSensitiveLog=function(e){return jt({},e)},(Tg||(Tg={})).filterSensitiveLog=function(e){return jt({},e)},(Ig||(Ig={})).filterSensitiveLog=function(e){return jt({},e)},(Ng||(Ng={})).filterSensitiveLog=function(e){return jt({},e)},(Og||(Og={})).filterSensitiveLog=function(e){return jt({},e)},(Pg||(Pg={})).filterSensitiveLog=function(e){return jt({},e)},(jg||(jg={})).filterSensitiveLog=function(e){return jt({},e)},(Rg||(Rg={})).filterSensitiveLog=function(e){return jt({},e)},(Mg||(Mg={})).filterSensitiveLog=function(e){return jt({},e)},(Ug||(Ug={})).filterSensitiveLog=function(e){return jt({},e)},(Lg||(Lg={})).filterSensitiveLog=function(e){return jt({},e)},(Dg||(Dg={})).filterSensitiveLog=function(e){return jt({},e)},(Fg||(Fg={})).filterSensitiveLog=function(e){return jt({},e)},(zg=Bg||(Bg={})).visit=function(e,t){return void 0!==e.Prefix?t.Prefix(e.Prefix):void 0!==e.Tag?t.Tag(e.Tag):void 0!==e.And?t.And(e.And):t._(e.$unknown[0],e.$unknown[1])},zg.filterSensitiveLog=function(e){var t;return void 0!==e.Prefix?{Prefix:e.Prefix}:void 0!==e.Tag?{Tag:Dg.filterSensitiveLog(e.Tag)}:void 0!==e.And?{And:Fg.filterSensitiveLog(e.And)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0},(Vg||(Vg={})).filterSensitiveLog=function(e){return jt({},e)},(qg||(qg={})).filterSensitiveLog=function(e){return jt({},e)},(Kg||(Kg={})).filterSensitiveLog=function(e){return jt({},e)},(Hg||(Hg={})).filterSensitiveLog=function(e){return jt({},e)},(Gg||(Gg={})).filterSensitiveLog=function(e){return jt(jt({},e),e.Filter&&{Filter:Bg.filterSensitiveLog(e.Filter)})},(Wg||(Wg={})).filterSensitiveLog=function(e){return jt(jt({},e),e.AnalyticsConfiguration&&{AnalyticsConfiguration:Gg.filterSensitiveLog(e.AnalyticsConfiguration)})},($g||($g={})).filterSensitiveLog=function(e){return jt({},e)},(Yg||(Yg={})).filterSensitiveLog=function(e){return jt({},e)},(Jg||(Jg={})).filterSensitiveLog=function(e){return jt({},e)},(Qg||(Qg={})).filterSensitiveLog=function(e){return jt({},e)},(Zg||(Zg={})).filterSensitiveLog=function(e){return jt(jt({},e),e.KMSMasterKeyID&&{KMSMasterKeyID:"***SensitiveInformation***"})},(Xg||(Xg={})).filterSensitiveLog=function(e){return jt(jt({},e),e.ApplyServerSideEncryptionByDefault&&{ApplyServerSideEncryptionByDefault:Zg.filterSensitiveLog(e.ApplyServerSideEncryptionByDefault)})},(em||(em={})).filterSensitiveLog=function(e){return jt(jt({},e),e.Rules&&{Rules:e.Rules.map((function(e){return Xg.filterSensitiveLog(e)}))})},(tm||(tm={})).filterSensitiveLog=function(e){return jt(jt({},e),e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:em.filterSensitiveLog(e.ServerSideEncryptionConfiguration)})},(nm||(nm={})).filterSensitiveLog=function(e){return jt({},e)},(rm||(rm={})).filterSensitiveLog=function(e){return jt({},e)},(om||(om={})).filterSensitiveLog=function(e){return jt({},e)},(im||(im={})).filterSensitiveLog=function(e){return jt({},e)},(am||(am={})).filterSensitiveLog=function(e){return jt({},e)},(sm||(sm={})).filterSensitiveLog=function(e){return jt({},e)},(um||(um={})).filterSensitiveLog=function(e){return jt({},e)},(cm||(cm={})).filterSensitiveLog=function(e){return jt(jt({},e),e.KeyId&&{KeyId:"***SensitiveInformation***"})},(lm||(lm={})).filterSensitiveLog=function(e){return jt({},e)},(dm||(dm={})).filterSensitiveLog=function(e){return jt(jt({},e),e.SSEKMS&&{SSEKMS:cm.filterSensitiveLog(e.SSEKMS)})},(fm||(fm={})).filterSensitiveLog=function(e){return jt(jt({},e),e.Encryption&&{Encryption:dm.filterSensitiveLog(e.Encryption)})},(hm||(hm={})).filterSensitiveLog=function(e){return jt(jt({},e),e.S3BucketDestination&&{S3BucketDestination:fm.filterSensitiveLog(e.S3BucketDestination)})},(pm||(pm={})).filterSensitiveLog=function(e){return jt({},e)},(vm||(vm={})).filterSensitiveLog=function(e){return jt({},e)},(gm||(gm={})).filterSensitiveLog=function(e){return jt(jt({},e),e.Destination&&{Destination:hm.filterSensitiveLog(e.Destination)})},(mm||(mm={})).filterSensitiveLog=function(e){return jt(jt({},e),e.InventoryConfiguration&&{InventoryConfiguration:gm.filterSensitiveLog(e.InventoryConfiguration)})},(ym||(ym={})).filterSensitiveLog=function(e){return jt({},e)},(bm||(bm={})).filterSensitiveLog=function(e){return jt({},e)},(wm||(wm={})).filterSensitiveLog=function(e){return jt({},e)},(xm=Sm||(Sm={})).visit=function(e,t){return void 0!==e.Prefix?t.Prefix(e.Prefix):void 0!==e.Tag?t.Tag(e.Tag):void 0!==e.And?t.And(e.And):t._(e.$unknown[0],e.$unknown[1])},xm.filterSensitiveLog=function(e){var t;return void 0!==e.Prefix?{Prefix:e.Prefix}:void 0!==e.Tag?{Tag:Dg.filterSensitiveLog(e.Tag)}:void 0!==e.And?{And:wm.filterSensitiveLog(e.And)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0},(_m||(_m={})).filterSensitiveLog=function(e){return jt({},e)},(Em||(Em={})).filterSensitiveLog=function(e){return jt({},e)},(Cm||(Cm={})).filterSensitiveLog=function(e){return jt({},e)},(km||(km={})).filterSensitiveLog=function(e){return jt(jt({},e),e.Filter&&{Filter:Sm.filterSensitiveLog(e.Filter)})},(Am||(Am={})).filterSensitiveLog=function(e){return jt(jt({},e),e.Rules&&{Rules:e.Rules.map((function(e){return km.filterSensitiveLog(e)}))})},(Tm||(Tm={})).filterSensitiveLog=function(e){return jt({},e)},(Im||(Im={})).filterSensitiveLog=function(e){return jt({},e)},(Nm||(Nm={})).filterSensitiveLog=function(e){return jt({},e)},(Om||(Om={})).filterSensitiveLog=function(e){return jt({},e)},(Pm||(Pm={})).filterSensitiveLog=function(e){return jt({},e)},(jm||(jm={})).filterSensitiveLog=function(e){return jt({},e)},(Rm||(Rm={})).filterSensitiveLog=function(e){return jt({},e)},(Mm||(Mm={})).filterSensitiveLog=function(e){return jt({},e)},(Lm=Um||(Um={})).visit=function(e,t){return void 0!==e.Prefix?t.Prefix(e.Prefix):void 0!==e.Tag?t.Tag(e.Tag):void 0!==e.And?t.And(e.And):t._(e.$unknown[0],e.$unknown[1])},Lm.filterSensitiveLog=function(e){var t;return void 0!==e.Prefix?{Prefix:e.Prefix}:void 0!==e.Tag?{Tag:Dg.filterSensitiveLog(e.Tag)}:void 0!==e.And?{And:Mm.filterSensitiveLog(e.And)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0},(Dm||(Dm={})).filterSensitiveLog=function(e){return jt(jt({},e),e.Filter&&{Filter:Um.filterSensitiveLog(e.Filter)})},(Fm||(Fm={})).filterSensitiveLog=function(e){return jt(jt({},e),e.MetricsConfiguration&&{MetricsConfiguration:Dm.filterSensitiveLog(e.MetricsConfiguration)})},(Bm||(Bm={})).filterSensitiveLog=function(e){return jt({},e)},(zm||(zm={})).filterSensitiveLog=function(e){return jt({},e)},(Vm||(Vm={})).filterSensitiveLog=function(e){return jt({},e)},(qm||(qm={})).filterSensitiveLog=function(e){return jt({},e)},(Km||(Km={})).filterSensitiveLog=function(e){return jt({},e)},(Hm||(Hm={})).filterSensitiveLog=function(e){return jt({},e)},(Gm||(Gm={})).filterSensitiveLog=function(e){return jt({},e)},(Wm||(Wm={})).filterSensitiveLog=function(e){return jt({},e)},($m||($m={})).filterSensitiveLog=function(e){return jt({},e)},(Ym||(Ym={})).filterSensitiveLog=function(e){return jt({},e)},(Jm||(Jm={})).filterSensitiveLog=function(e){return jt({},e)},(Qm||(Qm={})).filterSensitiveLog=function(e){return jt({},e)},(Zm||(Zm={})).filterSensitiveLog=function(e){return jt({},e)},(Xm||(Xm={})).filterSensitiveLog=function(e){return jt({},e)},(ey||(ey={})).filterSensitiveLog=function(e){return jt({},e)},(ty||(ty={})).filterSensitiveLog=function(e){return jt({},e)},(ny||(ny={})).filterSensitiveLog=function(e){return jt({},e)},(ry||(ry={})).filterSensitiveLog=function(e){return jt({},e)},(oy||(oy={})).filterSensitiveLog=function(e){return jt({},e)},(iy||(iy={})).filterSensitiveLog=function(e){return jt({},e)},(ay||(ay={})).filterSensitiveLog=function(e){return jt({},e)},(sy||(sy={})).filterSensitiveLog=function(e){return jt({},e)},(uy||(uy={})).filterSensitiveLog=function(e){return jt({},e)},(cy||(cy={})).filterSensitiveLog=function(e){return jt({},e)},(ly||(ly={})).filterSensitiveLog=function(e){return jt({},e)},(dy||(dy={})).filterSensitiveLog=function(e){return jt({},e)},(hy=fy||(fy={})).visit=function(e,t){return void 0!==e.Prefix?t.Prefix(e.Prefix):void 0!==e.Tag?t.Tag(e.Tag):void 0!==e.And?t.And(e.And):t._(e.$unknown[0],e.$unknown[1])},hy.filterSensitiveLog=function(e){var t;return void 0!==e.Prefix?{Prefix:e.Prefix}:void 0!==e.Tag?{Tag:Dg.filterSensitiveLog(e.Tag)}:void 0!==e.And?{And:dy.filterSensitiveLog(e.And)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0},(py||(py={})).filterSensitiveLog=function(e){return jt({},e)},(vy||(vy={})).filterSensitiveLog=function(e){return jt({},e)},(gy||(gy={})).filterSensitiveLog=function(e){return jt({},e)},(my||(my={})).filterSensitiveLog=function(e){return jt(jt({},e),e.Filter&&{Filter:fy.filterSensitiveLog(e.Filter)})},(yy||(yy={})).filterSensitiveLog=function(e){return jt(jt({},e),e.Rules&&{Rules:e.Rules.map((function(e){return my.filterSensitiveLog(e)}))})},(by||(by={})).filterSensitiveLog=function(e){return jt(jt({},e),e.ReplicationConfiguration&&{ReplicationConfiguration:yy.filterSensitiveLog(e.ReplicationConfiguration)})},(wy||(wy={})).filterSensitiveLog=function(e){return jt({},e)},(Sy||(Sy={})).filterSensitiveLog=function(e){return jt({},e)},(xy||(xy={})).filterSensitiveLog=function(e){return jt({},e)},(_y||(_y={})).filterSensitiveLog=function(e){return jt({},e)},(Ey||(Ey={})).filterSensitiveLog=function(e){return jt({},e)},(Cy||(Cy={})).filterSensitiveLog=function(e){return jt({},e)},(ky||(ky={})).filterSensitiveLog=function(e){return jt({},e)},(Ay||(Ay={})).filterSensitiveLog=function(e){return jt({},e)},(Ty||(Ty={})).filterSensitiveLog=function(e){return jt({},e)},(Iy||(Iy={})).filterSensitiveLog=function(e){return jt({},e)},(Ny||(Ny={})).filterSensitiveLog=function(e){return jt({},e)},(Oy||(Oy={})).filterSensitiveLog=function(e){return jt({},e)},(Py||(Py={})).filterSensitiveLog=function(e){return jt({},e)},(jy||(jy={})).filterSensitiveLog=function(e){return jt({},e)},(Ry||(Ry={})).filterSensitiveLog=function(e){return jt({},e)},(My||(My={})).filterSensitiveLog=function(e){return jt(jt({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:"***SensitiveInformation***"})},(Uy||(Uy={})).filterSensitiveLog=function(e){return jt(jt({},e),e.SSECustomerKey&&{SSECustomerKey:"***SensitiveInformation***"})},(Ly||(Ly={})).filterSensitiveLog=function(e){return jt({},e)},(Dy||(Dy={})).filterSensitiveLog=function(e){return jt({},e)},(Fy||(Fy={})).filterSensitiveLog=function(e){return jt({},e)},(By||(By={})).filterSensitiveLog=function(e){return jt({},e)},(zy||(zy={})).filterSensitiveLog=function(e){return jt({},e)},(Vy||(Vy={})).filterSensitiveLog=function(e){return jt({},e)},(qy||(qy={})).filterSensitiveLog=function(e){return jt({},e)},(Ky||(Ky={})).filterSensitiveLog=function(e){return jt({},e)},(Hy||(Hy={})).filterSensitiveLog=function(e){return jt({},e)},(Gy||(Gy={})).filterSensitiveLog=function(e){return jt({},e)},(Wy||(Wy={})).filterSensitiveLog=function(e){return jt({},e)},($y||($y={})).filterSensitiveLog=function(e){return jt({},e)},(Yy||(Yy={})).filterSensitiveLog=function(e){return jt({},e)},(Jy||(Jy={})).filterSensitiveLog=function(e){return jt({},e)},(Qy||(Qy={})).filterSensitiveLog=function(e){return jt({},e)},(Zy||(Zy={})).filterSensitiveLog=function(e){return jt({},e)},(Xy||(Xy={})).filterSensitiveLog=function(e){return jt({},e)},(eb||(eb={})).filterSensitiveLog=function(e){return jt({},e)},(tb||(tb={})).filterSensitiveLog=function(e){return jt({},e)},(nb||(nb={})).filterSensitiveLog=function(e){return jt({},e)},(rb||(rb={})).filterSensitiveLog=function(e){return jt({},e)},(ob||(ob={})).filterSensitiveLog=function(e){return jt({},e)},(ib||(ib={})).filterSensitiveLog=function(e){return jt({},e)},(ab||(ab={})).filterSensitiveLog=function(e){return jt({},e)},(sb||(sb={})).filterSensitiveLog=function(e){return jt(jt({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:"***SensitiveInformation***"})},(ub||(ub={})).filterSensitiveLog=function(e){return jt(jt({},e),e.SSECustomerKey&&{SSECustomerKey:"***SensitiveInformation***"})},(cb||(cb={})).filterSensitiveLog=function(e){return jt(jt({},e),e.AnalyticsConfigurationList&&{AnalyticsConfigurationList:e.AnalyticsConfigurationList.map((function(e){return Gg.filterSensitiveLog(e)}))})},(lb||(lb={})).filterSensitiveLog=function(e){return jt({},e)},(db||(db={})).filterSensitiveLog=function(e){return jt({},e)},(fb||(fb={})).filterSensitiveLog=function(e){return jt({},e)},(hb||(hb={})).filterSensitiveLog=function(e){return jt(jt({},e),e.InventoryConfigurationList&&{InventoryConfigurationList:e.InventoryConfigurationList.map((function(e){return gm.filterSensitiveLog(e)}))})},(pb||(pb={})).filterSensitiveLog=function(e){return jt({},e)},(vb||(vb={})).filterSensitiveLog=function(e){return jt(jt({},e),e.MetricsConfigurationList&&{MetricsConfigurationList:e.MetricsConfigurationList.map((function(e){return Dm.filterSensitiveLog(e)}))})},(gb||(gb={})).filterSensitiveLog=function(e){return jt({},e)},(mb||(mb={})).filterSensitiveLog=function(e){return jt({},e)},(yb||(yb={})).filterSensitiveLog=function(e){return jt({},e)},(bb||(bb={})).filterSensitiveLog=function(e){return jt({},e)},(wb||(wb={})).filterSensitiveLog=function(e){return jt({},e)},(Sb||(Sb={})).filterSensitiveLog=function(e){return jt({},e)},(xb||(xb={})).filterSensitiveLog=function(e){return jt({},e)},(_b||(_b={})).filterSensitiveLog=function(e){return jt({},e)},(Eb||(Eb={})).filterSensitiveLog=function(e){return jt({},e)},(Cb||(Cb={})).filterSensitiveLog=function(e){return jt({},e)},(kb||(kb={})).filterSensitiveLog=function(e){return jt({},e)},(Ab||(Ab={})).filterSensitiveLog=function(e){return jt({},e)},(Tb||(Tb={})).filterSensitiveLog=function(e){return jt({},e)},(Ib||(Ib={})).filterSensitiveLog=function(e){return jt({},e)},(Nb||(Nb={})).filterSensitiveLog=function(e){return jt({},e)},(Ob||(Ob={})).filterSensitiveLog=function(e){return jt({},e)},(Pb||(Pb={})).filterSensitiveLog=function(e){return jt({},e)},(jb||(jb={})).filterSensitiveLog=function(e){return jt({},e)},(Rb||(Rb={})).filterSensitiveLog=function(e){return jt({},e)},(Mb||(Mb={})).filterSensitiveLog=function(e){return jt({},e)},(Ub||(Ub={})).filterSensitiveLog=function(e){return jt({},e)},(Lb||(Lb={})).filterSensitiveLog=function(e){return jt({},e)},(Db||(Db={})).filterSensitiveLog=function(e){return jt(jt({},e),e.AnalyticsConfiguration&&{AnalyticsConfiguration:Gg.filterSensitiveLog(e.AnalyticsConfiguration)})},(Fb||(Fb={})).filterSensitiveLog=function(e){return jt({},e)},(Bb||(Bb={})).filterSensitiveLog=function(e){return jt({},e)},(zb||(zb={})).filterSensitiveLog=function(e){return jt(jt({},e),e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:em.filterSensitiveLog(e.ServerSideEncryptionConfiguration)})},(Vb||(Vb={})).filterSensitiveLog=function(e){return jt({},e)},(qb||(qb={})).filterSensitiveLog=function(e){return jt(jt({},e),e.InventoryConfiguration&&{InventoryConfiguration:gm.filterSensitiveLog(e.InventoryConfiguration)})},(Kb||(Kb={})).filterSensitiveLog=function(e){return jt(jt({},e),e.Rules&&{Rules:e.Rules.map((function(e){return km.filterSensitiveLog(e)}))})},(Hb||(Hb={})).filterSensitiveLog=function(e){return jt(jt({},e),e.LifecycleConfiguration&&{LifecycleConfiguration:Kb.filterSensitiveLog(e.LifecycleConfiguration)})},(Gb||(Gb={})).filterSensitiveLog=function(e){return jt({},e)},(Wb||(Wb={})).filterSensitiveLog=function(e){return jt({},e)},($b||($b={})).filterSensitiveLog=function(e){return jt(jt({},e),e.MetricsConfiguration&&{MetricsConfiguration:Dm.filterSensitiveLog(e.MetricsConfiguration)})},(Yb||(Yb={})).filterSensitiveLog=function(e){return jt({},e)},(Jb||(Jb={})).filterSensitiveLog=function(e){return jt({},e)},(Qb||(Qb={})).filterSensitiveLog=function(e){return jt({},e)},(Zb||(Zb={})).filterSensitiveLog=function(e){return jt(jt({},e),e.ReplicationConfiguration&&{ReplicationConfiguration:yy.filterSensitiveLog(e.ReplicationConfiguration)})},(Xb||(Xb={})).filterSensitiveLog=function(e){return jt({},e)},(ew||(ew={})).filterSensitiveLog=function(e){return jt({},e)},(tw||(tw={})).filterSensitiveLog=function(e){return jt({},e)},(nw||(nw={})).filterSensitiveLog=function(e){return jt({},e)},(rw||(rw={})).filterSensitiveLog=function(e){return jt({},e)},(ow||(ow={})).filterSensitiveLog=function(e){return jt({},e)},(iw||(iw={})).filterSensitiveLog=function(e){return jt({},e)},(aw||(aw={})).filterSensitiveLog=function(e){return jt({},e)},(sw||(sw={})).filterSensitiveLog=function(e){return jt(jt(jt({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:"***SensitiveInformation***"}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:"***SensitiveInformation***"})},(uw||(uw={})).filterSensitiveLog=function(e){return jt(jt(jt(jt({},e),e.SSECustomerKey&&{SSECustomerKey:"***SensitiveInformation***"}),e.SSEKMSKeyId&&{SSEKMSKeyId:"***SensitiveInformation***"}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:"***SensitiveInformation***"})},(cw||(cw={})).filterSensitiveLog=function(e){return jt({},e)},(lw||(lw={})).filterSensitiveLog=function(e){return jt({},e)},(dw||(dw={})).filterSensitiveLog=function(e){return jt({},e)},(fw||(fw={})).filterSensitiveLog=function(e){return jt({},e)},(hw||(hw={})).filterSensitiveLog=function(e){return jt({},e)},(pw||(pw={})).filterSensitiveLog=function(e){return jt({},e)},(vw||(vw={})).filterSensitiveLog=function(e){return jt({},e)},(gw||(gw={})).filterSensitiveLog=function(e){return jt({},e)},(mw||(mw={})).filterSensitiveLog=function(e){return jt({},e)},(yw||(yw={})).filterSensitiveLog=function(e){return jt({},e)},(bw||(bw={})).filterSensitiveLog=function(e){return jt({},e)},(ww||(ww={})).filterSensitiveLog=function(e){return jt({},e)},(Sw||(Sw={})).filterSensitiveLog=function(e){return jt({},e)},(xw||(xw={})).filterSensitiveLog=function(e){return jt({},e)},(_w||(_w={})).filterSensitiveLog=function(e){return jt(jt({},e),e.KMSKeyId&&{KMSKeyId:"***SensitiveInformation***"})};function jw(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var Rw=function(){function e(e,t){void 0===t&&(t=[]),this.name=e,this.children=t,this.attributes={}}return e.prototype.withName=function(e){return this.name=e,this},e.prototype.addAttribute=function(e,t){return this.attributes[e]=t,this},e.prototype.addChildNode=function(e){return this.children.push(e),this},e.prototype.removeAttribute=function(e){return delete this.attributes[e],this},e.prototype.toString=function(){var e,t,n=Boolean(this.children.length),r="<"+this.name,o=this.attributes;try{for(var i=jw(Object.keys(o)),a=i.next();!a.done;a=i.next()){var s=a.value,u=o[s];null!=u&&(r+=" "+s+'="'+((""+u).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")+'"'))}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return r+(n?">"+this.children.map((function(e){return e.toString()})).join("")+"</"+this.name+">":"/>")},e}();var Mw,Uw,Lw,Dw,Fw=function(){function e(e){this.value=e}return e.prototype.toString=function(){return(""+this.value).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},e}(),Bw=s("8KbL0");const zw=function(e,t,n){const r={};if((!e.child||Bw.isEmptyObject(e.child))&&(!e.attrsMap||Bw.isEmptyObject(e.attrsMap)))return Bw.isExist(e.val)?e.val:"";if(Bw.isExist(e.val)&&("string"!=typeof e.val||""!==e.val&&e.val!==t.cdataPositionChar)){const o=Bw.isTagNameInArrayMode(e.tagname,t.arrayMode,n);r[t.textNodeName]=o?[e.val]:e.val}Bw.merge(r,e.attrsMap,t.arrayMode);const o=Object.keys(e.child);for(let i=0;i<o.length;i++){const a=o[i];if(e.child[a]&&e.child[a].length>1){r[a]=[];for(let n in e.child[a])e.child[a].hasOwnProperty(n)&&r[a].push(zw(e.child[a][n],t,a))}else{const o=zw(e.child[a][0],t,a),i=!0===t.arrayMode&&"object"==typeof o||Bw.isTagNameInArrayMode(a,t.arrayMode,n);r[a]=i?[o]:o}}return r};Dw=zw;var Vw,qw=s("eH8DD"),Kw=(qw=s("eH8DD"),(Bw=s("8KbL0")).buildOptions);Bw=s("8KbL0");const Hw={allowBooleanAttributes:!1},Gw=["allowBooleanAttributes"];function Ww(e,t){for(var n=t;t<e.length;t++)if("?"==e[t]||" "==e[t]){var r=e.substr(n,t-n);if(t>5&&"xml"===r)return Xw("InvalidXml","XML declaration allowed only at the start of the document.",tS(e,t));if("?"==e[t]&&">"==e[t+1]){t++;break}continue}return t}function $w(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){let n=1;for(t+=8;t<e.length;t++)if("<"===e[t])n++;else if(">"===e[t]&&(n--,0===n))break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7])for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}return t}Vw=function(e,t){t=Bw.buildOptions(t,Hw,Gw);const n=[];let r=!1,o=!1;"\ufeff"===e[0]&&(e=e.substr(1));for(let a=0;a<e.length;a++)if("<"===e[a]&&"?"===e[a+1]){if(a+=2,a=Ww(e,a),a.err)return a}else{if("<"!==e[a]){if(" "===e[a]||"\t"===e[a]||"\n"===e[a]||"\r"===e[a])continue;return Xw("InvalidChar","char '"+e[a]+"' is not expected.",tS(e,a))}if(a++,"!"===e[a]){a=$w(e,a);continue}{let s=!1;"/"===e[a]&&(s=!0,a++);let u="";for(;a<e.length&&">"!==e[a]&&" "!==e[a]&&"\t"!==e[a]&&"\n"!==e[a]&&"\r"!==e[a];a++)u+=e[a];if(u=u.trim(),"/"===u[u.length-1]&&(u=u.substring(0,u.length-1),a--),i=u,!Bw.isName(i)){let t;return t=0===u.trim().length?"There is an unnecessary space between tag name and backward slash '</ ..'.":"Tag '"+u+"' is an invalid name.",Xw("InvalidTag",t,tS(e,a))}const c=Yw(e,a);if(!1===c)return Xw("InvalidAttr","Attributes for '"+u+"' have open quote.",tS(e,a));let l=c.value;if(a=c.index,"/"===l[l.length-1]){l=l.substring(0,l.length-1);const n=Qw(l,t);if(!0!==n)return Xw(n.err.code,n.err.msg,tS(e,a-l.length+n.err.line));r=!0}else if(s){if(!c.tagClosed)return Xw("InvalidTag","Closing tag '"+u+"' doesn't have proper closing.",tS(e,a));if(l.trim().length>0)return Xw("InvalidTag","Closing tag '"+u+"' can't have attributes or invalid starting.",tS(e,a));{const t=n.pop();if(u!==t)return Xw("InvalidTag","Closing tag '"+t+"' is expected inplace of '"+u+"'.",tS(e,a));0==n.length&&(o=!0)}}else{const i=Qw(l,t);if(!0!==i)return Xw(i.err.code,i.err.msg,tS(e,a-l.length+i.err.line));if(!0===o)return Xw("InvalidXml","Multiple possible root nodes found.",tS(e,a));n.push(u),r=!0}for(a++;a<e.length;a++)if("<"===e[a]){if("!"===e[a+1]){a++,a=$w(e,a);continue}if("?"!==e[a+1])break;if(a=Ww(e,++a),a.err)return a}else if("&"===e[a]){const t=Zw(e,a);if(-1==t)return Xw("InvalidChar","char '&' is not expected.",tS(e,a));a=t}"<"===e[a]&&a--}}var i;return r?!(n.length>0)||Xw("InvalidXml","Invalid '"+JSON.stringify(n,null,4).replace(/\r?\n/g,"")+"' found.",1):Xw("InvalidXml","Start tag expected.",1)};function Yw(e,t){let n="",r="",o=!1;for(;t<e.length;t++){if('"'===e[t]||"'"===e[t])if(""===r)r=e[t];else{if(r!==e[t])continue;r=""}else if(">"===e[t]&&""===r){o=!0;break}n+=e[t]}return""===r&&{value:n,index:t,tagClosed:o}}const Jw=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function Qw(e,t){const n=Bw.getAllMatches(e,Jw),r={};for(let o=0;o<n.length;o++){if(0===n[o][1].length)return Xw("InvalidAttr","Attribute '"+n[o][2]+"' has no space in starting.",nS(e,n[o][0]));if(void 0===n[o][3]&&!t.allowBooleanAttributes)return Xw("InvalidAttr","boolean attribute '"+n[o][2]+"' is not allowed.",nS(e,n[o][0]));const i=n[o][2];if(!eS(i))return Xw("InvalidAttr","Attribute '"+i+"' is an invalid name.",nS(e,n[o][0]));if(r.hasOwnProperty(i))return Xw("InvalidAttr","Attribute '"+i+"' is repeated.",nS(e,n[o][0]));r[i]=1}return!0}function Zw(e,t){if(";"===e[++t])return-1;if("#"===e[t])return function(e,t){let n=/\d/;for("x"===e[t]&&(t++,n=/[\da-fA-F]/);t<e.length;t++){if(";"===e[t])return t;if(!e[t].match(n))break}return-1}(e,++t);let n=0;for(;t<e.length;t++,n++)if(!(e[t].match(/\w/)&&n<20)){if(";"===e[t])break;return-1}return t}function Xw(e,t,n){return{err:{code:e,msg:t,line:n}}}function eS(e){return Bw.isName(e)}function tS(e,t){return e.substring(0,t).split(/\r?\n/).length}function nS(e,t){return e.indexOf(t)+t.length}Mw=function(e,t,n){if(n){!0===n&&(n={});const t=Vw(e,n);if(!0!==t)throw Error(t.err.msg)}t=Kw(t,qw.defaultOptions,qw.props);const r=qw.getTraversalObj(e,t);return Dw(r,t)},Uw=s("gtKTD").convert2nimn,Lw=qw.getTraversalObj,s("c5Mcw").convertToJsonString,s("hpVIs");var rS=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l;return Mt(this,(function(d){switch(d.label){case 0:if(n=jt(jt({},QS(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),QS(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((o=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",Go(o)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((o=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",o.split("/").map((function(e){return Go(e)})).join("/")),i=jt({"x-id":"AbortMultipartUpload"},void 0!==e.UploadId&&{uploadId:e.UploadId}),[4,t.endpoint()];case 1:return a=d.sent(),s=a.hostname,u=a.protocol,c=void 0===u?"https":u,l=a.port,[2,new Wt({protocol:c,hostname:s,port:l,method:"DELETE",headers:n,path:r,query:i,body:undefined})]}}))}))},oS=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,d,f;return Mt(this,(function(h){switch(h.label){case 0:if(n=jt(jt({"content-type":"application/xml"},QS(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),QS(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((o=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",Go(o)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((o=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",o.split("/").map((function(e){return Go(e)})).join("/")),i=jt({},void 0!==e.UploadId&&{uploadId:e.UploadId}),void 0!==e.MultipartUpload&&(s=zS(e.MultipartUpload,t),a='<?xml version="1.0" encoding="UTF-8"?>',s.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),a+=s.toString()),[4,t.endpoint()];case 1:return u=h.sent(),c=u.hostname,l=u.protocol,d=void 0===l?"https":l,f=u.port,[2,new Wt({protocol:d,hostname:c,port:f,method:"POST",headers:n,path:r,query:i,body:a})]}}))}))},iS=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l;return Mt(this,(function(d){switch(d.label){case 0:if(n=jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt({},QS(e.ACL)&&{"x-amz-acl":e.ACL}),QS(e.CacheControl)&&{"cache-control":e.CacheControl}),QS(e.ContentDisposition)&&{"content-disposition":e.ContentDisposition}),QS(e.ContentEncoding)&&{"content-encoding":e.ContentEncoding}),QS(e.ContentLanguage)&&{"content-language":e.ContentLanguage}),QS(e.ContentType)&&{"content-type":e.ContentType}),QS(e.CopySource)&&{"x-amz-copy-source":e.CopySource}),QS(e.CopySourceIfMatch)&&{"x-amz-copy-source-if-match":e.CopySourceIfMatch}),QS(e.CopySourceIfModifiedSince)&&{"x-amz-copy-source-if-modified-since":ni(e.CopySourceIfModifiedSince).toString()}),QS(e.CopySourceIfNoneMatch)&&{"x-amz-copy-source-if-none-match":e.CopySourceIfNoneMatch}),QS(e.CopySourceIfUnmodifiedSince)&&{"x-amz-copy-source-if-unmodified-since":ni(e.CopySourceIfUnmodifiedSince).toString()}),QS(e.Expires)&&{expires:ni(e.Expires).toString()}),QS(e.GrantFullControl)&&{"x-amz-grant-full-control":e.GrantFullControl}),QS(e.GrantRead)&&{"x-amz-grant-read":e.GrantRead}),QS(e.GrantReadACP)&&{"x-amz-grant-read-acp":e.GrantReadACP}),QS(e.GrantWriteACP)&&{"x-amz-grant-write-acp":e.GrantWriteACP}),QS(e.MetadataDirective)&&{"x-amz-metadata-directive":e.MetadataDirective}),QS(e.TaggingDirective)&&{"x-amz-tagging-directive":e.TaggingDirective}),QS(e.ServerSideEncryption)&&{"x-amz-server-side-encryption":e.ServerSideEncryption}),QS(e.StorageClass)&&{"x-amz-storage-class":e.StorageClass}),QS(e.WebsiteRedirectLocation)&&{"x-amz-website-redirect-location":e.WebsiteRedirectLocation}),QS(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),QS(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),QS(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),QS(e.SSEKMSKeyId)&&{"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId}),QS(e.SSEKMSEncryptionContext)&&{"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext}),QS(e.BucketKeyEnabled)&&{"x-amz-server-side-encryption-bucket-key-enabled":e.BucketKeyEnabled.toString()}),QS(e.CopySourceSSECustomerAlgorithm)&&{"x-amz-copy-source-server-side-encryption-customer-algorithm":e.CopySourceSSECustomerAlgorithm}),QS(e.CopySourceSSECustomerKey)&&{"x-amz-copy-source-server-side-encryption-customer-key":e.CopySourceSSECustomerKey}),QS(e.CopySourceSSECustomerKeyMD5)&&{"x-amz-copy-source-server-side-encryption-customer-key-md5":e.CopySourceSSECustomerKeyMD5}),QS(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),QS(e.Tagging)&&{"x-amz-tagging":e.Tagging}),QS(e.ObjectLockMode)&&{"x-amz-object-lock-mode":e.ObjectLockMode}),QS(e.ObjectLockRetainUntilDate)&&{"x-amz-object-lock-retain-until-date":(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}),QS(e.ObjectLockLegalHoldStatus)&&{"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus}),QS(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),QS(e.ExpectedSourceBucketOwner)&&{"x-amz-source-expected-bucket-owner":e.ExpectedSourceBucketOwner}),void 0!==e.Metadata&&Object.keys(e.Metadata).reduce((function(t,n){var r;return jt(jt({},t),((r={})["x-amz-meta-"+n.toLowerCase()]=e.Metadata[n],r))}),{})),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((o=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",Go(o)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((o=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",o.split("/").map((function(e){return Go(e)})).join("/")),i={"x-id":"CopyObject"},[4,t.endpoint()];case 1:return a=d.sent(),s=a.hostname,u=a.protocol,c=void 0===u?"https":u,l=a.port,[2,new Wt({protocol:c,hostname:s,port:l,method:"PUT",headers:n,path:r,query:i,body:undefined})]}}))}))},aS=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l;return Mt(this,(function(d){switch(d.label){case 0:if(n=jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt({},QS(e.ACL)&&{"x-amz-acl":e.ACL}),QS(e.CacheControl)&&{"cache-control":e.CacheControl}),QS(e.ContentDisposition)&&{"content-disposition":e.ContentDisposition}),QS(e.ContentEncoding)&&{"content-encoding":e.ContentEncoding}),QS(e.ContentLanguage)&&{"content-language":e.ContentLanguage}),QS(e.ContentType)&&{"content-type":e.ContentType}),QS(e.Expires)&&{expires:ni(e.Expires).toString()}),QS(e.GrantFullControl)&&{"x-amz-grant-full-control":e.GrantFullControl}),QS(e.GrantRead)&&{"x-amz-grant-read":e.GrantRead}),QS(e.GrantReadACP)&&{"x-amz-grant-read-acp":e.GrantReadACP}),QS(e.GrantWriteACP)&&{"x-amz-grant-write-acp":e.GrantWriteACP}),QS(e.ServerSideEncryption)&&{"x-amz-server-side-encryption":e.ServerSideEncryption}),QS(e.StorageClass)&&{"x-amz-storage-class":e.StorageClass}),QS(e.WebsiteRedirectLocation)&&{"x-amz-website-redirect-location":e.WebsiteRedirectLocation}),QS(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),QS(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),QS(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),QS(e.SSEKMSKeyId)&&{"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId}),QS(e.SSEKMSEncryptionContext)&&{"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext}),QS(e.BucketKeyEnabled)&&{"x-amz-server-side-encryption-bucket-key-enabled":e.BucketKeyEnabled.toString()}),QS(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),QS(e.Tagging)&&{"x-amz-tagging":e.Tagging}),QS(e.ObjectLockMode)&&{"x-amz-object-lock-mode":e.ObjectLockMode}),QS(e.ObjectLockRetainUntilDate)&&{"x-amz-object-lock-retain-until-date":(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}),QS(e.ObjectLockLegalHoldStatus)&&{"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus}),QS(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),void 0!==e.Metadata&&Object.keys(e.Metadata).reduce((function(t,n){var r;return jt(jt({},t),((r={})["x-amz-meta-"+n.toLowerCase()]=e.Metadata[n],r))}),{})),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((o=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",Go(o)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((o=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",o.split("/").map((function(e){return Go(e)})).join("/")),i={uploads:""},[4,t.endpoint()];case 1:return a=d.sent(),s=a.hostname,u=a.protocol,c=void 0===u?"https":u,l=a.port,[2,new Wt({protocol:c,hostname:s,port:l,method:"POST",headers:n,path:r,query:i,body:undefined})]}}))}))},sS=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l;return Mt(this,(function(d){switch(d.label){case 0:if(n=jt(jt(jt(jt({},QS(e.MFA)&&{"x-amz-mfa":e.MFA}),QS(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),QS(e.BypassGovernanceRetention)&&{"x-amz-bypass-governance-retention":e.BypassGovernanceRetention.toString()}),QS(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((o=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",Go(o)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((o=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",o.split("/").map((function(e){return Go(e)})).join("/")),i=jt({"x-id":"DeleteObject"},void 0!==e.VersionId&&{versionId:e.VersionId}),[4,t.endpoint()];case 1:return a=d.sent(),s=a.hostname,u=a.protocol,c=void 0===u?"https":u,l=a.port,[2,new Wt({protocol:c,hostname:s,port:l,method:"DELETE",headers:n,path:r,query:i,body:undefined})]}}))}))},uS=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l;return Mt(this,(function(d){switch(d.label){case 0:if(n=jt(jt(jt(jt(jt(jt(jt(jt(jt(jt({},QS(e.IfMatch)&&{"if-match":e.IfMatch}),QS(e.IfModifiedSince)&&{"if-modified-since":ni(e.IfModifiedSince).toString()}),QS(e.IfNoneMatch)&&{"if-none-match":e.IfNoneMatch}),QS(e.IfUnmodifiedSince)&&{"if-unmodified-since":ni(e.IfUnmodifiedSince).toString()}),QS(e.Range)&&{range:e.Range}),QS(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),QS(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),QS(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),QS(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),QS(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((o=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",Go(o)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((o=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",o.split("/").map((function(e){return Go(e)})).join("/")),i=jt(jt(jt(jt(jt(jt(jt(jt({"x-id":"GetObject"},void 0!==e.ResponseCacheControl&&{"response-cache-control":e.ResponseCacheControl}),void 0!==e.ResponseContentDisposition&&{"response-content-disposition":e.ResponseContentDisposition}),void 0!==e.ResponseContentEncoding&&{"response-content-encoding":e.ResponseContentEncoding}),void 0!==e.ResponseContentLanguage&&{"response-content-language":e.ResponseContentLanguage}),void 0!==e.ResponseContentType&&{"response-content-type":e.ResponseContentType}),void 0!==e.ResponseExpires&&{"response-expires":(e.ResponseExpires.toISOString().split(".")[0]+"Z").toString()}),void 0!==e.VersionId&&{versionId:e.VersionId}),void 0!==e.PartNumber&&{partNumber:e.PartNumber.toString()}),[4,t.endpoint()];case 1:return a=d.sent(),s=a.hostname,u=a.protocol,c=void 0===u?"https":u,l=a.port,[2,new Wt({protocol:c,hostname:s,port:l,method:"GET",headers:n,path:r,query:i,body:undefined})]}}))}))},cS=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l;return Mt(this,(function(d){switch(d.label){case 0:if(n=jt(jt({},QS(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),QS(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((o=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");return r=r.replace("{Bucket}",Go(o)),i=jt(jt(jt(jt(jt({},void 0!==e.Delimiter&&{delimiter:e.Delimiter}),void 0!==e.EncodingType&&{"encoding-type":e.EncodingType}),void 0!==e.Marker&&{marker:e.Marker}),void 0!==e.MaxKeys&&{"max-keys":e.MaxKeys.toString()}),void 0!==e.Prefix&&{prefix:e.Prefix}),[4,t.endpoint()];case 1:return a=d.sent(),s=a.hostname,u=a.protocol,c=void 0===u?"https":u,l=a.port,[2,new Wt({protocol:c,hostname:s,port:l,method:"GET",headers:n,path:r,query:i,body:undefined})]}}))}))},lS=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l;return Mt(this,(function(d){switch(d.label){case 0:if(n=jt(jt({},QS(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),QS(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((o=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");return r=r.replace("{Bucket}",Go(o)),i=jt(jt(jt(jt(jt(jt(jt({"list-type":"2"},void 0!==e.Delimiter&&{delimiter:e.Delimiter}),void 0!==e.EncodingType&&{"encoding-type":e.EncodingType}),void 0!==e.MaxKeys&&{"max-keys":e.MaxKeys.toString()}),void 0!==e.Prefix&&{prefix:e.Prefix}),void 0!==e.ContinuationToken&&{"continuation-token":e.ContinuationToken}),void 0!==e.FetchOwner&&{"fetch-owner":e.FetchOwner.toString()}),void 0!==e.StartAfter&&{"start-after":e.StartAfter}),[4,t.endpoint()];case 1:return a=d.sent(),s=a.hostname,u=a.protocol,c=void 0===u?"https":u,l=a.port,[2,new Wt({protocol:c,hostname:s,port:l,method:"GET",headers:n,path:r,query:i,body:undefined})]}}))}))},dS=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l;return Mt(this,(function(d){switch(d.label){case 0:if(n=jt(jt({},QS(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),QS(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((o=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",Go(o)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((o=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",o.split("/").map((function(e){return Go(e)})).join("/")),i=jt(jt(jt({"x-id":"ListParts"},void 0!==e.MaxParts&&{"max-parts":e.MaxParts.toString()}),void 0!==e.PartNumberMarker&&{"part-number-marker":e.PartNumberMarker}),void 0!==e.UploadId&&{uploadId:e.UploadId}),[4,t.endpoint()];case 1:return a=d.sent(),s=a.hostname,u=a.protocol,c=void 0===u?"https":u,l=a.port,[2,new Wt({protocol:c,hostname:s,port:l,method:"GET",headers:n,path:r,query:i,body:undefined})]}}))}))},fS=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,d,f;return Mt(this,(function(h){switch(h.label){case 0:if(n=jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt({"content-type":"application/octet-stream"},QS(e.ACL)&&{"x-amz-acl":e.ACL}),QS(e.CacheControl)&&{"cache-control":e.CacheControl}),QS(e.ContentDisposition)&&{"content-disposition":e.ContentDisposition}),QS(e.ContentEncoding)&&{"content-encoding":e.ContentEncoding}),QS(e.ContentLanguage)&&{"content-language":e.ContentLanguage}),QS(e.ContentLength)&&{"content-length":e.ContentLength.toString()}),QS(e.ContentMD5)&&{"content-md5":e.ContentMD5}),QS(e.ContentType)&&{"content-type":e.ContentType}),QS(e.Expires)&&{expires:ni(e.Expires).toString()}),QS(e.GrantFullControl)&&{"x-amz-grant-full-control":e.GrantFullControl}),QS(e.GrantRead)&&{"x-amz-grant-read":e.GrantRead}),QS(e.GrantReadACP)&&{"x-amz-grant-read-acp":e.GrantReadACP}),QS(e.GrantWriteACP)&&{"x-amz-grant-write-acp":e.GrantWriteACP}),QS(e.ServerSideEncryption)&&{"x-amz-server-side-encryption":e.ServerSideEncryption}),QS(e.StorageClass)&&{"x-amz-storage-class":e.StorageClass}),QS(e.WebsiteRedirectLocation)&&{"x-amz-website-redirect-location":e.WebsiteRedirectLocation}),QS(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),QS(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),QS(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),QS(e.SSEKMSKeyId)&&{"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId}),QS(e.SSEKMSEncryptionContext)&&{"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext}),QS(e.BucketKeyEnabled)&&{"x-amz-server-side-encryption-bucket-key-enabled":e.BucketKeyEnabled.toString()}),QS(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),QS(e.Tagging)&&{"x-amz-tagging":e.Tagging}),QS(e.ObjectLockMode)&&{"x-amz-object-lock-mode":e.ObjectLockMode}),QS(e.ObjectLockRetainUntilDate)&&{"x-amz-object-lock-retain-until-date":(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}),QS(e.ObjectLockLegalHoldStatus)&&{"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus}),QS(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),void 0!==e.Metadata&&Object.keys(e.Metadata).reduce((function(t,n){var r;return jt(jt({},t),((r={})["x-amz-meta-"+n.toLowerCase()]=e.Metadata[n],r))}),{})),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((o=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",Go(o)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((o=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",o.split("/").map((function(e){return Go(e)})).join("/")),i={"x-id":"PutObject"},void 0!==e.Body&&(s=e.Body,a=s),[4,t.endpoint()];case 1:return u=h.sent(),c=u.hostname,l=u.protocol,d=void 0===l?"https":l,f=u.port,[2,new Wt({protocol:d,hostname:c,port:f,method:"PUT",headers:n,path:r,query:i,body:a})]}}))}))},hS=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,d,f;return Mt(this,(function(h){switch(h.label){case 0:if(n=jt(jt(jt(jt(jt(jt(jt({"content-type":"application/octet-stream"},QS(e.ContentLength)&&{"content-length":e.ContentLength.toString()}),QS(e.ContentMD5)&&{"content-md5":e.ContentMD5}),QS(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),QS(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),QS(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),QS(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),QS(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((o=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",Go(o)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((o=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",o.split("/").map((function(e){return Go(e)})).join("/")),i=jt(jt({"x-id":"UploadPart"},void 0!==e.PartNumber&&{partNumber:e.PartNumber.toString()}),void 0!==e.UploadId&&{uploadId:e.UploadId}),void 0!==e.Body&&(s=e.Body,a=s),[4,t.endpoint()];case 1:return u=h.sent(),c=u.hostname,l=u.protocol,d=void 0===l?"https":l,f=u.port,[2,new Wt({protocol:d,hostname:c,port:f,method:"PUT",headers:n,path:r,query:i,body:a})]}}))}))},pS=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n;return Mt(this,(function(r){switch(r.label){case 0:return 204!==e.statusCode&&e.statusCode>=300?[2,vS(e,t)]:(n={$metadata:YS(e),RequestCharged:void 0},void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,JS(e.body,t)]);case 1:return r.sent(),[2,Promise.resolve(n)]}}))}))},vS=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c;return Mt(this,(function(l){switch(l.label){case 0:return r=[jt({},e)],c={},[4,ZS(e.body,t)];case 1:switch(n=jt.apply(void 0,r.concat([(c.body=l.sent(),c)])),i="UnknownError",i=XS(e,n.body),i){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":return[3,2]}return[3,4];case 2:return a=[{}],[4,FS(n,t)];case 3:return o=jt.apply(void 0,[jt.apply(void 0,a.concat([l.sent()])),{name:i,$metadata:YS(e)}]),[3,5];case 4:s=n.body,i=s.code||s.Code||i,o=jt(jt({},s),{name:""+i,message:s.message||s.Message||i,$fault:"client",$metadata:YS(e)}),l.label=5;case 5:return u=o.message||o.Message||i,o.message=u,delete o.Message,[2,Promise.reject(Object.assign(new Error(u),o))]}}))}))},gS=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r;return Mt(this,(function(o){switch(o.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,mS(e,t)]:(n={$metadata:YS(e),Bucket:void 0,BucketKeyEnabled:void 0,ETag:void 0,Expiration:void 0,Key:void 0,Location:void 0,RequestCharged:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,VersionId:void 0},void 0!==e.headers["x-amz-expiration"]&&(n.Expiration=e.headers["x-amz-expiration"]),void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-version-id"]&&(n.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,ZS(e.body,t)]);case 1:return void 0!==(r=o.sent()).Bucket&&(n.Bucket=r.Bucket),void 0!==r.ETag&&(n.ETag=r.ETag),void 0!==r.Key&&(n.Key=r.Key),void 0!==r.Location&&(n.Location=r.Location),[2,Promise.resolve(n)]}}))}))},mS=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u;return Mt(this,(function(c){switch(c.label){case 0:return r=[jt({},e)],u={},[4,ZS(e.body,t)];case 1:return n=jt.apply(void 0,r.concat([(u.body=c.sent(),u)])),i="UnknownError",i=XS(e,n.body),a=n.body,i=a.code||a.Code||i,o=jt(jt({},a),{name:""+i,message:a.message||a.Message||i,$fault:"client",$metadata:YS(e)}),s=o.message||o.Message||i,o.message=s,delete o.Message,[2,Promise.reject(Object.assign(new Error(s),o))]}}))}))},yS=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r;return Mt(this,(function(o){switch(o.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,bS(e,t)]:(n={$metadata:YS(e),BucketKeyEnabled:void 0,CopyObjectResult:void 0,CopySourceVersionId:void 0,Expiration:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSEncryptionContext:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,VersionId:void 0},void 0!==e.headers["x-amz-expiration"]&&(n.Expiration=e.headers["x-amz-expiration"]),void 0!==e.headers["x-amz-copy-source-version-id"]&&(n.CopySourceVersionId=e.headers["x-amz-copy-source-version-id"]),void 0!==e.headers["x-amz-version-id"]&&(n.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(n.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(n.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-context"]&&(n.SSEKMSEncryptionContext=e.headers["x-amz-server-side-encryption-context"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,ZS(e.body,t)]);case 1:return r=o.sent(),n.CopyObjectResult=KS(r,t),[2,Promise.resolve(n)]}}))}))},bS=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c;return Mt(this,(function(l){switch(l.label){case 0:return r=[jt({},e)],c={},[4,ZS(e.body,t)];case 1:switch(n=jt.apply(void 0,r.concat([(c.body=l.sent(),c)])),i="UnknownError",i=XS(e,n.body),i){case"ObjectNotInActiveTierError":case"com.amazonaws.s3#ObjectNotInActiveTierError":return[3,2]}return[3,4];case 2:return a=[{}],[4,BS(n,t)];case 3:return o=jt.apply(void 0,[jt.apply(void 0,a.concat([l.sent()])),{name:i,$metadata:YS(e)}]),[3,5];case 4:s=n.body,i=s.code||s.Code||i,o=jt(jt({},s),{name:""+i,message:s.message||s.Message||i,$fault:"client",$metadata:YS(e)}),l.label=5;case 5:return u=o.message||o.Message||i,o.message=u,delete o.Message,[2,Promise.reject(Object.assign(new Error(u),o))]}}))}))},wS=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r;return Mt(this,(function(o){switch(o.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,SS(e,t)]:(n={$metadata:YS(e),AbortDate:void 0,AbortRuleId:void 0,Bucket:void 0,BucketKeyEnabled:void 0,Key:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSEncryptionContext:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,UploadId:void 0},void 0!==e.headers["x-amz-abort-date"]&&(n.AbortDate=new Date(e.headers["x-amz-abort-date"])),void 0!==e.headers["x-amz-abort-rule-id"]&&(n.AbortRuleId=e.headers["x-amz-abort-rule-id"]),void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(n.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(n.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-context"]&&(n.SSEKMSEncryptionContext=e.headers["x-amz-server-side-encryption-context"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,ZS(e.body,t)]);case 1:return void 0!==(r=o.sent()).Bucket&&(n.Bucket=r.Bucket),void 0!==r.Key&&(n.Key=r.Key),void 0!==r.UploadId&&(n.UploadId=r.UploadId),[2,Promise.resolve(n)]}}))}))},SS=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u;return Mt(this,(function(c){switch(c.label){case 0:return r=[jt({},e)],u={},[4,ZS(e.body,t)];case 1:return n=jt.apply(void 0,r.concat([(u.body=c.sent(),u)])),i="UnknownError",i=XS(e,n.body),a=n.body,i=a.code||a.Code||i,o=jt(jt({},a),{name:""+i,message:a.message||a.Message||i,$fault:"client",$metadata:YS(e)}),s=o.message||o.Message||i,o.message=s,delete o.Message,[2,Promise.reject(Object.assign(new Error(s),o))]}}))}))},xS=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n;return Mt(this,(function(r){switch(r.label){case 0:return 204!==e.statusCode&&e.statusCode>=300?[2,_S(e,t)]:(n={$metadata:YS(e),DeleteMarker:void 0,RequestCharged:void 0,VersionId:void 0},void 0!==e.headers["x-amz-delete-marker"]&&(n.DeleteMarker="true"===e.headers["x-amz-delete-marker"]),void 0!==e.headers["x-amz-version-id"]&&(n.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,JS(e.body,t)]);case 1:return r.sent(),[2,Promise.resolve(n)]}}))}))},_S=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u;return Mt(this,(function(c){switch(c.label){case 0:return r=[jt({},e)],u={},[4,ZS(e.body,t)];case 1:return n=jt.apply(void 0,r.concat([(u.body=c.sent(),u)])),i="UnknownError",i=XS(e,n.body),a=n.body,i=a.code||a.Code||i,o=jt(jt({},a),{name:""+i,message:a.message||a.Message||i,$fault:"client",$metadata:YS(e)}),s=o.message||o.Message||i,o.message=s,delete o.Message,[2,Promise.reject(Object.assign(new Error(s),o))]}}))}))},ES=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r;return Mt(this,(function(o){return 200!==e.statusCode&&e.statusCode>=300?[2,CS(e,t)]:(n={$metadata:YS(e),AcceptRanges:void 0,Body:void 0,BucketKeyEnabled:void 0,CacheControl:void 0,ContentDisposition:void 0,ContentEncoding:void 0,ContentLanguage:void 0,ContentLength:void 0,ContentRange:void 0,ContentType:void 0,DeleteMarker:void 0,ETag:void 0,Expiration:void 0,Expires:void 0,LastModified:void 0,Metadata:void 0,MissingMeta:void 0,ObjectLockLegalHoldStatus:void 0,ObjectLockMode:void 0,ObjectLockRetainUntilDate:void 0,PartsCount:void 0,ReplicationStatus:void 0,RequestCharged:void 0,Restore:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,StorageClass:void 0,TagCount:void 0,VersionId:void 0,WebsiteRedirectLocation:void 0},void 0!==e.headers["x-amz-delete-marker"]&&(n.DeleteMarker="true"===e.headers["x-amz-delete-marker"]),void 0!==e.headers["accept-ranges"]&&(n.AcceptRanges=e.headers["accept-ranges"]),void 0!==e.headers["x-amz-expiration"]&&(n.Expiration=e.headers["x-amz-expiration"]),void 0!==e.headers["x-amz-restore"]&&(n.Restore=e.headers["x-amz-restore"]),void 0!==e.headers["last-modified"]&&(n.LastModified=new Date(e.headers["last-modified"])),void 0!==e.headers["content-length"]&&(n.ContentLength=parseInt(e.headers["content-length"],10)),void 0!==e.headers.etag&&(n.ETag=e.headers.etag),void 0!==e.headers["x-amz-missing-meta"]&&(n.MissingMeta=parseInt(e.headers["x-amz-missing-meta"],10)),void 0!==e.headers["x-amz-version-id"]&&(n.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["cache-control"]&&(n.CacheControl=e.headers["cache-control"]),void 0!==e.headers["content-disposition"]&&(n.ContentDisposition=e.headers["content-disposition"]),void 0!==e.headers["content-encoding"]&&(n.ContentEncoding=e.headers["content-encoding"]),void 0!==e.headers["content-language"]&&(n.ContentLanguage=e.headers["content-language"]),void 0!==e.headers["content-range"]&&(n.ContentRange=e.headers["content-range"]),void 0!==e.headers["content-type"]&&(n.ContentType=e.headers["content-type"]),void 0!==e.headers.expires&&(n.Expires=new Date(e.headers.expires)),void 0!==e.headers["x-amz-website-redirect-location"]&&(n.WebsiteRedirectLocation=e.headers["x-amz-website-redirect-location"]),void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(n.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(n.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-storage-class"]&&(n.StorageClass=e.headers["x-amz-storage-class"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),void 0!==e.headers["x-amz-replication-status"]&&(n.ReplicationStatus=e.headers["x-amz-replication-status"]),void 0!==e.headers["x-amz-mp-parts-count"]&&(n.PartsCount=parseInt(e.headers["x-amz-mp-parts-count"],10)),void 0!==e.headers["x-amz-tagging-count"]&&(n.TagCount=parseInt(e.headers["x-amz-tagging-count"],10)),void 0!==e.headers["x-amz-object-lock-mode"]&&(n.ObjectLockMode=e.headers["x-amz-object-lock-mode"]),void 0!==e.headers["x-amz-object-lock-retain-until-date"]&&(n.ObjectLockRetainUntilDate=new Date(e.headers["x-amz-object-lock-retain-until-date"])),void 0!==e.headers["x-amz-object-lock-legal-hold"]&&(n.ObjectLockLegalHoldStatus=e.headers["x-amz-object-lock-legal-hold"]),Object.keys(e.headers).forEach((function(t){void 0===n.Metadata&&(n.Metadata={}),t.startsWith("x-amz-meta-")&&(n.Metadata[t.substring(11)]=e.headers[t])})),r=e.body,n.Body=r,[2,Promise.resolve(n)])}))}))},CS=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l;return Mt(this,(function(d){switch(d.label){case 0:return r=[jt({},e)],l={},[4,ZS(e.body,t)];case 1:switch(n=jt.apply(void 0,r.concat([(l.body=d.sent(),l)])),i="UnknownError",i=XS(e,n.body),i){case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":return[3,2];case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":return[3,4]}return[3,6];case 2:return a=[{}],[4,US(n,t)];case 3:return o=jt.apply(void 0,[jt.apply(void 0,a.concat([d.sent()])),{name:i,$metadata:YS(e)}]),[3,7];case 4:return s=[{}],[4,DS(n,t)];case 5:return o=jt.apply(void 0,[jt.apply(void 0,s.concat([d.sent()])),{name:i,$metadata:YS(e)}]),[3,7];case 6:u=n.body,i=u.code||u.Code||i,o=jt(jt({},u),{name:""+i,message:u.message||u.Message||i,$fault:"client",$metadata:YS(e)}),d.label=7;case 7:return c=o.message||o.Message||i,o.message=c,delete o.Message,[2,Promise.reject(Object.assign(new Error(c),o))]}}))}))},kS=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r;return Mt(this,(function(o){switch(o.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,AS(e,t)]:(n={$metadata:YS(e),CommonPrefixes:void 0,Contents:void 0,Delimiter:void 0,EncodingType:void 0,IsTruncated:void 0,Marker:void 0,MaxKeys:void 0,Name:void 0,NextMarker:void 0,Prefix:void 0},[4,ZS(e.body,t)]);case 1:return""===(r=o.sent()).CommonPrefixes&&(n.CommonPrefixes=[]),void 0!==r.CommonPrefixes&&(n.CommonPrefixes=qS(Wo(r.CommonPrefixes),t)),""===r.Contents&&(n.Contents=[]),void 0!==r.Contents&&(n.Contents=GS(Wo(r.Contents),t)),void 0!==r.Delimiter&&(n.Delimiter=r.Delimiter),void 0!==r.EncodingType&&(n.EncodingType=r.EncodingType),void 0!==r.IsTruncated&&(n.IsTruncated="true"==r.IsTruncated),void 0!==r.Marker&&(n.Marker=r.Marker),void 0!==r.MaxKeys&&(n.MaxKeys=parseInt(r.MaxKeys)),void 0!==r.Name&&(n.Name=r.Name),void 0!==r.NextMarker&&(n.NextMarker=r.NextMarker),void 0!==r.Prefix&&(n.Prefix=r.Prefix),[2,Promise.resolve(n)]}}))}))},AS=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c;return Mt(this,(function(l){switch(l.label){case 0:return r=[jt({},e)],c={},[4,ZS(e.body,t)];case 1:switch(n=jt.apply(void 0,r.concat([(c.body=l.sent(),c)])),i="UnknownError",i=XS(e,n.body),i){case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":return[3,2]}return[3,4];case 2:return a=[{}],[4,LS(n,t)];case 3:return o=jt.apply(void 0,[jt.apply(void 0,a.concat([l.sent()])),{name:i,$metadata:YS(e)}]),[3,5];case 4:s=n.body,i=s.code||s.Code||i,o=jt(jt({},s),{name:""+i,message:s.message||s.Message||i,$fault:"client",$metadata:YS(e)}),l.label=5;case 5:return u=o.message||o.Message||i,o.message=u,delete o.Message,[2,Promise.reject(Object.assign(new Error(u),o))]}}))}))},TS=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r;return Mt(this,(function(o){switch(o.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,IS(e,t)]:(n={$metadata:YS(e),CommonPrefixes:void 0,Contents:void 0,ContinuationToken:void 0,Delimiter:void 0,EncodingType:void 0,IsTruncated:void 0,KeyCount:void 0,MaxKeys:void 0,Name:void 0,NextContinuationToken:void 0,Prefix:void 0,StartAfter:void 0},[4,ZS(e.body,t)]);case 1:return""===(r=o.sent()).CommonPrefixes&&(n.CommonPrefixes=[]),void 0!==r.CommonPrefixes&&(n.CommonPrefixes=qS(Wo(r.CommonPrefixes),t)),""===r.Contents&&(n.Contents=[]),void 0!==r.Contents&&(n.Contents=GS(Wo(r.Contents),t)),void 0!==r.ContinuationToken&&(n.ContinuationToken=r.ContinuationToken),void 0!==r.Delimiter&&(n.Delimiter=r.Delimiter),void 0!==r.EncodingType&&(n.EncodingType=r.EncodingType),void 0!==r.IsTruncated&&(n.IsTruncated="true"==r.IsTruncated),void 0!==r.KeyCount&&(n.KeyCount=parseInt(r.KeyCount)),void 0!==r.MaxKeys&&(n.MaxKeys=parseInt(r.MaxKeys)),void 0!==r.Name&&(n.Name=r.Name),void 0!==r.NextContinuationToken&&(n.NextContinuationToken=r.NextContinuationToken),void 0!==r.Prefix&&(n.Prefix=r.Prefix),void 0!==r.StartAfter&&(n.StartAfter=r.StartAfter),[2,Promise.resolve(n)]}}))}))},IS=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u,c;return Mt(this,(function(l){switch(l.label){case 0:return r=[jt({},e)],c={},[4,ZS(e.body,t)];case 1:switch(n=jt.apply(void 0,r.concat([(c.body=l.sent(),c)])),i="UnknownError",i=XS(e,n.body),i){case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":return[3,2]}return[3,4];case 2:return a=[{}],[4,LS(n,t)];case 3:return o=jt.apply(void 0,[jt.apply(void 0,a.concat([l.sent()])),{name:i,$metadata:YS(e)}]),[3,5];case 4:s=n.body,i=s.code||s.Code||i,o=jt(jt({},s),{name:""+i,message:s.message||s.Message||i,$fault:"client",$metadata:YS(e)}),l.label=5;case 5:return u=o.message||o.Message||i,o.message=u,delete o.Message,[2,Promise.reject(Object.assign(new Error(u),o))]}}))}))},NS=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r;return Mt(this,(function(o){switch(o.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,OS(e,t)]:(n={$metadata:YS(e),AbortDate:void 0,AbortRuleId:void 0,Bucket:void 0,Initiator:void 0,IsTruncated:void 0,Key:void 0,MaxParts:void 0,NextPartNumberMarker:void 0,Owner:void 0,PartNumberMarker:void 0,Parts:void 0,RequestCharged:void 0,StorageClass:void 0,UploadId:void 0},void 0!==e.headers["x-amz-abort-date"]&&(n.AbortDate=new Date(e.headers["x-amz-abort-date"])),void 0!==e.headers["x-amz-abort-rule-id"]&&(n.AbortRuleId=e.headers["x-amz-abort-rule-id"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,ZS(e.body,t)]);case 1:return void 0!==(r=o.sent()).Bucket&&(n.Bucket=r.Bucket),void 0!==r.Initiator&&(n.Initiator=HS(r.Initiator,t)),void 0!==r.IsTruncated&&(n.IsTruncated="true"==r.IsTruncated),void 0!==r.Key&&(n.Key=r.Key),void 0!==r.MaxParts&&(n.MaxParts=parseInt(r.MaxParts)),void 0!==r.NextPartNumberMarker&&(n.NextPartNumberMarker=r.NextPartNumberMarker),void 0!==r.Owner&&(n.Owner=WS(r.Owner,t)),void 0!==r.PartNumberMarker&&(n.PartNumberMarker=r.PartNumberMarker),""===r.Part&&(n.Parts=[]),void 0!==r.Part&&(n.Parts=$S(Wo(r.Part),t)),void 0!==r.StorageClass&&(n.StorageClass=r.StorageClass),void 0!==r.UploadId&&(n.UploadId=r.UploadId),[2,Promise.resolve(n)]}}))}))},OS=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u;return Mt(this,(function(c){switch(c.label){case 0:return r=[jt({},e)],u={},[4,ZS(e.body,t)];case 1:return n=jt.apply(void 0,r.concat([(u.body=c.sent(),u)])),i="UnknownError",i=XS(e,n.body),a=n.body,i=a.code||a.Code||i,o=jt(jt({},a),{name:""+i,message:a.message||a.Message||i,$fault:"client",$metadata:YS(e)}),s=o.message||o.Message||i,o.message=s,delete o.Message,[2,Promise.reject(Object.assign(new Error(s),o))]}}))}))},PS=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n;return Mt(this,(function(r){switch(r.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,jS(e,t)]:(n={$metadata:YS(e),BucketKeyEnabled:void 0,ETag:void 0,Expiration:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSEncryptionContext:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,VersionId:void 0},void 0!==e.headers["x-amz-expiration"]&&(n.Expiration=e.headers["x-amz-expiration"]),void 0!==e.headers.etag&&(n.ETag=e.headers.etag),void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-version-id"]&&(n.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(n.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(n.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-context"]&&(n.SSEKMSEncryptionContext=e.headers["x-amz-server-side-encryption-context"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,JS(e.body,t)]);case 1:return r.sent(),[2,Promise.resolve(n)]}}))}))},jS=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u;return Mt(this,(function(c){switch(c.label){case 0:return r=[jt({},e)],u={},[4,ZS(e.body,t)];case 1:return n=jt.apply(void 0,r.concat([(u.body=c.sent(),u)])),i="UnknownError",i=XS(e,n.body),a=n.body,i=a.code||a.Code||i,o=jt(jt({},a),{name:""+i,message:a.message||a.Message||i,$fault:"client",$metadata:YS(e)}),s=o.message||o.Message||i,o.message=s,delete o.Message,[2,Promise.reject(Object.assign(new Error(s),o))]}}))}))},RS=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n;return Mt(this,(function(r){switch(r.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,MS(e,t)]:(n={$metadata:YS(e),BucketKeyEnabled:void 0,ETag:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0},void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers.etag&&(n.ETag=e.headers.etag),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(n.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(n.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,JS(e.body,t)]);case 1:return r.sent(),[2,Promise.resolve(n)]}}))}))},MS=function(e,t){return Rt(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,u;return Mt(this,(function(c){switch(c.label){case 0:return r=[jt({},e)],u={},[4,ZS(e.body,t)];case 1:return n=jt.apply(void 0,r.concat([(u.body=c.sent(),u)])),i="UnknownError",i=XS(e,n.body),a=n.body,i=a.code||a.Code||i,o=jt(jt({},a),{name:""+i,message:a.message||a.Message||i,$fault:"client",$metadata:YS(e)}),s=o.message||o.Message||i,o.message=s,delete o.Message,[2,Promise.reject(Object.assign(new Error(s),o))]}}))}))},US=function(e,t){return Rt(void 0,void 0,void 0,(function(){var t,n;return Mt(this,(function(r){return t={name:"InvalidObjectState",$fault:"client",$metadata:YS(e),AccessTier:void 0,StorageClass:void 0},void 0!==(n=e.body).AccessTier&&(t.AccessTier=n.AccessTier),void 0!==n.StorageClass&&(t.StorageClass=n.StorageClass),[2,t]}))}))},LS=function(e,t){return Rt(void 0,void 0,void 0,(function(){var t;return Mt(this,(function(n){return t={name:"NoSuchBucket",$fault:"client",$metadata:YS(e)},e.body,[2,t]}))}))},DS=function(e,t){return Rt(void 0,void 0,void 0,(function(){var t;return Mt(this,(function(n){return t={name:"NoSuchKey",$fault:"client",$metadata:YS(e)},e.body,[2,t]}))}))},FS=function(e,t){return Rt(void 0,void 0,void 0,(function(){var t;return Mt(this,(function(n){return t={name:"NoSuchUpload",$fault:"client",$metadata:YS(e)},e.body,[2,t]}))}))},BS=function(e,t){return Rt(void 0,void 0,void 0,(function(){var t;return Mt(this,(function(n){return t={name:"ObjectNotInActiveTierError",$fault:"client",$metadata:YS(e)},e.body,[2,t]}))}))},zS=function(e,t){var n=new Rw("CompletedMultipartUpload");void 0!==e.Parts&&null!==e.Parts&&VS(e.Parts,t).map((function(e){e=e.withName("Part"),n.addChildNode(e)}));return n},VS=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){if(null===e)return null;var t=function(e,t){var n=new Rw("CompletedPart");if(void 0!==e.ETag&&null!==e.ETag){var r=new Rw("ETag").addChildNode(new Fw(e.ETag)).withName("ETag");n.addChildNode(r)}void 0!==e.PartNumber&&null!==e.PartNumber&&(r=new Rw("PartNumber").addChildNode(new Fw(String(e.PartNumber))).withName("PartNumber"),n.addChildNode(r));return n}(e);return t.withName("member")}))},qS=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){var n={Prefix:void 0};return void 0!==e.Prefix&&(n.Prefix=e.Prefix),n}(e)}))},KS=function(e,t){var n={ETag:void 0,LastModified:void 0};return void 0!==e.ETag&&(n.ETag=e.ETag),void 0!==e.LastModified&&(n.LastModified=new Date(e.LastModified)),n},HS=function(e,t){var n={ID:void 0,DisplayName:void 0};return void 0!==e.ID&&(n.ID=e.ID),void 0!==e.DisplayName&&(n.DisplayName=e.DisplayName),n},GS=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){var n={Key:void 0,LastModified:void 0,ETag:void 0,Size:void 0,StorageClass:void 0,Owner:void 0};return void 0!==e.Key&&(n.Key=e.Key),void 0!==e.LastModified&&(n.LastModified=new Date(e.LastModified)),void 0!==e.ETag&&(n.ETag=e.ETag),void 0!==e.Size&&(n.Size=parseInt(e.Size)),void 0!==e.StorageClass&&(n.StorageClass=e.StorageClass),void 0!==e.Owner&&(n.Owner=WS(e.Owner,t)),n}(e,t)}))},WS=function(e,t){var n={DisplayName:void 0,ID:void 0};return void 0!==e.DisplayName&&(n.DisplayName=e.DisplayName),void 0!==e.ID&&(n.ID=e.ID),n},$S=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){var n={PartNumber:void 0,LastModified:void 0,ETag:void 0,Size:void 0};return void 0!==e.PartNumber&&(n.PartNumber=parseInt(e.PartNumber)),void 0!==e.LastModified&&(n.LastModified=new Date(e.LastModified)),void 0!==e.ETag&&(n.ETag=e.ETag),void 0!==e.Size&&(n.Size=parseInt(e.Size)),n}(e)}))},YS=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},JS=function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},QS=function(e){return!(null==e||""===e||Object.getOwnPropertyNames(e).includes("length")&&0==e.length||Object.getOwnPropertyNames(e).includes("size")&&0==e.size)},ZS=function(e,t){return function(e,t){return JS(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){if(e.length){var t=Mw(e,{attributeNamePrefix:"",ignoreAttributes:!1,parseNodeValue:!1,tagValueProcessor:function(e,t){return e.replace(/&amp;/g,"&").replace(/&apos;/g,"'").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<")}}),n=Object.keys(t)[0],r=t[n];return r["#text"]&&(r[n]=r["#text"],delete r["#text"]),$o(r)}return{}}))},XS=function(e,t){return void 0!==t.Code?t.Code:404==e.statusCode?"NotFound":""},ex=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Pt(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(pu(t,this.serialize,this.deserialize)),this.middlewareStack.use(Nv(t));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"S3Client",commandName:"AbortMultipartUploadCommand",inputFilterSensitiveLog:zv.filterSensitiveLog,outputFilterSensitiveLog:Bv.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return rS(e,t)},t.prototype.deserialize=function(e,t){return pS(e,t)},t}(Ho),tx=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Pt(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(pu(t,this.serialize,this.deserialize)),this.middlewareStack.use(Ow(t)),this.middlewareStack.use(Nv(t));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"S3Client",commandName:"CompleteMultipartUploadCommand",inputFilterSensitiveLog:Zv.filterSensitiveLog,outputFilterSensitiveLog:Yv.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return oS(e,t)},t.prototype.deserialize=function(e,t){return gS(e,t)},t}(Ho);var nx=function(){return nx=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},nx.apply(this,arguments)};function rx(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function ox(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function ix(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var ax,sx,ux,cx,lx,dx,fx,hx,px,vx,gx,mx,yx,bx,wx,Sx,xx,_x,Ex,Cx,kx,Ax,Tx,Ix,Nx,Ox,Px,jx,Rx,Mx,Ux,Lx,Dx,Fx,Bx,zx,Vx,qx,Kx={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},Hx=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return rx(t,void 0,void 0,(function(){var t,o,i,a,s,u,c,l,d,f,h,p,v,g,m,y,b;return ox(this,(function(w){switch(w.label){case 0:t=nx({},r.input),o=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}],w.label=1;case 1:w.trys.push([1,6,7,8]),i=ix(o),a=i.next(),w.label=2;case 2:return a.done?[3,5]:(s=a.value,(u=t[s.target])?(c=ArrayBuffer.isView(u)?new Uint8Array(u.buffer,u.byteOffset,u.byteLength):"string"==typeof u?e.utf8Decoder(u):new Uint8Array(u),l=e.base64Encoder(c),(d=new e.md5).update(c),f=[nx({},t)],(b={})[s.target]=l,h=s.hash,v=(p=e).base64Encoder,[4,d.digest()]):[3,4]);case 3:t=nx.apply(void 0,f.concat([(b[h]=v.apply(p,[w.sent()]),b)])),w.label=4;case 4:return a=i.next(),[3,2];case 5:return[3,8];case 6:return g=w.sent(),m={error:g},[3,8];case 7:try{a&&!a.done&&(y=i.return)&&y.call(i)}finally{if(m)throw m.error}return[7];case 8:return[2,n(nx(nx({},r),{input:t}))]}}))}))}}}(e),Kx)}}},Gx=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Pt(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(pu(t,this.serialize,this.deserialize)),this.middlewareStack.use(Ow(t)),this.middlewareStack.use(Hx(t)),this.middlewareStack.use(Nv(t));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"S3Client",commandName:"CopyObjectCommand",inputFilterSensitiveLog:tg.filterSensitiveLog,outputFilterSensitiveLog:eg.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return iS(e,t)},t.prototype.deserialize=function(e,t){return yS(e,t)},t}(Ho),Wx=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Pt(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(pu(t,this.serialize,this.deserialize)),this.middlewareStack.use(Hx(t)),this.middlewareStack.use(Nv(t));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"S3Client",commandName:"CreateMultipartUploadCommand",inputFilterSensitiveLog:cg.filterSensitiveLog,outputFilterSensitiveLog:ug.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return aS(e,t)},t.prototype.deserialize=function(e,t){return wS(e,t)},t}(Ho),$x=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Pt(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(pu(t,this.serialize,this.deserialize)),this.middlewareStack.use(Nv(t));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"S3Client",commandName:"DeleteObjectCommand",inputFilterSensitiveLog:Eg.filterSensitiveLog,outputFilterSensitiveLog:_g.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return sS(e,t)},t.prototype.deserialize=function(e,t){return xS(e,t)},t}(Ho),Yx=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Pt(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(pu(t,this.serialize,this.deserialize)),this.middlewareStack.use(Hx(t)),this.middlewareStack.use(Nv(t));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"S3Client",commandName:"GetObjectCommand",inputFilterSensitiveLog:Uy.filterSensitiveLog,outputFilterSensitiveLog:My.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return uS(e,t)},t.prototype.deserialize=function(e,t){return ES(e,t)},t}(Ho),Jx=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Pt(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(pu(t,this.serialize,this.deserialize)),this.middlewareStack.use(Nv(t));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"S3Client",commandName:"ListObjectsCommand",inputFilterSensitiveLog:kb.filterSensitiveLog,outputFilterSensitiveLog:Cb.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return cS(e,t)},t.prototype.deserialize=function(e,t){return kS(e,t)},t}(Ho),Qx=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Pt(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(pu(t,this.serialize,this.deserialize)),this.middlewareStack.use(Nv(t));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"S3Client",commandName:"ListObjectsV2Command",inputFilterSensitiveLog:Tb.filterSensitiveLog,outputFilterSensitiveLog:Ab.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return lS(e,t)},t.prototype.deserialize=function(e,t){return TS(e,t)},t}(Ho),Zx=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Pt(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(pu(t,this.serialize,this.deserialize)),this.middlewareStack.use(Nv(t));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"S3Client",commandName:"ListPartsCommand",inputFilterSensitiveLog:Mb.filterSensitiveLog,outputFilterSensitiveLog:Rb.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return dS(e,t)},t.prototype.deserialize=function(e,t){return NS(e,t)},t}(Ho),Xx=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Pt(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(pu(t,this.serialize,this.deserialize)),this.middlewareStack.use(Hx(t)),this.middlewareStack.use(Nv(t));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"S3Client",commandName:"PutObjectCommand",inputFilterSensitiveLog:uw.filterSensitiveLog,outputFilterSensitiveLog:sw.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return fS(e,t)},t.prototype.deserialize=function(e,t){return PS(e,t)},t}(Ho);(ax||(ax={})).filterSensitiveLog=function(e){return jt({},e)},(sx||(sx={})).filterSensitiveLog=function(e){return jt(jt({},e),e.Encryption&&{Encryption:_w.filterSensitiveLog(e.Encryption)})},(ux||(ux={})).filterSensitiveLog=function(e){return jt(jt({},e),e.S3&&{S3:sx.filterSensitiveLog(e.S3)})},(lx=cx||(cx={})).IGNORE="IGNORE",lx.NONE="NONE",lx.USE="USE",(dx||(dx={})).filterSensitiveLog=function(e){return jt({},e)},(hx=fx||(fx={})).DOCUMENT="DOCUMENT",hx.LINES="LINES",(px||(px={})).filterSensitiveLog=function(e){return jt({},e)},(vx||(vx={})).filterSensitiveLog=function(e){return jt({},e)},(gx||(gx={})).filterSensitiveLog=function(e){return jt({},e)},(yx=mx||(mx={})).ALWAYS="ALWAYS",yx.ASNEEDED="ASNEEDED",(bx||(bx={})).filterSensitiveLog=function(e){return jt({},e)},(wx||(wx={})).filterSensitiveLog=function(e){return jt({},e)},(Sx||(Sx={})).filterSensitiveLog=function(e){return jt({},e)},(xx||(xx={})).filterSensitiveLog=function(e){return jt({},e)},(_x||(_x={})).SELECT="SELECT",(Ex||(Ex={})).filterSensitiveLog=function(e){return jt(jt({},e),e.OutputLocation&&{OutputLocation:ux.filterSensitiveLog(e.OutputLocation)})},(Cx||(Cx={})).filterSensitiveLog=function(e){return jt(jt({},e),e.RestoreRequest&&{RestoreRequest:Ex.filterSensitiveLog(e.RestoreRequest)})},(kx||(kx={})).filterSensitiveLog=function(e){return jt({},e)},(Ax||(Ax={})).filterSensitiveLog=function(e){return jt({},e)},(Tx||(Tx={})).filterSensitiveLog=function(e){return jt({},e)},(Ix||(Ix={})).filterSensitiveLog=function(e){return jt({},e)},(Nx||(Nx={})).filterSensitiveLog=function(e){return jt({},e)},(Ox||(Ox={})).filterSensitiveLog=function(e){return jt({},e)},(Px||(Px={})).filterSensitiveLog=function(e){return jt({},e)},(Rx=jx||(jx={})).visit=function(e,t){return void 0!==e.Records?t.Records(e.Records):void 0!==e.Stats?t.Stats(e.Stats):void 0!==e.Progress?t.Progress(e.Progress):void 0!==e.Cont?t.Cont(e.Cont):void 0!==e.End?t.End(e.End):t._(e.$unknown[0],e.$unknown[1])},Rx.filterSensitiveLog=function(e){var t;return void 0!==e.Records?{Records:Nx.filterSensitiveLog(e.Records)}:void 0!==e.Stats?{Stats:Px.filterSensitiveLog(e.Stats)}:void 0!==e.Progress?{Progress:Ix.filterSensitiveLog(e.Progress)}:void 0!==e.Cont?{Cont:kx.filterSensitiveLog(e.Cont)}:void 0!==e.End?{End:Ax.filterSensitiveLog(e.End)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0},(Mx||(Mx={})).filterSensitiveLog=function(e){return jt(jt({},e),e.Payload&&{Payload:"STREAMING_CONTENT"})},(Ux||(Ux={})).filterSensitiveLog=function(e){return jt({},e)},(Lx||(Lx={})).filterSensitiveLog=function(e){return jt({},e)},(Dx||(Dx={})).filterSensitiveLog=function(e){return jt(jt({},e),e.SSECustomerKey&&{SSECustomerKey:"***SensitiveInformation***"})},(Fx||(Fx={})).filterSensitiveLog=function(e){return jt(jt({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:"***SensitiveInformation***"})},(Bx||(Bx={})).filterSensitiveLog=function(e){return jt(jt({},e),e.SSECustomerKey&&{SSECustomerKey:"***SensitiveInformation***"})},(zx||(zx={})).filterSensitiveLog=function(e){return jt({},e)},(Vx||(Vx={})).filterSensitiveLog=function(e){return jt(jt({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:"***SensitiveInformation***"})},(qx||(qx={})).filterSensitiveLog=function(e){return jt(jt(jt({},e),e.SSECustomerKey&&{SSECustomerKey:"***SensitiveInformation***"}),e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:"***SensitiveInformation***"})};var e_=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Pt(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(pu(t,this.serialize,this.deserialize)),this.middlewareStack.use(Hx(t)),this.middlewareStack.use(Nv(t));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"S3Client",commandName:"UploadPartCommand",inputFilterSensitiveLog:Bx.filterSensitiveLog,outputFilterSensitiveLog:Fx.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return hS(e,t)},t.prototype.deserialize=function(e,t){return RS(e,t)},t}(Ho);function t_(e){var t=e.port,n=e.query,r=e.protocol,o=e.path,i=e.hostname;r&&":"!==r.substr(-1)&&(r+=":"),t&&(i+=":"+t),o&&"/"!==o.charAt(0)&&(o="/"+o);var a=n?Qt(n):"";return a&&"?"!==a[0]&&(a="?"+a),r+"//"+i+o+a}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function n_(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function r_(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function o_(e,t){return n_(this,void 0,void 0,(function(){var n,r,o=this;return r_(this,(function(i){switch(i.label){case 0:return n=function(e){return function(e){return n_(o,void 0,void 0,(function(){return r_(this,(function(t){return[2,{output:{request:e.request},response:void 0}]}))}))}},(r=e.middlewareStack.clone()).add(n,{step:"build",priority:"low"}),[4,t.resolveMiddleware(r,e.config,void 0)(t).then((function(e){return e.output.request}))];case 1:return[2,i.sent()]}}))}))}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var i_=function(){return i_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i_.apply(this,arguments)};function a_(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s_(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function u_(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var c_=function(){function e(e){var t=i_({service:e.signingName||e.service||"s3",uriEscapePath:e.uriEscapePath||!1},e);this.signer=new go(t)}return e.prototype.presign=function(e,t){void 0===t&&(t={});var n=t.unsignableHeaders,r=void 0===n?new Set:n,o=t.unhoistableHeaders,i=void 0===o?new Set:o,a=a_(t,["unsignableHeaders","unhoistableHeaders"]);return s_(this,void 0,void 0,(function(){return u_(this,(function(t){return r.add("content-type"),Object.keys(e.headers).map((function(e){return e.toLowerCase()})).filter((function(e){return e.startsWith("x-amz-server-side-encryption")})).forEach((function(e){i.add(e)})),e.headers["X-Amz-Content-Sha256"]="UNSIGNED-PAYLOAD",e.headers.host||(e.headers.host=e.hostname),[2,this.signer.presign(e,i_({expiresIn:900,unsignableHeaders:r,unhoistableHeaders:i},a))]}))}))},e}(),l_={};e(l_,"SEND_UPLOAD_PROGRESS_EVENT",(()=>w_),(e=>w_=e)),e(l_,"SEND_DOWNLOAD_PROGRESS_EVENT",(()=>S_),(e=>S_=e)),e(l_,"AxiosHttpHandler",(()=>E_),(e=>E_=e));var d_,f_,h_,p_,v_,g_;d_=s("4ugWl"),(h_=f_||(f_={})).NO_CREDENTIALS="No credentials",h_.NO_SRC_KEY='source param should be an object with the property "key" with value of type string',h_.NO_DEST_KEY='destination param should be an object with the property "key" with value of type string',h_.INVALID_BLOB="Object must be an instance of Blob",(v_=p_||(p_={})).CLEANUP_FAILED="Multipart copy clean up failed",v_.NO_OBJECT_FOUND="Object does not exist",v_.INVALID_QUEUESIZE="Queue size must be a positive number",v_.NO_COPYSOURCE="You must specify a copy source",v_.MAX_NUM_PARTS_EXCEEDED="Only a maximum of 10000 parts are allowed",(g_||(g_={})).UPLOAD_PAUSED_MESSAGE="paused";var m_=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},y_=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},b_=new(0,P.ConsoleLogger)("axios-http-handler"),w_="sendUploadProgress",S_="sendDownloadProgress";var x_=function(e,t){var n,r;try{for(var o=m_(Object.entries(e)),i=o.next();!i.done;i=o.next()){var a=y_(i.value,2),s=a[0],u=a[1];s!==t&&s.toUpperCase()===t.toUpperCase()&&(e[t]=u,delete e[s])}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},__=[function(e,t){return n=e,"undefined"!=typeof Blob&&n instanceof Blob?(x_(t,"Content-Type"),x_(t,"Accept"),e):r(d_).defaults.transformRequest[0].call(null,e,t);var n}],E_=function(){function e(e,t,n){void 0===e&&(e={}),this.httpOptions=e,this.emitter=t,this.cancelTokenSource=n}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=this.httpOptions.requestTimeout,o=t.emitter||this.emitter,i=e.path;if(e.query){var a=Qt(e.query);a&&(i+="?"+a)}var s=e.port,u=e.protocol+"//"+e.hostname+(s?":"+s:"")+i,c={};c.url=u,c.method=e.method,c.headers=e.headers,delete c.headers.host,e.body?c.data=e.body:c.headers[Object.keys(c.headers).find((function(e){return"content-type"===e.toLowerCase()}))]&&(c.data=null),o&&(c.onUploadProgress=function(e){o.emit(w_,e),b_.debug(e)},c.onDownloadProgress=function(e){o.emit(S_,e),b_.debug(e)}),this.cancelTokenSource&&(c.cancelToken=this.cancelTokenSource.token),t.cancelTokenSource&&(c.cancelToken=t.cancelTokenSource.token),c.responseType="blob",K.isReactNative&&(c.transformRequest=__);var l=[r(d_).request(c).then((function(e){return{response:new Kt({headers:e.headers,statusCode:e.status,body:e.data})}})).catch((function(e){var t,n;if(e.message!==g_.UPLOAD_PAUSED_MESSAGE&&b_.error(e.message),r(d_).isCancel(e)||!function(e){return void 0!==e&&Object.prototype.hasOwnProperty.call(e,"response")&&void 0!==e.response&&Object.prototype.hasOwnProperty.call(e.response,"status")&&"number"==typeof e.response.status}(e))throw e;return{response:new Kt({statusCode:e.response.status,body:null===(t=e.response)||void 0===t?void 0:t.data,headers:null===(n=e.response)||void 0===n?void 0:n.headers})}})),C_(n)];return Promise.race(l)},e}();function C_(e){return void 0===e&&(e=0),new Promise((function(t,n){e&&setTimeout((function(){var t=new Error("Request did not complete within "+e+" ms");t.name="TimeoutError",n(t)}),e)}))}var k_="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",A_=function(e){if("string"==typeof e)return e.length;if(N_(e))return e.byteLength;if(I_(e))return e.size;throw new Error("Cannot determine byte length of "+e)},T_=function(e,t,n,r,o){if(e){var i={attrs:n};r&&(i.metrics=r),G.Hub.dispatch("storage",{event:t,data:i,message:o},"Storage",k_)}},I_=function(e){return void 0!==e&&e instanceof Blob},N_=function(e){return void 0!==e&&e instanceof ArrayBuffer},O_={};e(O_,"getPrefix",(()=>L_),(e=>L_=e)),e(O_,"createPrefixMiddleware",(()=>D_),(e=>D_=e)),e(O_,"autoAdjustClockskewMiddleware",(()=>F_),(e=>F_=e)),e(O_,"autoAdjustClockskewMiddlewareOptions",(()=>B_),(e=>B_=e)),e(O_,"prefixMiddlewareOptions",(()=>z_),(e=>z_=e)),e(O_,"createS3Client",(()=>q_),(e=>q_=e));var P_=function(){return P_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},P_.apply(this,arguments)},j_=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},R_=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},M_=new(0,P.ConsoleLogger)("S3ClientUtils"),U_={accessKeyId:"",secretAccessKey:""},L_=function(e){var t=e.credentials,n=e.level,r=e.customPrefix||{},o=e.identityId||t.identityId,i=(void 0!==r.private?r.private:"private/")+o+"/",a=(void 0!==r.protected?r.protected:"protected/")+o+"/",s=void 0!==r.public?r.public:"public/";switch(n){case"private":return i;case"protected":return a;default:return s}},D_=function(e,t){return function(n,r){return function(r){return j_(void 0,void 0,void 0,(function(){var o,i,a,s;return R_(this,(function(u){switch(u.label){case 0:return[4,ku.Credentials.get()];case 1:return o=u.sent(),i=ku.Credentials.shear(o),a=L_(P_(P_({},e),{credentials:i})),s=Object.assign({},r.input),Object.prototype.hasOwnProperty.call(r.input,"Key")?(s.Key=a+t,r.input=s):Object.prototype.hasOwnProperty.call(r.input,"Prefix")&&(s.Prefix=a+t,r.input=s),[2,n(r)]}}))}))}}},F_=function(e){return function(t,n){return function(n){return j_(void 0,void 0,void 0,(function(){var r,o;return R_(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t(n)];case 1:return[2,i.sent()];case 2:throw r=i.sent(),(a=r).ServerTime&&"string"==typeof a.Code&&"RequestTimeTooSkewed"===a.Code&&(o=new Date(r.ServerTime),e.systemClockOffset=o.getTime()-Date.now()),r;case 3:return[2]}var a}))}))}}},B_={step:"finalizeRequest",name:"autoAdjustClockskewMiddleware"},z_={step:"initialize",name:"addPrefixMiddleware"},V_=function(){return j_(void 0,void 0,void 0,(function(){var e,t,n;return R_(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,ku.Credentials.get()];case 1:return(e=r.sent())?(t=ku.Credentials.shear(e),M_.debug("credentials provider get credentials",t),[2,t]):[2,U_];case 2:return n=r.sent(),M_.warn("credentials provider error",n),[2,U_];case 3:return[2]}}))}))},q_=function(e,t){var n=e.region,r=e.cancelTokenSource,o=e.dangerouslyConnectToHttpEndpointForTesting,i=e.useAccelerateEndpoint,a={};o&&(a={endpoint:"http://localhost:20005",tls:!1,bucketEndpoint:!1,forcePathStyle:!0});var s=new Pw(P_(P_({region:n,credentials:V_,customUserAgent:H()},a),{requestHandler:new(0,l_.AxiosHttpHandler)({},t,r),useAccelerateEndpoint:i}));return s.middlewareStack.remove("contentLengthMiddleware"),s},K_={};e(K_,"AWSS3ProviderManagedUpload",(()=>dE),(e=>dE=e));var H_,G_={},W_="object"==typeof Reflect?Reflect:null,$_=W_&&"function"==typeof W_.apply?W_.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};H_=W_&&"function"==typeof W_.ownKeys?W_.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var Y_=Number.isNaN||function(e){return e!=e};function J_(){J_.init.call(this)}(G_=J_).once=function(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}aE(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&aE(e,"error",t,n)}(e,o,{once:!0})}))},J_.EventEmitter=J_,J_.prototype._events=void 0,J_.prototype._eventsCount=0,J_.prototype._maxListeners=void 0;var Q_=10;function Z_(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function X_(e){return void 0===e._maxListeners?J_.defaultMaxListeners:e._maxListeners}function eE(e,t,n,r){var o,i,a,s;if(Z_(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),a=i[t]),void 0===a)a=i[t]=n,++e._eventsCount;else if("function"==typeof a?a=i[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(o=X_(e))>0&&a.length>o&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,s=u,console&&console.warn&&console.warn(s)}return e}function tE(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function nE(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=tE.bind(r);return o.listener=n,r.wrapFn=o,o}function rE(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):iE(o,o.length)}function oE(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function iE(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function aE(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){r.once&&e.removeEventListener(t,o),n(i)}))}}Object.defineProperty(J_,"defaultMaxListeners",{enumerable:!0,get:function(){return Q_},set:function(e){if("number"!=typeof e||e<0||Y_(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Q_=e}}),J_.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},J_.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||Y_(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},J_.prototype.getMaxListeners=function(){return X_(this)},J_.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var a=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw a.context=i,a}var s=o[e];if(void 0===s)return!1;if("function"==typeof s)$_(s,this,t);else{var u=s.length,c=iE(s,u);for(n=0;n<u;++n)$_(c[n],this,t)}return!0},J_.prototype.addListener=function(e,t){return eE(this,e,t,!1)},J_.prototype.on=J_.prototype.addListener,J_.prototype.prependListener=function(e,t){return eE(this,e,t,!0)},J_.prototype.once=function(e,t){return Z_(t),this.on(e,nE(this,e,t)),this},J_.prototype.prependOnceListener=function(e,t){return Z_(t),this.prependListener(e,nE(this,e,t)),this},J_.prototype.removeListener=function(e,t){var n,r,o,i,a;if(Z_(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},J_.prototype.off=J_.prototype.removeListener,J_.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},J_.prototype.listeners=function(e){return rE(this,e,!0)},J_.prototype.rawListeners=function(e){return rE(this,e,!1)},J_.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):oE.call(e,t)},J_.prototype.listenerCount=oE,J_.prototype.eventNames=function(){return this._eventsCount>0?H_(this._events):[]};var sE=function(){return sE=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},sE.apply(this,arguments)},uE=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},cE=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},lE=new(0,P.ConsoleLogger)("AWSS3ProviderManagedUpload"),dE=function(){function e(e,t,n){this.minPartSize=5242880,this.queueSize=4,this.body=null,this.params=null,this.opts=null,this.completedParts=[],this.cancel=!1,this.bytesUploaded=0,this.totalBytesToUpload=0,this.emitter=null,this.params=e,this.opts=t,this.emitter=n,this.s3client=this._createNewS3Client(t,n)}return e.prototype.upload=function(){return uE(this,void 0,void 0,(function(){var e,t,n,r,o,i,a=this;return cE(this,(function(s){switch(s.label){case 0:return e=this,[4,this.validateAndSanitizeBody(this.params.Body)];case 1:return e.body=s.sent(),this.totalBytesToUpload=this.byteLength(this.body),this.totalBytesToUpload<=this.minPartSize?(this.params.Body=this.body,t=new Xx(this.params),[2,this.s3client.send(t)]):[3,2];case 2:return[4,this.createMultiPartUpload()];case 3:n=s.sent(),r=Math.ceil(this.totalBytesToUpload/this.minPartSize),o=this.createParts(),i=0,s.label=4;case 4:return i<r?[4,this.checkIfUploadCancelled(n)]:[3,9];case 5:return s.sent(),[4,this.uploadParts(n,o.slice(i,i+this.queueSize))];case 6:return s.sent(),[4,this.checkIfUploadCancelled(n)];case 7:s.sent(),s.label=8;case 8:return i+=this.queueSize,[3,4];case 9:return o.map((function(e){a.removeEventListener(e)})),[4,this.finishMultiPartUpload(n)];case 10:return[2,s.sent()]}}))}))},e.prototype.createParts=function(){for(var e=[],t=0;t<this.totalBytesToUpload;){var n=Math.min(t+this.minPartSize,this.totalBytesToUpload);e.push({bodyPart:this.body.slice(t,n),partNumber:e.length+1,emitter:new G_.EventEmitter,_lastUploadedBytes:0}),t+=this.minPartSize}return e},e.prototype.createMultiPartUpload=function(){return uE(this,void 0,void 0,(function(){var e,t;return cE(this,(function(n){switch(n.label){case 0:return e=new Wx(this.params),[4,this.s3client.send(e)];case 1:return t=n.sent(),lE.debug(t.UploadId),[2,t.UploadId]}}))}))},e.prototype.uploadParts=function(e,t){return uE(this,void 0,void 0,(function(){var n,r,o,i=this;return cE(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,Promise.all(t.map((function(t){return uE(i,void 0,void 0,(function(){var n,r,o,i,a,s,u;return cE(this,(function(c){switch(c.label){case 0:return this.setupEventListener(t),n={emitter:t.emitter},r=this.params,o=r.Key,i=r.Bucket,a=r.SSECustomerAlgorithm,s=r.SSECustomerKey,u=r.SSECustomerKeyMD5,[4,this.s3client.send(new e_(sE(sE(sE({PartNumber:t.partNumber,Body:t.bodyPart,UploadId:e,Key:o,Bucket:i},a&&{SSECustomerAlgorithm:a}),s&&{SSECustomerKey:s}),u&&{SSECustomerKeyMD5:u})),n)];case 1:return[2,c.sent()]}}))}))})))];case 1:for(n=a.sent(),r=0;r<n.length;r++)this.completedParts.push({PartNumber:t[r].partNumber,ETag:n[r].ETag});return[3,3];case 2:return o=a.sent(),lE.error("error happened while uploading a part. Cancelling the multipart upload",o),this.cancelUpload(),[2];case 3:return[2]}}))}))},e.prototype.finishMultiPartUpload=function(e){return uE(this,void 0,void 0,(function(){var t,n,r;return cE(this,(function(o){switch(o.label){case 0:t={Bucket:this.params.Bucket,Key:this.params.Key,UploadId:e,MultipartUpload:{Parts:this.completedParts}},n=new tx(t),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.s3client.send(n)];case 2:return[2,o.sent().Key];case 3:return r=o.sent(),lE.error("error happened while finishing the upload. Cancelling the multipart upload",r),this.cancelUpload(),[2];case 4:return[2]}}))}))},e.prototype.checkIfUploadCancelled=function(e){return uE(this,void 0,void 0,(function(){var t,n;return cE(this,(function(r){switch(r.label){case 0:if(!this.cancel)return[3,5];t="Upload was cancelled.",r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.cleanup(e)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),t+=" "+n.message,[3,4];case 4:throw new Error(t);case 5:return[2]}}))}))},e.prototype.cancelUpload=function(){this.cancel=!0},e.prototype.cleanup=function(e){return uE(this,void 0,void 0,(function(){var t,n;return cE(this,(function(r){switch(r.label){case 0:return this.body=null,this.completedParts=[],this.bytesUploaded=0,this.totalBytesToUpload=0,t={Bucket:this.params.Bucket,Key:this.params.Key,UploadId:e},[4,this.s3client.send(new ex(t))];case 1:return r.sent(),[4,this.s3client.send(new Zx(t))];case 2:if((n=r.sent())&&n.Parts&&n.Parts.length>0)throw new Error("Multi Part upload clean up failed");return[2]}}))}))},e.prototype.removeEventListener=function(e){e.emitter.removeAllListeners(l_.SEND_UPLOAD_PROGRESS_EVENT),e.emitter.removeAllListeners(l_.SEND_DOWNLOAD_PROGRESS_EVENT)},e.prototype.setupEventListener=function(e){var t=this;e.emitter.on(l_.SEND_UPLOAD_PROGRESS_EVENT,(function(n){t.progressChanged(e.partNumber,n.loaded-e._lastUploadedBytes),e._lastUploadedBytes=n.loaded}))},e.prototype.progressChanged=function(e,t){this.bytesUploaded+=t,this.emitter.emit(l_.SEND_UPLOAD_PROGRESS_EVENT,{loaded:this.bytesUploaded,total:this.totalBytesToUpload,part:e,key:this.params.Key})},e.prototype.byteLength=function(e){if(null==e)return 0;if("number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.length)return e.length;if("number"==typeof e.size)return e.size;if("string"!=typeof e.path)throw new Error("Cannot determine length of "+e)},e.prototype.validateAndSanitizeBody=function(e){return uE(this,void 0,void 0,(function(){return cE(this,(function(t){return this.isGenericObject(e)?[2,JSON.stringify(e)]:[2,e]}))}))},e.prototype.isGenericObject=function(e){if(null!==e&&"object"==typeof e)try{return!(this.byteLength(e)>=0)}catch(e){return!0}return!1},e.prototype._createNewS3Client=function(e,t){var n=(0,O_.createS3Client)(e,t);return n.middlewareStack.add((0,O_.createPrefixMiddleware)(this.opts,this.params.Key),O_.prefixMiddlewareOptions),n.middlewareStack.add((0,O_.autoAdjustClockskewMiddleware)(n.config),O_.autoAdjustClockskewMiddlewareOptions),n},e}(),fE={};e(fE,"TaskEvents",(()=>vE),(e=>vE=e)),e(fE,"AWSS3UploadTask",(()=>_E),(e=>_E=e));var hE,pE,vE,gE,mE=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},yE=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},bE=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},wE=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(bE(arguments[t]));return e},SE=new(0,P.ConsoleLogger)("AWSS3UploadTask");(pE=hE||(hE={}))[pE.INIT=0]="INIT",pE[pE.IN_PROGRESS=1]="IN_PROGRESS",pE[pE.PAUSED=2]="PAUSED",pE[pE.CANCELLED=3]="CANCELLED",pE[pE.COMPLETED=4]="COMPLETED",(gE=vE||(vE={})).CANCEL="cancel",gE.UPLOAD_COMPLETE="uploadComplete",gE.UPLOAD_PROGRESS="uploadPartProgress",gE.ERROR="error";function xE(e,t){return e.PartNumber-t.PartNumber}var _E=function(){function e(e){var t=e.s3Client,n=e.file,r=e.emitter,o=e.storage,i=e.params,a=e.level,s=e.prefixPromise;this.partSize=5242880,this.queueSize=4,this.inProgress=[],this.completedParts=[],this.queued=[],this.bytesUploaded=0,this.totalBytes=0,this.state=hE.INIT,this.prefixPromise=s,this.s3client=t,this.s3client.middlewareStack.remove("contentLengthMiddleware"),this.storage=o,this.storageSync=Promise.resolve(),"function"==typeof this.storage.sync&&(this.storageSync=this.storage.sync()),this.params=i,this.file=n,this.totalBytes=this.file.size,this.bytesUploaded=0,this.emitter=r,this.queued=[],this.fileId=this._getFileId(a),this._validateParams(),this.emitter.on(vE.ERROR,(function(){}))}return Object.defineProperty(e.prototype,"percent",{get:function(){return this.bytesUploaded/this.totalBytes*100},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInProgress",{get:function(){return this.state===hE.IN_PROGRESS},enumerable:!0,configurable:!0}),e.prototype._listSingleFile=function(e){var t=e.key,n=e.bucket;return mE(this,void 0,void 0,(function(){var e,r,o,i;return yE(this,(function(a){switch(a.label){case 0:return[4,this.s3client.send(new Qx({Bucket:n,Prefix:t}))];case 1:return e=a.sent(),r=e.Contents,o=void 0===r?[]:r,[4,this.prefixPromise];case 2:return i=a.sent(),[2,o.find((function(e){return e.Key===""+i+t}))]}}))}))},e.prototype._getFileId=function(e){return void 0!==(t=this.file)&&t instanceof File?[this.file.name,this.file.lastModified,this.file.size,this.file.type,this.params.Bucket,e,this.params.Key].join("-"):[this.file.size,this.file.type,this.params.Bucket,e,this.params.Key].join("-");var t},e.prototype._findCachedUploadParts=function(){return mE(this,void 0,void 0,(function(){var e,t;return yE(this,(function(n){switch(n.label){case 0:return[4,this._listCachedUploadTasks()];case 1:return e=n.sent(),0!==Object.keys(e).length&&Object.prototype.hasOwnProperty.call(e,this.fileId)?((t=e[this.fileId]).lastTouched=Date.now(),this.storage.setItem("__uploadInProgress",JSON.stringify(e)),[4,this.s3client.send(new Zx({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:t.uploadId}))]):[2,{parts:[],uploadId:null}];case 2:return[2,{parts:n.sent().Parts||[],uploadId:t.uploadId}]}}))}))},e.prototype._emitEvent=function(e,t){this.emitter.emit(e,t)},e.prototype._validateParams=function(){if(this.file.size/this.partSize>1e4)throw new Error("Too many parts. Number of parts is "+this.file.size/this.partSize+", maximum is 10000.")},e.prototype._listCachedUploadTasks=function(){return mE(this,void 0,void 0,(function(){var e;return yE(this,(function(t){switch(t.label){case 0:return[4,this.storageSync];case 1:return t.sent(),e=this.storage.getItem("__uploadInProgress")||"{}",[2,JSON.parse(e)]}}))}))},e.prototype._cache=function(e){return mE(this,void 0,void 0,(function(){var t;return yE(this,(function(n){switch(n.label){case 0:return[4,this._listCachedUploadTasks()];case 1:return(t=n.sent())[this.fileId]=e,this.storage.setItem("__uploadInProgress",JSON.stringify(t)),[2]}}))}))},e.prototype._isCached=function(){return mE(this,void 0,void 0,(function(){var e,t;return yE(this,(function(n){switch(n.label){case 0:return t=(e=Object.prototype.hasOwnProperty).call,[4,this._listCachedUploadTasks()];case 1:return[2,t.apply(e,[n.sent(),this.fileId])]}}))}))},e.prototype._removeFromCache=function(){return mE(this,void 0,void 0,(function(){var e;return yE(this,(function(t){switch(t.label){case 0:return[4,this._listCachedUploadTasks()];case 1:return delete(e=t.sent())[this.fileId],this.storage.setItem("__uploadInProgress",JSON.stringify(e)),[2]}}))}))},e.prototype._onPartUploadCompletion=function(e){var t=e.eTag,n=e.partNumber,r=e.chunk;return mE(this,void 0,void 0,(function(){return yE(this,(function(e){return this.completedParts.push({ETag:t,PartNumber:n}),this.bytesUploaded+=A_(r),this._emitEvent(vE.UPLOAD_PROGRESS,{loaded:this.bytesUploaded,total:this.totalBytes}),this.inProgress=this.inProgress.filter((function(e){return e.uploadPartInput.PartNumber!==n})),this.queued.length&&this.state!==hE.PAUSED&&this._startNextPart(),this._isDone()&&this._completeUpload(),[2]}))}))},e.prototype._completeUpload=function(){return mE(this,void 0,void 0,(function(){var e;return yE(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.s3client.send(new tx({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:this.uploadId,MultipartUpload:{Parts:this.completedParts.sort(xE)}}))];case 1:return t.sent(),this._verifyFileSize(),this._emitEvent(vE.UPLOAD_COMPLETE,{key:this.params.Bucket+"/"+this.params.Key}),this._removeFromCache(),this.state=hE.COMPLETED,[3,3];case 2:return e=t.sent(),SE.error("error completing upload",e),this._emitEvent(vE.ERROR,e),[3,3];case 3:return[2]}}))}))},e.prototype._makeUploadPartRequest=function(e,t){return mE(this,void 0,void 0,(function(){var n,o;return yE(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,this.s3client.send(new e_(e),{cancelTokenSource:t})];case 1:return n=i.sent(),[4,this._onPartUploadCompletion({eTag:n.ETag,partNumber:e.PartNumber,chunk:e.Body})];case 2:return i.sent(),[3,4];case 3:return o=i.sent(),this.state===hE.PAUSED?SE.log("upload paused"):this.state===hE.CANCELLED?SE.log("upload aborted"):SE.error("error starting next part of upload: ",o),r(d_).isCancel(o)||o.message===g_.UPLOAD_PAUSED_MESSAGE||(this._emitEvent(vE.ERROR,o),this.pause()),[3,4];case 4:return[2]}}))}))},e.prototype._startNextPart=function(){if(this.queued.length>0&&this.state!==hE.PAUSED){var e=r(d_).CancelToken.source(),t=this.queued.shift();this.inProgress.push({uploadPartInput:t,s3Request:this._makeUploadPartRequest(t,e),cancel:e.cancel})}},e.prototype._verifyFileSize=function(){return mE(this,void 0,void 0,(function(){var e,t;return yE(this,(function(n){switch(n.label){case 0:return[4,this._listSingleFile({key:this.params.Key,bucket:this.params.Bucket})];case 1:if(e=n.sent(),!(t=Boolean(e&&e.Size===this.file.size)))throw new Error("File size does not match between local file and file on s3");return[2,t]}}))}))},e.prototype._isDone=function(){return!this.queued.length&&!this.inProgress.length&&this.bytesUploaded===this.totalBytes},e.prototype._createParts=function(){for(var e=this.file.size,t=[],n=0;n<e;){var r=Math.min(n+this.partSize,e);t.push({Body:this.file.slice(n,r),Key:this.params.Key,Bucket:this.params.Bucket,PartNumber:t.length+1,UploadId:this.uploadId}),n+=this.partSize}return t},e.prototype._initCachedUploadParts=function(e){this.bytesUploaded+=e.reduce((function(e,t){return e+t.Size}),0);var t=new Set(e.map((function(e){return e.PartNumber})));this.queued=this.queued.filter((function(e){return!t.has(e.PartNumber)})),this.completedParts=e.map((function(e){return{PartNumber:e.PartNumber,ETag:e.ETag}})),this._emitEvent(vE.UPLOAD_PROGRESS,{loaded:this.bytesUploaded,total:this.totalBytes})},e.prototype._initMultipartUpload=function(){return mE(this,void 0,void 0,(function(){var e;return yE(this,(function(t){switch(t.label){case 0:return[4,this.s3client.send(new Wx(this.params))];case 1:return e=t.sent(),this._cache({uploadId:e.UploadId,lastTouched:Date.now(),bucket:this.params.Bucket,key:this.params.Key,fileName:this.file instanceof File?this.file.name:""}),[2,e.UploadId]}}))}))},e.prototype._initializeUploadTask=function(){return mE(this,void 0,void 0,(function(){var e,t,n,o;return yE(this,(function(i){switch(i.label){case 0:this.state=hE.IN_PROGRESS,i.label=1;case 1:return i.trys.push([1,7,,8]),[4,this._isCached()];case 2:return i.sent()?[4,this._findCachedUploadParts()]:[3,4];case 3:return e=i.sent(),t=e.parts,n=e.uploadId,this.uploadId=n,this.queued=this._createParts(),this._initCachedUploadParts(t),this._startUpload(),[3,6];case 4:return this.uploadId?[3,6]:[4,this._initMultipartUpload()];case 5:n=i.sent(),this.uploadId=n,this.queued=this._createParts(),this._startUpload(),i.label=6;case 6:return[3,8];case 7:return o=i.sent(),r(d_).isCancel(o)||SE.error("Error initializing the upload task",o),[3,8];case 8:return[2]}}))}))},e.prototype.resume=function(){this.state===hE.CANCELLED?SE.warn("This task has already been cancelled"):this.state===hE.COMPLETED?SE.warn("This task has already been completed"):this.state===hE.IN_PROGRESS?SE.warn("Upload task already in progress"):this.uploadId?this._startUpload():this._initializeUploadTask()},e.prototype._startUpload=function(){this.state=hE.IN_PROGRESS;for(var e=0;e<this.queueSize;e++)this._startNextPart()},e.prototype._cancel=function(){return mE(this,void 0,void 0,(function(){var e;return yE(this,(function(t){switch(t.label){case 0:return this.state!==hE.CANCELLED?[3,1]:(SE.warn("This task has already been cancelled"),[2,!1]);case 1:return this.state!==hE.COMPLETED?[3,2]:(SE.warn("This task has already been completed"),[2,!1]);case 2:this.pause(),this.queued=[],this.completedParts=[],this.bytesUploaded=0,this.state=hE.CANCELLED,t.label=3;case 3:return t.trys.push([3,6,,7]),[4,this.s3client.send(new ex({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:this.uploadId}))];case 4:return t.sent(),[4,this._removeFromCache()];case 5:return t.sent(),[2,!0];case 6:return e=t.sent(),SE.error("Error cancelling upload task",e),[2,!1];case 7:return[2]}}))}))},e.prototype.pause=function(){var e;this.state===hE.CANCELLED?SE.warn("This task has already been cancelled"):this.state===hE.COMPLETED?SE.warn("This task has already been completed"):this.state===hE.PAUSED&&SE.warn("This task is already paused"),this.state=hE.PAUSED;var t=this.inProgress.splice(0,this.inProgress.length);t.forEach((function(e){e.cancel(g_.UPLOAD_PAUSED_MESSAGE)})),(e=this.queued).unshift.apply(e,wE(t.map((function(e){return e.uploadPartInput}))))},e}(),EE=function(){return EE=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},EE.apply(this,arguments)},CE=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},kE=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},AE=new(0,P.ConsoleLogger)("AWSS3Provider"),TE=function(){function e(e){var t=this;this._config=e||{},this._storage=(new Iu).getStorage(),G.Hub.listen("auth",(function(e){var n=e.payload;"signOut"!==n.event&&"signIn"!==n.event||t._storage.removeItem("__uploadInProgress")})),AE.debug("Storage Options",this._config)}return e.prototype.getCategory=function(){return e.CATEGORY},e.prototype.getProviderName=function(){return e.PROVIDER_NAME},e.prototype.configure=function(e){if(AE.debug("configure Storage",e),!e)return this._config;var t=Ct.Parser.parseMobilehubConfig(e);return this._config=Object.assign({},this._config,t.Storage),this._config.bucket||AE.debug("Do not have bucket yet"),this._config},e.prototype.startResumableUpload=function(e,t){var n=e.s3Client,r=e.emitter,o=e.key,i=e.file,a=e.params,s=t.progressCallback,u=t.completeCallback,c=t.errorCallback,l=t.track,d=void 0!==l&&l;if(!(i instanceof Blob))throw new Error(f_.INVALID_BLOB);r.on(fE.TaskEvents.UPLOAD_PROGRESS,(function(e){s&&("function"==typeof s?s(e):AE.warn("progressCallback should be a function, not a "+typeof s))})),r.on(fE.TaskEvents.UPLOAD_COMPLETE,(function(e){u&&("function"==typeof u?u(e):AE.warn("completeCallback should be a function, not a "+typeof u))})),r.on(fE.TaskEvents.ERROR,(function(e){c&&("function"==typeof c?c(e):AE.warn("errorCallback should be a function, not a "+typeof c))}));var f=ku.Credentials.get().then((function(e){var n=ku.Credentials.shear(e);return(0,O_.getPrefix)(EE(EE({},t),{credentials:n}))})),h=new(0,fE.AWSS3UploadTask)({s3Client:n,file:i,emitter:r,level:t.level,storage:this._storage,params:a,prefixPromise:f});return T_(d,"upload",{method:"put",result:"success"},null,"Upload Task created successfully for "+o),h.resume(),h},e.prototype.copy=function(e,t,n){return CE(this,void 0,void 0,(function(){var r,o,i,a,s,u,c,l,d,f,h,p,v,g,m,y,b,w,S,x,_,E,C,k,A;return kE(this,(function(T){switch(T.label){case 0:return[4,this._ensureCredentials()];case 1:if(!T.sent()||!this._isWithCredentials(this._config))throw new Error(f_.NO_CREDENTIALS);if(r=Object.assign({},this._config,n),o=r.acl,i=r.bucket,a=r.cacheControl,s=r.expires,u=r.track,c=r.serverSideEncryption,l=r.SSECustomerAlgorithm,d=r.SSECustomerKey,f=r.SSECustomerKeyMD5,h=r.SSEKMSKeyId,p=e.level,v=void 0===p?"public":p,g=e.identityId,m=e.key,y=t.level,b=void 0===y?"public":y,w=t.key,!m||"string"!=typeof m)throw new Error(f_.NO_SRC_KEY);if(!w||"string"!=typeof w)throw new Error(f_.NO_DEST_KEY);"protected"!==v&&g&&AE.warn('You may copy files from another user if the source level is "protected", currently it\'s '+v),S=this._prefix(EE(EE(EE({},r),{level:v}),g&&{identityId:g})),x=this._prefix(EE(EE({},r),{level:b})),_=i+"/"+S+m,E=""+x+w,AE.debug("copying "+_+" to "+E),C={Bucket:i,CopySource:_,Key:E,MetadataDirective:"COPY"},a&&(C.CacheControl=a),s&&(C.Expires=s),c&&(C.ServerSideEncryption=c),l&&(C.SSECustomerAlgorithm=l),d&&(C.SSECustomerKey=d),f&&(C.SSECustomerKeyMD5=f),h&&(C.SSEKMSKeyId=h),o&&(C.ACL=o),k=this._createNewS3Client(r),T.label=2;case 2:return T.trys.push([2,4,,5]),[4,k.send(new Gx(C))];case 3:return T.sent(),T_(u,"copy",{method:"copy",result:"success"},null,"Copy success from "+m+" to "+w),[2,{key:w}];case 4:throw A=T.sent(),T_(u,"copy",{method:"copy",result:"failed"},null,"Copy failed from "+m+" to "+w),A;case 5:return[2]}}))}))},e.prototype.get=function(e,t){return CE(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,d,f,h,p,v,g,m,y,b,w,S,x,_,E,C,k,A,T;return kE(this,(function(I){switch(I.label){case 0:return[4,this._ensureCredentials()];case 1:if(!I.sent()||!this._isWithCredentials(this._config))throw new Error(f_.NO_CREDENTIALS);if(n=Object.assign({},this._config,t),r=n.bucket,o=n.download,i=n.cacheControl,a=n.contentDisposition,s=n.contentEncoding,u=n.contentLanguage,c=n.contentType,l=n.expires,d=n.track,f=n.SSECustomerAlgorithm,h=n.SSECustomerKey,p=n.SSECustomerKeyMD5,v=n.progressCallback,g=this._prefix(n),m=g+e,y=new G_.EventEmitter,b=this._createNewS3Client(n,y),AE.debug("get "+e+" from "+m),w={Bucket:r,Key:m},i&&(w.ResponseCacheControl=i),a&&(w.ResponseContentDisposition=a),s&&(w.ResponseContentEncoding=s),u&&(w.ResponseContentLanguage=u),c&&(w.ResponseContentType=c),f&&(w.SSECustomerAlgorithm=f),h&&(w.SSECustomerKey=h),p&&(w.SSECustomerKeyMD5=p),!0!==o)return[3,5];S=new Yx(w),I.label=2;case 2:return I.trys.push([2,4,,5]),v&&("function"==typeof v?y.on(l_.SEND_DOWNLOAD_PROGRESS_EVENT,(function(e){v(e)})):AE.warn("progressCallback should be a function, not a "+typeof v)),[4,b.send(S)];case 3:return x=I.sent(),y.removeAllListeners(l_.SEND_DOWNLOAD_PROGRESS_EVENT),T_(d,"download",{method:"get",result:"success"},{fileSize:Number(x.Body.size||x.Body.length)},"Download success for "+e),[2,x];case 4:throw _=I.sent(),T_(d,"download",{method:"get",result:"failed"},null,"Download failed with "+_.message),_;case 5:return I.trys.push([5,8,,9]),E=new c_(EE({},b.config)),[4,o_(b,new Yx(w))];case 6:return C=I.sent(),A=t_,[4,E.presign(C,{expiresIn:l||900})];case 7:return k=A.apply(void 0,[I.sent()]),T_(d,"getSignedUrl",{method:"get",result:"success"},null,"Signed URL: "+k),[2,k];case 8:throw T=I.sent(),AE.warn("get signed url error",T),T_(d,"getSignedUrl",{method:"get",result:"failed"},null,"Could not get a signed URL for "+e),T;case 9:return[2]}}))}))},e.prototype.put=function(e,t,n){var r=Object.assign({},this._config,n),o=r.bucket,i=r.track,a=r.progressCallback,s=r.level,u=r.resumable,c=r.contentType,l=r.contentDisposition,d=r.contentEncoding,f=r.cacheControl,h=r.expires,p=r.metadata,v=r.tagging,g=r.acl,m=r.serverSideEncryption,y=r.SSECustomerAlgorithm,b=r.SSECustomerKey,w=r.SSECustomerKeyMD5,S=r.SSEKMSKeyId,x={Bucket:o,Key:e,Body:t,ContentType:c||"binary/octet-stream"};f&&(x.CacheControl=f),l&&(x.ContentDisposition=l),d&&(x.ContentEncoding=d),h&&(x.Expires=h),p&&(x.Metadata=p),v&&(x.Tagging=v),m&&(x.ServerSideEncryption=m),y&&(x.SSECustomerAlgorithm=y),b&&(x.SSECustomerKey=b),w&&(x.SSECustomerKeyMD5=w),S&&(x.SSEKMSKeyId=S);var _=new G_.EventEmitter,E=new(0,K_.AWSS3ProviderManagedUpload)(x,r,_);if(g&&(x.ACL=g),!0===u){var C=this._createNewS3Client(r);C.middlewareStack.add((0,O_.createPrefixMiddleware)(r,e),O_.prefixMiddlewareOptions);var k={bucket:o,key:e,s3Client:C,file:t,emitter:_,accessLevel:s,params:x};return this.startResumableUpload(k,n)}try{return a&&("function"==typeof a?_.on(l_.SEND_UPLOAD_PROGRESS_EVENT,(function(e){a(e)})):AE.warn("progressCallback should be a function, not a "+typeof a)),E.upload().then((function(t){return AE.debug("upload result",t),T_(i,"upload",{method:"put",result:"success"},null,"Upload success for "+e),{key:e}}))}catch(t){throw AE.warn("error uploading",t),T_(i,"upload",{method:"put",result:"failed"},null,"Error uploading "+e),t}},e.prototype.remove=function(e,t){return CE(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l;return kE(this,(function(d){switch(d.label){case 0:return[4,this._ensureCredentials()];case 1:if(!d.sent()||!this._isWithCredentials(this._config))throw new Error(f_.NO_CREDENTIALS);n=Object.assign({},this._config,t),r=n.bucket,o=n.track,i=this._prefix(n),a=i+e,s=this._createNewS3Client(n),AE.debug("remove "+e+" from "+a),u=new $x({Bucket:r,Key:a}),d.label=2;case 2:return d.trys.push([2,4,,5]),[4,s.send(u)];case 3:return c=d.sent(),T_(o,"delete",{method:"remove",result:"success"},null,"Deleted "+e+" successfully"),[2,c];case 4:throw l=d.sent(),T_(o,"delete",{method:"remove",result:"failed"},null,"Deletion of "+e+" failed with "+l),l;case 5:return[2]}}))}))},e.prototype.list=function(e,t){return CE(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,d,f;return kE(this,(function(h){switch(h.label){case 0:return[4,this._ensureCredentials()];case 1:if(!h.sent()||!this._isWithCredentials(this._config))throw new Error(f_.NO_CREDENTIALS);n=Object.assign({},this._config,t),r=n.bucket,o=n.track,i=n.maxKeys,a=this._prefix(n),s=a+e,u=this._createNewS3Client(n),AE.debug("list "+e+" from "+s),c=new Jx({Bucket:r,Prefix:s,MaxKeys:i}),h.label=2;case 2:return h.trys.push([2,4,,5]),[4,u.send(c)];case 3:return l=h.sent(),d=[],l&&l.Contents&&(d=l.Contents.map((function(e){return{key:e.Key.substr(a.length),eTag:e.ETag,lastModified:e.LastModified,size:e.Size}}))),T_(o,"list",{method:"list",result:"success"},null,d.length+" items returned from list operation"),AE.debug("list",d),[2,d];case 4:throw f=h.sent(),AE.warn("list error",f),T_(o,"list",{method:"list",result:"failed"},null,"Listing items failed: "+f.message),f;case 5:return[2]}}))}))},e.prototype._ensureCredentials=function(){return CE(this,void 0,void 0,(function(){var e,t,n;return kE(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,ku.Credentials.get()];case 1:return(e=r.sent())?(t=ku.Credentials.shear(e),AE.debug("set credentials for storage",t),this._config.credentials=t,[2,!0]):[2,!1];case 2:return n=r.sent(),AE.warn("ensure credentials error",n),[2,!1];case 3:return[2]}}))}))},e.prototype._isWithCredentials=function(e){return"object"==typeof e&&e.hasOwnProperty("credentials")},e.prototype._prefix=function(e){var t=e.credentials,n=e.level,r=e.customPrefix||{},o=e.identityId||t.identityId,i=(void 0!==r.private?r.private:"private/")+o+"/",a=(void 0!==r.protected?r.protected:"protected/")+o+"/",s=void 0!==r.public?r.public:"public/";switch(n){case"private":return i;case"protected":return a;default:return s}},e.prototype._createNewS3Client=function(e,t){var n=(0,O_.createS3Client)(e,t);return n.middlewareStack.add((0,O_.autoAdjustClockskewMiddleware)(n.config),O_.autoAdjustClockskewMiddlewareOptions),n},e.CATEGORY="Storage",e.PROVIDER_NAME="AWSS3",e}(),IE=function(){return IE=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},IE.apply(this,arguments)},NE=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},OE=new(0,P.ConsoleLogger)("StorageClass"),PE=function(){function e(){this._config={},this._pluggables=[],this._cancelTokenSourceMap=new WeakMap,OE.debug("Storage Options",this._config),this.get=this.get.bind(this),this.put=this.put.bind(this),this.remove=this.remove.bind(this),this.list=this.list.bind(this)}return e.prototype.getModuleName=function(){return"Storage"},e.prototype.addPluggable=function(e){if(e&&"Storage"===e.getCategory()){this._pluggables.push(e);return e.configure(this._config[e.getProviderName()])}},e.prototype.getPluggable=function(e){var t=this._pluggables.find((function(t){return t.getProviderName()===e}));return void 0===t?(OE.debug("No plugin found with providerName",e),null):t},e.prototype.removePluggable=function(e){this._pluggables=this._pluggables.filter((function(t){return t.getProviderName()!==e}))},e.prototype.configure=function(e){var t=this;if(OE.debug("configure Storage"),!e)return this._config;var n=Ct.Parser.parseMobilehubConfig(e),r=Object.keys(n.Storage),o=["bucket","region","level","track","customPrefix","serverSideEncryption","SSECustomerAlgorithm","SSECustomerKey","SSECustomerKeyMD5","SSEKMSKeyId"],i=function(e){return o.some((function(t){return t===e}))};return r&&r.find((function(e){return i(e)}))&&!n.Storage.AWSS3&&(n.Storage.AWSS3={}),Object.entries(n.Storage).map((function(e){var t=NE(e,2),r=t[0],o=t[1];r&&i(r)&&void 0!==o&&(n.Storage.AWSS3[r]=o,delete n.Storage[r])})),Object.keys(n.Storage).forEach((function(e){"string"!=typeof n.Storage[e]&&(t._config[e]=IE(IE({},t._config[e]),n.Storage[e]))})),this._pluggables.forEach((function(e){e.configure(t._config[e.getProviderName()])})),0===this._pluggables.length&&this.addPluggable(new(0,jh.AWSS3Provider)),this._config},e.prototype.getCancellableTokenSource=function(){return r(d_).CancelToken.source()},e.prototype.updateRequestToBeCancellable=function(e,t){this._cancelTokenSourceMap.set(e,t)},e.prototype.isUploadTask=function(e){return void 0!==e&&"function"==typeof e.pause&&"function"==typeof e.resume},e.prototype.cancel=function(e,t){if(e instanceof fE.AWSS3UploadTask)return e._cancel();var n=this._cancelTokenSourceMap.get(e);n?n.cancel(t):OE.debug("The request does not map to any cancel token")},e.prototype.copy=function(e,t,n){var r=(null==n?void 0:n.provider)||"AWSS3",o=this._pluggables.find((function(e){return e.getProviderName()===r}));if(void 0===o)return OE.debug("No plugin found with providerName",r),Promise.reject("No plugin found in Storage for the provider");var i=this.getCancellableTokenSource();if("function"!=typeof o.copy)return Promise.reject(".copy is not implemented on provider "+o.getProviderName());var a=o.copy(e,t,IE(IE({},n),{cancelTokenSource:i}));return this.updateRequestToBeCancellable(a,i),a},e.prototype.get=function(e,t){var n=(null==t?void 0:t.provider)||"AWSS3",r=this._pluggables.find((function(e){return e.getProviderName()===n}));if(void 0===r)return OE.debug("No plugin found with providerName",n),Promise.reject("No plugin found in Storage for the provider");var o=this.getCancellableTokenSource(),i=r.get(e,IE(IE({},t),{cancelTokenSource:o}));return this.updateRequestToBeCancellable(i,o),i},e.prototype.isCancelError=function(e){return r(d_).isCancel(e)},e.prototype.put=function(e,t,n){var r=(null==n?void 0:n.provider)||"AWSS3",o=this._pluggables.find((function(e){return e.getProviderName()===r}));if(void 0===o)return OE.debug("No plugin found with providerName",r),Promise.reject("No plugin found in Storage for the provider");var i=this.getCancellableTokenSource(),a=o.put(e,t,IE(IE({},n),{cancelTokenSource:i}));return this.isUploadTask(a)||this.updateRequestToBeCancellable(a,i),a},e.prototype.remove=function(e,t){var n=(null==t?void 0:t.provider)||"AWSS3",r=this._pluggables.find((function(e){return e.getProviderName()===n}));return void 0===r?(OE.debug("No plugin found with providerName",n),Promise.reject("No plugin found in Storage for the provider")):r.remove(e,t)},e.prototype.list=function(e,t){var n=(null==t?void 0:t.provider)||"AWSS3",r=this._pluggables.find((function(e){return e.getProviderName()===n}));return void 0===r?(OE.debug("No plugin found with providerName",n),Promise.reject("No plugin found in Storage for the provider")):r.list(e,t)},e}(),jE=function(){return jE=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},jE.apply(this,arguments)},RE=new(0,P.ConsoleLogger)("Storage"),ME=null,UE=function(){if(ME)return ME;RE.debug("Create Storage Instance, debug"),(ME=new(0,Ph.Storage)).vault=new(0,Ph.Storage);var e=ME.configure;return ME.configure=function(t){RE.debug("storage configure called");var n=jE({},e.call(ME,t));Object.keys(n).forEach((function(e){"string"!=typeof n[e]&&(n[e]=jE(jE({},n[e]),{level:"private"}))})),RE.debug("storage vault configure called"),ME.vault.configure(n)},ME}();O.Amplify.register(UE);var LE={};e(LE,"API",(()=>WA),(e=>WA=e));var DE={};e(DE,"RestAPIClass",(()=>QE),(e=>QE=e)),e(DE,"RestAPI",(()=>ZE),(e=>ZE=e));var FE={};e(FE,"RestClient",(()=>HE),(e=>HE=e));var BE=function(){return BE=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},BE.apply(this,arguments)},zE=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},VE=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},qE=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},KE=new(0,P.ConsoleLogger)("RestClient"),HE=function(){function e(e){this._region="us-east-1",this._service="execute-api",this._custom_header=void 0,this._cancelTokenMap=null,this.Credentials=ku.Credentials,this._options=e,KE.debug("API Options",this._options),null==this._cancelTokenMap&&(this._cancelTokenMap=new WeakMap)}return e.prototype.ajax=function(e,t,n){return zE(this,void 0,void 0,(function(){var r,o,i,a,s,u,c,l,d,f,h,p,v,g,m=this;return VE(this,(function(y){switch(y.label){case 0:return KE.debug(t,e),i="us-east-1",a="execute-api",s=void 0,"string"==typeof e?(r=this._parseUrl(e),o=e):(o=e.endpoint,s=e.custom_header,i=e.region,a=e.service,r=this._parseUrl(e.endpoint)),u={method:t,url:o,host:r.host,path:r.path,headers:{},data:null,responseType:"json",timeout:0,cancelToken:null},c={},K.isReactNative&&(l=K.userAgent||"aws-amplify/0.1.x",c={"User-Agent":l}),d=Object.assign({},n),f=d.response,d.body&&("function"==typeof FormData&&d.body instanceof FormData?(c["Content-Type"]="multipart/form-data",u.data=d.body):(c["Content-Type"]="application/json; charset=UTF-8",u.data=JSON.stringify(d.body))),d.responseType&&(u.responseType=d.responseType),d.withCredentials&&(u.withCredentials=d.withCredentials),d.timeout&&(u.timeout=d.timeout),d.cancellableToken&&(u.cancelToken=d.cancellableToken.token),u.signerServiceInfo=d.signerServiceInfo,"function"!=typeof s?[3,2]:[4,s()];case 1:return p=y.sent(),[3,3];case 2:p=void 0,y.label=3;case 3:return h=p,u.headers=BE(BE(BE({},c),h),d.headers),v=_e(o,!0,!0),v.search,g=qE(v,["search"]),u.url=Ee(BE(BE({},g),{query:BE(BE({},g.query),d.queryStringParameters||{})})),void 0!==u.headers.Authorization?(u.headers=Object.keys(u.headers).reduce((function(e,t){return u.headers[t]&&(e[t]=u.headers[t]),e}),{}),[2,this._request(u,f)]):[2,this.Credentials.get().then((function(r){return m._signed(BE({},u),r,f,{region:i,service:a}).catch((function(r){if(st.DateUtils.isClockSkewError(r)){var o=r.response.headers,i=o&&(o.date||o.Date),a=new Date(i),s=st.DateUtils.getDateFromHeaderString(u.headers["x-amz-date"]);if(st.DateUtils.isClockSkewed(a))return st.DateUtils.setClockOffset(a.getTime()-s.getTime()),m.ajax(e,t,n)}throw r}))}),(function(e){return KE.debug("No credentials available, the request will be unsigned"),m._request(u,f)}))]}}))}))},e.prototype.get=function(e,t){return this.ajax(e,"GET",t)},e.prototype.put=function(e,t){return this.ajax(e,"PUT",t)},e.prototype.patch=function(e,t){return this.ajax(e,"PATCH",t)},e.prototype.post=function(e,t){return this.ajax(e,"POST",t)},e.prototype.del=function(e,t){return this.ajax(e,"DELETE",t)},e.prototype.head=function(e,t){return this.ajax(e,"HEAD",t)},e.prototype.cancel=function(e,t){var n=this._cancelTokenMap.get(e);return!!n&&(n.cancel(t),!0)},e.prototype.hasCancelToken=function(e){return this._cancelTokenMap.has(e)},e.prototype.isCancel=function(e){return r(d_).isCancel(e)},e.prototype.getCancellableToken=function(){return r(d_).CancelToken.source()},e.prototype.updateRequestToBeCancellable=function(e,t){this._cancelTokenMap.set(e,t)},e.prototype.endpoint=function(e){var t=this,n=this._options.endpoints,r="";return Array.isArray(n)?(n.forEach((function(n){n.name===e&&(r=n.endpoint,"string"==typeof n.region?t._region=n.region:"string"==typeof t._options.region&&(t._region=t._options.region),"string"==typeof n.service?t._service=n.service||"execute-api":t._service="execute-api","function"==typeof n.custom_header?t._custom_header=n.custom_header:t._custom_header=void 0)})),r):r},e.prototype._signed=function(e,t,n,o){var i=o.service,a=o.region,s=e.signerServiceInfo,u=qE(e,["signerServiceInfo"]),c=a||this._region||this._options.region,l=i||this._service||this._options.service,d={secret_key:t.secretAccessKey,access_key:t.accessKeyId,session_token:t.sessionToken},f={region:c,service:l},h=Object.assign(f,s),p=Se.Signer.sign(u,d,h);return p.data&&(p.body=p.data),KE.debug("Signed Request: ",p),delete p.headers.host,r(d_)(p).then((function(e){return n?e:e.data})).catch((function(e){throw KE.debug(e),e}))},e.prototype._request=function(e,t){return void 0===t&&(t=!1),r(d_)(e).then((function(e){return t?e:e.data})).catch((function(e){throw KE.debug(e),e}))},e.prototype._parseUrl=function(e){var t=e.split("/");return{host:t[2],path:"/"+t.slice(3).join("/")}},e}(),GE=function(){return GE=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},GE.apply(this,arguments)},WE=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},$E=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},YE=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},JE=new(0,P.ConsoleLogger)("RestAPI"),QE=function(){function e(e){this._api=null,this.Credentials=ku.Credentials,this._options=e,JE.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"RestAPI"},e.prototype.configure=function(e){var t=e||{},n=t.API,r=void 0===n?{}:n,o=YE(t,["API"]),i=GE(GE({},o),r);if(JE.debug("configure Rest API",{opt:i}),i.aws_project_region){if(i.aws_cloud_logic_custom){var a=i.aws_cloud_logic_custom;i.endpoints="string"==typeof a?JSON.parse(a):a}i=Object.assign({},i,{region:i.aws_project_region,header:{}})}return Array.isArray(i.endpoints)?i.endpoints.forEach((function(e){void 0!==e.custom_header&&"function"!=typeof e.custom_header&&(JE.warn("Rest API "+e.name+", custom_header should be a function"),e.custom_header=void 0)})):this._options&&Array.isArray(this._options.endpoints)?i.endpoints=this._options.endpoints:i.endpoints=[],this._options=Object.assign({},this._options,i),this.createInstance(),this._options},e.prototype.createInstance=function(){return JE.debug("create Rest API instance"),this._api=new(0,FE.RestClient)(this._options),this._api.Credentials=this.Credentials,!0},e.prototype.get=function(e,t,n){try{var r=this.getEndpointInfo(e,t),o=this._api.getCancellableToken(),i=Object.assign({},n);i.cancellableToken=o;var a=this._api.get(r,i);return this._api.updateRequestToBeCancellable(a,o),a}catch(e){return Promise.reject(e.message)}},e.prototype.post=function(e,t,n){try{var r=this.getEndpointInfo(e,t),o=this._api.getCancellableToken(),i=Object.assign({},n);i.cancellableToken=o;var a=this._api.post(r,i);return this._api.updateRequestToBeCancellable(a,o),a}catch(e){return Promise.reject(e.message)}},e.prototype.put=function(e,t,n){try{var r=this.getEndpointInfo(e,t),o=this._api.getCancellableToken(),i=Object.assign({},n);i.cancellableToken=o;var a=this._api.put(r,i);return this._api.updateRequestToBeCancellable(a,o),a}catch(e){return Promise.reject(e.message)}},e.prototype.patch=function(e,t,n){try{var r=this.getEndpointInfo(e,t),o=this._api.getCancellableToken(),i=Object.assign({},n);i.cancellableToken=o;var a=this._api.patch(r,i);return this._api.updateRequestToBeCancellable(a,o),a}catch(e){return Promise.reject(e.message)}},e.prototype.del=function(e,t,n){try{var r=this.getEndpointInfo(e,t),o=this._api.getCancellableToken(),i=Object.assign({},n);i.cancellableToken=o;var a=this._api.del(r,i);return this._api.updateRequestToBeCancellable(a,o),a}catch(e){return Promise.reject(e.message)}},e.prototype.head=function(e,t,n){try{var r=this.getEndpointInfo(e,t),o=this._api.getCancellableToken(),i=Object.assign({},n);i.cancellableToken=o;var a=this._api.head(r,i);return this._api.updateRequestToBeCancellable(a,o),a}catch(e){return Promise.reject(e.message)}},e.prototype.isCancel=function(e){return this._api.isCancel(e)},e.prototype.cancel=function(e,t){return this._api.cancel(e,t)},e.prototype.hasCancelToken=function(e){return this._api.hasCancelToken(e)},e.prototype.endpoint=function(e){return WE(this,void 0,void 0,(function(){return $E(this,(function(t){return[2,this._api.endpoint(e)]}))}))},e.prototype.getEndpointInfo=function(e,t){var n=this._options.endpoints;if(!Array.isArray(n))throw new Error("API category not configured");var r=n.find((function(t){return t.name===e}));if(!r)throw new Error("API "+e+" does not exist");var o={endpoint:r.endpoint+t};return"string"==typeof r.region?o.region=r.region:"string"==typeof this._options.region&&(o.region=this._options.region),"string"==typeof r.service?o.service=r.service||"execute-api":o.service="execute-api","function"==typeof r.custom_header?o.custom_header=r.custom_header:o.custom_header=void 0,o},e}(),ZE=new QE(null);O.Amplify.register(ZE);var XE={};function eC(e){return(eC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e(XE,"GraphQLAPIClass",(()=>zA),(e=>zA=e)),e(XE,"GraphQLAPI",(()=>VA),(e=>VA=e));"function"==typeof Symbol&&null!=Symbol.iterator&&Symbol.iterator,"function"==typeof Symbol&&null!=Symbol.asyncIterator&&Symbol.asyncIterator;var tC="function"==typeof Symbol&&null!=Symbol.toStringTag?Symbol.toStringTag:"@@toStringTag";function nC(e,t){for(var n,r=/\r\n|[\n\r]/g,o=1,i=t+1;(n=r.exec(e.body))&&n.index<t;)o+=1,i=t+1-(n.index+n[0].length);return{line:o,column:i}}function rC(e){return oC(e.source,nC(e.source,e.start))}function oC(e,t){var n=e.locationOffset.column-1,r=aC(n)+e.body,o=t.line-1,i=e.locationOffset.line-1,a=t.line+i,s=1===t.line?n:0,u=t.column+s,c="".concat(e.name,":").concat(a,":").concat(u,"\n"),l=r.split(/\r\n|[\n\r]/g),d=l[o];if(d.length>120){for(var f=Math.floor(u/80),h=u%80,p=[],v=0;v<d.length;v+=80)p.push(d.slice(v,v+80));return c+iC([["".concat(a),p[0]]].concat(p.slice(1,f+1).map((function(e){return["",e]})),[[" ",aC(h-1)+"^"],["",p[f+1]]]))}return c+iC([["".concat(a-1),l[o-1]],["".concat(a),d],["",aC(u-1)+"^"],["".concat(a+1),l[o+1]]])}function iC(e){var t=e.filter((function(e){e[0];return void 0!==e[1]})),n=Math.max.apply(Math,t.map((function(e){return e[0].length})));return t.map((function(e){var t,r=e[0],o=e[1];return aC(n-(t=r).length)+t+(o?" | "+o:" |")})).join("\n")}function aC(e){return Array(e+1).join(" ")}function sC(e){return(sC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cC(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dC(e,t){return!t||"object"!==sC(t)&&"function"!=typeof t?fC(e):t}function fC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hC(e){var t="function"==typeof Map?new Map:void 0;return hC=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return pC(e,arguments,mC(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),gC(r,e)},hC(e)}function pC(e,t,n){return(pC=vC()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&gC(o,n.prototype),o}).apply(null,arguments)}function vC(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function gC(e,t){return(gC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mC(e){return(mC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var yC=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gC(e,t)}(s,hC(Error));var t,n,r,o,i,a=(t=s,n=vC(),function(){var e,r=mC(t);if(n){var o=mC(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return dC(this,e)});function s(e,t,n,r,o,i,u){var c,l,d,f;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(f=a.call(this,e)).name="GraphQLError",f.originalError=null!=i?i:void 0,f.nodes=bC(Array.isArray(t)?t:t?[t]:void 0);for(var h=[],p=0,v=null!==(g=f.nodes)&&void 0!==g?g:[];p<v.length;p++){var g,m=v[p].loc;null!=m&&h.push(m)}h=bC(h),f.source=null!=n?n:null===(c=h)||void 0===c?void 0:c[0].source,f.positions=null!=r?r:null===(l=h)||void 0===l?void 0:l.map((function(e){return e.start})),f.locations=r&&n?r.map((function(e){return nC(n,e)})):null===(d=h)||void 0===d?void 0:d.map((function(e){return nC(e.source,e.start)})),f.path=null!=o?o:void 0;var y,b=null==i?void 0:i.extensions;return null==u&&("object"==eC(y=b)&&null!==y)?f.extensions=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uC(Object(n),!0).forEach((function(t){cC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},b):f.extensions=null!=u?u:{},Object.defineProperties(fC(f),{message:{enumerable:!0},locations:{enumerable:null!=f.locations},path:{enumerable:null!=f.path},extensions:{enumerable:null!=f.extensions&&Object.keys(f.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!=i&&i.stack?(Object.defineProperty(fC(f),"stack",{value:i.stack,writable:!0,configurable:!0}),dC(f)):(Error.captureStackTrace?Error.captureStackTrace(fC(f),s):Object.defineProperty(fC(f),"stack",{value:Error().stack,writable:!0,configurable:!0}),f)}return r=s,(o=[{key:"toString",value:function(){return function(e){var t=e.message;if(e.nodes)for(var n=0,r=e.nodes;n<r.length;n++){var o=r[n];o.loc&&(t+="\n\n"+rC(o.loc))}else if(e.source&&e.locations)for(var i=0,a=e.locations;i<a.length;i++){var s=a[i];t+="\n\n"+oC(e.source,s)}return t}(this)}},{key:tC,get:function(){return"Object"}}])&&lC(r.prototype,o),i&&lC(r,i),s}();function bC(e){return void 0===e||0===e.length?void 0:e}function wC(e,t,n){return new yC("Syntax Error: ".concat(n),void 0,e,[t])}var SC=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});function xC(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}var _C="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function EC(e){var t=e.prototype.toJSON;"function"==typeof t||xC(0),e.prototype.inspect=t,_C&&(e.prototype[_C]=t)}var CC=function(){function e(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e}();EC(CC);var kC=function(){function e(e,t,n,r,o,i,a){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=o,this.value=a,this.prev=i,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();function AC(e){return null!=e&&"string"==typeof e.kind}EC(kC);var TC=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function IC(e){return(IC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function NC(e){return OC(e,[])}function OC(e,t){switch(IC(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var n=[].concat(t,[e]),r=function(e){var t=e[String(_C)];if("function"==typeof t)return t;if("function"==typeof e.inspect)return e.inspect}(e);if(void 0!==r){var o=r.call(e);if(o!==e)return"string"==typeof o?o:OC(o,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";for(var n=Math.min(10,e.length),r=e.length-n,o=[],i=0;i<n;++i)o.push(OC(e[i],t));1===r?o.push("... 1 more item"):r>1&&o.push("... ".concat(r," more items"));return"["+o.join(", ")+"]"}(e,n);return function(e,t){var n=Object.keys(e);if(0===n.length)return"{}";if(t.length>2)return"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var n=e.constructor.name;if("string"==typeof n&&""!==n)return n}return t}(e)+"]";var r=n.map((function(n){return n+": "+OC(e[n],t)}));return"{ "+r.join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}function PC(e,t){if(!Boolean(e))throw new Error(t)}function jC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var RC=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GraphQL request",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};"string"==typeof e||PC(0,"Body must be a string. Received: ".concat(NC(e),".")),this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||PC(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||PC(0,"column in locationOffset is 1-indexed and must be positive.")}var t,n,r;return t=e,(n=[{key:tC,get:function(){return"Source"}}])&&jC(t.prototype,n),r&&jC(t,r),e}();function MC(e){return e instanceof RC}var UC=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function LC(e){var t=e.split(/\r\n|[\n\r]/g),n=function(e){for(var t,n=!0,r=!0,o=0,i=null,a=0;a<e.length;++a)switch(e.charCodeAt(a)){case 13:10===e.charCodeAt(a+1)&&++a;case 10:n=!1,r=!0,o=0;break;case 9:case 32:++o;break;default:r&&!n&&(null===i||o<i)&&(i=o),r=!1}return null!==(t=i)&&void 0!==t?t:0}(e);if(0!==n)for(var r=1;r<t.length;r++)t[r]=t[r].slice(n);for(var o=0;o<t.length&&DC(t[o]);)++o;for(var i=t.length;i>o&&DC(t[i-1]);)--i;return t.slice(o,i).join("\n")}function DC(e){for(var t=0;t<e.length;++t)if(" "!==e[t]&&"\t"!==e[t])return!1;return!0}function FC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1===e.indexOf("\n"),o=" "===e[0]||"\t"===e[0],i='"'===e[e.length-1],a="\\"===e[e.length-1],s=!r||i||a||n,u="";return!s||r&&o||(u+="\n"+t),u+=t?e.replace(/\n/g,"\n"+t):e,s&&(u+="\n"),'"""'+u.replace(/"""/g,'\\"""')+'"""'}var BC=function(){function e(e){var t=new kC(TC.SOF,0,0,0,0,null);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}var t=e.prototype;return t.advance=function(){return this.lastToken=this.token,this.token=this.lookahead()},t.lookahead=function(){var e=this.token;if(e.kind!==TC.EOF)do{var t;e=null!==(t=e.next)&&void 0!==t?t:e.next=qC(this,e)}while(e.kind===TC.COMMENT);return e},e}();function zC(e){return e===TC.BANG||e===TC.DOLLAR||e===TC.AMP||e===TC.PAREN_L||e===TC.PAREN_R||e===TC.SPREAD||e===TC.COLON||e===TC.EQUALS||e===TC.AT||e===TC.BRACKET_L||e===TC.BRACKET_R||e===TC.BRACE_L||e===TC.PIPE||e===TC.BRACE_R}function VC(e){return isNaN(e)?TC.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function qC(e,t){for(var n=e.source,r=n.body,o=r.length,i=t.end;i<o;){var a=r.charCodeAt(i),s=e.line,u=1+i-e.lineStart;switch(a){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++e.line,e.lineStart=i;continue;case 13:10===r.charCodeAt(i+1)?i+=2:++i,++e.line,e.lineStart=i;continue;case 33:return new kC(TC.BANG,i,i+1,s,u,t);case 35:return HC(n,i,s,u,t);case 36:return new kC(TC.DOLLAR,i,i+1,s,u,t);case 38:return new kC(TC.AMP,i,i+1,s,u,t);case 40:return new kC(TC.PAREN_L,i,i+1,s,u,t);case 41:return new kC(TC.PAREN_R,i,i+1,s,u,t);case 46:if(46===r.charCodeAt(i+1)&&46===r.charCodeAt(i+2))return new kC(TC.SPREAD,i,i+3,s,u,t);break;case 58:return new kC(TC.COLON,i,i+1,s,u,t);case 61:return new kC(TC.EQUALS,i,i+1,s,u,t);case 64:return new kC(TC.AT,i,i+1,s,u,t);case 91:return new kC(TC.BRACKET_L,i,i+1,s,u,t);case 93:return new kC(TC.BRACKET_R,i,i+1,s,u,t);case 123:return new kC(TC.BRACE_L,i,i+1,s,u,t);case 124:return new kC(TC.PIPE,i,i+1,s,u,t);case 125:return new kC(TC.BRACE_R,i,i+1,s,u,t);case 34:return 34===r.charCodeAt(i+1)&&34===r.charCodeAt(i+2)?YC(n,i,s,u,t,e):$C(n,i,s,u,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return GC(n,i,a,s,u,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return QC(n,i,s,u,t)}throw wC(n,i,KC(a))}var c=e.line,l=1+i-e.lineStart;return new kC(TC.EOF,o,o,c,l,t)}function KC(e){return e<32&&9!==e&&10!==e&&13!==e?"Cannot contain the invalid character ".concat(VC(e),"."):39===e?"Unexpected single quote character ('), did you mean to use a double quote (\")?":"Cannot parse the unexpected character ".concat(VC(e),".")}function HC(e,t,n,r,o){var i,a=e.body,s=t;do{i=a.charCodeAt(++s)}while(!isNaN(i)&&(i>31||9===i));return new kC(TC.COMMENT,t,s,n,r,o,a.slice(t+1,s))}function GC(e,t,n,r,o,i){var a=e.body,s=n,u=t,c=!1;if(45===s&&(s=a.charCodeAt(++u)),48===s){if((s=a.charCodeAt(++u))>=48&&s<=57)throw wC(e,u,"Invalid number, unexpected digit after 0: ".concat(VC(s),"."))}else u=WC(e,u,s),s=a.charCodeAt(u);if(46===s&&(c=!0,s=a.charCodeAt(++u),u=WC(e,u,s),s=a.charCodeAt(u)),69!==s&&101!==s||(c=!0,43!==(s=a.charCodeAt(++u))&&45!==s||(s=a.charCodeAt(++u)),u=WC(e,u,s),s=a.charCodeAt(u)),46===s||function(e){return 95===e||e>=65&&e<=90||e>=97&&e<=122}(s))throw wC(e,u,"Invalid number, expected digit but got: ".concat(VC(s),"."));return new kC(c?TC.FLOAT:TC.INT,t,u,r,o,i,a.slice(t,u))}function WC(e,t,n){var r=e.body,o=t,i=n;if(i>=48&&i<=57){do{i=r.charCodeAt(++o)}while(i>=48&&i<=57);return o}throw wC(e,o,"Invalid number, expected digit but got: ".concat(VC(i),"."))}function $C(e,t,n,r,o){for(var i,a,s,u,c=e.body,l=t+1,d=l,f=0,h="";l<c.length&&!isNaN(f=c.charCodeAt(l))&&10!==f&&13!==f;){if(34===f)return h+=c.slice(d,l),new kC(TC.STRING,t,l+1,n,r,o,h);if(f<32&&9!==f)throw wC(e,l,"Invalid character within String: ".concat(VC(f),"."));if(++l,92===f){switch(h+=c.slice(d,l-1),f=c.charCodeAt(l)){case 34:h+='"';break;case 47:h+="/";break;case 92:h+="\\";break;case 98:h+="\b";break;case 102:h+="\f";break;case 110:h+="\n";break;case 114:h+="\r";break;case 116:h+="\t";break;case 117:var p=(i=c.charCodeAt(l+1),a=c.charCodeAt(l+2),s=c.charCodeAt(l+3),u=c.charCodeAt(l+4),JC(i)<<12|JC(a)<<8|JC(s)<<4|JC(u));if(p<0){var v=c.slice(l+1,l+5);throw wC(e,l,"Invalid character escape sequence: \\u".concat(v,"."))}h+=String.fromCharCode(p),l+=4;break;default:throw wC(e,l,"Invalid character escape sequence: \\".concat(String.fromCharCode(f),"."))}d=++l}}throw wC(e,l,"Unterminated string.")}function YC(e,t,n,r,o,i){for(var a=e.body,s=t+3,u=s,c=0,l="";s<a.length&&!isNaN(c=a.charCodeAt(s));){if(34===c&&34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2))return l+=a.slice(u,s),new kC(TC.BLOCK_STRING,t,s+3,n,r,o,LC(l));if(c<32&&9!==c&&10!==c&&13!==c)throw wC(e,s,"Invalid character within String: ".concat(VC(c),"."));10===c?(++s,++i.line,i.lineStart=s):13===c?(10===a.charCodeAt(s+1)?s+=2:++s,++i.line,i.lineStart=s):92===c&&34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2)&&34===a.charCodeAt(s+3)?(l+=a.slice(u,s)+'"""',u=s+=4):++s}throw wC(e,s,"Unterminated string.")}function JC(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function QC(e,t,n,r,o){for(var i=e.body,a=i.length,s=t+1,u=0;s!==a&&!isNaN(u=i.charCodeAt(s))&&(95===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122);)++s;return new kC(TC.NAME,t,s,n,r,o,i.slice(t,s))}function ZC(e,t){return new XC(e,t).parseDocument()}var XC=function(){function e(e,t){var n=MC(e)?e:new RC(e);this._lexer=new BC(n),this._options=t}var t=e.prototype;return t.parseName=function(){var e=this.expectToken(TC.NAME);return{kind:SC.NAME,value:e.value,loc:this.loc(e)}},t.parseDocument=function(){var e=this._lexer.token;return{kind:SC.DOCUMENT,definitions:this.many(TC.SOF,this.parseDefinition,TC.EOF),loc:this.loc(e)}},t.parseDefinition=function(){if(this.peek(TC.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(TC.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},t.parseOperationDefinition=function(){var e=this._lexer.token;if(this.peek(TC.BRACE_L))return{kind:SC.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(e)};var t,n=this.parseOperationType();return this.peek(TC.NAME)&&(t=this.parseName()),{kind:SC.OPERATION_DEFINITION,operation:n,name:t,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseOperationType=function(){var e=this.expectToken(TC.NAME);switch(e.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(e)},t.parseVariableDefinitions=function(){return this.optionalMany(TC.PAREN_L,this.parseVariableDefinition,TC.PAREN_R)},t.parseVariableDefinition=function(){var e=this._lexer.token;return{kind:SC.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(TC.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(TC.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(e)}},t.parseVariable=function(){var e=this._lexer.token;return this.expectToken(TC.DOLLAR),{kind:SC.VARIABLE,name:this.parseName(),loc:this.loc(e)}},t.parseSelectionSet=function(){var e=this._lexer.token;return{kind:SC.SELECTION_SET,selections:this.many(TC.BRACE_L,this.parseSelection,TC.BRACE_R),loc:this.loc(e)}},t.parseSelection=function(){return this.peek(TC.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var e,t,n=this._lexer.token,r=this.parseName();return this.expectOptionalToken(TC.COLON)?(e=r,t=this.parseName()):t=r,{kind:SC.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(TC.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},t.parseArguments=function(e){var t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(TC.PAREN_L,t,TC.PAREN_R)},t.parseArgument=function(){var e=this._lexer.token,t=this.parseName();return this.expectToken(TC.COLON),{kind:SC.ARGUMENT,name:t,value:this.parseValueLiteral(!1),loc:this.loc(e)}},t.parseConstArgument=function(){var e=this._lexer.token;return{kind:SC.ARGUMENT,name:this.parseName(),value:(this.expectToken(TC.COLON),this.parseValueLiteral(!0)),loc:this.loc(e)}},t.parseFragment=function(){var e=this._lexer.token;this.expectToken(TC.SPREAD);var t=this.expectOptionalKeyword("on");return!t&&this.peek(TC.NAME)?{kind:SC.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(e)}:{kind:SC.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseFragmentDefinition=function(){var e,t=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(e=this._options)||void 0===e?void 0:e.experimentalFragmentVariables)?{kind:SC.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}:{kind:SC.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},t.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(e){var t=this._lexer.token;switch(t.kind){case TC.BRACKET_L:return this.parseList(e);case TC.BRACE_L:return this.parseObject(e);case TC.INT:return this._lexer.advance(),{kind:SC.INT,value:t.value,loc:this.loc(t)};case TC.FLOAT:return this._lexer.advance(),{kind:SC.FLOAT,value:t.value,loc:this.loc(t)};case TC.STRING:case TC.BLOCK_STRING:return this.parseStringLiteral();case TC.NAME:switch(this._lexer.advance(),t.value){case"true":return{kind:SC.BOOLEAN,value:!0,loc:this.loc(t)};case"false":return{kind:SC.BOOLEAN,value:!1,loc:this.loc(t)};case"null":return{kind:SC.NULL,loc:this.loc(t)};default:return{kind:SC.ENUM,value:t.value,loc:this.loc(t)}}case TC.DOLLAR:if(!e)return this.parseVariable()}throw this.unexpected()},t.parseStringLiteral=function(){var e=this._lexer.token;return this._lexer.advance(),{kind:SC.STRING,value:e.value,block:e.kind===TC.BLOCK_STRING,loc:this.loc(e)}},t.parseList=function(e){var t=this,n=this._lexer.token;return{kind:SC.LIST,values:this.any(TC.BRACKET_L,(function(){return t.parseValueLiteral(e)}),TC.BRACKET_R),loc:this.loc(n)}},t.parseObject=function(e){var t=this,n=this._lexer.token;return{kind:SC.OBJECT,fields:this.any(TC.BRACE_L,(function(){return t.parseObjectField(e)}),TC.BRACE_R),loc:this.loc(n)}},t.parseObjectField=function(e){var t=this._lexer.token,n=this.parseName();return this.expectToken(TC.COLON),{kind:SC.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e),loc:this.loc(t)}},t.parseDirectives=function(e){for(var t=[];this.peek(TC.AT);)t.push(this.parseDirective(e));return t},t.parseDirective=function(e){var t=this._lexer.token;return this.expectToken(TC.AT),{kind:SC.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e),loc:this.loc(t)}},t.parseTypeReference=function(){var e,t=this._lexer.token;return this.expectOptionalToken(TC.BRACKET_L)?(e=this.parseTypeReference(),this.expectToken(TC.BRACKET_R),e={kind:SC.LIST_TYPE,type:e,loc:this.loc(t)}):e=this.parseNamedType(),this.expectOptionalToken(TC.BANG)?{kind:SC.NON_NULL_TYPE,type:e,loc:this.loc(t)}:e},t.parseNamedType=function(){var e=this._lexer.token;return{kind:SC.NAMED_TYPE,name:this.parseName(),loc:this.loc(e)}},t.parseTypeSystemDefinition=function(){var e=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(e.kind===TC.NAME)switch(e.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(e)},t.peekDescription=function(){return this.peek(TC.STRING)||this.peek(TC.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");var n=this.parseDirectives(!0),r=this.many(TC.BRACE_L,this.parseOperationTypeDefinition,TC.BRACE_R);return{kind:SC.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:r,loc:this.loc(e)}},t.parseOperationTypeDefinition=function(){var e=this._lexer.token,t=this.parseOperationType();this.expectToken(TC.COLON);var n=this.parseNamedType();return{kind:SC.OPERATION_TYPE_DEFINITION,operation:t,type:n,loc:this.loc(e)}},t.parseScalarTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");var n=this.parseName(),r=this.parseDirectives(!0);return{kind:SC.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");var n=this.parseName(),r=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),i=this.parseFieldsDefinition();return{kind:SC.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:o,fields:i,loc:this.loc(e)}},t.parseImplementsInterfaces=function(){var e;if(!this.expectOptionalKeyword("implements"))return[];if(!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLImplementsInterfaces)){var t=[];this.expectOptionalToken(TC.AMP);do{t.push(this.parseNamedType())}while(this.expectOptionalToken(TC.AMP)||this.peek(TC.NAME));return t}return this.delimitedMany(TC.AMP,this.parseNamedType)},t.parseFieldsDefinition=function(){var e;return!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLEmptyFields)&&this.peek(TC.BRACE_L)&&this._lexer.lookahead().kind===TC.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(TC.BRACE_L,this.parseFieldDefinition,TC.BRACE_R)},t.parseFieldDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(TC.COLON);var o=this.parseTypeReference(),i=this.parseDirectives(!0);return{kind:SC.FIELD_DEFINITION,description:t,name:n,arguments:r,type:o,directives:i,loc:this.loc(e)}},t.parseArgumentDefs=function(){return this.optionalMany(TC.PAREN_L,this.parseInputValueDef,TC.PAREN_R)},t.parseInputValueDef=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(TC.COLON);var r,o=this.parseTypeReference();this.expectOptionalToken(TC.EQUALS)&&(r=this.parseValueLiteral(!0));var i=this.parseDirectives(!0);return{kind:SC.INPUT_VALUE_DEFINITION,description:t,name:n,type:o,defaultValue:r,directives:i,loc:this.loc(e)}},t.parseInterfaceTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");var n=this.parseName(),r=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),i=this.parseFieldsDefinition();return{kind:SC.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:o,fields:i,loc:this.loc(e)}},t.parseUnionTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");var n=this.parseName(),r=this.parseDirectives(!0),o=this.parseUnionMemberTypes();return{kind:SC.UNION_TYPE_DEFINITION,description:t,name:n,directives:r,types:o,loc:this.loc(e)}},t.parseUnionMemberTypes=function(){return this.expectOptionalToken(TC.EQUALS)?this.delimitedMany(TC.PIPE,this.parseNamedType):[]},t.parseEnumTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");var n=this.parseName(),r=this.parseDirectives(!0),o=this.parseEnumValuesDefinition();return{kind:SC.ENUM_TYPE_DEFINITION,description:t,name:n,directives:r,values:o,loc:this.loc(e)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(TC.BRACE_L,this.parseEnumValueDefinition,TC.BRACE_R)},t.parseEnumValueDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseDirectives(!0);return{kind:SC.ENUM_VALUE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseInputObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");var n=this.parseName(),r=this.parseDirectives(!0),o=this.parseInputFieldsDefinition();return{kind:SC.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:r,fields:o,loc:this.loc(e)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(TC.BRACE_L,this.parseInputValueDef,TC.BRACE_R)},t.parseTypeSystemExtension=function(){var e=this._lexer.lookahead();if(e.kind===TC.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)},t.parseSchemaExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var t=this.parseDirectives(!0),n=this.optionalMany(TC.BRACE_L,this.parseOperationTypeDefinition,TC.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return{kind:SC.SCHEMA_EXTENSION,directives:t,operationTypes:n,loc:this.loc(e)}},t.parseScalarTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var t=this.parseName(),n=this.parseDirectives(!0);if(0===n.length)throw this.unexpected();return{kind:SC.SCALAR_TYPE_EXTENSION,name:t,directives:n,loc:this.loc(e)}},t.parseObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),o=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===o.length)throw this.unexpected();return{kind:SC.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:o,loc:this.loc(e)}},t.parseInterfaceTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),o=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===o.length)throw this.unexpected();return{kind:SC.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:o,loc:this.loc(e)}},t.parseUnionTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseUnionMemberTypes();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:SC.UNION_TYPE_EXTENSION,name:t,directives:n,types:r,loc:this.loc(e)}},t.parseEnumTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseEnumValuesDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:SC.ENUM_TYPE_EXTENSION,name:t,directives:n,values:r,loc:this.loc(e)}},t.parseInputObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseInputFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:SC.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:r,loc:this.loc(e)}},t.parseDirectiveDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(TC.AT);var n=this.parseName(),r=this.parseArgumentDefs(),o=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var i=this.parseDirectiveLocations();return{kind:SC.DIRECTIVE_DEFINITION,description:t,name:n,arguments:r,repeatable:o,locations:i,loc:this.loc(e)}},t.parseDirectiveLocations=function(){return this.delimitedMany(TC.PIPE,this.parseDirectiveLocation)},t.parseDirectiveLocation=function(){var e=this._lexer.token,t=this.parseName();if(void 0!==UC[t.value])return t;throw this.unexpected(e)},t.loc=function(e){var t;if(!0!==(null===(t=this._options)||void 0===t?void 0:t.noLocation))return new CC(e,this._lexer.lastToken,this._lexer.source)},t.peek=function(e){return this._lexer.token.kind===e},t.expectToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw wC(this._lexer.source,t.start,"Expected ".concat(tk(e),", found ").concat(ek(t),"."))},t.expectOptionalToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t},t.expectKeyword=function(e){var t=this._lexer.token;if(t.kind!==TC.NAME||t.value!==e)throw wC(this._lexer.source,t.start,'Expected "'.concat(e,'", found ').concat(ek(t),"."));this._lexer.advance()},t.expectOptionalKeyword=function(e){var t=this._lexer.token;return t.kind===TC.NAME&&t.value===e&&(this._lexer.advance(),!0)},t.unexpected=function(e){var t=null!=e?e:this._lexer.token;return wC(this._lexer.source,t.start,"Unexpected ".concat(ek(t),"."))},t.any=function(e,t,n){this.expectToken(e);for(var r=[];!this.expectOptionalToken(n);)r.push(t.call(this));return r},t.optionalMany=function(e,t,n){if(this.expectOptionalToken(e)){var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r}return[]},t.many=function(e,t,n){this.expectToken(e);var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r},t.delimitedMany=function(e,t){this.expectOptionalToken(e);var n=[];do{n.push(t.call(this))}while(this.expectOptionalToken(e));return n},e}();function ek(e){var t=e.value;return tk(e.kind)+(null!=t?' "'.concat(t,'"'):"")}function tk(e){return zC(e)?'"'.concat(e,'"'):e}var nk={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},rk=Object.freeze({});function ok(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nk,r=void 0,o=Array.isArray(e),i=[e],a=-1,s=[],u=void 0,c=void 0,l=void 0,d=[],f=[],h=e;do{var p=++a===i.length,v=p&&0!==s.length;if(p){if(c=0===f.length?void 0:d[d.length-1],u=l,l=f.pop(),v){if(o)u=u.slice();else{for(var g={},m=0,y=Object.keys(u);m<y.length;m++){var b=y[m];g[b]=u[b]}u=g}for(var w=0,S=0;S<s.length;S++){var x=s[S][0],_=s[S][1];o&&(x-=w),o&&null===_?(u.splice(x,1),w++):u[x]=_}}a=r.index,i=r.keys,s=r.edits,o=r.inArray,r=r.prev}else{if(c=l?o?a:i[a]:void 0,null==(u=l?l[c]:h))continue;l&&d.push(c)}var E,C=void 0;if(!Array.isArray(u)){if(!AC(u))throw new Error("Invalid AST Node: ".concat(NC(u),"."));var k=ik(t,u.kind,p);if(k){if((C=k.call(t,u,c,l,d,f))===rk)break;if(!1===C){if(!p){d.pop();continue}}else if(void 0!==C&&(s.push([c,C]),!p)){if(!AC(C)){d.pop();continue}u=C}}}if(void 0===C&&v&&s.push([c,u]),p)d.pop();else r={inArray:o,index:a,keys:i,edits:s,prev:r},i=(o=Array.isArray(u))?u:null!==(E=n[u.kind])&&void 0!==E?E:[],a=-1,s=[],l&&f.push(l),l=u}while(void 0!==r);return 0!==s.length&&(h=s[s.length-1][1]),h}function ik(e,t,n){var r=e[t];if(r){if(!n&&"function"==typeof r)return r;var o=n?r.leave:r.enter;if("function"==typeof o)return o}else{var i=n?e.leave:e.enter;if(i){if("function"==typeof i)return i;var a=i[t];if("function"==typeof a)return a}}}function ak(e){return ok(e,{leave:sk})}var sk={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return ck(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,r=dk("(",ck(e.variableDefinitions,", "),")"),o=ck(e.directives," "),i=e.selectionSet;return n||o||r||"query"!==t?ck([t,ck([n,r]),o,i]," "):i},VariableDefinition:function(e){var t=e.variable,n=e.type,r=e.defaultValue,o=e.directives;return t+": "+n+dk(" = ",r)+dk(" ",ck(o," "))},SelectionSet:function(e){return lk(e.selections)},Field:function(e){var t=e.alias,n=e.name,r=e.arguments,o=e.directives,i=e.selectionSet,a=dk("",t,": ")+n,s=a+dk("(",ck(r,", "),")");return s.length>80&&(s=a+dk("(\n",fk(ck(r,"\n")),"\n)")),ck([s,ck(o," "),i]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+dk(" ",ck(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,r=e.selectionSet;return ck(["...",dk("on ",t),ck(n," "),r]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,r=e.variableDefinitions,o=e.directives,i=e.selectionSet;return"fragment ".concat(t).concat(dk("(",ck(r,", "),")")," ")+"on ".concat(n," ").concat(dk("",ck(o," ")," "))+i},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?FC(n,"description"===t?"":"  "):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+ck(e.values,", ")+"]"},ObjectValue:function(e){return"{"+ck(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+dk("(",ck(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:uk((function(e){var t=e.directives,n=e.operationTypes;return ck(["schema",ck(t," "),lk(n)]," ")})),OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:uk((function(e){return ck(["scalar",e.name,ck(e.directives," ")]," ")})),ObjectTypeDefinition:uk((function(e){var t=e.name,n=e.interfaces,r=e.directives,o=e.fields;return ck(["type",t,dk("implements ",ck(n," & ")),ck(r," "),lk(o)]," ")})),FieldDefinition:uk((function(e){var t=e.name,n=e.arguments,r=e.type,o=e.directives;return t+(pk(n)?dk("(\n",fk(ck(n,"\n")),"\n)"):dk("(",ck(n,", "),")"))+": "+r+dk(" ",ck(o," "))})),InputValueDefinition:uk((function(e){var t=e.name,n=e.type,r=e.defaultValue,o=e.directives;return ck([t+": "+n,dk("= ",r),ck(o," ")]," ")})),InterfaceTypeDefinition:uk((function(e){var t=e.name,n=e.interfaces,r=e.directives,o=e.fields;return ck(["interface",t,dk("implements ",ck(n," & ")),ck(r," "),lk(o)]," ")})),UnionTypeDefinition:uk((function(e){var t=e.name,n=e.directives,r=e.types;return ck(["union",t,ck(n," "),r&&0!==r.length?"= "+ck(r," | "):""]," ")})),EnumTypeDefinition:uk((function(e){var t=e.name,n=e.directives,r=e.values;return ck(["enum",t,ck(n," "),lk(r)]," ")})),EnumValueDefinition:uk((function(e){return ck([e.name,ck(e.directives," ")]," ")})),InputObjectTypeDefinition:uk((function(e){var t=e.name,n=e.directives,r=e.fields;return ck(["input",t,ck(n," "),lk(r)]," ")})),DirectiveDefinition:uk((function(e){var t=e.name,n=e.arguments,r=e.repeatable,o=e.locations;return"directive @"+t+(pk(n)?dk("(\n",fk(ck(n,"\n")),"\n)"):dk("(",ck(n,", "),")"))+(r?" repeatable":"")+" on "+ck(o," | ")})),SchemaExtension:function(e){var t=e.directives,n=e.operationTypes;return ck(["extend schema",ck(t," "),lk(n)]," ")},ScalarTypeExtension:function(e){return ck(["extend scalar",e.name,ck(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,o=e.fields;return ck(["extend type",t,dk("implements ",ck(n," & ")),ck(r," "),lk(o)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,o=e.fields;return ck(["extend interface",t,dk("implements ",ck(n," & ")),ck(r," "),lk(o)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,r=e.types;return ck(["extend union",t,ck(n," "),r&&0!==r.length?"= "+ck(r," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,r=e.values;return ck(["extend enum",t,ck(n," "),lk(r)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return ck(["extend input",t,ck(n," "),lk(r)]," ")}};function uk(e){return function(t){return ck([t.description,e(t)],"\n")}}function ck(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(t=null==e?void 0:e.filter((function(e){return e})).join(n))&&void 0!==t?t:""}function lk(e){return dk("{\n",fk(ck(e,"\n")),"\n}")}function dk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return null!=t&&""!==t?e+t+n:""}function fk(e){return dk("  ",e.replace(/\n/g,"\n  "))}function hk(e){return-1!==e.indexOf("\n")}function pk(e){return null!=e&&e.some(hk)}var vk={};e(vk,"PubSub",(()=>OA),(e=>OA=e));var gk=r(s("lXkqT").Observable),mk={},yk={};e(yk,"AbstractPubSubProvider",(()=>Sk),(e=>Sk=e));var bk=function(){return bk=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},bk.apply(this,arguments)},wk=new(0,P.ConsoleLogger)("AbstractPubSubProvider"),Sk=function(){function e(e){void 0===e&&(e={}),this._config=e}return e.prototype.configure=function(e){return void 0===e&&(e={}),this._config=bk(bk({},e),this._config),wk.debug("configure "+this.getProviderName(),this._config),this.options},e.prototype.getCategory=function(){return"PubSub"},Object.defineProperty(e.prototype,"options",{get:function(){return bk({},this._config)},enumerable:!0,configurable:!0}),e}(),xk={};e(xk,"AWSAppSyncProvider",(()=>rA),(e=>rA=e));var _k={};e(_k,"MqttOverWSProvider",(()=>Yk),(e=>Yk=e));var Ek,Ck={};Ek=function(){var e=function(e){var t,n=e.localStorage||(t={},{setItem:function(e,n){t[e]=n},getItem:function(e){return t[e]},removeItem:function(e){delete t[e]}}),r=1,o=2,i=3,a=4,s=5,u=6,c=7,l=8,d=9,f=10,h=11,p=12,v=13,g=14,m=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){if(!t.hasOwnProperty(n)){var r="Unknown property, "+n+". Valid properties are:";for(var o in t)t.hasOwnProperty(o)&&(r=r+" "+o);throw new Error(r)}if(typeof e[n]!==t[n])throw new Error(S(b.INVALID_TYPE,[typeof e[n],n]))}},y=function(e,t){return function(){return e.apply(t,arguments)}},b={OK:{code:0,text:"AMQJSC0000I OK."},CONNECT_TIMEOUT:{code:1,text:"AMQJSC0001E Connect timed out."},SUBSCRIBE_TIMEOUT:{code:2,text:"AMQJS0002E Subscribe timed out."},UNSUBSCRIBE_TIMEOUT:{code:3,text:"AMQJS0003E Unsubscribe timed out."},PING_TIMEOUT:{code:4,text:"AMQJS0004E Ping timed out."},INTERNAL_ERROR:{code:5,text:"AMQJS0005E Internal error. Error Message: {0}, Stack trace: {1}"},CONNACK_RETURNCODE:{code:6,text:"AMQJS0006E Bad Connack return code:{0} {1}."},SOCKET_ERROR:{code:7,text:"AMQJS0007E Socket error:{0}."},SOCKET_CLOSE:{code:8,text:"AMQJS0008I Socket closed."},MALFORMED_UTF:{code:9,text:"AMQJS0009E Malformed UTF data:{0} {1} {2}."},UNSUPPORTED:{code:10,text:"AMQJS0010E {0} is not supported by this browser."},INVALID_STATE:{code:11,text:"AMQJS0011E Invalid state {0}."},INVALID_TYPE:{code:12,text:"AMQJS0012E Invalid type {0} for {1}."},INVALID_ARGUMENT:{code:13,text:"AMQJS0013E Invalid argument {0} for {1}."},UNSUPPORTED_OPERATION:{code:14,text:"AMQJS0014E Unsupported operation."},INVALID_STORED_DATA:{code:15,text:"AMQJS0015E Invalid data in local storage key={0} value={1}."},INVALID_MQTT_MESSAGE_TYPE:{code:16,text:"AMQJS0016E Invalid MQTT message type {0}."},MALFORMED_UNICODE:{code:17,text:"AMQJS0017E Malformed Unicode string:{0} {1}."},BUFFER_FULL:{code:18,text:"AMQJS0018E Message buffer is full, maximum buffer size: {0}."}},w={0:"Connection Accepted",1:"Connection Refused: unacceptable protocol version",2:"Connection Refused: identifier rejected",3:"Connection Refused: server unavailable",4:"Connection Refused: bad user name or password",5:"Connection Refused: not authorized"},S=function(e,t){var n=e.text;if(t)for(var r,o,i=0;i<t.length;i++)if(r="{"+i+"}",(o=n.indexOf(r))>0){var a=n.substring(0,o),s=n.substring(o+r.length);n=a+t[i]+s}return n},x=[0,6,77,81,73,115,100,112,3],_=[0,4,77,81,84,84,4],E=function(e,t){for(var n in this.type=e,t)t.hasOwnProperty(n)&&(this[n]=t[n])};function C(e,t){var n,r=t,l=e[t],f=l>>4,p=l&=15;t+=1;var v=0,g=1;do{if(t==e.length)return[null,r];v+=(127&(n=e[t++]))*g,g*=128}while(0!=(128&n));var m=t+v;if(m>e.length)return[null,r];var y=new E(f);switch(f){case o:1&e[t++]&&(y.sessionPresent=!0),y.returnCode=e[t++];break;case i:var b=p>>1&3,w=T(e,t),S=O(e,t+=2,w);t+=w,b>0&&(y.messageIdentifier=T(e,t),t+=2);var x=new M(e.subarray(t,m));1==(1&p)&&(x.retained=!0),8==(8&p)&&(x.duplicate=!0),x.qos=b,x.destinationName=S,y.payloadMessage=x;break;case a:case s:case u:case c:case h:y.messageIdentifier=T(e,t);break;case d:y.messageIdentifier=T(e,t),t+=2,y.returnCode=e.subarray(t,m)}return[y,m]}function k(e,t,n){return t[n++]=e>>8,t[n++]=e%256,n}function A(e,t,n,r){return N(e,n,r=k(t,n,r)),r+t}function T(e,t){return 256*e[t]+e[t+1]}function I(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r>2047?(55296<=r&&r<=56319&&(n++,t++),t+=3):r>127?t+=2:t++}return t}function N(e,t,n){for(var r=n,o=0;o<e.length;o++){var i=e.charCodeAt(o);if(55296<=i&&i<=56319){var a=e.charCodeAt(++o);if(isNaN(a))throw new Error(S(b.MALFORMED_UNICODE,[i,a]));i=a-56320+(i-55296<<10)+65536}i<=127?t[r++]=i:i<=2047?(t[r++]=i>>6&31|192,t[r++]=63&i|128):i<=65535?(t[r++]=i>>12&15|224,t[r++]=i>>6&63|128,t[r++]=63&i|128):(t[r++]=i>>18&7|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=63&i|128)}return t}function O(e,t,n){for(var r,o="",i=t;i<t+n;){var a=e[i++];if(a<128)r=a;else{var s=e[i++]-128;if(s<0)throw new Error(S(b.MALFORMED_UTF,[a.toString(16),s.toString(16),""]));if(a<224)r=64*(a-192)+s;else{var u=e[i++]-128;if(u<0)throw new Error(S(b.MALFORMED_UTF,[a.toString(16),s.toString(16),u.toString(16)]));if(a<240)r=4096*(a-224)+64*s+u;else{var c=e[i++]-128;if(c<0)throw new Error(S(b.MALFORMED_UTF,[a.toString(16),s.toString(16),u.toString(16),c.toString(16)]));if(!(a<248))throw new Error(S(b.MALFORMED_UTF,[a.toString(16),s.toString(16),u.toString(16),c.toString(16)]));r=262144*(a-240)+4096*s+64*u+c}}}r>65535&&(r-=65536,o+=String.fromCharCode(55296+(r>>10)),r=56320+(1023&r)),o+=String.fromCharCode(r)}return o}E.prototype.encode=function(){var e,t=(15&this.type)<<4,n=0,o=[],a=0;switch(void 0!==this.messageIdentifier&&(n+=2),this.type){case r:switch(this.mqttVersion){case 3:n+=x.length+3;break;case 4:n+=_.length+3}n+=I(this.clientId)+2,void 0!==this.willMessage&&(n+=I(this.willMessage.destinationName)+2,(e=this.willMessage.payloadBytes)instanceof Uint8Array||(e=new Uint8Array(c)),n+=e.byteLength+2),void 0!==this.userName&&(n+=I(this.userName)+2),void 0!==this.password&&(n+=I(this.password)+2);break;case l:t|=2;for(var s=0;s<this.topics.length;s++)o[s]=I(this.topics[s]),n+=o[s]+2;n+=this.requestedQos.length;break;case f:for(t|=2,s=0;s<this.topics.length;s++)o[s]=I(this.topics[s]),n+=o[s]+2;break;case u:t|=2;break;case i:this.payloadMessage.duplicate&&(t|=8),t=t|=this.payloadMessage.qos<<1,this.payloadMessage.retained&&(t|=1),n+=(a=I(this.payloadMessage.destinationName))+2;var c=this.payloadMessage.payloadBytes;n+=c.byteLength,c instanceof ArrayBuffer?c=new Uint8Array(c):c instanceof Uint8Array||(c=new Uint8Array(c.buffer))}var d=function(e){var t=new Array(1),n=0;do{var r=e%128;(e>>=7)>0&&(r|=128),t[n++]=r}while(e>0&&n<4);return t}(n),h=d.length+1,p=new ArrayBuffer(n+h),v=new Uint8Array(p);if(v[0]=t,v.set(d,1),this.type==i)h=A(this.payloadMessage.destinationName,a,v,h);else if(this.type==r){switch(this.mqttVersion){case 3:v.set(x,h),h+=x.length;break;case 4:v.set(_,h),h+=_.length}var g=0;this.cleanSession&&(g=2),void 0!==this.willMessage&&(g|=4,g|=this.willMessage.qos<<3,this.willMessage.retained&&(g|=32)),void 0!==this.userName&&(g|=128),void 0!==this.password&&(g|=64),v[h++]=g,h=k(this.keepAliveInterval,v,h)}switch(void 0!==this.messageIdentifier&&(h=k(this.messageIdentifier,v,h)),this.type){case r:h=A(this.clientId,I(this.clientId),v,h),void 0!==this.willMessage&&(h=A(this.willMessage.destinationName,I(this.willMessage.destinationName),v,h),h=k(e.byteLength,v,h),v.set(e,h),h+=e.byteLength),void 0!==this.userName&&(h=A(this.userName,I(this.userName),v,h)),void 0!==this.password&&(h=A(this.password,I(this.password),v,h));break;case i:v.set(c,h);break;case l:for(s=0;s<this.topics.length;s++)h=A(this.topics[s],o[s],v,h),v[h++]=this.requestedQos[s];break;case f:for(s=0;s<this.topics.length;s++)h=A(this.topics[s],o[s],v,h)}return p};var P=function(e,t){this._client=e,this._keepAliveInterval=1e3*t,this.isReset=!1;var n=new E(p).encode(),r=function(e){return function(){return o.apply(e)}},o=function(){this.isReset?(this.isReset=!1,this._client._trace("Pinger.doPing","send PINGREQ"),this._client.socket.send(n),this.timeout=setTimeout(r(this),this._keepAliveInterval)):(this._client._trace("Pinger.doPing","Timed out"),this._client._disconnected(b.PING_TIMEOUT.code,S(b.PING_TIMEOUT)))};this.reset=function(){this.isReset=!0,clearTimeout(this.timeout),this._keepAliveInterval>0&&(this.timeout=setTimeout(r(this),this._keepAliveInterval))},this.cancel=function(){clearTimeout(this.timeout)}},j=function(e,t,n,r){var o,i,a;t||(t=30),this.timeout=setTimeout((o=n,i=e,a=r,function(){return o.apply(i,a)}),1e3*t),this.cancel=function(){clearTimeout(this.timeout)}},R=function(t,r,o,i,a){if(!("WebSocket"in e)||null===e.WebSocket)throw new Error(S(b.UNSUPPORTED,["WebSocket"]));if(!("ArrayBuffer"in e)||null===e.ArrayBuffer)throw new Error(S(b.UNSUPPORTED,["ArrayBuffer"]));for(var s in this._trace("Paho.Client",t,r,o,i,a),this.host=r,this.port=o,this.path=i,this.uri=t,this.clientId=a,this._wsuri=null,this._localKey=r+":"+o+("/mqtt"!=i?":"+i:"")+":"+a+":",this._msg_queue=[],this._buffered_msg_queue=[],this._sentMessages={},this._receivedMessages={},this._notify_msg_sent={},this._message_identifier=1,this._sequence=0,n)0!==s.indexOf("Sent:"+this._localKey)&&0!==s.indexOf("Received:"+this._localKey)||this.restore(s)};R.prototype.host=null,R.prototype.port=null,R.prototype.path=null,R.prototype.uri=null,R.prototype.clientId=null,R.prototype.socket=null,R.prototype.connected=!1,R.prototype.maxMessageIdentifier=65536,R.prototype.connectOptions=null,R.prototype.hostIndex=null,R.prototype.onConnected=null,R.prototype.onConnectionLost=null,R.prototype.onMessageDelivered=null,R.prototype.onMessageArrived=null,R.prototype.traceFunction=null,R.prototype._msg_queue=null,R.prototype._buffered_msg_queue=null,R.prototype._connectTimeout=null,R.prototype.sendPinger=null,R.prototype.receivePinger=null,R.prototype._reconnectInterval=1,R.prototype._reconnecting=!1,R.prototype._reconnectTimeout=null,R.prototype.disconnectedPublishing=!1,R.prototype.disconnectedBufferSize=5e3,R.prototype.receiveBuffer=null,R.prototype._traceBuffer=null,R.prototype._MAX_TRACE_ENTRIES=100,R.prototype.connect=function(e){var t=this._traceMask(e,"password");if(this._trace("Client.connect",t,this.socket,this.connected),this.connected)throw new Error(S(b.INVALID_STATE,["already connected"]));if(this.socket)throw new Error(S(b.INVALID_STATE,["already connected"]));this._reconnecting&&(this._reconnectTimeout.cancel(),this._reconnectTimeout=null,this._reconnecting=!1),this.connectOptions=e,this._reconnectInterval=1,this._reconnecting=!1,e.uris?(this.hostIndex=0,this._doConnect(e.uris[0])):this._doConnect(this.uri)},R.prototype.subscribe=function(e,t){if(this._trace("Client.subscribe",e,t),!this.connected)throw new Error(S(b.INVALID_STATE,["not connected"]));var n=new E(l);n.topics=e.constructor===Array?e:[e],void 0===t.qos&&(t.qos=0),n.requestedQos=[];for(var r=0;r<n.topics.length;r++)n.requestedQos[r]=t.qos;t.onSuccess&&(n.onSuccess=function(e){t.onSuccess({invocationContext:t.invocationContext,grantedQos:e})}),t.onFailure&&(n.onFailure=function(e){t.onFailure({invocationContext:t.invocationContext,errorCode:e,errorMessage:S(e)})}),t.timeout&&(n.timeOut=new j(this,t.timeout,t.onFailure,[{invocationContext:t.invocationContext,errorCode:b.SUBSCRIBE_TIMEOUT.code,errorMessage:S(b.SUBSCRIBE_TIMEOUT)}])),this._requires_ack(n),this._schedule_message(n)},R.prototype.unsubscribe=function(e,t){if(this._trace("Client.unsubscribe",e,t),!this.connected)throw new Error(S(b.INVALID_STATE,["not connected"]));var n=new E(f);n.topics=e.constructor===Array?e:[e],t.onSuccess&&(n.callback=function(){t.onSuccess({invocationContext:t.invocationContext})}),t.timeout&&(n.timeOut=new j(this,t.timeout,t.onFailure,[{invocationContext:t.invocationContext,errorCode:b.UNSUBSCRIBE_TIMEOUT.code,errorMessage:S(b.UNSUBSCRIBE_TIMEOUT)}])),this._requires_ack(n),this._schedule_message(n)},R.prototype.send=function(e){this._trace("Client.send",e);var t=new E(i);if(t.payloadMessage=e,this.connected)e.qos>0?this._requires_ack(t):this.onMessageDelivered&&(this._notify_msg_sent[t]=this.onMessageDelivered(t.payloadMessage)),this._schedule_message(t);else{if(!this._reconnecting||!this.disconnectedPublishing)throw new Error(S(b.INVALID_STATE,["not connected"]));if(Object.keys(this._sentMessages).length+this._buffered_msg_queue.length>this.disconnectedBufferSize)throw new Error(S(b.BUFFER_FULL,[this.disconnectedBufferSize]));e.qos>0?this._requires_ack(t):(t.sequence=++this._sequence,this._buffered_msg_queue.unshift(t))}},R.prototype.disconnect=function(){if(this._trace("Client.disconnect"),this._reconnecting&&(this._reconnectTimeout.cancel(),this._reconnectTimeout=null,this._reconnecting=!1),!this.socket)throw new Error(S(b.INVALID_STATE,["not connecting or connected"]));var e=new E(g);this._notify_msg_sent[e]=y(this._disconnected,this),this._schedule_message(e)},R.prototype.getTraceLog=function(){if(null!==this._traceBuffer){for(var e in this._trace("Client.getTraceLog",new Date),this._trace("Client.getTraceLog in flight messages",this._sentMessages.length),this._sentMessages)this._trace("_sentMessages ",e,this._sentMessages[e]);for(var e in this._receivedMessages)this._trace("_receivedMessages ",e,this._receivedMessages[e]);return this._traceBuffer}},R.prototype.startTrace=function(){null===this._traceBuffer&&(this._traceBuffer=[]),this._trace("Client.startTrace",new Date,"@VERSION@-@BUILDLEVEL@")},R.prototype.stopTrace=function(){delete this._traceBuffer},R.prototype._doConnect=function(e){if(this.connectOptions.useSSL){var t=e.split(":");t[0]="wss",e=t.join(":")}this._wsuri=e,this.connected=!1,this.connectOptions.mqttVersion<4?this.socket=new WebSocket(e,["mqttv3.1"]):this.socket=new WebSocket(e,["mqtt"]),this.socket.binaryType="arraybuffer",this.socket.onopen=y(this._on_socket_open,this),this.socket.onmessage=y(this._on_socket_message,this),this.socket.onerror=y(this._on_socket_error,this),this.socket.onclose=y(this._on_socket_close,this),this.sendPinger=new P(this,this.connectOptions.keepAliveInterval),this.receivePinger=new P(this,this.connectOptions.keepAliveInterval),this._connectTimeout&&(this._connectTimeout.cancel(),this._connectTimeout=null),this._connectTimeout=new j(this,this.connectOptions.timeout,this._disconnected,[b.CONNECT_TIMEOUT.code,S(b.CONNECT_TIMEOUT)])},R.prototype._schedule_message=function(e){this._msg_queue.unshift(e),this.connected&&this._process_queue()},R.prototype.store=function(e,t){var r={type:t.type,messageIdentifier:t.messageIdentifier,version:1};if(t.type!==i)throw Error(S(b.INVALID_STORED_DATA,[e+this._localKey+t.messageIdentifier,r]));t.pubRecReceived&&(r.pubRecReceived=!0),r.payloadMessage={};for(var o="",a=t.payloadMessage.payloadBytes,s=0;s<a.length;s++)a[s]<=15?o=o+"0"+a[s].toString(16):o+=a[s].toString(16);r.payloadMessage.payloadHex=o,r.payloadMessage.qos=t.payloadMessage.qos,r.payloadMessage.destinationName=t.payloadMessage.destinationName,t.payloadMessage.duplicate&&(r.payloadMessage.duplicate=!0),t.payloadMessage.retained&&(r.payloadMessage.retained=!0),0===e.indexOf("Sent:")&&(void 0===t.sequence&&(t.sequence=++this._sequence),r.sequence=t.sequence),n.setItem(e+this._localKey+t.messageIdentifier,JSON.stringify(r))},R.prototype.restore=function(e){var t=n.getItem(e),r=JSON.parse(t),o=new E(r.type,r);if(r.type!==i)throw Error(S(b.INVALID_STORED_DATA,[e,t]));for(var a=r.payloadMessage.payloadHex,s=new ArrayBuffer(a.length/2),u=new Uint8Array(s),c=0;a.length>=2;){var l=parseInt(a.substring(0,2),16);a=a.substring(2,a.length),u[c++]=l}var d=new M(u);d.qos=r.payloadMessage.qos,d.destinationName=r.payloadMessage.destinationName,r.payloadMessage.duplicate&&(d.duplicate=!0),r.payloadMessage.retained&&(d.retained=!0),o.payloadMessage=d,0===e.indexOf("Sent:"+this._localKey)?(o.payloadMessage.duplicate=!0,this._sentMessages[o.messageIdentifier]=o):0===e.indexOf("Received:"+this._localKey)&&(this._receivedMessages[o.messageIdentifier]=o)},R.prototype._process_queue=function(){for(var e=null;e=this._msg_queue.pop();)this._socket_send(e),this._notify_msg_sent[e]&&(this._notify_msg_sent[e](),delete this._notify_msg_sent[e])},R.prototype._requires_ack=function(e){var t=Object.keys(this._sentMessages).length;if(t>this.maxMessageIdentifier)throw Error("Too many messages:"+t);for(;void 0!==this._sentMessages[this._message_identifier];)this._message_identifier++;e.messageIdentifier=this._message_identifier,this._sentMessages[e.messageIdentifier]=e,e.type===i&&this.store("Sent:",e),this._message_identifier===this.maxMessageIdentifier&&(this._message_identifier=1)},R.prototype._on_socket_open=function(){var e=new E(r,this.connectOptions);e.clientId=this.clientId,this._socket_send(e)},R.prototype._on_socket_message=function(e){this._trace("Client._on_socket_message",e.data);for(var t=this._deframeMessages(e.data),n=0;n<t.length;n+=1)this._handleMessage(t[n])},R.prototype._deframeMessages=function(e){var t=new Uint8Array(e),n=[];if(this.receiveBuffer){var r=new Uint8Array(this.receiveBuffer.length+t.length);r.set(this.receiveBuffer),r.set(t,this.receiveBuffer.length),t=r,delete this.receiveBuffer}try{for(var o=0;o<t.length;){var i=C(t,o),a=i[0];if(o=i[1],null===a)break;n.push(a)}o<t.length&&(this.receiveBuffer=t.subarray(o))}catch(e){var s="undefined"==e.hasOwnProperty("stack")?e.stack.toString():"No Error Stack Available";return void this._disconnected(b.INTERNAL_ERROR.code,S(b.INTERNAL_ERROR,[e.message,s]))}return n},R.prototype._handleMessage=function(e){this._trace("Client._handleMessage",e);try{switch(e.type){case o:if(this._connectTimeout.cancel(),this._reconnectTimeout&&this._reconnectTimeout.cancel(),this.connectOptions.cleanSession){for(var t in this._sentMessages){var r=this._sentMessages[t];n.removeItem("Sent:"+this._localKey+r.messageIdentifier)}for(var t in this._sentMessages={},this._receivedMessages){var l=this._receivedMessages[t];n.removeItem("Received:"+this._localKey+l.messageIdentifier)}this._receivedMessages={}}if(0!==e.returnCode){this._disconnected(b.CONNACK_RETURNCODE.code,S(b.CONNACK_RETURNCODE,[e.returnCode,w[e.returnCode]]));break}this.connected=!0,this.connectOptions.uris&&(this.hostIndex=this.connectOptions.uris.length);var f=[];for(var p in this._sentMessages)this._sentMessages.hasOwnProperty(p)&&f.push(this._sentMessages[p]);if(this._buffered_msg_queue.length>0)for(var g=null;g=this._buffered_msg_queue.pop();)f.push(g),this.onMessageDelivered&&(this._notify_msg_sent[g]=this.onMessageDelivered(g.payloadMessage));f=f.sort((function(e,t){return e.sequence-t.sequence}));for(var m=0,y=f.length;m<y;m++)if((r=f[m]).type==i&&r.pubRecReceived){var x=new E(u,{messageIdentifier:r.messageIdentifier});this._schedule_message(x)}else this._schedule_message(r);this.connectOptions.onSuccess&&this.connectOptions.onSuccess({invocationContext:this.connectOptions.invocationContext});var _=!1;this._reconnecting&&(_=!0,this._reconnectInterval=1,this._reconnecting=!1),this._connected(_,this._wsuri),this._process_queue();break;case i:this._receivePublish(e);break;case a:(r=this._sentMessages[e.messageIdentifier])&&(delete this._sentMessages[e.messageIdentifier],n.removeItem("Sent:"+this._localKey+e.messageIdentifier),this.onMessageDelivered&&this.onMessageDelivered(r.payloadMessage));break;case s:(r=this._sentMessages[e.messageIdentifier])&&(r.pubRecReceived=!0,x=new E(u,{messageIdentifier:e.messageIdentifier}),this.store("Sent:",r),this._schedule_message(x));break;case u:l=this._receivedMessages[e.messageIdentifier],n.removeItem("Received:"+this._localKey+e.messageIdentifier),l&&(this._receiveMessage(l),delete this._receivedMessages[e.messageIdentifier]);var C=new E(c,{messageIdentifier:e.messageIdentifier});this._schedule_message(C);break;case c:r=this._sentMessages[e.messageIdentifier],delete this._sentMessages[e.messageIdentifier],n.removeItem("Sent:"+this._localKey+e.messageIdentifier),this.onMessageDelivered&&this.onMessageDelivered(r.payloadMessage);break;case d:(r=this._sentMessages[e.messageIdentifier])&&(r.timeOut&&r.timeOut.cancel(),128===e.returnCode[0]?r.onFailure&&r.onFailure(e.returnCode):r.onSuccess&&r.onSuccess(e.returnCode),delete this._sentMessages[e.messageIdentifier]);break;case h:(r=this._sentMessages[e.messageIdentifier])&&(r.timeOut&&r.timeOut.cancel(),r.callback&&r.callback(),delete this._sentMessages[e.messageIdentifier]);break;case v:this.sendPinger.reset();break;default:this._disconnected(b.INVALID_MQTT_MESSAGE_TYPE.code,S(b.INVALID_MQTT_MESSAGE_TYPE,[e.type]))}}catch(e){var k="undefined"==e.hasOwnProperty("stack")?e.stack.toString():"No Error Stack Available";return void this._disconnected(b.INTERNAL_ERROR.code,S(b.INTERNAL_ERROR,[e.message,k]))}},R.prototype._on_socket_error=function(e){this._reconnecting||this._disconnected(b.SOCKET_ERROR.code,S(b.SOCKET_ERROR,[e.data]))},R.prototype._on_socket_close=function(){this._reconnecting||this._disconnected(b.SOCKET_CLOSE.code,S(b.SOCKET_CLOSE))},R.prototype._socket_send=function(e){if(1==e.type){var t=this._traceMask(e,"password");this._trace("Client._socket_send",t)}else this._trace("Client._socket_send",e);this.socket.send(e.encode()),this.sendPinger.reset()},R.prototype._receivePublish=function(e){switch(e.payloadMessage.qos){case"undefined":case 0:this._receiveMessage(e);break;case 1:var t=new E(a,{messageIdentifier:e.messageIdentifier});this._schedule_message(t),this._receiveMessage(e);break;case 2:this._receivedMessages[e.messageIdentifier]=e,this.store("Received:",e);var n=new E(s,{messageIdentifier:e.messageIdentifier});this._schedule_message(n);break;default:throw Error("Invaild qos="+e.payloadMessage.qos)}},R.prototype._receiveMessage=function(e){this.onMessageArrived&&this.onMessageArrived(e.payloadMessage)},R.prototype._connected=function(e,t){this.onConnected&&this.onConnected(e,t)},R.prototype._reconnect=function(){this._trace("Client._reconnect"),this.connected||(this._reconnecting=!0,this.sendPinger.cancel(),this.receivePinger.cancel(),this._reconnectInterval<128&&(this._reconnectInterval=2*this._reconnectInterval),this.connectOptions.uris?(this.hostIndex=0,this._doConnect(this.connectOptions.uris[0])):this._doConnect(this.uri))},R.prototype._disconnected=function(e,t){if(this._trace("Client._disconnected",e,t),void 0!==e&&this._reconnecting)this._reconnectTimeout=new j(this,this._reconnectInterval,this._reconnect);else if(this.sendPinger.cancel(),this.receivePinger.cancel(),this._connectTimeout&&(this._connectTimeout.cancel(),this._connectTimeout=null),this._msg_queue=[],this._buffered_msg_queue=[],this._notify_msg_sent={},this.socket&&(this.socket.onopen=null,this.socket.onmessage=null,this.socket.onerror=null,this.socket.onclose=null,1===this.socket.readyState&&this.socket.close(),delete this.socket),this.connectOptions.uris&&this.hostIndex<this.connectOptions.uris.length-1)this.hostIndex++,this._doConnect(this.connectOptions.uris[this.hostIndex]);else if(void 0===e&&(e=b.OK.code,t=S(b.OK)),this.connected){if(this.connected=!1,this.onConnectionLost&&this.onConnectionLost({errorCode:e,errorMessage:t,reconnect:this.connectOptions.reconnect,uri:this._wsuri}),e!==b.OK.code&&this.connectOptions.reconnect)return this._reconnectInterval=1,void this._reconnect()}else 4===this.connectOptions.mqttVersion&&!1===this.connectOptions.mqttVersionExplicit?(this._trace("Failed to connect V4, dropping back to V3"),this.connectOptions.mqttVersion=3,this.connectOptions.uris?(this.hostIndex=0,this._doConnect(this.connectOptions.uris[0])):this._doConnect(this.uri)):this.connectOptions.onFailure&&this.connectOptions.onFailure({invocationContext:this.connectOptions.invocationContext,errorCode:e,errorMessage:t})},R.prototype._trace=function(){if(this.traceFunction){var e=Array.prototype.slice.call(arguments);for(var t in e)void 0!==e[t]&&e.splice(t,1,JSON.stringify(e[t]));var n=e.join("");this.traceFunction({severity:"Debug",message:n})}if(null!==this._traceBuffer){t=0;for(var r=arguments.length;t<r;t++)this._traceBuffer.length==this._MAX_TRACE_ENTRIES&&this._traceBuffer.shift(),0===t||void 0===arguments[t]?this._traceBuffer.push(arguments[t]):this._traceBuffer.push("  "+JSON.stringify(arguments[t]))}},R.prototype._traceMask=function(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=r==t?"******":e[r]);return n};var M=function(e){var t,n;if(!("string"==typeof e||e instanceof ArrayBuffer||ArrayBuffer.isView(e)&&!(e instanceof DataView)))throw S(b.INVALID_ARGUMENT,[e,"newPayload"]);t=e;var r=0,o=!1,i=!1;Object.defineProperties(this,{payloadString:{enumerable:!0,get:function(){return"string"==typeof t?t:O(t,0,t.length)}},payloadBytes:{enumerable:!0,get:function(){if("string"==typeof t){var e=new ArrayBuffer(I(t)),n=new Uint8Array(e);return N(t,n,0),n}return t}},destinationName:{enumerable:!0,get:function(){return n},set:function(e){if("string"!=typeof e)throw new Error(S(b.INVALID_ARGUMENT,[e,"newDestinationName"]));n=e}},qos:{enumerable:!0,get:function(){return r},set:function(e){if(0!==e&&1!==e&&2!==e)throw new Error("Invalid argument:"+e);r=e}},retained:{enumerable:!0,get:function(){return o},set:function(e){if("boolean"!=typeof e)throw new Error(S(b.INVALID_ARGUMENT,[e,"newRetained"]));o=e}},topic:{enumerable:!0,get:function(){return n},set:function(e){n=e}},duplicate:{enumerable:!0,get:function(){return i},set:function(e){i=e}}})};return{Client:function(e,t,n,r){var o;if("string"!=typeof e)throw new Error(S(b.INVALID_TYPE,[typeof e,"host"]));if(2==arguments.length){r=t;var i=(o=e).match(/^(wss?):\/\/((\[(.+)\])|([^\/]+?))(:(\d+))?(\/.*)$/);if(!i)throw new Error(S(b.INVALID_ARGUMENT,[e,"host"]));e=i[4]||i[2],t=parseInt(i[7]),n=i[8]}else{if(3==arguments.length&&(r=n,n="/mqtt"),"number"!=typeof t||t<0)throw new Error(S(b.INVALID_TYPE,[typeof t,"port"]));if("string"!=typeof n)throw new Error(S(b.INVALID_TYPE,[typeof n,"path"]));var a=-1!==e.indexOf(":")&&"["!==e.slice(0,1)&&"]"!==e.slice(-1);o="ws://"+(a?"["+e+"]":e)+":"+t+n}for(var s=0,u=0;u<r.length;u++){var c=r.charCodeAt(u);55296<=c&&c<=56319&&u++,s++}if("string"!=typeof r||s>65535)throw new Error(S(b.INVALID_ARGUMENT,[r,"clientId"]));var l=new R(o,e,t,n,r);Object.defineProperties(this,{host:{get:function(){return e},set:function(){throw new Error(S(b.UNSUPPORTED_OPERATION))}},port:{get:function(){return t},set:function(){throw new Error(S(b.UNSUPPORTED_OPERATION))}},path:{get:function(){return n},set:function(){throw new Error(S(b.UNSUPPORTED_OPERATION))}},uri:{get:function(){return o},set:function(){throw new Error(S(b.UNSUPPORTED_OPERATION))}},clientId:{get:function(){return l.clientId},set:function(){throw new Error(S(b.UNSUPPORTED_OPERATION))}},onConnected:{get:function(){return l.onConnected},set:function(e){if("function"!=typeof e)throw new Error(S(b.INVALID_TYPE,[typeof e,"onConnected"]));l.onConnected=e}},disconnectedPublishing:{get:function(){return l.disconnectedPublishing},set:function(e){l.disconnectedPublishing=e}},disconnectedBufferSize:{get:function(){return l.disconnectedBufferSize},set:function(e){l.disconnectedBufferSize=e}},onConnectionLost:{get:function(){return l.onConnectionLost},set:function(e){if("function"!=typeof e)throw new Error(S(b.INVALID_TYPE,[typeof e,"onConnectionLost"]));l.onConnectionLost=e}},onMessageDelivered:{get:function(){return l.onMessageDelivered},set:function(e){if("function"!=typeof e)throw new Error(S(b.INVALID_TYPE,[typeof e,"onMessageDelivered"]));l.onMessageDelivered=e}},onMessageArrived:{get:function(){return l.onMessageArrived},set:function(e){if("function"!=typeof e)throw new Error(S(b.INVALID_TYPE,[typeof e,"onMessageArrived"]));l.onMessageArrived=e}},trace:{get:function(){return l.traceFunction},set:function(e){if("function"!=typeof e)throw new Error(S(b.INVALID_TYPE,[typeof e,"onTrace"]));l.traceFunction=e}}}),this.connect=function(e){if(m(e=e||{},{timeout:"number",userName:"string",password:"string",willMessage:"object",keepAliveInterval:"number",cleanSession:"boolean",useSSL:"boolean",invocationContext:"object",onSuccess:"function",onFailure:"function",hosts:"object",ports:"object",reconnect:"boolean",mqttVersion:"number",mqttVersionExplicit:"boolean",uris:"object"}),void 0===e.keepAliveInterval&&(e.keepAliveInterval=60),e.mqttVersion>4||e.mqttVersion<3)throw new Error(S(b.INVALID_ARGUMENT,[e.mqttVersion,"connectOptions.mqttVersion"]));if(void 0===e.mqttVersion?(e.mqttVersionExplicit=!1,e.mqttVersion=4):e.mqttVersionExplicit=!0,void 0!==e.password&&void 0===e.userName)throw new Error(S(b.INVALID_ARGUMENT,[e.password,"connectOptions.password"]));if(e.willMessage){if(!(e.willMessage instanceof M))throw new Error(S(b.INVALID_TYPE,[e.willMessage,"connectOptions.willMessage"]));if(e.willMessage.stringPayload=null,void 0===e.willMessage.destinationName)throw new Error(S(b.INVALID_TYPE,[typeof e.willMessage.destinationName,"connectOptions.willMessage.destinationName"]))}if(void 0===e.cleanSession&&(e.cleanSession=!0),e.hosts){if(!(e.hosts instanceof Array))throw new Error(S(b.INVALID_ARGUMENT,[e.hosts,"connectOptions.hosts"]));if(e.hosts.length<1)throw new Error(S(b.INVALID_ARGUMENT,[e.hosts,"connectOptions.hosts"]));for(var t=!1,r=0;r<e.hosts.length;r++){if("string"!=typeof e.hosts[r])throw new Error(S(b.INVALID_TYPE,[typeof e.hosts[r],"connectOptions.hosts["+r+"]"]));if(/^(wss?):\/\/((\[(.+)\])|([^\/]+?))(:(\d+))?(\/.*)$/.test(e.hosts[r])){if(0===r)t=!0;else if(!t)throw new Error(S(b.INVALID_ARGUMENT,[e.hosts[r],"connectOptions.hosts["+r+"]"]))}else if(t)throw new Error(S(b.INVALID_ARGUMENT,[e.hosts[r],"connectOptions.hosts["+r+"]"]))}if(t)e.uris=e.hosts;else{if(!e.ports)throw new Error(S(b.INVALID_ARGUMENT,[e.ports,"connectOptions.ports"]));if(!(e.ports instanceof Array))throw new Error(S(b.INVALID_ARGUMENT,[e.ports,"connectOptions.ports"]));if(e.hosts.length!==e.ports.length)throw new Error(S(b.INVALID_ARGUMENT,[e.ports,"connectOptions.ports"]));for(e.uris=[],r=0;r<e.hosts.length;r++){if("number"!=typeof e.ports[r]||e.ports[r]<0)throw new Error(S(b.INVALID_TYPE,[typeof e.ports[r],"connectOptions.ports["+r+"]"]));var i=e.hosts[r],a=e.ports[r],s=-1!==i.indexOf(":");o="ws://"+(s?"["+i+"]":i)+":"+a+n,e.uris.push(o)}}}l.connect(e)},this.subscribe=function(e,t){if("string"!=typeof e&&e.constructor!==Array)throw new Error("Invalid argument:"+e);if(m(t=t||{},{qos:"number",invocationContext:"object",onSuccess:"function",onFailure:"function",timeout:"number"}),t.timeout&&!t.onFailure)throw new Error("subscribeOptions.timeout specified with no onFailure callback.");if(void 0!==t.qos&&0!==t.qos&&1!==t.qos&&2!==t.qos)throw new Error(S(b.INVALID_ARGUMENT,[t.qos,"subscribeOptions.qos"]));l.subscribe(e,t)},this.unsubscribe=function(e,t){if("string"!=typeof e&&e.constructor!==Array)throw new Error("Invalid argument:"+e);if(m(t=t||{},{invocationContext:"object",onSuccess:"function",onFailure:"function",timeout:"number"}),t.timeout&&!t.onFailure)throw new Error("unsubscribeOptions.timeout specified with no onFailure callback.");l.unsubscribe(e,t)},this.send=function(e,t,n,r){var o;if(0===arguments.length)throw new Error("Invalid argument.length");if(1==arguments.length){if(!(e instanceof M)&&"string"!=typeof e)throw new Error("Invalid argument:"+typeof e);if(void 0===(o=e).destinationName)throw new Error(S(b.INVALID_ARGUMENT,[o.destinationName,"Message.destinationName"]));l.send(o)}else(o=new M(t)).destinationName=e,arguments.length>=3&&(o.qos=n),arguments.length>=4&&(o.retained=r),l.send(o)},this.publish=function(e,t,n,r){var o;if(0===arguments.length)throw new Error("Invalid argument.length");if(1==arguments.length){if(!(e instanceof M)&&"string"!=typeof e)throw new Error("Invalid argument:"+typeof e);if(void 0===(o=e).destinationName)throw new Error(S(b.INVALID_ARGUMENT,[o.destinationName,"Message.destinationName"]));l.send(o)}else(o=new M(t)).destinationName=e,arguments.length>=3&&(o.qos=n),arguments.length>=4&&(o.retained=r),l.send(o)},this.disconnect=function(){l.disconnect()},this.getTraceLog=function(){return l.getTraceLog()},this.startTrace=function(){l.startTrace()},this.stopTrace=function(){l.stopTrace()},this.isConnected=function(){return l.connected}},Message:M}}(void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});return e},Ck=Ek();var kk,Ak,Tk={},Ik="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(Ik){var Nk=new Uint8Array(16);Tk=function(){return Ik(Nk),Nk}}else{var Ok=new Array(16);Tk=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),Ok[t]=e>>>((3&t)<<3)&255;return Ok}}for(var Pk,jk,Rk={},Mk=[],Uk=0;Uk<256;++Uk)Mk[Uk]=(Uk+256).toString(16).substr(1);Rk=function(e,t){var n=t||0,r=Mk;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")};var Lk=0,Dk=0;Ak=function(e,t,n){var r=t&&n||0,o=t||[],i=(e=e||{}).node||Pk,a=void 0!==e.clockseq?e.clockseq:jk;if(null==i||null==a){var s=Tk();null==i&&(i=Pk=[1|s[0],s[1],s[2],s[3],s[4],s[5]]),null==a&&(a=jk=16383&(s[6]<<8|s[7]))}var u=void 0!==e.msecs?e.msecs:(new Date).getTime(),c=void 0!==e.nsecs?e.nsecs:Dk+1,l=u-Lk+(c-Dk)/1e4;if(l<0&&void 0===e.clockseq&&(a=a+1&16383),(l<0||u>Lk)&&void 0===e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Lk=u,Dk=c,jk=a;var d=(1e4*(268435455&(u+=122192928e5))+c)%4294967296;o[r++]=d>>>24&255,o[r++]=d>>>16&255,o[r++]=d>>>8&255,o[r++]=255&d;var f=u/4294967296*1e4&268435455;o[r++]=f>>>8&255,o[r++]=255&f,o[r++]=f>>>24&15|16,o[r++]=f>>>16&255,o[r++]=a>>>8|128,o[r++]=255&a;for(var h=0;h<6;++h)o[r+h]=i[h];return t||Rk(o)};var Fk;var Bk=Fk=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||Tk)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var i=0;i<16;++i)t[r+i]=o[i];return t||Rk(o)};Bk.v1=Ak,Bk.v4=Fk,kk=Bk;var zk=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vk=function(){return Vk=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Vk.apply(this,arguments)},qk=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},Kk=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Hk=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Gk=new(0,P.ConsoleLogger)("MqttOverWSProvider");var Wk=function(){function e(){this.promises=new Map}return e.prototype.get=function(e,t){return qk(this,void 0,void 0,(function(){var n,r;return Kk(this,(function(o){return(n=this.promises.get(e))?[2,n]:t?(r=t(e),this.promises.set(e,r),[2,r]):[2,void 0]}))}))},Object.defineProperty(e.prototype,"allClients",{get:function(){return Array.from(this.promises.keys())},enumerable:!0,configurable:!0}),e.prototype.remove=function(e){this.promises.delete(e)},e}(),$k="undefined"!=typeof Symbol?Symbol("topic"):"@@topic",Yk=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,Vk(Vk({},t),{clientId:t.clientId||(0,kk.v4)()}))||this;return n._clientsQueue=new Wk,n._topicObservers=new Map,n._clientIdObservers=new Map,n}return zk(t,e),Object.defineProperty(t.prototype,"clientId",{get:function(){return this.options.clientId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endpoint",{get:function(){return this.options.aws_pubsub_endpoint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clientsQueue",{get:function(){return this._clientsQueue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSSLEnabled",{get:function(){return!this.options.aws_appsync_dangerously_connect_to_http_endpoint_for_testing},enumerable:!0,configurable:!0}),t.prototype.getTopicForValue=function(e){return"object"==typeof e&&e[$k]},t.prototype.getProviderName=function(){return"MqttOverWSProvider"},t.prototype.onDisconnect=function(e){var t=this,n=e.clientId,r=e.errorCode,o=Hk(e,["clientId","errorCode"]);if(0!==r){Gk.warn(n,JSON.stringify(Vk({errorCode:r},o),null,2));var i=[];if(!n)return;var a=this._clientIdObservers.get(n);if(!a)return;a.forEach((function(e){e.error("Disconnected, error code: "+r),t._topicObservers.forEach((function(t,n){t.delete(e),0===t.size&&i.push(n)}))})),this._clientIdObservers.delete(n),i.forEach((function(e){t._topicObservers.delete(e)}))}},t.prototype.newClient=function(e){var t=e.url,n=e.clientId;return qk(this,void 0,void 0,(function(){var e,r=this;return Kk(this,(function(o){switch(o.label){case 0:return Gk.debug("Creating new MQTT client",n),(e=new Ck.Client(t,n)).onMessageArrived=function(e){var t=e.destinationName,n=e.payloadString;r._onMessage(t,n)},e.onConnectionLost=function(e){var t=e.errorCode,o=Hk(e,["errorCode"]);r.onDisconnect(Vk({clientId:n,errorCode:t},o))},[4,new Promise((function(t,n){e.connect({useSSL:r.isSSLEnabled,mqttVersion:3,onSuccess:function(){return t(e)},onFailure:n})}))];case 1:return o.sent(),[2,e]}}))}))},t.prototype.connect=function(e,t){return void 0===t&&(t={}),qk(this,void 0,void 0,(function(){var n=this;return Kk(this,(function(r){switch(r.label){case 0:return[4,this.clientsQueue.get(e,(function(e){return n.newClient(Vk(Vk({},t),{clientId:e}))}))];case 1:return[2,r.sent()]}}))}))},t.prototype.disconnect=function(e){return qk(this,void 0,void 0,(function(){var t;return Kk(this,(function(n){switch(n.label){case 0:return[4,this.clientsQueue.get(e)];case 1:return(t=n.sent())&&t.isConnected()&&t.disconnect(),this.clientsQueue.remove(e),[2]}}))}))},t.prototype.publish=function(e,t){return qk(this,void 0,void 0,(function(){var n,r,o,i;return Kk(this,(function(a){switch(a.label){case 0:return n=[].concat(e),r=JSON.stringify(t),[4,this.endpoint];case 1:return o=a.sent(),[4,this.connect(this.clientId,{url:o})];case 2:return i=a.sent(),Gk.debug("Publishing to topic(s)",n.join(","),r),n.forEach((function(e){return i.send(e,r)})),[2]}}))}))},t.prototype._onMessage=function(e,t){try{var n=[];this._topicObservers.forEach((function(t,r){(function(e,t){for(var n=e.split("/"),r=n.length,o=t.split("/"),i=0;i<r;++i){var a=n[i],s=o[i];if("#"===a)return o.length>=r;if("+"!==a&&a!==s)return!1}return r===o.length})(r,e)&&n.push(t)}));var r=JSON.parse(t);"object"==typeof r&&(r[$k]=e),n.forEach((function(e){e.forEach((function(e){return e.next(r)}))}))}catch(e){Gk.warn("Error handling message",e,t)}},t.prototype.subscribe=function(e,t){var n=this;void 0===t&&(t={});var r=[].concat(e);return Gk.debug("Subscribing to topic(s)",r.join(",")),new gk((function(e){var o;r.forEach((function(t){var r=n._topicObservers.get(t);r||(r=new Set,n._topicObservers.set(t,r)),r.add(e)}));var i=t.clientId,a=void 0===i?n.clientId:i,s=n._clientIdObservers.get(a);return s||(s=new Set),s.add(e),n._clientIdObservers.set(a,s),qk(n,void 0,void 0,(function(){var n,i,s,u;return Kk(this,(function(c){switch(c.label){case 0:return void 0!==(n=t.url)?[3,2]:[4,this.endpoint];case 1:return s=c.sent(),[3,3];case 2:s=n,c.label=3;case 3:i=s,c.label=4;case 4:return c.trys.push([4,6,,7]),[4,this.connect(a,{url:i})];case 5:return o=c.sent(),r.forEach((function(e){o.subscribe(e)})),[3,7];case 6:return u=c.sent(),e.error(u),[3,7];case 7:return[2]}}))})),function(){var t,i;return Gk.debug("Unsubscribing from topic(s)",r.join(",")),o&&(null===(t=n._clientIdObservers.get(a))||void 0===t||t.delete(e),0===(null===(i=n._clientIdObservers.get(a))||void 0===i?void 0:i.size)&&(n.disconnect(a),n._clientIdObservers.delete(a)),r.forEach((function(t){var r=n._topicObservers.get(t)||new Set;r.delete(e),0===r.size&&(n._topicObservers.delete(t),o.isConnected()&&o.unsubscribe(t))}))),null}}))},t}(yk.AbstractPubSubProvider),Jk=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qk=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},Zk=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Xk=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},eA=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},tA=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(eA(arguments[t]));return e},nA=new(0,P.ConsoleLogger)("AWSAppSyncProvider"),rA=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._topicClient=new Map,t._topicAlias=new Map,t}return Jk(t,e),Object.defineProperty(t.prototype,"endpoint",{get:function(){throw new Error("Not supported")},enumerable:!0,configurable:!0}),t.prototype.getProviderName=function(){return"AWSAppSyncProvider"},t.prototype.publish=function(e,t,n){return Qk(this,void 0,void 0,(function(){return Zk(this,(function(e){throw new Error("Operation not supported")}))}))},t.prototype._cleanUp=function(e){var t=this;Array.from(this._topicClient.entries()).filter((function(t){return eA(t,2)[1].clientId===e})).map((function(e){return eA(e,1)[0]})).forEach((function(e){return t._cleanUpForTopic(e)}))},t.prototype._cleanUpForTopic=function(e){this._topicClient.delete(e),this._topicAlias.delete(e)},t.prototype.onDisconnect=function(e){var t=this,n=e.clientId,r=e.errorCode,o=Xk(e,["clientId","errorCode"]);0!==r&&(Array.from(this._topicClient.entries()).filter((function(e){return eA(e,2)[1].clientId===n})).map((function(e){return eA(e,1)[0]})).forEach((function(e){t._topicObservers.has(e)&&(t._topicObservers.get(e).forEach((function(e){e.closed||e.error(o)})),t._topicObservers.delete(e))})),this._cleanUp(n))},t.prototype.disconnect=function(t){return Qk(this,void 0,void 0,(function(){return Zk(this,(function(n){switch(n.label){case 0:return[4,this.clientsQueue.get(t,(function(){return null}))];case 1:return n.sent(),[4,e.prototype.disconnect.call(this,t)];case 2:return n.sent(),this._cleanUp(t),[2]}}))}))},t.prototype.subscribe=function(e,t){var n=this;void 0===t&&(t={});var r=new gk((function(r){var o=[].concat(e);return nA.debug("Subscribing to topic(s)",o.join(",")),Qk(n,void 0,void 0,(function(){var e,n,i,a,s,u=this;return Zk(this,(function(c){switch(c.label){case 0:return o.forEach((function(e){u._topicObservers.has(e)||u._topicObservers.set(e,new Set),u._topicObservers.get(e).add(r)})),e=t.mqttConnections,n=void 0===e?[]:e,i=t.newSubscriptions,a=Object.entries(i).map((function(e){var t=eA(e,2),n=t[0];return[t[1].topic,n]})),this._topicAlias=new Map(tA(Array.from(this._topicAlias.entries()),a)),s=Object.entries(o.reduce((function(e,t){var r=n.find((function(e){return e.topics.indexOf(t)>-1}));if(r){var o=r.client,i=r.url;e[o]||(e[o]={url:i,topics:new Set}),e[o].topics.add(t)}return e}),{})),[4,Promise.all(s.map((function(e){var t=eA(e,2),n=t[0],o=t[1],i=o.url,a=o.topics;return Qk(u,void 0,void 0,(function(){var e,t,o=this;return Zk(this,(function(s){switch(s.label){case 0:e=null,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.connect(n,{clientId:n,url:i})];case 2:return e=s.sent(),[3,4];case 3:return t=s.sent(),r.error({message:"Failed to connect",error:t}),r.complete(),[2,void 0];case 4:return a.forEach((function(t){e.isConnected()&&(e.subscribe(t),o._topicClient.set(t,e))})),[2,e]}}))}))})))];case 1:return c.sent(),[2]}}))})),function(){nA.debug("Unsubscribing from topic(s)",o.join(",")),o.forEach((function(e){var t=n._topicClient.get(e);t&&t.isConnected()&&(t.unsubscribe(e),n._topicClient.delete(e),Array.from(n._topicClient.values()).some((function(e){return e===t}))||n.disconnect(t.clientId)),n._topicObservers.delete(e)}))}}));return gk.from(r).map((function(e){var t=n.getTopicForValue(e),r=n._topicAlias.get(t);return e.data=Object.entries(e.data).reduce((function(e,t){var n=eA(t,2),o=n[0],i=n[1];return e[r||o]=i,e}),{}),e}))},t}(_k.MqttOverWSProvider),oA={};e(oA,"AWSAppSyncRealTimeProvider",(()=>SA),(e=>SA=e));zd=s("awmEs");var iA,aA,sA,uA,cA,lA,dA=[400,401,403];(aA=iA||(iA={})).GQL_CONNECTION_INIT="connection_init",aA.GQL_CONNECTION_ERROR="connection_error",aA.GQL_CONNECTION_ACK="connection_ack",aA.GQL_START="start",aA.GQL_START_ACK="start_ack",aA.GQL_DATA="data",aA.GQL_CONNECTION_KEEP_ALIVE="ka",aA.GQL_STOP="stop",aA.GQL_COMPLETE="complete",aA.GQL_ERROR="error",(uA=sA||(sA={}))[uA.PENDING=0]="PENDING",uA[uA.CONNECTED=1]="CONNECTED",uA[uA.FAILED=2]="FAILED",(lA=cA||(cA={}))[lA.CLOSED=0]="CLOSED",lA[lA.READY=1]="READY",lA[lA.CONNECTING=2]="CONNECTING";var fA="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",hA={accept:"application/json, text/javascript","content-encoding":"amz-1.0","content-type":"application/json; charset=UTF-8"},pA=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vA=function(){return vA=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},vA.apply(this,arguments)},gA=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},mA=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},yA=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},bA=new(0,P.ConsoleLogger)("AWSAppSyncRealTimeProvider"),wA=/^https:\/\/\w{26}\.appsync\-api\.\w{2}(?:(?:\-\w{2,})+)\-\d\.amazonaws.com\/graphql$/i,SA=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.socketStatus=cA.CLOSED,t.keepAliveTimeout=3e5,t.subscriptionObserverMap=new Map,t.promiseArray=[],t}return pA(t,e),t.prototype.getNewWebSocket=function(e,t){return new WebSocket(e,t)},t.prototype.getProviderName=function(){return"AWSAppSyncRealTimeProvider"},t.prototype.newClient=function(){throw new Error("Not used here")},t.prototype.publish=function(e,t,n){return gA(this,void 0,void 0,(function(){return mA(this,(function(e){throw new Error("Operation not supported")}))}))},t.prototype.isCustomDomain=function(e){return null===e.match(wA)},t.prototype.subscribe=function(e,t){var n=this,r=null==t?void 0:t.appSyncGraphqlEndpoint;return new gk((function(e){if(t&&r){var o=(0,kk.v4)();return n._startSubscriptionWithAWSAppSyncRealTime({options:t,observer:e,subscriptionId:o}).catch((function(t){e.error({errors:[vA({},new yC(CA.REALTIME_SUBSCRIPTION_INIT_ERROR+": "+t))]}),e.complete()})),function(){return gA(n,void 0,void 0,(function(){var e,t;return mA(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,3,4]),[4,this._waitForSubscriptionToBeConnected(o)];case 1:if(n.sent(),!(e=(this.subscriptionObserverMap.get(o)||{}).subscriptionState))return[2];if(e!==sA.CONNECTED)throw new Error("Subscription never connected");return this._sendUnsubscriptionMessage(o),[3,4];case 2:return t=n.sent(),bA.debug("Error while unsubscribing "+t),[3,4];case 3:return this._removeSubscriptionObserver(o),[7];case 4:return[2]}}))}))}}e.error({errors:[vA({},new yC("Subscribe only available for AWS AppSync endpoint"))]}),e.complete()}))},Object.defineProperty(t.prototype,"isSSLEnabled",{get:function(){return!this.options.aws_appsync_dangerously_connect_to_http_endpoint_for_testing},enumerable:!0,configurable:!0}),t.prototype._startSubscriptionWithAWSAppSyncRealTime=function(e){var t,n,r=e.options,o=e.observer,i=e.subscriptionId;return gA(this,void 0,void 0,(function(){var e,a,s,u,c,l,d,f,h,p,v,g,m,y,b,w,S,x,_,E,C,k,A,T,I,N=this;return mA(this,(function(O){switch(O.label){case 0:return e=r.appSyncGraphqlEndpoint,a=r.authenticationType,s=r.query,u=r.variables,c=r.apiKey,l=r.region,d=r.graphql_headers,f=void 0===d?function(){return{}}:d,h=r.additionalHeaders,p=void 0===h?{}:h,v=sA.PENDING,g={query:s,variables:u},this.subscriptionObserverMap.set(i,{observer:o,query:null!=s?s:"",variables:null!=u?u:{},subscriptionState:v,startAckTimeoutId:void 0}),m=JSON.stringify(g),b=[{}],[4,this._awsRealTimeHeaderBasedAuth({apiKey:c,appSyncGraphqlEndpoint:e,authenticationType:a,payload:m,canonicalUri:"",region:l,additionalHeaders:p})];case 1:return w=[vA.apply(void 0,b.concat([O.sent()]))],[4,f()];case 2:y=vA.apply(void 0,[vA.apply(void 0,[vA.apply(void 0,w.concat([O.sent()])),p]),(I={},I[Td]=Id.userAgent,I)]),S={id:i,payload:{data:m,extensions:{authorization:vA({},y)}},type:iA.GQL_START},x=JSON.stringify(S),O.label=3;case 3:return O.trys.push([3,5,,6]),[4,this._initializeWebSocketConnection({apiKey:c,appSyncGraphqlEndpoint:e,authenticationType:a,region:l,additionalHeaders:p})];case 4:return O.sent(),[3,6];case 5:return _=O.sent(),bA.debug({err:_}),E=null!==(t=_.message)&&void 0!==t?t:"",o.error({errors:[vA({},new yC(CA.CONNECTION_FAILED+": "+E))]}),o.complete(),"function"==typeof(C=(this.subscriptionObserverMap.get(i)||{}).subscriptionFailedCallback)&&C(),[2];case 6:return k=null!==(n=this.subscriptionObserverMap.get(i))&&void 0!==n?n:{},A=k.subscriptionFailedCallback,T=k.subscriptionReadyCallback,this.subscriptionObserverMap.set(i,{observer:o,subscriptionState:v,query:null!=s?s:"",variables:null!=u?u:{},subscriptionReadyCallback:T,subscriptionFailedCallback:A,startAckTimeoutId:setTimeout((function(){N._timeoutStartSubscriptionAck.call(N,i)}),15e3)}),this.awsRealTimeSocket&&this.awsRealTimeSocket.send(x),[2]}}))}))},t.prototype._waitForSubscriptionToBeConnected=function(e){return gA(this,void 0,void 0,(function(){var t,n=this;return mA(this,(function(r){return(t=this.subscriptionObserverMap.get(e))&&t.subscriptionState===sA.PENDING?[2,new Promise((function(r,o){var i=t.observer,a=t.subscriptionState,s=t.variables,u=t.query;n.subscriptionObserverMap.set(e,{observer:i,subscriptionState:a,variables:s,query:u,subscriptionReadyCallback:r,subscriptionFailedCallback:o})}))]:[2]}))}))},t.prototype._sendUnsubscriptionMessage=function(e){try{if(this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.socketStatus===cA.READY){var t={id:e,type:iA.GQL_STOP},n=JSON.stringify(t);this.awsRealTimeSocket.send(n)}}catch(e){bA.debug({err:e})}},t.prototype._removeSubscriptionObserver=function(e){this.subscriptionObserverMap.delete(e),setTimeout(this._closeSocketIfRequired.bind(this),1e3)},t.prototype._closeSocketIfRequired=function(){if(!(this.subscriptionObserverMap.size>0))if(this.awsRealTimeSocket)if(this.awsRealTimeSocket.bufferedAmount>0)setTimeout(this._closeSocketIfRequired.bind(this),1e3);else{bA.debug("closing WebSocket..."),this.keepAliveTimeoutId&&clearTimeout(this.keepAliveTimeoutId);var e=this.awsRealTimeSocket;e.onclose=null,e.onerror=null,e.close(1e3),this.awsRealTimeSocket=void 0,this.socketStatus=cA.CLOSED}else this.socketStatus=cA.CLOSED},t.prototype._handleIncomingSubscriptionMessage=function(e){bA.debug("subscription message from AWS AppSync RealTime: "+e.data);var t=JSON.parse(e.data),n=t.id,r=void 0===n?"":n,o=t.payload,i=t.type,a=this.subscriptionObserverMap.get(r)||{},s=a.observer,u=void 0===s?null:s,c=a.query,l=void 0===c?"":c,d=a.variables,f=void 0===d?{}:d,h=a.startAckTimeoutId,p=a.subscriptionReadyCallback,v=a.subscriptionFailedCallback;if(bA.debug({id:r,observer:u,query:l,variables:f}),i===iA.GQL_DATA&&o&&o.data)u?u.next(o):bA.debug("observer not found for id: "+r);else if(i!==iA.GQL_START_ACK){if(i===iA.GQL_CONNECTION_KEEP_ALIVE)return this.keepAliveTimeoutId&&clearTimeout(this.keepAliveTimeoutId),void(this.keepAliveTimeoutId=setTimeout(this._errorDisconnect.bind(this,CA.TIMEOUT_DISCONNECT),this.keepAliveTimeout));if(i===iA.GQL_ERROR){g=sA.FAILED;u&&(this.subscriptionObserverMap.set(r,{observer:u,query:l,variables:f,startAckTimeoutId:h,subscriptionReadyCallback:p,subscriptionFailedCallback:v,subscriptionState:g}),u.error({errors:[vA({},new yC(CA.CONNECTION_FAILED+": "+JSON.stringify(o)))]}),h&&clearTimeout(h),u.complete(),"function"==typeof v&&v())}}else{bA.debug("subscription ready for "+JSON.stringify({query:l,variables:f})),"function"==typeof p&&p(),h&&clearTimeout(h),function(e,t,n){G.Hub.dispatch("api",{event:e,data:t,message:n},"PubSub",fA)}(CA.SUBSCRIPTION_ACK,{query:l,variables:f},"Connection established for subscription");var g=sA.CONNECTED;u&&this.subscriptionObserverMap.set(r,{observer:u,query:l,variables:f,startAckTimeoutId:void 0,subscriptionState:g,subscriptionReadyCallback:p,subscriptionFailedCallback:v})}},t.prototype._errorDisconnect=function(e){bA.debug("Disconnect error: "+e),this.subscriptionObserverMap.forEach((function(t){var n=t.observer;n&&!n.closed&&n.error({errors:[vA({},new yC(e))]})})),this.subscriptionObserverMap.clear(),this.awsRealTimeSocket&&this.awsRealTimeSocket.close(),this.socketStatus=cA.CLOSED},t.prototype._timeoutStartSubscriptionAck=function(e){var t=this.subscriptionObserverMap.get(e);if(t){var n=t.observer,r=t.query,o=t.variables;if(!n)return;this.subscriptionObserverMap.set(e,{observer:n,query:r,variables:o,subscriptionState:sA.FAILED}),n&&!n.closed&&(n.error({errors:[vA({},new yC("Subscription timeout "+JSON.stringify({query:r,variables:o})))]}),n.complete()),bA.debug("timeoutStartSubscription",JSON.stringify({query:r,variables:o}))}},t.prototype._initializeWebSocketConnection=function(e){var t=this,n=e.appSyncGraphqlEndpoint,r=e.authenticationType,o=e.apiKey,i=e.region,a=e.additionalHeaders;if(this.socketStatus!==cA.READY)return new Promise((function(e,s){return gA(t,void 0,void 0,(function(){var t,u,c,l,d,f,h,p,v,g;return mA(this,(function(m){switch(m.label){case 0:if(this.promiseArray.push({res:e,rej:s}),this.socketStatus!==cA.CLOSED)return[3,5];m.label=1;case 1:return m.trys.push([1,4,,5]),this.socketStatus=cA.CONNECTING,t="{}",l=(c=JSON).stringify,[4,this._awsRealTimeHeaderBasedAuth({authenticationType:r,payload:t,canonicalUri:"/connect",apiKey:o,appSyncGraphqlEndpoint:n,region:i,additionalHeaders:a})];case 2:return u=l.apply(c,[m.sent()]),d=zd.Buffer.from(u).toString("base64"),f=zd.Buffer.from(t).toString("base64"),h=null!=n?n:"",h=this.isCustomDomain(h)?h.concat("/realtime"):h.replace("appsync-api","appsync-realtime-api").replace("gogi-beta","grt-beta"),p=this.isSSLEnabled?"wss://":"ws://",h=h.replace("https://",p).replace("http://",p),v=h+"?header="+d+"&payload="+f,[4,this._initializeRetryableHandshake(v)];case 3:return m.sent(),this.promiseArray.forEach((function(e){var t=e.res;bA.debug("Notifying connection successful"),t()})),this.socketStatus=cA.READY,this.promiseArray=[],[3,5];case 4:return g=m.sent(),this.promiseArray.forEach((function(e){return(0,e.rej)(g)})),this.promiseArray=[],this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.awsRealTimeSocket.close(3001),this.awsRealTimeSocket=void 0,this.socketStatus=cA.CLOSED,[3,5];case 5:return[2]}}))}))}))},t.prototype._initializeRetryableHandshake=function(e){return gA(this,void 0,void 0,(function(){return mA(this,(function(t){switch(t.label){case 0:return bA.debug("Initializaling retryable Handshake"),[4,(0,Je.jitteredExponentialRetry)(this._initializeHandshake.bind(this),[e],5e3)];case 1:return t.sent(),[2]}}))}))},t.prototype._initializeHandshake=function(e){return gA(this,void 0,void 0,(function(){var t,n,r,o,i=this;return mA(this,(function(a){switch(a.label){case 0:bA.debug("Initializing handshake "+e),a.label=1;case 1:return a.trys.push([1,4,,5]),[4,new Promise((function(t,n){var r=i.getNewWebSocket(e,"graphql-ws");r.onerror=function(){bA.debug("WebSocket connection error")},r.onclose=function(){n(new Error("Connection handshake error"))},r.onopen=function(){return i.awsRealTimeSocket=r,t()}}))];case 2:return a.sent(),[4,new Promise((function(e,t){if(i.awsRealTimeSocket){var n=!1;i.awsRealTimeSocket.onerror=function(e){bA.debug("WebSocket error "+JSON.stringify(e))},i.awsRealTimeSocket.onclose=function(e){bA.debug("WebSocket closed "+e.reason),t(new Error(JSON.stringify(e)))},i.awsRealTimeSocket.onmessage=function(r){bA.debug("subscription message from AWS AppSyncRealTime: "+r.data+" ");var o=JSON.parse(r.data),a=o.type,s=o.payload,u=(void 0===s?{}:s).connectionTimeoutMs,c=void 0===u?3e5:u;if(a===iA.GQL_CONNECTION_ACK)return n=!0,i.awsRealTimeSocket&&(i.keepAliveTimeout=c,i.awsRealTimeSocket.onmessage=i._handleIncomingSubscriptionMessage.bind(i),i.awsRealTimeSocket.onerror=function(e){bA.debug(e),i._errorDisconnect(CA.CONNECTION_CLOSED)},i.awsRealTimeSocket.onclose=function(e){bA.debug("WebSocket closed "+e.reason),i._errorDisconnect(CA.CONNECTION_CLOSED)}),void e("Cool, connected to AWS AppSyncRealTime");if(a===iA.GQL_CONNECTION_ERROR){var l=o.payload,d=(void 0===l?{}:l).errors,f=yA(void 0===d?[]:d,1)[0],h=void 0===f?{}:f,p=h.errorType,v=void 0===p?"":p,g=h.errorCode;t({errorType:v,errorCode:void 0===g?0:g})}};var r={type:iA.GQL_CONNECTION_INIT};i.awsRealTimeSocket.send(JSON.stringify(r)),setTimeout(function(e){e||t(new Error("Connection timeout: ack from AWSRealTime was not received on 15000 ms"))}.bind(i,n),15e3)}}))];case 3:return a.sent(),[3,5];case 4:throw t=a.sent(),r=(n=t).errorType,o=n.errorCode,dA.includes(o)?new(0,Je.NonRetryableError)(r):r?new Error(r):t;case 5:return[2]}}))}))},t.prototype._awsRealTimeHeaderBasedAuth=function(e){var t=e.authenticationType,n=e.payload,r=e.canonicalUri,o=e.appSyncGraphqlEndpoint,i=e.apiKey,a=e.region,s=e.additionalHeaders;return gA(this,void 0,void 0,(function(){var e,u,c;return mA(this,(function(l){switch(l.label){case 0:return e={API_KEY:this._awsRealTimeApiKeyHeader.bind(this),AWS_IAM:this._awsRealTimeIAMHeader.bind(this),OPENID_CONNECT:this._awsRealTimeOPENIDHeader.bind(this),AMAZON_COGNITO_USER_POOLS:this._awsRealTimeCUPHeader.bind(this),AWS_LAMBDA:this._customAuthHeader},t&&e[t]?[3,1]:(bA.debug("Authentication type "+t+" not supported"),[2,""]);case 1:return u=e[t],c=_e(null!=o?o:"").host,bA.debug("Authenticating with "+t),[4,u({payload:n,canonicalUri:r,appSyncGraphqlEndpoint:o,apiKey:i,region:a,host:c,additionalHeaders:s})];case 2:return[2,l.sent()]}}))}))},t.prototype._awsRealTimeCUPHeader=function(e){var t=e.host;return gA(this,void 0,void 0,(function(){return mA(this,(function(e){switch(e.label){case 0:return[4,bh.currentSession()];case 1:return[2,{Authorization:e.sent().getAccessToken().getJwtToken(),host:t}]}}))}))},t.prototype._awsRealTimeOPENIDHeader=function(e){var t=e.host;return gA(this,void 0,void 0,(function(){var e,n,r;return mA(this,(function(o){switch(o.label){case 0:return[4,Oh.getItem("federatedInfo")];case 1:return(n=o.sent())?(e=n.token,[3,4]):[3,2];case 2:return[4,bh.currentAuthenticatedUser()];case 3:(r=o.sent())&&(e=r.token),o.label=4;case 4:if(!e)throw new Error("No federated jwt");return[2,{Authorization:e,host:t}]}}))}))},t.prototype._awsRealTimeApiKeyHeader=function(e){var t=e.apiKey,n=e.host;return gA(this,void 0,void 0,(function(){var e,r;return mA(this,(function(o){return e=new Date,r=e.toISOString().replace(/[:\-]|\.\d{3}/g,""),[2,{host:n,"x-amz-date":r,"x-api-key":t}]}))}))},t.prototype._awsRealTimeIAMHeader=function(e){var t=e.payload,n=e.canonicalUri,r=e.appSyncGraphqlEndpoint,o=e.region;return gA(this,void 0,void 0,(function(){var e,i,a;return mA(this,(function(s){switch(s.label){case 0:return e={region:o,service:"appsync"},[4,this._ensureCredentials()];case 1:if(!s.sent())throw new Error("No credentials");return[4,ku.Credentials.get().then((function(e){var t=e;return{secret_key:t.secretAccessKey,access_key:t.accessKeyId,session_token:t.sessionToken}}))];case 2:return i=s.sent(),a={url:""+r+n,data:t,method:"POST",headers:vA({},hA)},[2,Se.Signer.sign(a,i,e).headers]}}))}))},t.prototype._customAuthHeader=function(e){var t=e.host,n=e.additionalHeaders;if(!n||!n.Authorization)throw new Error("No auth token specified");return{Authorization:n.Authorization,host:t}},t.prototype._ensureCredentials=function(){return ku.Credentials.get().then((function(e){if(!e)return!1;var t=ku.Credentials.shear(e);return bA.debug("set credentials for AWSAppSyncRealTimeProvider",t),!0})).catch((function(e){return bA.warn("ensure credentials error",e),!1}))},t}(yk.AbstractPubSubProvider),xA=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_A=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},EA=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};!function(e){function t(t){return void 0===t&&(t={}),e.call(this,t)||this}xA(t,e),Object.defineProperty(t.prototype,"region",{get:function(){return this.options.aws_pubsub_region},enumerable:!0,configurable:!0}),t.prototype.getProviderName=function(){return"AWSIoTProvider"},Object.defineProperty(t.prototype,"endpoint",{get:function(){return _A(this,void 0,void 0,(function(){var e,t,n,r,o,i;return EA(this,(function(a){switch(a.label){case 0:return e=this.options.aws_pubsub_endpoint,t={service:"iotdevicegateway",region:this.region},[4,ku.Credentials.get()];case 1:return n=a.sent(),r=n.accessKeyId,o=n.secretAccessKey,i=n.sessionToken,[2,Se.Signer.signUrl(e,{access_key:r,secret_key:o,session_token:i},t)]}}))}))},enumerable:!0,configurable:!0})}(_k.MqttOverWSProvider);o(mk,yk),o(mk,xk),o(mk,oA),o(mk,{}),o(mk,_k);var CA,kA,AA=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},TA=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},IA=ge().isNode,NA=new(0,P.ConsoleLogger)("PubSub"),OA=new(function(){function e(e){this._options=null!=e?e:{},NA.debug("PubSub Options",this._options),this._pluggables=[],this.subscribe=this.subscribe.bind(this)}return Object.defineProperty(e.prototype,"awsAppSyncProvider",{get:function(){return this._awsAppSyncProvider||(this._awsAppSyncProvider=new(0,xk.AWSAppSyncProvider)(this._options)),this._awsAppSyncProvider},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"awsAppSyncRealTimeProvider",{get:function(){return this._awsAppSyncRealTimeProvider||(this._awsAppSyncRealTimeProvider=new(0,oA.AWSAppSyncRealTimeProvider)(this._options)),this._awsAppSyncRealTimeProvider},enumerable:!0,configurable:!0}),e.prototype.getModuleName=function(){return"PubSub"},e.prototype.configure=function(e){var t=this,n=e?e.PubSub||e:{};return NA.debug("configure PubSub",{opt:n}),this._options=Object.assign({},this._options,n),this._pluggables.map((function(e){return e.configure(t._options)})),this._options},e.prototype.addPluggable=function(e){return AA(this,void 0,void 0,(function(){return TA(this,(function(t){return e&&"PubSub"===e.getCategory()?(this._pluggables.push(e),[2,e.configure(this._options)]):[2]}))}))},e.prototype.removePluggable=function(e){this._pluggables=this._pluggables.filter((function(t){return t.getProviderName()!==e}))},e.prototype.getProviderByName=function(e){return e===kd?this.awsAppSyncProvider:e===Ad?this.awsAppSyncRealTimeProvider:this._pluggables.find((function(t){return t.getProviderName()===e}))},e.prototype.getProviders=function(e){void 0===e&&(e={});var t=e.provider;if(!t)return this._pluggables;var n=this.getProviderByName(t);if(!n)throw new Error("Could not find provider named "+t);return[n]},e.prototype.publish=function(e,t,n){return AA(this,void 0,void 0,(function(){return TA(this,(function(r){return[2,Promise.all(this.getProviders(n).map((function(r){return r.publish(e,t,n)})))]}))}))},e.prototype.subscribe=function(e,t){if(IA&&this._options&&this._options.ssr)throw new Error("Subscriptions are not supported for Server-Side Rendering (SSR)");NA.debug("subscribe options",t);var n=this.getProviders(t);return new gk((function(r){var o=n.map((function(n){return{provider:n,observable:n.subscribe(e,t)}})).map((function(e){var t=e.provider;return e.observable.subscribe({start:console.error,next:function(e){return r.next({provider:t,value:e})},error:function(e){return r.error({provider:t,error:e})}})}));return function(){return o.forEach((function(e){return e.unsubscribe()}))}}))},e}());O.Amplify.register(OA),(kA=CA||(CA={})).CONNECTION_CLOSED="Connection closed",kA.CONNECTION_FAILED="Connection failed",kA.REALTIME_SUBSCRIPTION_INIT_ERROR="AppSync Realtime subscription init error",kA.SUBSCRIPTION_ACK="Subscription ack",kA.TIMEOUT_DISCONNECT="Timeout disconnect";var PA,jA,RA=vk.PubSub;(jA=PA||(PA={})).NO_API_KEY="No api-key configured",jA.NO_CURRENT_USER="No current user",jA.NO_CREDENTIALS="No credentials",jA.NO_FEDERATED_JWT="No federated jwt",jA.NO_AUTH_TOKEN="No auth token specified";var MA=function(){return MA=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},MA.apply(this,arguments)},UA=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},LA=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},DA=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},FA=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},BA=new(0,P.ConsoleLogger)("GraphQLAPI"),zA=function(){function e(e){this._api=null,this.Auth=bh,this.Cache=Oh,this.Credentials=ku.Credentials,this._options=e,BA.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"GraphQLAPI"},e.prototype.configure=function(e){var t=e||{},n=t.API,r=void 0===n?{}:n,o=DA(t,["API"]),i=MA(MA({},o),r);return BA.debug("configure GraphQL API",{opt:i}),i.aws_project_region&&(i=Object.assign({},i,{region:i.aws_project_region,header:{}})),void 0!==i.graphql_headers&&"function"!=typeof i.graphql_headers&&(BA.warn("graphql_headers should be a function"),i.graphql_headers=void 0),this._options=Object.assign({},this._options,i),this.createInstance(),this._options},e.prototype.createInstance=function(){return BA.debug("create Rest instance"),this._options?(this._api=new(0,FE.RestClient)(this._options),this._api.Credentials=this.Credentials,!0):Promise.reject("API not configured")},e.prototype._headerBasedAuth=function(e,t){return void 0===t&&(t={}),UA(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c;return LA(this,(function(l){switch(l.label){case 0:switch(n=this._options,r=n.aws_appsync_authenticationType,o=n.aws_appsync_apiKey,i={},e||r||"AWS_IAM"){case"API_KEY":return[3,1];case"AWS_IAM":return[3,2];case"OPENID_CONNECT":return[3,4];case"AMAZON_COGNITO_USER_POOLS":return[3,11];case"AWS_LAMBDA":return[3,15]}return[3,16];case 1:if(!o)throw new Error(PA.NO_API_KEY);return i={Authorization:null,"X-Api-Key":o},[3,17];case 2:return[4,this._ensureCredentials()];case 3:if(!l.sent())throw new Error(PA.NO_CREDENTIALS);return[3,17];case 4:return l.trys.push([4,9,,10]),a=void 0,[4,Oh.getItem("federatedInfo")];case 5:return(s=l.sent())?(a=s.token,[3,8]):[3,6];case 6:return[4,bh.currentAuthenticatedUser()];case 7:(u=l.sent())&&(a=u.token),l.label=8;case 8:if(!a)throw new Error(PA.NO_FEDERATED_JWT);return i={Authorization:a},[3,10];case 9:throw l.sent(),new Error(PA.NO_CURRENT_USER);case 10:return[3,17];case 11:return l.trys.push([11,13,,14]),[4,this.Auth.currentSession()];case 12:return c=l.sent(),i={Authorization:c.getAccessToken().getJwtToken()},[3,14];case 13:throw l.sent(),new Error(PA.NO_CURRENT_USER);case 14:return[3,17];case 15:if(!t.Authorization)throw new Error(PA.NO_AUTH_TOKEN);return i={Authorization:t.Authorization},[3,17];case 16:return i={Authorization:null},[3,17];case 17:return[2,i]}}))}))},e.prototype.getGraphqlOperationType=function(e){var t=ZC(e).definitions;return FA(t,1)[0].operation},e.prototype.graphql=function(e,t){var n=e.query,r=e.variables,o=void 0===r?{}:r,i=e.authMode,a=e.authToken,s=ZC("string"==typeof n?n:ak(n)),u=FA(s.definitions.filter((function(e){return"OperationDefinition"===e.kind})),1)[0],c=(void 0===u?{}:u).operation,l=t||{};switch(a&&(l.Authorization=a),c){case"query":case"mutation":var d=this._api.getCancellableToken(),f={cancellableToken:d},h=this._graphql({query:s,variables:o,authMode:i},l,f);return this._api.updateRequestToBeCancellable(h,d),h;case"subscription":return this._graphqlSubscribe({query:s,variables:o,authMode:i},l);default:throw new Error("invalid operation type: "+c)}},e.prototype._graphql=function(e,t,n){var r=e.query,o=e.variables,i=e.authMode;return void 0===t&&(t={}),void 0===n&&(n={}),UA(this,void 0,void 0,(function(){var e,a,s,u,c,l,d,f,h,p,v,g,m,y,b,w,S,x,_,E,C;return LA(this,(function(k){switch(k.label){case 0:return this._api?[3,2]:[4,this.createInstance()];case 1:k.sent(),k.label=2;case 2:return e=this._options,a=e.aws_appsync_region,s=e.aws_appsync_graphqlEndpoint,u=e.graphql_headers,c=void 0===u?function(){return{}}:u,l=e.graphql_endpoint,d=e.graphql_endpoint_iam_region,h=[{}],(p=!l)?[4,this._headerBasedAuth(i,t)]:[3,4];case 3:p=k.sent(),k.label=4;case 4:return v=[MA.apply(void 0,h.concat([p]))],(g=l)?d?[4,this._headerBasedAuth(i,t)]:[3,6]:[3,8];case 5:return m=k.sent(),[3,7];case 6:m={Authorization:null},k.label=7;case 7:g=m,k.label=8;case 8:return y=[MA.apply(void 0,v.concat([g]))],[4,c({query:r,variables:o})];case 9:if(f=MA.apply(void 0,[MA.apply(void 0,[MA.apply(void 0,y.concat([k.sent()])),t]),!l&&(C={},C["x-amz-user-agent"]=Id.userAgent,C)]),b={query:ak(r),variables:o},w=Object.assign({headers:f,body:b,signerServiceInfo:{service:l?"execute-api":"appsync",region:l?d:a}},n),!(S=l||s))throw{data:{},errors:[new yC("No graphql endpoint provided.")]};k.label=10;case 10:return k.trys.push([10,12,,13]),[4,this._api.post(S,w)];case 11:return x=k.sent(),[3,13];case 12:if(_=k.sent(),this._api.isCancel(_))throw _;return x={data:{},errors:[new yC(_.message,null,null,null,null,_)]},[3,13];case 13:if((E=x.errors)&&E.length)throw x;return[2,x]}}))}))},e.prototype.isCancel=function(e){return this._api.isCancel(e)},e.prototype.cancel=function(e,t){return this._api.cancel(e,t)},e.prototype.hasCancelToken=function(e){return this._api.hasCancelToken(e)},e.prototype._graphqlSubscribe=function(e,t){var n=e.query,r=e.variables,o=e.authMode,i=e.authToken;void 0===t&&(t={});var a=this._options,s=a.aws_appsync_region,u=a.aws_appsync_graphqlEndpoint,c=a.aws_appsync_authenticationType,l=a.aws_appsync_apiKey,d=a.graphql_headers,f=void 0===d?function(){return{}}:d,h=o||c||"AWS_IAM";if(RA&&"function"==typeof RA.subscribe)return RA.subscribe("",{provider:Ad,appSyncGraphqlEndpoint:u,authenticationType:h,apiKey:l,query:ak(n),region:s,variables:r,graphql_headers:f,additionalHeaders:t,authToken:i});throw BA.debug("No pubsub module applied for subscription"),new Error("No pubsub module applied for subscription")},e.prototype._ensureCredentials=function(){var e=this;return this.Credentials.get().then((function(t){if(!t)return!1;var n=e.Credentials.shear(t);return BA.debug("set credentials for api",n),!0})).catch((function(e){return BA.warn("ensure credentials error",e),!1}))},e}(),VA=new zA(null);O.Amplify.register(VA);var qA=function(){return qA=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},qA.apply(this,arguments)},KA=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},HA=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},GA=new(0,P.ConsoleLogger)("API"),WA=new(function(){function e(e){this.Auth=Ud.Auth,this.Cache=Oh,this.Credentials=ku.Credentials,this._options=e,this._restApi=new(0,DE.RestAPIClass)(e),this._graphqlApi=new(0,XE.GraphQLAPIClass)(e),GA.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"API"},e.prototype.configure=function(e){this._options=Object.assign({},this._options,e),this._restApi.Credentials=this.Credentials,this._graphqlApi.Auth=this.Auth,this._graphqlApi.Cache=this.Cache,this._graphqlApi.Credentials=this.Credentials;var t=this._restApi.configure(this._options),n=this._graphqlApi.configure(this._options);return qA(qA({},t),n)},e.prototype.get=function(e,t,n){return this._restApi.get(e,t,n)},e.prototype.post=function(e,t,n){return this._restApi.post(e,t,n)},e.prototype.put=function(e,t,n){return this._restApi.put(e,t,n)},e.prototype.patch=function(e,t,n){return this._restApi.patch(e,t,n)},e.prototype.del=function(e,t,n){return this._restApi.del(e,t,n)},e.prototype.head=function(e,t,n){return this._restApi.head(e,t,n)},e.prototype.isCancel=function(e){return this._restApi.isCancel(e)},e.prototype.cancel=function(e,t){return this._restApi.hasCancelToken(e)?this._restApi.cancel(e,t):!!this._graphqlApi.hasCancelToken(e)&&this._graphqlApi.cancel(e,t)},e.prototype.endpoint=function(e){return KA(this,void 0,void 0,(function(){return HA(this,(function(t){return[2,this._restApi.endpoint(e)]}))}))},e.prototype.getGraphqlOperationType=function(e){return this._graphqlApi.getGraphqlOperationType(e)},e.prototype.graphql=function(e,t){return this._graphqlApi.graphql(e,t)},e}())(null);O.Amplify.register(WA);(function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)})([function(e,t,n){function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(1)),r(n(2)),r(n(3)),r(n(4)),r(n(5)),r(n(6)),r(n(7)),r(n(8)),r(n(9)),r(n(10)),r(n(11)),r(n(12)),r(n(13))},function(e,t,n){e.exports={a:"Anchor__a___1_Iz8"}},function(e,t,n){e.exports={button:"Button__button___vS7Mv",signInButton:"Button__signInButton___3bUH-",googleSignInButton:"Button__googleSignInButton___1YiCu",signInButtonIcon:"Button__signInButtonIcon___ihN75",auth0SignInButton:"Button__auth0SignInButton___znnCj",facebookSignInButton:"Button__facebookSignInButton___34Txh",amazonSignInButton:"Button__amazonSignInButton___2EMtl",oAuthSignInButton:"Button__oAuthSignInButton___3UGOl",signInButtonContent:"Button__signInButtonContent___xqTXJ"}},function(e,t,n){e.exports={formContainer:"Form__formContainer___1GA3x",formSection:"Form__formSection___1PPvW",formField:"Form__formField___38Ikl",formRow:"Form__formRow___2mwRs"}},function(e,t,n){e.exports={hint:"Hint__hint___2XngB"}},function(e,t,n){e.exports={input:"Input__input___3e_bf",inputLabel:"Input__inputLabel___3VF0S",label:"Input__label___23sO8",radio:"Input__radio___2hllK"}},function(e,t,n){e.exports={navBar:"Nav__navBar___xtCFA",navRight:"Nav__navRight___1QG2J",nav:"Nav__nav___2Dx2Y",navItem:"Nav__navItem___1LtFQ"}},function(e,t,n){e.exports={photoPickerButton:"PhotoPicker__photoPickerButton___2XdVn",photoPlaceholder:"PhotoPicker__photoPlaceholder___2JXO4",photoPlaceholderIcon:"PhotoPicker__photoPlaceholderIcon___3Et71"}},function(e,t,n){e.exports={container:"Section__container___3YYTG",actionRow:"Section__actionRow___2LWSU",sectionHeader:"Section__sectionHeader___2djyg",sectionHeaderHint:"Section__sectionHeaderHint___3Wxdc",sectionBody:"Section__sectionBody___ihqqd",sectionHeaderContent:"Section__sectionHeaderContent___1UCqa",sectionFooter:"Section__sectionFooter___1T54C",sectionFooterPrimaryContent:"Section__sectionFooterPrimaryContent___2r9ZX",sectionFooterSecondaryContent:"Section__sectionFooterSecondaryContent___Nj41Q"}},function(e,t,n){e.exports={selectInput:"SelectInput__selectInput___3efO4"}},function(e,t,n){e.exports={strike:"Strike__strike___1XV1b",strikeContent:"Strike__strikeContent___10gLb"}},function(e,t,n){e.exports={toast:"Toast__toast___XXr3v",toastClose:"Toast__toastClose___18lU4"}},function(e,t,n){e.exports={totpQrcode:"Totp__totpQrcode___1crLx"}},function(e,t,n){e.exports={sumerianSceneContainer:"XR__sumerianSceneContainer___3nVMt",sumerianScene:"XR__sumerianScene___2Tt7-",loadingOverlay:"XR__loadingOverlay___IbqcI",loadingContainer:"XR__loadingContainer___2Itxb",loadingLogo:"XR__loadingLogo___Ub7xQ",loadingSceneName:"XR__loadingSceneName___3__ne",loadingBar:"XR__loadingBar___2vcke",loadingBarFill:"XR__loadingBarFill___3M-D9",sceneErrorText:"XR__sceneErrorText___2y0tp",sceneBar:"XR__sceneBar___2ShrP",sceneName:"XR__sceneName___1ApHr",sceneActions:"XR__sceneActions___7plGs",actionButton:"XR__actionButton___2poIM",tooltip:"XR__tooltip___UYyhn",actionIcon:"XR__actionIcon___2qnd2",autoShowTooltip:"XR__autoShowTooltip___V1QH7"}}]),O.Amplify.Auth=Ud.Auth,O.Amplify.Cache=Oh,O.Amplify.ServiceWorker=dd;O.Amplify;var $A=function(e){for(var t=e.trim().split(""),n=0;n<t.length;n++)n>0&&n<t.length-1&&(t[n]="*");return t.join("")},YA=function(e){if(e.length<4)return e;for(var t=e.split(""),n=0;n<t.length-4;n++)t[n]="*";return t.join("")},JA={},QA={};QA=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1};var ZA;ZA=function(e){return e!=e};var XA={};XA=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1},JA=function(e,t,n){return t==t?XA(e,t,n):QA(e,ZA,n)};var eT,tT={},nT={},rT={};eT=(VI=s("lLLBm")).Symbol;var oT={},iT=Object.prototype,aT=iT.hasOwnProperty,sT=iT.toString,uT=eT?eT.toStringTag:void 0;oT=function(e){var t=aT.call(e,uT),n=e[uT];try{e[uT]=void 0;var r=!0}catch(e){}var o=sT.call(e);return r&&(t?e[uT]=n:delete e[uT]),o};var cT={},lT=Object.prototype.toString;cT=function(e){return lT.call(e)};var dT=eT?eT.toStringTag:void 0;rT=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":dT&&dT in Object(e)?oT(e):cT(e)};var fT={};fT=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};nT=function(e){if(!fT(e))return!1;var t=rT(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};var hT={};hT=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},tT=function(e){return null!=e&&hT(e.length)&&!nT(e)};var pT={},vT={},gT=Array.isArray;vT=gT;var mT={};mT=function(e){return null!=e&&"object"==typeof e};pT=function(e){return"string"==typeof e||!vT(e)&&mT(e)&&"[object String]"==rT(e)};var yT={},bT={},wT={},ST={},xT={},_T=/\s/;xT=function(e){for(var t=e.length;t--&&_T.test(e.charAt(t)););return t};var ET=/^\s+/;ST=function(e){return e?e.slice(0,xT(e)+1).replace(ET,""):e};var CT={};CT=function(e){return"symbol"==typeof e||mT(e)&&"[object Symbol]"==rT(e)};var kT=/^[-+]0x[0-9a-f]+$/i,AT=/^0b[01]+$/i,TT=/^0o[0-7]+$/i,IT=parseInt;wT=function(e){if("number"==typeof e)return e;if(CT(e))return NaN;if(fT(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=fT(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=ST(e);var n=AT.test(e);return n||TT.test(e)?IT(e.slice(2),n?2:8):kT.test(e)?NaN:+e};bT=function(e){return e?Infinity===(e=wT(e))||-Infinity===e?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0},yT=function(e){var t=bT(e),n=t%1;return t==t?n?t-n:t:0};var NT={},OT={},PT={};PT=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o},OT=function(e,t){return PT(t,(function(t){return e[t]}))};var jT={},RT={},MT={};MT=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var UT={},LT={};LT=function(e){return mT(e)&&"[object Arguments]"==rT(e)};var DT=Object.prototype,FT=DT.hasOwnProperty,BT=DT.propertyIsEnumerable,zT=LT(function(){return arguments}())?LT:function(e){return mT(e)&&FT.call(e,"callee")&&!BT.call(e,"callee")};UT=zT;var VT=s("1QK3d"),qT={},KT=/^(?:0|[1-9]\d*)$/;qT=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&KT.test(e))&&e>-1&&e%1==0&&e<t};var HT,GT={},WT={};WT["[object Float32Array]"]=WT["[object Float64Array]"]=WT["[object Int8Array]"]=WT["[object Int16Array]"]=WT["[object Int32Array]"]=WT["[object Uint8Array]"]=WT["[object Uint8ClampedArray]"]=WT["[object Uint16Array]"]=WT["[object Uint32Array]"]=!0,WT["[object Arguments]"]=WT["[object Array]"]=WT["[object ArrayBuffer]"]=WT["[object Boolean]"]=WT["[object DataView]"]=WT["[object Date]"]=WT["[object Error]"]=WT["[object Function]"]=WT["[object Map]"]=WT["[object Number]"]=WT["[object Object]"]=WT["[object RegExp]"]=WT["[object Set]"]=WT["[object String]"]=WT["[object WeakMap]"]=!1,HT=function(e){return mT(e)&&hT(e.length)&&!!WT[rT(e)]};var $T={};$T=function(e){return function(t){return e(t)}};var YT=(SO=s("d2z8t"))&&SO.isTypedArray,JT=YT?$T(YT):HT;GT=JT;var QT=Object.prototype.hasOwnProperty;RT=function(e,t){var n=vT(e),r=!n&&UT(e),o=!n&&!r&&VT(e),i=!n&&!r&&!o&&GT(e),a=n||r||o||i,s=a?MT(e.length,String):[],u=s.length;for(var c in e)!t&&!QT.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||qT(c,u))||s.push(c);return s};var ZT={},XT={},eI=Object.prototype;XT=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||eI)};var tI={},nI={};nI=function(e,t){return function(n){return e(t(n))}};var rI=nI(Object.keys,Object);tI=rI;var oI=Object.prototype.hasOwnProperty;ZT=function(e){if(!XT(e))return tI(e);var t=[];for(var n in Object(e))oI.call(e,n)&&"constructor"!=n&&t.push(n);return t},jT=function(e){return tT(e)?RT(e):ZT(e)},NT=function(e){return null==e?[]:OT(e,jT(e))};var iI=Math.max;var aI,sI,uI=function(e){var t,n=null===(t=null==e?void 0:e.context.config)||void 0===t?void 0:t.loginMechanisms;return(null!=n?n:["username"])[0]},cI={},lI={},dI={};sI=function(){this.__data__=[],this.size=0};var fI,hI={},pI={};pI=function(e,t){return e===t||e!=e&&t!=t},hI=function(e,t){for(var n=e.length;n--;)if(pI(e[n][0],t))return n;return-1};var vI=Array.prototype.splice;fI=function(e){var t=this.__data__,n=hI(t,e);return!(n<0)&&(n==t.length-1?t.pop():vI.call(t,n,1),--this.size,!0)};var gI;gI=function(e){var t=this.__data__,n=hI(t,e);return n<0?void 0:t[n][1]};var mI;mI=function(e){return hI(this.__data__,e)>-1};var yI;function bI(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}yI=function(e,t){var n=this.__data__,r=hI(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},bI.prototype.clear=sI,bI.prototype.delete=fI,bI.prototype.get=gI,bI.prototype.has=mI,bI.prototype.set=yI,dI=bI;var wI;wI=function(){this.__data__=new dI,this.size=0};var SI;SI=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var xI;xI=function(e){return this.__data__.get(e)};var _I;_I=function(e){return this.__data__.has(e)};var EI,CI,kI,AI={},TI={},II={},NI={},OI=(VI=s("lLLBm"))["__core-js_shared__"],PI=(kI=/[^.]+$/.exec((CI=OI)&&CI.keys&&CI.keys.IE_PROTO||""))?"Symbol(src)_1."+kI:"";NI=function(e){return!!PI&&PI in e};var jI={},RI=Function.prototype.toString;jI=function(e){if(null!=e){try{return RI.call(e)}catch(e){}try{return e+""}catch(e){}}return""};var MI=/^\[object .+?Constructor\]$/,UI=Function.prototype,LI=Object.prototype,DI=UI.toString,FI=LI.hasOwnProperty,BI=RegExp("^"+DI.call(FI).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");II=function(e){return!(!fT(e)||NI(e))&&(nT(e)?BI:MI).test(jI(e))};var zI={};zI=function(e,t){return null==e?void 0:e[t]},TI=function(e,t){var n=zI(e,t);return II(n)?n:void 0};var VI=s("lLLBm"),qI=TI(VI,"Map");AI=qI;var KI,HI,GI={},WI={},$I={},YI=TI(Object,"create");$I=YI,HI=function(){this.__data__=$I?$I(null):{},this.size=0};var JI;JI=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var QI,ZI=Object.prototype.hasOwnProperty;QI=function(e){var t=this.__data__;if($I){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return ZI.call(t,e)?t[e]:void 0};var XI,eN=Object.prototype.hasOwnProperty;XI=function(e){var t=this.__data__;return $I?void 0!==t[e]:eN.call(t,e)};var tN;function nN(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}tN=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=$I&&void 0===t?"__lodash_hash_undefined__":t,this},nN.prototype.clear=HI,nN.prototype.delete=JI,nN.prototype.get=QI,nN.prototype.has=XI,nN.prototype.set=tN,WI=nN,KI=function(){this.size=0,this.__data__={hash:new WI,map:new(AI||dI),string:new WI}};var rN,oN={},iN={};iN=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},oN=function(e,t){var n=e.__data__;return iN(t)?n["string"==typeof t?"string":"hash"]:n.map},rN=function(e){var t=oN(this,e).delete(e);return this.size-=t?1:0,t};var aN;aN=function(e){return oN(this,e).get(e)};var sN;sN=function(e){return oN(this,e).has(e)};var uN;function cN(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}uN=function(e,t){var n=oN(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},cN.prototype.clear=KI,cN.prototype.delete=rN,cN.prototype.get=aN,cN.prototype.has=sN,cN.prototype.set=uN,GI=cN;function lN(e){var t=this.__data__=new dI(e);this.size=t.size}EI=function(e,t){var n=this.__data__;if(n instanceof dI){var r=n.__data__;if(!AI||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new GI(r)}return n.set(e,t),this.size=n.size,this},lN.prototype.clear=wI,lN.prototype.delete=SI,lN.prototype.get=xI,lN.prototype.has=_I,lN.prototype.set=EI,lI=lN;var dN={};dN=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};var fN={},hN={},pN={},vN=function(){try{var e=TI(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();pN=vN,hN=function(e,t,n){"__proto__"==t&&pN?pN(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};var gN=Object.prototype.hasOwnProperty;fN=function(e,t,n){var r=e[t];gN.call(e,t)&&pI(r,n)&&(void 0!==n||t in e)||hN(e,t,n)};var mN={},yN={};yN=function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var s=t[i],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),o?hN(n,s,u):fN(n,s,u)}return n},mN=function(e,t){return e&&yN(t,jT(t),e)};var bN={},wN={},SN={},xN={};xN=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t};var _N=Object.prototype.hasOwnProperty;SN=function(e){if(!fT(e))return xN(e);var t=XT(e),n=[];for(var r in e)("constructor"!=r||!t&&_N.call(e,r))&&n.push(r);return n},wN=function(e){return tT(e)?RT(e,!0):SN(e)},bN=function(e,t){return e&&yN(t,wN(t),e)};var EN=s("bWvXv"),CN={};CN=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var kN={},AN={},TN={};TN=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i};var IN;IN=function(){return[]};var NN=Object.prototype.propertyIsEnumerable,ON=Object.getOwnPropertySymbols;AN=ON?function(e){return null==e?[]:(e=Object(e),TN(ON(e),(function(t){return NN.call(e,t)})))}:IN,kN=function(e,t){return yN(e,AN(e),t)};var PN={},jN={},RN={};RN=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e};var MN={},UN=nI(Object.getPrototypeOf,Object);MN=UN;var LN=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)RN(t,AN(e)),e=MN(e);return t}:IN;jN=LN,PN=function(e,t){return yN(e,jN(e),t)};var DN={},FN={};FN=function(e,t,n){var r=t(e);return vT(e)?r:RN(r,n(e))},DN=function(e){return FN(e,jT,AN)};var BN={};BN=function(e){return FN(e,wN,jN)};var zN={},VN={};VI=s("lLLBm");VN=TI(VI,"DataView");var qN={};VI=s("lLLBm");qN=TI(VI,"Promise");var KN={};VI=s("lLLBm");KN=TI(VI,"Set");var HN={};VI=s("lLLBm");HN=TI(VI,"WeakMap");var GN=jI(VN),WN=jI(AI),$N=jI(qN),YN=jI(KN),JN=jI(HN),QN=rT;(VN&&"[object DataView]"!=QN(new VN(new ArrayBuffer(1)))||AI&&"[object Map]"!=QN(new AI)||qN&&"[object Promise]"!=QN(qN.resolve())||KN&&"[object Set]"!=QN(new KN)||HN&&"[object WeakMap]"!=QN(new HN))&&(QN=function(e){var t=rT(e),n="[object Object]"==t?e.constructor:void 0,r=n?jI(n):"";if(r)switch(r){case GN:return"[object DataView]";case WN:return"[object Map]";case $N:return"[object Promise]";case YN:return"[object Set]";case JN:return"[object WeakMap]"}return t}),zN=QN;var ZN={},XN=Object.prototype.hasOwnProperty;ZN=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&XN.call(e,"index")&&(n.index=e.index,n.input=e.input),n};var eO={},tO={},nO={},rO=(VI=s("lLLBm")).Uint8Array;nO=rO,tO=function(e){var t=new e.constructor(e.byteLength);return new nO(t).set(new nO(e)),t};var oO={};oO=function(e,t){var n=t?tO(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)};var iO={},aO=/\w*$/;iO=function(e){var t=new e.constructor(e.source,aO.exec(e));return t.lastIndex=e.lastIndex,t};var sO={},uO=eT?eT.prototype:void 0,cO=uO?uO.valueOf:void 0;sO=function(e){return cO?Object(cO.call(e)):{}};var lO={};lO=function(e,t){var n=t?tO(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};eO=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return tO(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return oO(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return lO(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return iO(e);case"[object Symbol]":return sO(e)}};var dO={},fO={},hO=Object.create,pO=function(){function e(){}return function(t){if(!fT(t))return{};if(hO)return hO(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();fO=pO,dO=function(e){return"function"!=typeof e.constructor||XT(e)?{}:fO(MN(e))};VT=s("1QK3d");var vO,gO={};vO=function(e){return mT(e)&&"[object Map]"==zN(e)};var mO=(SO=s("d2z8t"))&&SO.isMap,yO=mO?$T(mO):vO;gO=yO;var bO,wO={};bO=function(e){return mT(e)&&"[object Set]"==zN(e)};var SO,xO=(SO=s("d2z8t"))&&SO.isSet,_O=xO?$T(xO):bO;wO=_O;var EO={};EO["[object Arguments]"]=EO["[object Array]"]=EO["[object ArrayBuffer]"]=EO["[object DataView]"]=EO["[object Boolean]"]=EO["[object Date]"]=EO["[object Float32Array]"]=EO["[object Float64Array]"]=EO["[object Int8Array]"]=EO["[object Int16Array]"]=EO["[object Int32Array]"]=EO["[object Map]"]=EO["[object Number]"]=EO["[object Object]"]=EO["[object RegExp]"]=EO["[object Set]"]=EO["[object String]"]=EO["[object Symbol]"]=EO["[object Uint8Array]"]=EO["[object Uint8ClampedArray]"]=EO["[object Uint16Array]"]=EO["[object Uint32Array]"]=!0,EO["[object Error]"]=EO["[object Function]"]=EO["[object WeakMap]"]=!1,cI=function e(t,n,r,o,i,a){var s,u=1&n,c=2&n,l=4&n;if(r&&(s=i?r(t,o,i,a):r(t)),void 0!==s)return s;if(!fT(t))return t;var d=vT(t);if(d){if(s=ZN(t),!u)return CN(t,s)}else{var f=zN(t),h="[object Function]"==f||"[object GeneratorFunction]"==f;if(VT(t))return EN(t,u);if("[object Object]"==f||"[object Arguments]"==f||h&&!i){if(s=c||h?{}:dO(t),!u)return c?PN(t,bN(s,t)):kN(t,mN(s,t))}else{if(!EO[f])return i?t:{};s=eO(t,f,u)}}a||(a=new lI);var p=a.get(t);if(p)return p;a.set(t,s),wO(t)?t.forEach((function(o){s.add(e(o,n,r,o,t,a))})):gO(t)&&t.forEach((function(o,i){s.set(i,e(o,n,r,i,t,a))}));var v=d?void 0:(l?c?BN:DN:c?wN:jT)(t);return dN(v||t,(function(o,i){v&&(o=t[i=o]),fN(s,i,e(o,n,r,i,t,a))})),s};aI=function(e){return cI(e,5)};var CO=function(e,t){var n=m(e).country_code,r=k[t];return"tel"===r.type&&(r=y(y({},r),{dialCode:n})),r},kO=function(e){var t=uI(e);return y(y({},CO(e,t)),{autocomplete:"username"})},AO=function(e){return{confirmation_code:y(y({},CO(e,"confirmation_code")),{label:"Code *",placeholder:"Code"})}},TO={signIn:function(e){return{username:y({},kO(e)),password:y(y({},CO(e,"password")),{autocomplete:"current-password"})}},signUp:function(e){for(var t=e.context.config,n=t.loginMechanisms,r=t.signUpAttributes,o=uI(e),i={},a=0,s=Array.from(new Set(x(x(x([],n,!0),["password","confirm_password"],!1),r,!0)));a<s.length;a++){var u=s[a];if(I(u)){var c=u===o?kO(e):CO(e,u);i[u]=y({},c)}else console.debug("Authenticator does not have a default implementation for ".concat(u,". Customize SignUp FormFields to add your own."))}return i},confirmSignUp:function(e){return{confirmation_code:y(y({},CO(e,"confirmation_code")),{placeholder:"Enter your code"})}},confirmSignIn:AO,forceNewPassword:function(e){for(var t=g(e).context.requiredAttributes,n={},r=0,o=Array.from(new Set(x(["password","confirm_password"],t,!0)));r<o.length;r++){var i=o[r];I(i)?n[i]=y({},CO(e,i)):console.debug("Authenticator does not have a default implementation for ".concat(i,". Customize ForceNewPassword FormFields to add your own."))}return n},resetPassword:function(e){var t=uI(e),n=k[t].label;return{username:y(y({},kO(e)),{label:"Enter your ".concat(n.toLowerCase()),placeholder:"Enter your ".concat(n.toLowerCase())})}},confirmResetPassword:function(e){return y(y({},AO(e)),{password:y(y({},CO(e,"password")),{label:"New Password",placeholder:"New Password"}),confirm_password:y(y({},CO(e,"confirm_password")),{label:"Confirm Password",placeholder:"Confirm Password"})})},confirmVerifyUser:AO,setupTOTP:AO},IO=(y({},{"Account recovery requires verified contact information":"Zurücksetzen des Account benötigt einen verifizierten Account","An account with the given email already exists.":"Ein Account mit dieser Email existiert bereits.","Back to Sign In":"Zurück zur Anmeldung","Change Password":"Passwort ändern",Code:"Code",Confirm:"Bestätigen","Confirm Password":"Passwort bestätigen","Confirm a Code":"Code bestätigen","Confirm Sign In":"Anmeldung bestätigen","Confirm Sign Up":"Registrierung bestätigen","Confirm SMS Code":"SMS-Code bestätigen","Confirm TOTP Code":"TOTP-Code bestätigen","Confirmation Code":"Bestätigungs-Code","Create a new account":"Einen neuen Account erstellen","Create account":"Hier registrieren","Create Account":"Account erstellen","Creating Account":"Account wird erstellt",Email:"Email","Enter your code":"Geben Sie Ihren Code ein","Enter your password":"Geben Sie Ihr Passwort ein","Enter your username":"Geben Sie Ihren Benutzernamen ein","Enter your phone number":"Geben Sie Ihre Telefonnummer ein","Enter your email":"Geben Sie ihre Email ein","Forgot your password?":"Passwort vergessen? ","Forgot Password":"Passwort vergessen","Hide password":"Passwort verbergen","Have an account? ":"Schon registriert? ","Incorrect username or password":"Falscher Benutzername oder falsches Passwort","Invalid password format":"Ungültiges Passwort-Format","Invalid phone number format":"Ungültiges Telefonummern-Format. Benutze eine Nummer im Format: +12345678900","Lost your code? ":"Code verloren? ","New Password":"Neues Passwort","No account? ":"Kein Account? ",or:"oder",Password:"Passwort","Password attempts exceeded":"Die maximale Anzahl der fehlerhaften Anmeldeversuche wurde erreicht","Phone Number":"Telefonnummer","Resend Code":"Code erneut senden","Reset password":"Passwort zurücksetzen","Reset your password":"Zurücksetzen des Passworts","Send Code":"Code senden","Sign in":"Anmelden","Sign In":"Anmelden","Sign in to your account":"Melden Sie sich mit Ihrem Account an","Sign Out":"Abmelden","Sign Up":"Registrieren",Skip:"Überspringen",Submit:"Abschicken","User already exists":"Dieser Benutzer existiert bereits","User does not exist":"Dieser Benutzer existiert nicht",Username:"Benutzername","Username cannot be empty":"Benutzername darf nicht leer sein",Verify:"Verifizieren","Verify Contact":"Kontakt verifizieren"}),y({},{"Account recovery requires verified contact information":"Account recovery requires verified contact information","Back to Sign In":"Back to Sign In","Change Password":"Change Password",Changing:"Changing",Code:"Code",Confirm:"Confirm","Confirm Password":"Confirm Password","Confirm Sign Up":"Confirm Sign Up","Confirm SMS Code":"Confirm SMS Code","Confirm TOTP Code":"Confirm TOTP Code","Confirmation Code":"Confirmation Code",Confirming:"Confirming","Create Account":"Create Account","Creating Account":"Creating Account",Email:"Email","Enter your code":"Enter your code","Enter your username":"Enter your username","Enter your phone number":"Enter your phone number","Enter your email":"Enter your email","Forgot your password?":"Forgot your password?","Hide password":"Hide password",Loading:"Loading",Username:"Username","New password":"New password",Password:"Password","Phone Number":"Phone Number","Resend Code":"Resend Code","Reset your password":"Reset your password","Reset your Password":"Reset your Password","Send Code":"Send Code","Send code":"Send code",Sending:"Sending","Setup TOTP":"Setup TOTP","Show password":"Show password","Sign in":"Sign in","Sign In":"Sign In","Sign In with Amazon":"Sign In with Amazon","Sign In with Apple":"Sign In with Apple","Sign In with Facebook":"Sign In with Facebook","Sign In with Google":"Sign In with Google","Sign in to your account":"Sign in to your account","Create a new account":"Create a new account","Signing in":"Signing in",Skip:"Skip",Submit:"Submit",Submitting:"Submitting","Verify Contact":"Verify Contact",Verify:"Verify"}),y({},{"Account recovery requires verified contact information":"La recuperación de la cuenta requiere información de contacto verificada","Back to Sign In":"Volver a inicio de sesión","Change Password":"Cambiar contraseña",Changing:"Cambiando",Code:"Código",Confirm:"Confirmar","Confirm a Code":"Confirmar un código","Confirm Password":"Confirmar contraseña","Confirm Sign In":"Confirmar inicio de sesión","Confirm Sign Up":"Confirmar registro","Confirm TOTP Code":"Confirmar código TOTP","Confirmation Code":"Código de confirmación",Confirming:"Confirmando","Create a new account":"Crear una cuenta nueva","Creating Account":"Creando cuenta",Email:"Email","Forgot Password":"Olvidé mi contraseña","Incorrect username or password":"Nombre de usuario o contraseña incorrecta","Invalid password format":"Formato de contraseña inválido","Invalid phone number format":"Formato de número de teléfono inválido","Forgot your password?":"¿Olvidó su contraseña?","Hide password":"Ocultar contraseña","Loading...":"Cargando...","New Password":"Nueva contraseña",or:"o",Password:"Contraseña","Phone Number":"Número de teléfono","Resend a Code":"Reenviar un código","Reset your password":"Restablecer su contraseña","Reset your Password":"Restablecer su Contraseña","Resend Code":"Reenviar código","Send Code":"Enviar código",Sending:"Enviando","Setup TOTP":"Configurar TOTP","Show password":"Mostrar contraseña","Sign in":"Iniciar sesión","Sign In":"Iniciar Sesión","Sign In with Amazon":"Iniciar Sesión con Amazon","Sign In with Apple":"Iniciar Sesión con Apple","Sign In with Facebook":"Iniciar Sesión con Facebook","Sign In with Google":"Iniciar Sesión con Google","Sign in to your account":"Iniciar sesión en tu cuenta","Sign Out":"Cerrar sesión","Sign Up":"Crear cuenta","Signing in":"Iniciando sesión",Skip:"Omitir",Submit:"Enviar","User already exists":"El usuario ya existe","User does not exist":"El usuario no existe",Username:"Nombre de usuario","Username cannot be empty":"El nombre de usuario no puede estar vacío",Verify:"Verificar","Verify Contact":"Verificar contacto"}),y({},{"Account recovery requires verified contact information":"La récupération du compte nécessite des informations de contact vérifiées","An account with the given email already exists.":"Un utilisateur avec cette adresse email existe déjà.","Back to Sign In":"Retour à la connexion",Change:"Modifier","Change Password":"Modifier le mot de passe",Code:"Code",Confirm:"Confirmer","Confirm a Code":"Confirmer un code","Confirm Password":"Confirmez le mot de passe","Confirm Sign In":"Confirmer la connexion","Confirm Sign Up":"Confirmer l'inscription","Confirm SMS Code":"Confirmer le code SMS","Confirm TOTP Code":"Confirmer le code TOTP","Confirmation Code":"Code de confirmation","Create a new account":"Créer un nouveau compte","Create account":"Créer un compte","Create Account":"Créer un compte",Email:"Email","Enter your code":"Saisissez cotre code de confirmation","Enter your email":"Saisissez votre adresse email","Enter your password":"Saisissez votre mot de passe","Enter your phone number":"Saisissez votre numéro de téléphone","Enter your username":"Saisissez votre nom d'utilisateur","Forgot Password":"Mot de passe oublié","Forgot your password?":"Mot de passe oublié ? ","Have an account? ":"Déjà un compte ? ",Hello:"Bonjour","Incorrect username or password":"Identifiant ou mot de passe incorrect","Invalid password format":"Format de mot de passe invalide","Invalid phone number format":"Format de numéro de téléphone invalide. Veuillez utiliser un format +12345678900","Loading...":"Chargement...","Lost your code? ":"Vous avez perdu votre code ? ","Network error":"Erreur réseau","New Password":"Nouveau mot de passe","No account? ":"Pas de compte ? ",or:"ou",Password:"Mot de passe","Phone Number":"Numéro de téléphone","Resend a Code":"Renvoyer un code","Resend Code":"Renvoyer le code","Reset password":"Réinitialisez votre mot de passe","Reset your password":"Réinitialisez votre mot de passe",Send:"Envoyer","Send Code":"M'envoyer un code","Sign in":"Se connecter","Sign In":"Se connecter","Sign in to your account":"Connexion à votre compte","Sign In with Amazon":"Se connecter avec Amazon","Sign In with AWS":"Se connecter avec AWS","Sign In with Facebook":"Se connecter avec Facebook","Sign In with Google":"Se connecter avec Google","Sign Out":"Déconnexion","Sign Up":"S'inscrire",Skip:"Passer",SMS:"SMS",Submit:"Soumettre","User already exists":"L'utilisateur existe déjà","User does not exist":"L'utilisateur n'existe pas",Username:"Nom d'utilisateur","Username cannot be empty":"Le nom d'utilisateur doit être renseigné","Username/client id combination not found.":"L'utilisateur n'existe pas",Verify:"Vérifier","Verify Contact":"Vérifier le contact"}),y({},{"Account recovery requires verified contact information":"Il ripristino dell'account richiede informazioni di contatto verificate","An account with the given email already exists.":"Questa email è già utilizzata da un'altro account.","Back to Sign In":"Torna alla schermata di accesso","Change Password":"Cambia la password",Code:"Codice",Confirm:"Conferma","Confirm a Code":"Conferma un codice","Confirm Password":"Conferma la password","Confirm Sign In":"Conferma l'accesso","Confirm Sign Up":"Conferma registrazione","Confirmation Code":"Codice di verifica","Create a new account":"Crea un nuovo account","Create account":"Crea account","Create Account":"Crea Account",Email:"Email","Enter your password":"Inserisci la tua password","Enter your username":"Inserisci il tuo nome utente","Forgot Password":"Password dimenticata","Forgot your password?":"Password dimenticata?","Have an account? ":"Già registrato?","Incorrect username or password":"Nome utente o password errati","Invalid password format":"Formato della password non valido","Invalid phone number format":"Formato del numero di telefono non valido","Lost your code?":"Codice smarrito?","New Password":"Nuova password",or:"o","No account? ":"Non hai un account?",Password:"Password","Password attempts exceeded":"Il numero massimo di tentativi di accesso falliti è stato raggiunto","Phone Number":"Numero di telefono","Resend Code":"Rispedisci codice","Reset password":"Reimposta password","Reset your password":"Reimposta la tua password","Send Code":"Invia codice","Sign in":"Accesso","Sign In":"Accesso","Sign in to your account":"Accedi al tuo account","Sign Out":"Esci","Sign Up":"Registrati",Skip:"Salta",Submit:"Invia","User already exists":"Utente già esistente","User does not exist":"Utente inesistente",Username:"Nome utente","Username cannot be empty":"Il nome utente non può essere vuoto",Verify:"Verifica","Verify Contact":"Verifica contatto"}),y({},{"Account recovery requires verified contact information":"アカウントの復旧には確認済みの連絡先が必要です","An account with the given email already exists.":"入力されたメールアドレスのアカウントが既に存在します","Back to Sign In":"サインインに戻る","Change Password":"パスワードを変える ",Code:"コード",Confirm:"確定","Confirm a Code":"コードを確認","Confirm Password":"パスワードの確認","Confirm Sign In":"サインインする","Confirm Sign Up":"登録する","Confirmation Code":"確認コード","Create a new account":"新しいアカウントを作る","Create account":"アカウントを作る ","Create Account":"アカウントを作る",Email:"メールアドレス","Enter your password":"パスワードを入力 ","Enter your username":"ユーザー名を入力 ","Forgot Password":"パスワードを忘れた ","Forgot your password?":"パスワードを忘れましたか？ ","Have an account? ":"アカウントを持っていますか？","Incorrect username or password":"ユーザー名かパスワードが異なります ","Invalid password format":"パスワードの形式が無効です ","Invalid phone number format":"不正な電話番号の形式です。\n+12345678900 の形式で入力してください","Lost your code? ":"コードを失くしましたか？","New Password":"新しいパスワード","No account? ":"アカウントが無いとき ",or:"又は",Password:"パスワード ","Password attempts exceeded":"サインインの試行回数が上限に達しました","Phone Number":"電話番号","Resend Code":"コードを再送信","Reset password":"パスワードをリセット ","Reset your password":"パスワードをリセットする","Send Code":"コードを送信","Sign in":"サインイン","Sign In":"サインイン ","Sign in to your account":"アカウントにサインイン ","Sign In with Amazon":"Amazonでサインイン","Sign In with Facebook":"Facebookでサインイン","Sign In with Google":"Googleでサインイン","Sign Out":"サインアウト ","Sign Up":"登録 ",Skip:"スキップ",Submit:"送信","User already exists":"既にユーザーが存在しています ","User does not exist":"ユーザーが存在しません ",Username:"ユーザー名 ","Username cannot be empty":"ユーザー名は入力必須です",Verify:"確認","Verify Contact":"連絡先を確認"}),y({},{"Back to Sign In":"로그인으로 돌아가기",Birthdate:"생년월일","Change Password":"비밀번호 변경하기",Changing:"변경중",Code:"코드","Confirm Password":"비밀번호 재확인","Reset your Password":"비밀번호 재설정","Confirm Sign Up":"회원가입 확인","Confirm SMS Code":"휴대폰 본인 확인","Confirm TOTP Code":"TOTP 인증번호 확인",Confirm:"확인","Confirmation Code":"인증번호",Confirming:"확인중","Create Account":"회원가입","Creating Account":"회원가입중",Email:"이메일","Enter your code":"인증번호를 입력해주세요","Enter your username":"아이디를 입력해주세요","Family Name":"성","Given Name":"이름","Forgot your password?":"비밀번호를 잊으셨나요?","Hide password":"비밀번호 숨기기",Loading:"로딩중",Username:"아이디",Name:"성함",Nickname:"닉네임","New password":"새 비밀번호",Password:"비밀번호","Phone Number":"전화번호","Preferred Username":"닉네임",Profile:"프로필","Resend Code":"인증번호 재전송","Reset your password":"비밀번호 재설정","Reset Password":"비밀번호 재설정","Send code":"인증코드 보내기",Sending:"전송중","Setup TOTP":"TOTP 설정하기","Show password":"비밀번호 보이기","Sign in":"로그인","Sign In":"로그인","Sign In with Amazon":"Amazon 로그인","Sign In with Apple":"Apple 로그인","Sign In with Facebook":"Facebook 로그인","Sign In with Google":"Google 로그인","Sign in to your account":"로그인","Create a new account":"회원가입","Signing in":"로그인중",Skip:"다음에 하기",Submit:"확인",Submitting:"확인중","Verify Contact":"연락처 확인","Account recovery requires verified contact information":"계정 복구를 위해 연락처 확인이 필요합니다",Verify:"인증",Website:"웹사이트"}),y({},{"Back to Sign In":"Terug naar inloggen","Change Password":"Wachtwoord wijzigen",Changing:"Wordt aangepast",Code:"Code","Confirm Password":"Bevestig Wachtwoord","Reset your Password":"Wachtwoord resetten","Confirm Sign Up":"Bevestig inschrijving","Confirm SMS Code":"Bevestig SMS Code","Confirm TOTP Code":"Bevestig TOTP Code",Confirm:"Bevestig","Confirmation Code":"Bevestigingscode",Confirming:"Bevestigen","Create Account":"Account aanmaken","Creating Account":"Account wordt aangemaakt",Email:"E-mail","Enter your code":"Vul je code in","Enter your username":"Vul je gebruikersnaam in","Enter your phone number":"Vul je telefoonnummer in","Enter your email":"Vul je e-mail in","Forgot your password?":"Wachtwoord vergeten? ","Hide password":"Verberg wachtwoord",Loading:"Laden",Username:"Gebruikersnaam","New password":"Nieuw wachtwoord",Password:"Wachtwoord","Phone Number":"Telefoonnummer","Resend Code":"Verstuur code nogmaals","Reset your password":"Reset je wachtwoord","Send Code":"Verstuur Code","Send code":"Verstuur code",Sending:"Versturen","Setup TOTP":"TOTP Instellingen","Show password":"Toon wachtwoord","Sign in":"Inloggen","Sign In":"Inloggen","Sign In with Amazon":"Inloggen met Amazon","Sign In with Apple":"Inloggen met Apple","Sign In with Facebook":"Inloggen met Facebook","Sign In with Google":"Inloggen met Google","Sign in to your account":"Inloggen op je account","Create a new account":"Nieuw account aanmaken","Signing in":"Inloggen",Skip:"Overslaan",Submit:"Versturen",Submitting:"Wordt verstuurd","Verify Contact":"Verifieer Contact","Account recovery requires verified contact information":"Accountherstel vereist geverifieerde contactgegevens",Verify:"Verifieer"}),y({},{"Back to Sign In":"Powrót do logowania",Birthdate:"Data urodzenia","Change Password":"Zmień hasło",Changing:"Zmienianie",Code:"Kod","Confirm Password":"Potwierdź Hasło","Reset your Password":"Zresetuj swoje hasło","Confirm Sign Up":"Potwierdź rejestrację","Confirm SMS Code":"Potwierdź kod SMS","Confirm TOTP Code":"Potwierdź hasło jednorazowe",Confirm:"Potwierdź","Confirmation Code":"Kod potwierdzenia",Confirming:"Potwierdzanie","Create Account":"Utwórz konto","Creating Account":"Tworzenie konta",Email:"E-mail","Enter your code":"Wprowadź swój kod","Enter your username":"Wprowadź swoją nazwę użytkownika","Family Name":"Nazwisko","Given Name":"Pierwsze imię","Forgot your password?":"Zapomniałeś hasła? ","Hide password":"Ukryj hasło",Loading:"Ładowanie",Username:"Nazwa użytkownika","Middle Name":"Drugie imię",Name:"Imię i nazwisko",Nickname:"Pseudonim","New password":"Nowe hasło",Password:"Hasło","Phone Number":"Numer telefonu","Preferred Username":"Preferowana nazwa użytkownika",Profile:"Profil","Resend Code":"Wyślij kod ponownie","Reset your password":"Zresetuj swoje hasło","Send Code":"Zresetuj hasło","Send code":"Wyślij kod",Sending:"Wysyłanie","Setup TOTP":"Konfiguruj TOTP","Show password":"Pokaż hasło","Sign in":"Zaloguj","Sign In":"Logowanie","Sign In with Amazon":"Zaloguj z Amazon","Sign In with Apple":"Zaloguj z Apple","Sign In with Facebook":"Zaloguj z Facebook","Sign In with Google":"Zaloguj z Google","Sign in to your account":"Zaloguj się na swoje konto","Create a new account":"Utwórz nowe konto","Signing in":"Logowanie",Skip:"Pomiń",Submit:"Wyślij",Submitting:"Wysyłanie","Verify Contact":"Weryfikacja danych kontaktowych","Account recovery requires verified contact information":"Odzyskanie konta wymaga zweryfikowanych danych kontaktowych",Verify:"Zweryfikuj",Website:"Strona internetowa"}),y({},{"Back to Sign In":"Voltar para Entrar","Change Password":"Mudar senha",Changing:"Mudando",Code:"Código","Confirm Password":"Confirme a Senha","Reset your Password":"Redefina sua senha","Confirm Sign Up":"Confirmar inscrição","Confirm SMS Code":"Confirme o código SMS","Confirm TOTP Code":"Confirme o código TOTP",Confirm:"confirme","Confirmation Code":"Código de confirmação",Confirming:"Confirmando","Create Account":"Criar Conta","Creating Account":"Criando conta",Email:"O email","Enter your code":"Insira seu código","Enter your username":"entre com seu nome de usuário","Enter your phone number":"Digite seu número de telefone","Enter your email":"Digite seu e-mail","Forgot your password?":"Esqueceu sua senha? ","Hide password":"Esconder a senha",Loading:"Carregando",Username:"Nome do usuário","New password":"Nova Senha",Password:"Senha","Phone Number":"Número de telefone","Resend Code":"Reenviar código","Reset your password":"Redefina sua senha","Send Code":"Enviar código","Send code":"Enviar código",Sending:"Enviando","Setup TOTP":"Configurar TOTP","Show password":"Mostrar senha","Sign In":"Entrar","Sign in":"Entrar","Sign In with Amazon":"Entrar com a Amazon","Sign In with Apple":"Entrar com a Apple","Sign In with Facebook":"Entrar com o Facebook","Sign In with Google":"Faça login no Google","Sign in to your account":"Faça login em sua conta","Create a new account":"Criar uma nova conta","Signing in":"Entrando",Skip:"Pular",Submit:"Enviar",Submitting:"Enviando","Verify Contact":"Verificar contato","Account recovery requires verified contact information":"A recuperação da conta requer informações de contato verificadas",Verify:"Verificar"}),y({},{"Account recovery requires verified contact information":"账户恢复需要验证过的联系方式","Back to Sign In":"回到登录","Change Password":"更改密码",Code:"确认码",Confirm:"确认","Confirm a Code":"确认码","Confirm Password":"确认密码","Confirm Sign In":"确认登录","Confirm Sign Up":"确认注册",Email:"邮箱","Forgot Password":"忘记密码","Incorrect username or password":"用户名或密码错误","Invalid password format":"密码格式错误","Invalid phone number format":"电话格式错误，请使用格式 +12345678900","New Password":"新密码",or:"或者",Password:"密码","Phone Number":"电话","Resend a Code":"重发确认码","Send Code":"发送确认码","Sign In":"登录","Sign Out":"退出","Sign Up":"注册",Skip:"跳过",Submit:"提交","User already exists":"用户已经存在","User does not exist":"用户不存在",Username:"用户名",Verify:"验证","Verify Contact":"验证联系方式"}),y({},{"Account recovery requires verified contact information":"För att återställa kontot behöver du ett verifierat konto","An account with the given email already exists.":"Det finns redan ett konto med denna e-postadress","Back to Sign In":"Tillbaka till inloggningen","Change Password":"Byt lösenord","Confirm Password":"Bekräfta lösenord",Code:"Kod",Confirm:"Bekräfta","Confirm a Code":"Bekräfta koden","Confirm Sign In":"Bekräfta inloggning","Confirm Sign Up":"Bekräfta registrering","Confirmation Code":"Verifikationskod","Create a new account":"Skapa ett nytt konto","Create account":"Skapa konto","Create Account":"Skapa konto",Email:"E-post","Enter your password":"Ange ditt lösenord","Enter your username":"Ange ditt användarnamn","Forgot Password":"Glömt lösenordet","Forgot your password?":"Glömt ditt lösenord? ","Have an account? ":"Redan registrerad? ","Incorrect username or password":"Felaktigt användarnamn eller lösenord","Invalid password format":"Ogiltigt lösenordsformat","Invalid phone number format":"Ogiltigt format för telefonnummer","Lost your code? ":"Förlorat koden? ","New Password":"Nytt lösenord","No account? ":"Inget konto? ",or:"eller",Password:"Lösenord","Password attempts exceeded":"Maximalt antal felaktiga inloggningsförsök har uppnåtts","Phone Number":"Telefonnummer","Resend Code":"Skicka koden igen","Reset password":"Återställ lösenord","Reset your password":"Återställ ditt lösenord","Send code":"Skicka kod","Sign in":"Logga in","Sign In":"Logga in","Sign in to your account":"Logga in till ditt konto","Sign Out":"Logga ut","Sign Up":"Registrering","We Emailed You":"Vi har skickat e-post till dig","Enter your code":"Skriv din kod",Skip:"Hoppa över",Submit:"Skicka","User already exists":"Användaren finns redan","User does not exist":"Användaren finns inte",Username:"Användarnamn","Username cannot be empty":"Användarnamnet kan inte vara tomt",Verify:"Verifiera","Verify Contact":"Verifiera kontakt"}),y({},{"Account recovery requires verified contact information":"Pemulihan akun memerlukan informasi kontak terverifikasi","An account with the given email already exists.":"Akun dengan email tersebut sudah terdaftar.","Attempt limit exceeded, please try after some time.":"Batas percobaan terlampaui, mohon coba lagi setelah beberapa waktu.","Back to Sign In":"Kembali ke Masuk","Cannot reset password for the user as there is no registered/verified email or phone_number":"Tidak dapat mengatur ulang kata sandi karena tidak ada email terdaftar / terverifikasi atau nomor telepon",Change:"Ubah","Change Password":"Ubah kata sandi",Code:"Kode",Confirm:"Konfirmasi","Confirm a Code":"Konfirmasi kode","Confirm Password":"Konfirmasi kata sandi","Confirmation Code":"Kode Konfirmasi","Create a new account":"Buat akun baru","Create account":"Buat akun","Create Account":"Buat Akun","Creating Account":"Membuat Akun",Confirming:"Mengkonfirmasi",Email:"Email","Enter your code":"Masukkan kode anda","Enter your email":"Masukkan email anda","Enter your password":"Masukkan kata sandi anda","Enter your phone number":"Masukkan nomor telepon anda","Enter your username":"Masukkan nama akun anda","Forgot Password":"Lupa kata sandi","Forgot your password?":"Lupa kata sandi? ","Have an account? ":"Sudah punya akun? ",Hello:"Halo","Incorrect username or password.":"Nama akun atau kata sandi salah.","Invalid phone number format":"Nomor telepon tidak sesuai dengan format.","Invalid verification code provided, please try again.":"Kode verifikasi tidak sesuai, mohon coba lagi.","It may take a minute to arrive.":"Mungkin perlu beberapa waktu untuk tiba.","Lost your code? ":"Kode anda hilang?",Name:"Nama","Network error":"Galat jaringan","New password":"Kata sandi baru","No account? ":"Tidak ada akun?",or:"atau",Password:"Kata sandi","Password did not conform with policy: Password not long enough":"Kata sandi tidak sesuai dengan aturan: Kata sandi kurang panjang","Phone Number":"Nomor telepon","Resend a Code":"Renvoyer un code","Resend Code":"Kirim ulang kodenya","Reset password":"Ubah kata sandi anda","Reset your password":"Ubah kata sandi anda",Send:"Kirim","Send Code":"Kirim Kode","Send code":"Kirim kode",Sending:"Mengirim","Sign in":"Masuk","Sign In":"Masuk","Sign in to your account":"Masuk akun anda","Sign In with Amazon":"Masuk dengan Amazon","Sign In with AWS":"Masuk dengan AWS","Sign In with Facebook":"Masuk dengan Facebook","Sign In with Google":"Masuk dengan Google","Sign Up with Amazon":"Daftar dengan Amazon","Sign Up with AWS":"Daftar dengan AWS","Sign Up with Facebook":"Daftar dengan Facebook","Sign Up with Google":"Daftar dengan Google","Signing in":"Memasuki",Skip:"Lewati",SMS:"SMS",Submit:"Ajukan",Submitting:"Mengajukan","User is disabled.":"Akun dinonaktifkan.","User already exists":"Akun sudah terdaftar","User does not exist.":"Akun tidak terdaftar.",Username:"Nama akun","Username cannot be empty":"Nama akun tidak boleh kosong","Username/client id combination not found.":"Nama akun atau id tidak ditemukan.",Verify:"Verifikasi","Verify Contact":"Verifikasi Kontak","We Emailed You":"Kami mengirimkanmu email","Your code is on the way. To log in, enter the code we emailed to":"Kode anda dalam pengiriman. Untuk masuk, masukkan kode yang kami emailkan ke","Your code is on the way. To log in, enter the code we texted to":"Kode anda dalam pengiriman. Untuk masuk, masukkan kode yang kami tuliskan ke","Your passwords must match":"Kata sandi harus sama"}),y({},{"Account recovery requires verified contact information":"Hesap kurtarma, doğrulanmış iletişim bilgilerini gerektirir","An account with the given email already exists.":"Bu e-postaya ait zaten bir hesap var.","Back to Sign In":"Oturum Açmaya Geri Dön","Change Password":"Şifreyi Değiştir",Changing:"Değiştiriliyor",Code:"Kod",Confirm:"Doğrula","Confirm Password":"Şifreyi Doğrula","Confirm Sign In":"Oturum Açmayı Doğrula","Confirm Sign Up":"Kayıt İşlemini Doğrula","Confirm SMS Code":"SMS Kodunu Doğrula","Confirm TOTP Code":"Tek Kullanımlık Şifreyi Doğrula","Confirmation Code":"Doğrulama Kodu",Confirming:"Doğrulanıyor","Create Account":"Hesap Oluştur","Creating Account":"Hesap Oluşturuluyor",Email:"E-posta","Enter your code":"Kodu girin","Enter your username":"Kullanıcı adınızı girin","Enter your phone number":"Telefon numaranızı girin","Enter your email":"E-posta adresinizi girin","Forgot your password?":"Şifrenizi mi unuttunuz?","Hide password":"Şifreyi gizle","Have an account? ":"Hesabınız var mı? ","Incorrect username or password":"Yanlış kullanıcı adı ya da şifre","Invalid password format":"Geçersiz parola formatı","Invalid phone number format":"Geçersiz telefon numarası formatı","Lost your code? ":"Kodu mu kaybettiniz? ",Loading:"Yükleniyor","New password":"Yeni şifre","No account? ":"Hesabınız yok mu? ",or:"veya",Password:"Şifre","Password attempts exceeded":"Maksimum oturum açma girişimi aşıldı","Phone Number":"Telefon Numarası","Resend Code":"Kodu Yeniden Gönder","Reset your password":"Şifrenizi sıfırlayın","Reset your Password":"Şifrenizi Sıfırlayın","Send Code":"Kod Gönder","Send code":"Kod gönder",Sending:"Gönderiliyor","Setup TOTP":"Tek kullanımlık şifre kurulumu yap","Show password":"Şifreyi göster","Sign in":"Oturum aç","Sign In":"Oturum Aç","Sign In with Amazon":"Amazon ile Oturum Aç","Sign In with Apple":"Apple ile Oturum Aç","Sign In with Facebook":"Facebook ile Oturum Aç","Sign In with Google":"Google ile Oturum Aç","Sign in to your account":"Hesabınızda oturum açın","Create a new account":"Yeni bir hesap oluştur","Signing in":"Oturum açılıyor","Sign Out":"Çıkış yap","Sign Up":"Kayıt Ol",Skip:"Atla",Submit:"Gönder",Submitting:"Gönderiliyor","User already exists":"Bu kullanıcı zaten var","User does not exist":"Böyle bir kullanıcı mevcut değil",Username:"Kullanıcı adı","Username cannot be empty":"Kullanıcı adı boş olamaz","Verify Contact":"Kişiyi Doğrula",Verify:"Doğrula"}),y({},{BACK_SIGN_IN:"Back to Sign In",BIRTHDATE:"Birthdate",CHANGE_PASSWORD:"Change Password",CHANGING_PASSWORD:"Changing",CODE:"Code",CONFIRM_PASSWORD:"Confirm Password",CONFIRM_RESET_PASSWORD_HEADING:"Reset your Password",CONFIRM_SIGNUP_HEADING:"Confirm Sign Up",CONFIRM_SMS:"Confirm SMS Code",CONFIRM_TOTP:"Confirm TOTP Code",CONFIRM:"Confirm",CONFIRMATION_CODE:"Confirmation Code",CONFIRMING:"Confirming",CREATE_ACCOUNT:"Create Account",CREATING_ACCOUNT:"Creating Account",EMAIL_ADDRESS:"Email",ENTER_CODE:"Enter your code",ENTER_USERNAME:"Enter your username",FAMILY_NAME:"Family Name",GIVEN_NAME:"Given Name",FORGOT_YOUR_PASSWORD:"Forgot your password?",FORGOT_YOUR_PASSWORD_LEGACY:"Forgot your password? ",HIDE_PASSWORD:"Hide password",LOADING:"Loading",LOGIN_NAME:"Username",MIDDLE_NAME:"Middle Name",NAME:"Name",NICKNAME:"Nickname",NEW_PASSWORD:"New password",PASSWORD:"Password",PHONE_NUMBER:"Phone Number",PREFERRED_USERNAME:"Preferred Username",PROFILE:"Profile",RESEND_CODE:"Resend Code",RESET_PASSWORD_HEADING:"Reset your password",RESET_PASSWORD:"Reset Password",SEND_CODE:"Send code",SENDING:"Sending",SETUP_TOTP:"Setup TOTP",SHOW_PASSWORD:"Show password",SIGN_IN_BUTTON:"Sign in",SIGN_IN_TAB:"Sign In",SIGN_IN_WITH_AMAZON:"Sign In with Amazon",SIGN_IN_WITH_APPLE:"Sign In with Apple",SIGN_IN_WITH_FACEBOOK:"Sign In with Facebook",SIGN_IN_WITH_GOOGLE:"Sign In with Google",SIGN_IN:"Sign in to your account",SIGN_UP_BUTTON:"Create a new account",SIGNING_IN_BUTTON:"Signing in",SKIP:"Skip",SUBMIT:"Submit",SUBMITTING:"Submitting",VERIFY_CONTACT:"Verify Contact",VERIFY_HEADING:"Account recovery requires verified contact information",VERIFY:"Verify",WEBSITE:"Website"}));y({},IO);function NO(e){return ie.get(e)}var OO,PO,jO,RO,MO=function(e){for(var t=y({},e),n=0,r=Object.entries(e);n<r.length;n++){var o=r[n],i=o[0],a=o[1],s=a.label,u=a.placeholder;t[i]=y(y({},a),{label:s?NO(s):void 0,placeholder:u?NO(u):void 0})}return t},UO=function(e,t){void 0===t&&(t={});var n=r(aI)(e);return Object.keys(t).forEach((function(e){n[e]=y(y({},n[e]),t[e])})),n},LO=function(e,t){var n=(0,TO[e])(t);return MO(n)},DO=function(e,t){var n,r,o=LO(e,t),i=(null===(r=null===(n=g(t).context)||void 0===n?void 0:n.formFields)||void 0===r?void 0:r[e])||{},a=UO(o,i);return delete a.QR,a},FO=function(e,t){var n,r=DO(e,t);return n=r,Object.entries(n).sort((function(e,t){return(e[1].order||Number.MAX_VALUE)-(t[1].order||Number.MAX_VALUE)})).filter((function(e){return void 0!==e[1]}))},BO=function(){return BO=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},BO.apply(this,arguments)};function zO(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function VO(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function qO(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function KO(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}(PO=OO||(OO={})).Start="xstate.start",PO.Stop="xstate.stop",PO.Raise="xstate.raise",PO.Send="xstate.send",PO.Cancel="xstate.cancel",PO.NullEvent="",PO.Assign="xstate.assign",PO.After="xstate.after",PO.DoneState="done.state",PO.DoneInvoke="done.invoke",PO.Log="xstate.log",PO.Init="xstate.init",PO.Invoke="xstate.invoke",PO.ErrorExecution="error.execution",PO.ErrorCommunication="error.communication",PO.ErrorPlatform="error.platform",PO.ErrorCustom="xstate.error",PO.Update="xstate.update",PO.Pure="xstate.pure",PO.Choose="xstate.choose",(RO=jO||(jO={})).Parent="#_parent",RO.Internal="#_internal";var HO,GO=OO.Start,WO=OO.Stop,$O=OO.Raise,YO=OO.Send,JO=OO.Cancel,QO=OO.NullEvent,ZO=OO.Assign,XO=(OO.After,OO.DoneState,OO.Log),eP=OO.Init,tP=OO.Invoke,nP=(OO.ErrorExecution,OO.ErrorPlatform),rP=OO.ErrorCustom,oP=OO.Update,iP=OO.Choose,aP=OO.Pure,sP={};function uP(e,t,n){void 0===n&&(n=".");var r=dP(e,n),o=dP(t,n);return TP(o)?!!TP(r)&&o===r:TP(r)?r in o:Object.keys(r).every((function(e){return e in o&&uP(r[e],o[e])}))}function cP(e){try{return TP(e)||"number"==typeof e?"".concat(e):e.type}catch(e){throw new Error("Events must be strings or objects with a string event.type property.")}}function lP(e,t){try{return kP(e)?e:e.toString().split(t)}catch(t){throw new Error("'".concat(e,"' is not a valid state path."))}}function dP(e,t){return"object"==typeof(n=e)&&"value"in n&&"context"in n&&"event"in n&&"_event"in n?e.value:kP(e)?fP(e):"string"!=typeof e?e:fP(lP(e,t));var n}function fP(e){if(1===e.length)return e[0];for(var t={},n=t,r=0;r<e.length-1;r++)r===e.length-2?n[e[r]]=e[r+1]:(n[e[r]]={},n=n[e[r]]);return t}function hP(e,t){for(var n={},r=Object.keys(e),o=0;o<r.length;o++){var i=r[o];n[i]=t(e[i],i,e,o)}return n}function pP(e,t,n){var r,o,i={};try{for(var a=VO(Object.keys(e)),s=a.next();!s.done;s=a.next()){var u=s.value,c=e[u];n(c)&&(i[u]=t(c,u,e))}}catch(e){r={error:e}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return i}var vP=function(e){return function(t){var n,r,o=t;try{for(var i=VO(e),a=i.next();!a.done;a=i.next()){o=o[a.value]}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return o}};function gP(e){return e?TP(e)?[[e]]:mP(Object.keys(e).map((function(t){var n=e[t];return"string"==typeof n||n&&Object.keys(n).length?gP(e[t]).map((function(e){return[t].concat(e)})):[[t]]}))):[[]]}function mP(e){var t;return(t=[]).concat.apply(t,KO([],qO(e),!1))}function yP(e){return kP(e)?e:[e]}function bP(e){return void 0===e?[]:yP(e)}function wP(e,t,n){var r,o;if(AP(e))return e(t,n.data);var i={};try{for(var a=VO(Object.keys(e)),s=a.next();!s.done;s=a.next()){var u=s.value,c=e[u];AP(c)?i[u]=c(t,n.data):i[u]=c}}catch(e){r={error:e}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return i}function SP(e){return e instanceof Promise||!(null===e||!AP(e)&&"object"!=typeof e||!AP(e.then))}function xP(e,t){var n,r,o=qO([[],[]],2),i=o[0],a=o[1];try{for(var s=VO(e),u=s.next();!u.done;u=s.next()){var c=u.value;t(c)?i.push(c):a.push(c)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return[i,a]}function _P(e,t){return hP(e.states,(function(e,n){if(e){var r=(TP(t)?void 0:t[n])||(e?e.current:void 0);if(r)return{current:r,states:_P(e,r)}}}))}function EP(e,t,n,r){return e?n.reduce((function(e,n){var o,i,a=n.assignment,s={state:r,action:n,_event:t},u={};if(AP(a))u=a(e,t.data,s);else try{for(var c=VO(Object.keys(a)),l=c.next();!l.done;l=c.next()){var d=l.value,f=a[d];u[d]=AP(f)?f(e,t.data,s):f}}catch(e){o={error:e}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(o)throw o.error}}return Object.assign({},e,u)}),e):e}var CP=function(){};function kP(e){return Array.isArray(e)}function AP(e){return"function"==typeof e}function TP(e){return"string"==typeof e}function IP(e,t){if(e)return TP(e)?{type:"xstate.guard",name:e,predicate:t?t[e]:void 0}:AP(e)?{type:"xstate.guard",name:e.name,predicate:e}:e}function NP(e){try{return"subscribe"in e&&AP(e.subscribe)}catch(e){return!1}}var OP=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();(HO={})[OP]=function(){return this},HO[Symbol.observable]=function(){return this};function PP(e){return!!e&&"__xstatenode"in e}var jP=function(){var e=0;return function(){return(++e).toString(16)}}();function RP(e,t){return TP(e)||"number"==typeof e?BO({type:e},t):e}function MP(e,t){if(!TP(e)&&"$$type"in e&&"scxml"===e.$$type)return e;var n=RP(e);return BO({name:n.type,data:n,$$type:"scxml",type:"external"},t)}function UP(e,t){return yP(t).map((function(t){return void 0===t||"string"==typeof t||PP(t)?{target:t,event:e}:BO(BO({},t),{event:e})}))}function LP(e){if(void 0!==e&&""!==e)return bP(e)}function DP(e,t,n,r,o){var i=e.options.guards,a={state:o,cond:t,_event:r};if("xstate.guard"===t.type)return((null==i?void 0:i[t.name])||t.predicate)(n,r.data,a);var s=null==i?void 0:i[t.type];if(!s)throw new Error("Guard '".concat(t.type,"' is not implemented on machine '").concat(e.id,"'."));return s(n,r.data,a)}function FP(e){return"string"==typeof e?{type:e}:e}function BP(e,t,n){if("object"==typeof e)return e;var r=function(){};return{next:e,error:t||r,complete:n||r}}function zP(e,t){return"".concat(e,":invocation[").concat(t,"]")}var VP=MP({type:eP});function qP(e,t){return t&&t[e]||void 0}function KP(e,t){var n;if(TP(e)||"number"==typeof e)n=AP(r=qP(e,t))?{type:e,exec:r}:r||{type:e,exec:void 0};else if(AP(e))n={type:e.name||e.toString(),exec:e};else{var r;if(AP(r=qP(e.type,t)))n=BO(BO({},e),{exec:r});else if(r){var o=r.type||e.type;n=BO(BO(BO({},r),e),{type:o})}else n=e}return n}var HP=function(e,t){return e?(kP(e)?e:[e]).map((function(e){return KP(e,t)})):[]};function GP(e){var t=KP(e);return BO(BO({id:TP(e)?e:t.id},t),{type:t.type})}function WP(e){return TP(e)?{type:$O,event:e}:$P(e,{to:jO.Internal})}function $P(e,t){return{to:t?t.to:void 0,type:YO,event:AP(e)?e:RP(e),delay:t?t.delay:void 0,id:t&&void 0!==t.id?t.id:AP(e)?e.name:cP(e)}}function YP(e,t){return $P(e,BO(BO({},t),{to:jO.Parent}))}function JP(e){var t=GP(e);return{type:OO.Start,activity:t,exec:void 0}}function QP(e){var t=AP(e)?e:GP(e);return{type:OO.Stop,activity:t,exec:void 0}}function ZP(e,t){var n=t?"#".concat(t):"";return"".concat(OO.After,"(").concat(e,")").concat(n)}function XP(e,t){var n="".concat(OO.DoneState,".").concat(e),r={type:n,data:t,toString:function(){return n}};return r}function ej(e,t){var n="".concat(OO.DoneInvoke,".").concat(e),r={type:n,data:t,toString:function(){return n}};return r}function tj(e,t){var n="".concat(OO.ErrorPlatform,".").concat(e),r={type:n,data:t,toString:function(){return n}};return r}function nj(e,t,n,r,o,i){void 0===i&&(i=!1);var a=qO(i?[[],o]:xP(o,(function(e){return e.type===ZO})),2),s=a[0],u=a[1],c=s.length?EP(n,r,s,t):n,l=i?[n]:void 0,d=mP(u.map((function(n){var o;switch(n.type){case $O:return{type:$O,_event:MP(n.event)};case YO:var a=function(e,t,n,r){var o,i={_event:n},a=MP(AP(e.event)?e.event(t,n.data,i):e.event);if(TP(e.delay)){var s=r&&r[e.delay];o=AP(s)?s(t,n.data,i):s}else o=AP(e.delay)?e.delay(t,n.data,i):e.delay;var u=AP(e.to)?e.to(t,n.data,i):e.to;return BO(BO({},e),{to:u,_event:a,event:a.data,delay:o})}(n,c,r,e.options.delays);return a;case XO:return function(e,t,n){return BO(BO({},e),{value:TP(e.expr)?e.expr:e.expr(t,n.data,{_event:n})})}(n,c,r);case iP:if(!(f=null===(o=n.conds.find((function(n){var o=IP(n.cond,e.options.guards);return!o||DP(e,o,c,r,t)})))||void 0===o?void 0:o.actions))return[];var s=qO(nj(e,t,c,r,HP(bP(f),e.options.actions),i),2),u=s[0],d=s[1];return c=d,null==l||l.push(c),u;case aP:var f;if(!(f=n.get(c,r.data)))return[];var h=qO(nj(e,t,c,r,HP(bP(f),e.options.actions),i),2),p=h[0],v=h[1];return c=v,null==l||l.push(c),p;case WO:return function(e,t,n){var r=AP(e.activity)?e.activity(t,n.data):e.activity,o="string"==typeof r?{id:r}:r;return{type:OO.Stop,activity:o}}(n,c,r);case ZO:c=EP(c,r,[n],t),null==l||l.push(c);break;default:var g=KP(n,e.options.actions),m=g.exec;if(m&&l){var y=l.length-1;g=BO(BO({},g),{exec:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.apply(void 0,KO([l[y]],qO(t),!1))}})}return g}})).filter((function(e){return!!e})));return[d,c]}var rj=function(e){return"atomic"===e.type||"final"===e.type};function oj(e){return Object.keys(e.states).map((function(t){return e.states[t]})).filter((function(e){return"history"!==e.type}))}function ij(e){var t=[e];return rj(e)?t:t.concat(mP(oj(e).map(ij)))}function aj(e,t){var n,r,o,i,a,s,u,c,l=uj(new Set(e)),d=new Set(t);try{for(var f=VO(d),h=f.next();!h.done;h=f.next())for(var p=(_=h.value).parent;p&&!d.has(p);)d.add(p),p=p.parent}catch(e){n={error:e}}finally{try{h&&!h.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}var v=uj(d);try{for(var g=VO(d),m=g.next();!m.done;m=g.next()){if("compound"!==(_=m.value).type||v.get(_)&&v.get(_).length){if("parallel"===_.type)try{for(var y=(a=void 0,VO(oj(_))),b=y.next();!b.done;b=y.next()){var w=b.value;d.has(w)||(d.add(w),l.get(w)?l.get(w).forEach((function(e){return d.add(e)})):w.initialStateNodes.forEach((function(e){return d.add(e)})))}}catch(e){a={error:e}}finally{try{b&&!b.done&&(s=y.return)&&s.call(y)}finally{if(a)throw a.error}}}else l.get(_)?l.get(_).forEach((function(e){return d.add(e)})):_.initialStateNodes.forEach((function(e){return d.add(e)}))}}catch(e){o={error:e}}finally{try{m&&!m.done&&(i=g.return)&&i.call(g)}finally{if(o)throw o.error}}try{for(var S=VO(d),x=S.next();!x.done;x=S.next()){var _;for(p=(_=x.value).parent;p&&!d.has(p);)d.add(p),p=p.parent}}catch(e){u={error:e}}finally{try{x&&!x.done&&(c=S.return)&&c.call(S)}finally{if(u)throw u.error}}return d}function sj(e,t){var n=t.get(e);if(!n)return{};if("compound"===e.type){var r=n[0];if(!r)return{};if(rj(r))return r.key}var o={};return n.forEach((function(e){o[e.key]=sj(e,t)})),o}function uj(e){var t,n,r=new Map;try{for(var o=VO(e),i=o.next();!i.done;i=o.next()){var a=i.value;r.has(a)||r.set(a,[]),a.parent&&(r.has(a.parent)||r.set(a.parent,[]),r.get(a.parent).push(a))}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}function cj(e,t){return sj(e,uj(aj([e],t)))}function lj(e,t){return Array.isArray(e)?e.some((function(e){return e===t})):e instanceof Set&&e.has(t)}function dj(e){return KO([],qO(new Set(mP(KO([],qO(e.map((function(e){return e.ownEvents}))),!1)))),!1)}function fj(e,t){return"compound"===t.type?oj(t).some((function(t){return"final"===t.type&&lj(e,t)})):"parallel"===t.type&&oj(t).every((function(t){return fj(e,t)}))}function hj(e){return new Set(mP(e.map((function(e){return e.tags}))))}function pj(e,t){if(e===t)return!0;if(void 0===e||void 0===t)return!1;if(TP(e)||TP(t))return e===t;var n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every((function(n){return pj(e[n],t[n])}))}function vj(e){return"object"==typeof e&&null!==e&&("value"in e&&"_event"in e)}var gj=function(){function e(e){var t,n,r=this;this.actions=[],this.activities=sP,this.meta={},this.events=[],this.value=e.value,this.context=e.context,this._event=e._event,this._sessionid=e._sessionid,this.event=this._event.data,this.historyValue=e.historyValue,this.history=e.history,this.actions=e.actions||[],this.activities=e.activities||sP,this.meta=(void 0===(n=e.configuration)&&(n=[]),n.reduce((function(e,t){return void 0!==t.meta&&(e[t.id]=t.meta),e}),{})),this.events=e.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=e.configuration,this.transitions=e.transitions,this.children=e.children,this.done=!!e.done,this.tags=null!==(t=Array.isArray(e.tags)?new Set(e.tags):e.tags)&&void 0!==t?t:new Set,this.machine=e.machine,Object.defineProperty(this,"nextEvents",{get:function(){return dj(r.configuration)}})}return e.from=function(t,n){return t instanceof e?t.context!==n?new e({value:t.value,context:n,_event:t._event,_sessionid:null,historyValue:t.historyValue,history:t.history,actions:[],activities:t.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):t:new e({value:t,context:n,_event:VP,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},e.create=function(t){return new e(t)},e.inert=function(t,n){if(t instanceof e){if(!t.actions.length)return t;var r=VP;return new e({value:t.value,context:n,_event:r,_sessionid:null,historyValue:t.historyValue,history:t.history,activities:t.activities,configuration:t.configuration,transitions:[],children:{}})}return e.from(t,n)},e.prototype.toStrings=function(e,t){var n=this;if(void 0===e&&(e=this.value),void 0===t&&(t="."),TP(e))return[e];var r=Object.keys(e);return r.concat.apply(r,KO([],qO(r.map((function(r){return n.toStrings(e[r],t).map((function(e){return r+t+e}))}))),!1))},e.prototype.toJSON=function(){var e=this;e.configuration,e.transitions;var t=e.tags;e.machine;var n=zO(e,["configuration","transitions","tags","machine"]);return BO(BO({},n),{tags:Array.from(t)})},e.prototype.matches=function(e){return uP(e,this.value)},e.prototype.hasTag=function(e){return this.tags.has(e)},e.prototype.can=function(e){var t;CP(!!this.machine,"state.can(...) used outside of a machine-created State object; this will always return false.");var n=null===(t=this.machine)||void 0===t?void 0:t.getTransitionData(this,e);return!!(null==n?void 0:n.transitions.length)&&n.transitions.some((function(e){return void 0!==e.target||e.actions.length}))},e}(),mj={deferEvents:!1},yj=function(){function e(e){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=BO(BO({},mj),e)}return e.prototype.initialize=function(e){if(this.initialized=!0,e){if(!this.options.deferEvents)return void this.schedule(e);this.process(e)}this.flushEvents()},e.prototype.schedule=function(e){if(this.initialized&&!this.processingEvent){if(0!==this.queue.length)throw new Error("Event queue should be empty when it is not processing events");this.process(e),this.flushEvents()}else this.queue.push(e)},e.prototype.clear=function(){this.queue=[]},e.prototype.flushEvents=function(){for(var e=this.queue.shift();e;)this.process(e),e=this.queue.shift()},e.prototype.process=function(e){this.processingEvent=!0;try{e()}catch(e){throw this.clear(),e}finally{this.processingEvent=!1}},e}(),bj=[],wj=function(e,t){bj.push(e);var n=t(e);return bj.pop(),n};function Sj(e){var t;return(t={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:e}}})[OP]=function(){return this},t}function xj(e,t,n,r){var o,i=FP(e.src),a=null===(o=null==t?void 0:t.options.services)||void 0===o?void 0:o[i.type],s=e.data?wP(e.data,n,r):void 0,u=a?_j(a,e.id,s):Sj(e.id);return u.meta=e,u}function _j(e,t,n){var r=Sj(t);if(r.deferred=!0,PP(e)){var o=r.state=wj(void 0,(function(){return(n?e.withContext(n):e).initialState}));r.getSnapshot=function(){return o}}return r}var Ej=new Map,Cj=0,kj={bookId:function(){return"x:".concat(Cj++)},register:function(e,t){return Ej.set(e,t),e},get:function(e){return Ej.get(e)},free:function(e){Ej.delete(e)}};function Aj(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:void 0}function Tj(e){if(Aj()){var t=function(){var e=Aj();if(e&&"__xstate__"in e)return e.__xstate__}();t&&t.register(e)}}function Ij(e,t){void 0===t&&(t={});var n,r,o=e.initialState,i=new Set,a=[],s=!1,u=(n={id:t.id,send:function(t){a.push(t),function(){if(!s){for(s=!0;a.length>0;){var t=a.shift();o=e.transition(o,t,c),i.forEach((function(e){return e.next(o)}))}s=!1}}()},getSnapshot:function(){return o},subscribe:function(e,t,n){var r=BP(e,t,n);return i.add(r),r.next(o),{unsubscribe:function(){i.delete(r)}}}},BO(((r={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}})[OP]=function(){return this},r),n)),c={parent:t.parent,self:u,id:t.id||"anonymous",observers:i};return o=e.start?e.start(c):o,u}var Nj,Oj,Pj={sync:!1,autoForward:!1};(Oj=Nj||(Nj={}))[Oj.NotStarted=0]="NotStarted",Oj[Oj.Running=1]="Running",Oj[Oj.Stopped=2]="Stopped";var jj=function(){function e(t,n){var r=this;void 0===n&&(n=e.defaultOptions),this.machine=t,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=Nj.NotStarted,this.children=new Map,this.forwardTo=new Set,this.init=this.start,this.send=function(e,t){if(kP(e))return r.batch(e),r.state;var n=MP(RP(e,t));if(r.status===Nj.Stopped)return r.state;if(r.status!==Nj.Running&&!r.options.deferEvents)throw new Error('Event "'.concat(n.name,'" was sent to uninitialized service "').concat(r.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.\nEvent: ').concat(JSON.stringify(n.data)));return r.scheduler.schedule((function(){r.forward(n);var e=r.nextState(n);r.update(e,n)})),r._state},this.sendTo=function(e,t){var n,o=r.parent&&(t===jO.Parent||r.parent.id===t),i=o?r.parent:TP(t)?r.children.get(t)||kj.get(t):(n=t)&&"function"==typeof n.send?t:void 0;if(i)"machine"in i?i.send(BO(BO({},e),{name:e.name===rP?"".concat(tj(r.id)):e.name,origin:r.sessionId})):i.send(e.data);else if(!o)throw new Error("Unable to send event to child '".concat(t,"' from service '").concat(r.id,"'."))};var o=BO(BO({},e.defaultOptions),n),i=o.clock,a=o.logger,s=o.parent,u=o.id,c=void 0!==u?u:t.id;this.id=c,this.logger=a,this.clock=i,this.parent=s,this.options=o,this.scheduler=new yj({deferEvents:this.options.deferEvents}),this.sessionId=kj.bookId()}return Object.defineProperty(e.prototype,"initialState",{get:function(){var e=this;return this._initialState?this._initialState:wj(this,(function(){return e._initialState=e.machine.initialState,e._initialState}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),e.prototype.execute=function(e,t){var n,r;try{for(var o=VO(e.actions),i=o.next();!i.done;i=o.next()){var a=i.value;this.exec(a,e,t)}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.update=function(e,t){var n,r,o,i,a,s,u,c,l=this;if(e._sessionid=this.sessionId,this._state=e,this.options.execute&&this.execute(this.state),this.children.forEach((function(e){l.state.children[e.id]=e})),this.devTools&&this.devTools.send(t.data,e),e.event)try{for(var d=VO(this.eventListeners),f=d.next();!f.done;f=d.next()){(0,f.value)(e.event)}}catch(e){n={error:e}}finally{try{f&&!f.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}try{for(var h=VO(this.listeners),p=h.next();!p.done;p=h.next()){(0,p.value)(e,e.event)}}catch(e){o={error:e}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(o)throw o.error}}try{for(var v=VO(this.contextListeners),g=v.next();!g.done;g=v.next()){(0,g.value)(this.state.context,this.state.history?this.state.history.context:void 0)}}catch(e){a={error:e}}finally{try{g&&!g.done&&(s=v.return)&&s.call(v)}finally{if(a)throw a.error}}var m=fj(e.configuration||[],this.machine);if(this.state.configuration&&m){var y=e.configuration.find((function(e){return"final"===e.type&&e.parent===l.machine})),b=y&&y.doneData?wP(y.doneData,e.context,t):void 0;try{for(var w=VO(this.doneListeners),S=w.next();!S.done;S=w.next()){(0,S.value)(ej(this.id,b))}}catch(e){u={error:e}}finally{try{S&&!S.done&&(c=w.return)&&c.call(w)}finally{if(u)throw u.error}}this.stop()}},e.prototype.onTransition=function(e){return this.listeners.add(e),this.status===Nj.Running&&e(this.state,this.state.event),this},e.prototype.subscribe=function(e,t,n){var r,o=this;if(!e)return{unsubscribe:function(){}};var i=n;return"function"==typeof e?r=e:(r=e.next.bind(e),i=e.complete.bind(e)),this.listeners.add(r),this.status!==Nj.NotStarted&&r(this.state),i&&(this.status===Nj.Stopped?i():this.onDone(i)),{unsubscribe:function(){r&&o.listeners.delete(r),i&&o.doneListeners.delete(i)}}},e.prototype.onEvent=function(e){return this.eventListeners.add(e),this},e.prototype.onSend=function(e){return this.sendListeners.add(e),this},e.prototype.onChange=function(e){return this.contextListeners.add(e),this},e.prototype.onStop=function(e){return this.stopListeners.add(e),this},e.prototype.onDone=function(e){return this.doneListeners.add(e),this},e.prototype.off=function(e){return this.listeners.delete(e),this.eventListeners.delete(e),this.sendListeners.delete(e),this.stopListeners.delete(e),this.doneListeners.delete(e),this.contextListeners.delete(e),this},e.prototype.start=function(e){var t=this;if(this.status===Nj.Running)return this;this.machine._init(),kj.register(this.sessionId,this),this.initialized=!0,this.status=Nj.Running;var n=void 0===e?this.initialState:wj(this,(function(){return vj(e)?t.machine.resolveState(e):t.machine.resolveState(gj.from(e,t.machine.context))}));return this.options.devTools&&this.attachDev(),this.scheduler.initialize((function(){t.update(n,VP)})),this},e.prototype.stop=function(){var e,t,n,r,o,i,a,s,u,c,l=this;try{for(var d=VO(this.listeners),f=d.next();!f.done;f=d.next()){var h=f.value;this.listeners.delete(h)}}catch(t){e={error:t}}finally{try{f&&!f.done&&(t=d.return)&&t.call(d)}finally{if(e)throw e.error}}try{for(var p=VO(this.stopListeners),v=p.next();!v.done;v=p.next()){(h=v.value)(),this.stopListeners.delete(h)}}catch(e){n={error:e}}finally{try{v&&!v.done&&(r=p.return)&&r.call(p)}finally{if(n)throw n.error}}try{for(var g=VO(this.contextListeners),m=g.next();!m.done;m=g.next()){h=m.value;this.contextListeners.delete(h)}}catch(e){o={error:e}}finally{try{m&&!m.done&&(i=g.return)&&i.call(g)}finally{if(o)throw o.error}}try{for(var y=VO(this.doneListeners),b=y.next();!b.done;b=y.next()){h=b.value;this.doneListeners.delete(h)}}catch(e){a={error:e}}finally{try{b&&!b.done&&(s=y.return)&&s.call(y)}finally{if(a)throw a.error}}if(!this.initialized)return this;KO([],qO(this.state.configuration),!1).sort((function(e,t){return t.order-e.order})).forEach((function(e){var t,n;try{for(var r=VO(e.definition.exit),o=r.next();!o.done;o=r.next()){var i=o.value;l.exec(i,l.state)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}})),this.children.forEach((function(e){AP(e.stop)&&e.stop()})),this.children.clear();try{for(var w=VO(Object.keys(this.delayedEventsMap)),S=w.next();!S.done;S=w.next()){var x=S.value;this.clock.clearTimeout(this.delayedEventsMap[x])}}catch(e){u={error:e}}finally{try{S&&!S.done&&(c=w.return)&&c.call(w)}finally{if(u)throw u.error}}return this.scheduler.clear(),this.scheduler=new yj({deferEvents:this.options.deferEvents}),this.initialized=!1,this.status=Nj.Stopped,this._initialState=void 0,kj.free(this.sessionId),this},e.prototype.batch=function(e){var t=this;if(this.status===Nj.NotStarted&&this.options.deferEvents)0;else if(this.status!==Nj.Running)throw new Error("".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'));this.scheduler.schedule((function(){var n,r,o=t.state,i=!1,a=[],s=function(e){var n=MP(e);t.forward(n),o=wj(t,(function(){return t.machine.transition(o,n)})),a.push.apply(a,KO([],qO(o.actions.map((function(e){return n=o,r=(t=e).exec,BO(BO({},t),{exec:void 0!==r?function(){return r(n.context,n.event,{action:t,state:n,_event:n._event})}:void 0});var t,n,r}))),!1)),i=i||!!o.changed};try{for(var u=VO(e),c=u.next();!c.done;c=u.next()){s(c.value)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}o.changed=i,o.actions=a,t.update(o,MP(e[e.length-1]))}))},e.prototype.sender=function(e){return this.send.bind(this,e)},e.prototype.nextState=function(e){var t=this,n=MP(e);if(0===n.name.indexOf(nP)&&!this.state.nextEvents.some((function(e){return 0===e.indexOf(nP)})))throw n.data.data;return wj(this,(function(){return t.machine.transition(t.state,n)}))},e.prototype.forward=function(e){var t,n;try{for(var r=VO(this.forwardTo),o=r.next();!o.done;o=r.next()){var i=o.value,a=this.children.get(i);if(!a)throw new Error("Unable to forward event '".concat(e,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(i,"'."));a.send(e)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.defer=function(e){var t=this;this.delayedEventsMap[e.id]=this.clock.setTimeout((function(){e.to?t.sendTo(e._event,e.to):t.send(e._event)}),e.delay)},e.prototype.cancel=function(e){this.clock.clearTimeout(this.delayedEventsMap[e]),delete this.delayedEventsMap[e]},e.prototype.exec=function(e,t,n){void 0===n&&(n=this.machine.options.actions);var r=t.context,o=t._event,i=e.exec||qP(e.type,n),a=AP(i)?i:i?i.exec:e.exec;if(a)try{return a(r,o.data,{action:e,state:this.state,_event:o})}catch(e){throw this.parent&&this.parent.send({type:"xstate.error",data:e}),e}switch(e.type){case YO:var s=e;if("number"==typeof s.delay)return void this.defer(s);s.to?this.sendTo(s._event,s.to):this.send(s._event);break;case JO:this.cancel(e.sendId);break;case GO:if(this.status!==Nj.Running)return;var u=e.activity;if(!this.state.activities[u.id||u.type])break;if(u.type===OO.Invoke){var c=FP(u.src),l=this.machine.options.services?this.machine.options.services[c.type]:void 0,d=u.id,f=u.data;0;var h="autoForward"in u?u.autoForward:!!u.forward;if(!l)return void 0;var p=f?wP(f,r,o):void 0;if("string"==typeof l)return;var v=AP(l)?l(r,o.data,{data:p,src:c,meta:u.meta}):l;if(!v)return;var g=void 0;PP(v)&&(v=p?v.withContext(p):v,g={autoForward:h}),this.spawn(v,d,g)}else this.spawnActivity(u);break;case WO:this.stopChild(e.activity.id);break;case XO:var m=e.label,y=e.value;m?this.logger(m,y):this.logger(y)}},e.prototype.removeChild=function(e){var t;this.children.delete(e),this.forwardTo.delete(e),null===(t=this.state)||void 0===t||delete t.children[e]},e.prototype.stopChild=function(e){var t=this.children.get(e);t&&(this.removeChild(e),AP(t.stop)&&t.stop())},e.prototype.spawn=function(e,t,n){if(SP(e))return this.spawnPromise(Promise.resolve(e),t);if(AP(e))return this.spawnCallback(e,t);if(function(e){try{return"function"==typeof e.send}catch(e){return!1}}(o=e)&&"id"in o)return this.spawnActor(e,t);if(NP(e))return this.spawnObservable(e,t);if(PP(e))return this.spawnMachine(e,BO(BO({},n),{id:t}));if(null!==(r=e)&&"object"==typeof r&&"transition"in r&&"function"==typeof r.transition)return this.spawnBehavior(e,t);throw new Error('Unable to spawn entity "'.concat(t,'" of type "').concat(typeof e,'".'));var r,o},e.prototype.spawnMachine=function(t,n){var r=this;void 0===n&&(n={});var o=new e(t,BO(BO({},this.options),{parent:this,id:n.id||t.id})),i=BO(BO({},Pj),n);i.sync&&o.onTransition((function(e){r.send(oP,{state:e,id:o.id})}));var a=o;return this.children.set(o.id,a),i.autoForward&&this.forwardTo.add(o.id),o.onDone((function(e){r.removeChild(o.id),r.send(MP(e,{origin:o.id}))})).start(),a},e.prototype.spawnBehavior=function(e,t){var n=Ij(e,{id:t,parent:this});return this.children.set(t,n),n},e.prototype.spawnPromise=function(e,t){var n,r,o=this,i=!1;e.then((function(e){i||(r=e,o.removeChild(t),o.send(MP(ej(t,e),{origin:t})))}),(function(e){if(!i){o.removeChild(t);var n=tj(t,e);try{o.send(MP(n,{origin:t}))}catch(e){o.devTools&&o.devTools.send(n,o.state),o.machine.strict&&o.stop()}}}));var a=((n={id:t,send:function(){},subscribe:function(t,n,r){var o=BP(t,n,r),i=!1;return e.then((function(e){i||(o.next(e),i||o.complete())}),(function(e){i||o.error(e)})),{unsubscribe:function(){return i=!0}}},stop:function(){i=!0},toJSON:function(){return{id:t}},getSnapshot:function(){return r}})[OP]=function(){return this},n);return this.children.set(t,a),a},e.prototype.spawnCallback=function(e,t){var n,r,o,i=this,a=!1,s=new Set,u=new Set;try{o=e((function(e){r=e,u.forEach((function(t){return t(e)})),a||i.send(MP(e,{origin:t}))}),(function(e){s.add(e)}))}catch(e){this.send(tj(t,e))}if(SP(o))return this.spawnPromise(o,t);var c=((n={id:t,send:function(e){return s.forEach((function(t){return t(e)}))},subscribe:function(e){var t=BP(e);return u.add(t.next),{unsubscribe:function(){u.delete(t.next)}}},stop:function(){a=!0,AP(o)&&o()},toJSON:function(){return{id:t}},getSnapshot:function(){return r}})[OP]=function(){return this},n);return this.children.set(t,c),c},e.prototype.spawnObservable=function(e,t){var n,r,o=this,i=e.subscribe((function(e){r=e,o.send(MP(e,{origin:t}))}),(function(e){o.removeChild(t),o.send(MP(tj(t,e),{origin:t}))}),(function(){o.removeChild(t),o.send(MP(ej(t),{origin:t}))})),a=((n={id:t,send:function(){},subscribe:function(t,n,r){return e.subscribe(t,n,r)},stop:function(){return i.unsubscribe()},getSnapshot:function(){return r},toJSON:function(){return{id:t}}})[OP]=function(){return this},n);return this.children.set(t,a),a},e.prototype.spawnActor=function(e,t){return this.children.set(t,e),e},e.prototype.spawnActivity=function(e){var t=this.machine.options&&this.machine.options.activities?this.machine.options.activities[e.type]:void 0;if(t){var n=t(this.state.context,e);this.spawnEffect(e.id,n)}},e.prototype.spawnEffect=function(e,t){var n;this.children.set(e,((n={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:t||void 0,getSnapshot:function(){},toJSON:function(){return{id:e}}})[OP]=function(){return this},n))},e.prototype.attachDev=function(){var e=Aj();if(this.options.devTools&&e){if(e.__REDUX_DEVTOOLS_EXTENSION__){var t="object"==typeof this.options.devTools?this.options.devTools:void 0;this.devTools=e.__REDUX_DEVTOOLS_EXTENSION__.connect(BO(BO({name:this.id,autoPause:!0,stateSanitizer:function(e){return{value:e.value,context:e.context,actions:e.actions}}},t),{features:BO({jump:!1,skip:!1},t?t.features:void 0)}),this.machine),this.devTools.init(this.state)}Tj(this)}},e.prototype.toJSON=function(){return{id:this.id}},e.prototype[OP]=function(){return this},e.prototype.getSnapshot=function(){return this.status===Nj.NotStarted?this.initialState:this._state},e.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(e,t){return setTimeout(e,t)},clearTimeout:function(e){return clearTimeout(e)}},logger:console.log.bind(console),devTools:!1},e.interpret=Mj,e}();function Rj(e,t){var n=function(e){return TP(e)?BO(BO({},Pj),{name:e}):BO(BO(BO({},Pj),{name:jP()}),e)}(t);return function(t){return t?t.spawn(e,n.name,n):_j(e,n.name)}(bj[bj.length-1])}function Mj(e,t){return new jj(e,t)}function Uj(e){if("string"==typeof e){var t={type:e,toString:function(){return e}};return t}return e}function Lj(e){return BO(BO({type:tP},e),{toJSON:function(){e.onDone,e.onError;var t=zO(e,["onDone","onError"]);return BO(BO({},t),{type:tP,src:Uj(e.src)})}})}var Dj={},Fj=function(e){return"#"===e[0]},Bj=function(){function e(t,n,r,o){var i,a=this;void 0===r&&(r="context"in t?t.context:void 0),this.config=t,this._context=r,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign({actions:{},guards:{},services:{},activities:{},delays:{}},n),this.parent=null==o?void 0:o.parent,this.key=this.config.key||(null==o?void 0:o.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:"."),this.id=this.config.id||KO([this.machine.key],qO(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:null!==(i=this.config.schema)&&void 0!==i?i:{},this.description=this.config.description,this.initial=this.config.initial,this.states=this.config.states?hP(this.config.states,(function(t,n){var r,o=new e(t,{},void 0,{parent:a,key:n});return Object.assign(a.idMap,BO(((r={})[o.id]=o,r),o.idMap)),o})):Dj;var s=0;!function e(t){var n,r;t.order=s++;try{for(var o=VO(oj(t)),i=o.next();!i.done;i=o.next()){e(i.value)}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}(this),this.history=!0===this.config.history?"shallow":this.config.history||!1,this._transient=!!this.config.always||!!this.config.on&&(Array.isArray(this.config.on)?this.config.on.some((function(e){return""===e.event})):""in this.config.on),this.strict=!!this.config.strict,this.onEntry=bP(this.config.entry||this.config.onEntry).map((function(e){return KP(e)})),this.onExit=bP(this.config.exit||this.config.onExit).map((function(e){return KP(e)})),this.meta=this.config.meta,this.doneData="final"===this.type?this.config.data:void 0,this.invoke=bP(this.config.invoke).map((function(e,t){var n,r;if(PP(e)){var o=zP(a.id,t);return a.machine.options.services=BO(((n={})[o]=e,n),a.machine.options.services),Lj({src:o,id:o})}if(TP(e.src)){o=e.id||zP(a.id,t);return Lj(BO(BO({},e),{id:o,src:e.src}))}if(PP(e.src)||AP(e.src)){o=e.id||zP(a.id,t);return a.machine.options.services=BO(((r={})[o]=e.src,r),a.machine.options.services),Lj(BO(BO({id:o},e),{src:o}))}var i=e.src;return Lj(BO(BO({id:zP(a.id,t)},e),{src:i}))})),this.activities=bP(this.config.activities).concat(this.invoke).map((function(e){return GP(e)})),this.transition=this.transition.bind(this),this.tags=bP(this.config.tags)}return e.prototype._init=function(){this.__cache.transitions||ij(this).forEach((function(e){return e.on}))},e.prototype.withConfig=function(t,n){var r=this.options,o=r.actions,i=r.activities,a=r.guards,s=r.services,u=r.delays;return new e(this.config,{actions:BO(BO({},o),t.actions),activities:BO(BO({},i),t.activities),guards:BO(BO({},a),t.guards),services:BO(BO({},s),t.services),delays:BO(BO({},u),t.delays)},null!=n?n:this.context)},e.prototype.withContext=function(t){return new e(this.config,this.options,t)},Object.defineProperty(e.prototype,"context",{get:function(){return AP(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:hP(this.states,(function(e){return e.definition})),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return this.definition},Object.defineProperty(e.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var e=this.transitions;return this.__cache.on=e.reduce((function(e,t){return e[t.eventType]=e[t.eventType]||[],e[t.eventType].push(t),e}),{})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),e.prototype.getCandidates=function(e){if(this.__cache.candidates[e])return this.__cache.candidates[e];var t=""===e,n=this.transitions.filter((function(n){var r=n.eventType===e;return t?r:r||"*"===n.eventType}));return this.__cache.candidates[e]=n,n},e.prototype.getDelayedTransitions=function(){var e=this,t=this.config.after;if(!t)return[];var n=function(t,n){var r=ZP(AP(t)?"".concat(e.id,":delay[").concat(n,"]"):t,e.id);return e.onEntry.push($P(r,{delay:t})),e.onExit.push({type:JO,sendId:r}),r};return(kP(t)?t.map((function(e,t){var r=n(e.delay,t);return BO(BO({},e),{event:r})})):mP(Object.keys(t).map((function(e,r){var o=t[e],i=TP(o)?{target:o}:o,a=isNaN(+e)?e:+e,s=n(a,r);return bP(i).map((function(e){return BO(BO({},e),{event:s,delay:a})}))})))).map((function(t){var n=t.delay;return BO(BO({},e.formatTransition(t)),{delay:n})}))},e.prototype.getStateNodes=function(e){var t,n=this;if(!e)return[];var r=e instanceof gj?e.value:dP(e,this.delimiter);if(TP(r)){var o=this.getStateNode(r).initial;return void 0!==o?this.getStateNodes(((t={})[r]=o,t)):[this,this.states[r]]}var i=Object.keys(r),a=[this];return a.push.apply(a,KO([],qO(mP(i.map((function(e){return n.getStateNode(e).getStateNodes(r[e])})))),!1)),a},e.prototype.handles=function(e){var t=cP(e);return this.events.includes(t)},e.prototype.resolveState=function(e){var t=e instanceof gj?e:gj.create(e),n=Array.from(aj([],this.getStateNodes(t.value)));return new gj(BO(BO({},t),{value:this.resolve(t.value),configuration:n,done:fj(n,this),tags:hj(n),machine:this.machine}))},e.prototype.transitionLeafNode=function(e,t,n){var r=this.getStateNode(e).next(t,n);return r&&r.transitions.length?r:this.next(t,n)},e.prototype.transitionCompoundNode=function(e,t,n){var r=Object.keys(e),o=this.getStateNode(r[0])._transition(e[r[0]],t,n);return o&&o.transitions.length?o:this.next(t,n)},e.prototype.transitionParallelNode=function(e,t,n){var r,o,i={};try{for(var a=VO(Object.keys(e)),s=a.next();!s.done;s=a.next()){var u=s.value,c=e[u];if(c){var l=this.getStateNode(u)._transition(c,t,n);l&&(i[u]=l)}}}catch(e){r={error:e}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}var d=Object.keys(i).map((function(e){return i[e]})),f=mP(d.map((function(e){return e.transitions})));if(!d.some((function(e){return e.transitions.length>0})))return this.next(t,n);var h=mP(d.map((function(e){return e.entrySet}))),p=mP(Object.keys(i).map((function(e){return i[e].configuration})));return{transitions:f,entrySet:h,exitSet:mP(d.map((function(e){return e.exitSet}))),configuration:p,source:t,actions:mP(Object.keys(i).map((function(e){return i[e].actions})))}},e.prototype._transition=function(e,t,n){return TP(e)?this.transitionLeafNode(e,t,n):1===Object.keys(e).length?this.transitionCompoundNode(e,t,n):this.transitionParallelNode(e,t,n)},e.prototype.getTransitionData=function(e,t){return this._transition(e.value,e,MP(t))},e.prototype.next=function(e,t){var n,r,o,i=this,a=t.name,s=[],u=[];try{for(var c=VO(this.getCandidates(a)),l=c.next();!l.done;l=c.next()){var d=l.value,f=d.cond,h=d.in,p=e.context,v=!h||(TP(h)&&Fj(h)?e.matches(dP(this.getStateNodeById(h).path,this.delimiter)):uP(dP(h,this.delimiter),vP(this.path.slice(0,-2))(e.value))),g=!1;try{g=!f||DP(this.machine,f,p,t,e)}catch(e){throw new Error("Unable to evaluate guard '".concat(f.name||f.type,"' in transition for event '").concat(a,"' in state node '").concat(this.id,"':\n").concat(e.message))}if(g&&v){void 0!==d.target&&(u=d.target),s.push.apply(s,KO([],qO(d.actions),!1)),o=d;break}}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}if(o){if(!u.length)return{transitions:[o],entrySet:[],exitSet:[],configuration:e.value?[this]:[],source:e,actions:s};var m=mP(u.map((function(t){return i.getRelativeStateNodes(t,e.historyValue)}))),y=!!o.internal;return{transitions:[o],entrySet:y?[]:mP(m.map((function(e){return i.nodesFromChild(e)}))),exitSet:y?[]:[this],configuration:m,source:e,actions:s}}},e.prototype.nodesFromChild=function(e){if(e.escapes(this))return[];for(var t=[],n=e;n&&n!==this;)t.push(n),n=n.parent;return t.push(this),t},e.prototype.escapes=function(e){if(this===e)return!1;for(var t=this.parent;t;){if(t===e)return!1;t=t.parent}return!0},e.prototype.getActions=function(e,t,n,r){var o,i,a,s,u=aj([],r?this.getStateNodes(r.value):[this]),c=e.configuration.length?aj(u,e.configuration):u;try{for(var l=VO(c),d=l.next();!d.done;d=l.next()){lj(u,p=d.value)||e.entrySet.push(p)}}catch(e){o={error:e}}finally{try{d&&!d.done&&(i=l.return)&&i.call(l)}finally{if(o)throw o.error}}try{for(var f=VO(u),h=f.next();!h.done;h=f.next()){var p;lj(c,p=h.value)&&!lj(e.exitSet,p.parent)||e.exitSet.push(p)}}catch(e){a={error:e}}finally{try{h&&!h.done&&(s=f.return)&&s.call(f)}finally{if(a)throw a.error}}var v=mP(e.entrySet.map((function(r){var o=[];if("final"!==r.type)return o;var i=r.parent;if(!i.parent)return o;o.push(XP(r.id,r.doneData),XP(i.id,r.doneData?wP(r.doneData,t,n):void 0));var a=i.parent;return"parallel"===a.type&&oj(a).every((function(t){return fj(e.configuration,t)}))&&o.push(XP(a.id)),o})));e.exitSet.sort((function(e,t){return t.order-e.order})),e.entrySet.sort((function(e,t){return e.order-t.order}));var g=new Set(e.entrySet),m=new Set(e.exitSet),y=qO([mP(Array.from(g).map((function(e){return KO(KO([],qO(e.activities.map((function(e){return JP(e)}))),!1),qO(e.onEntry),!1)}))).concat(v.map(WP)),mP(Array.from(m).map((function(e){return KO(KO([],qO(e.onExit),!1),qO(e.activities.map((function(e){return QP(e)}))),!1)})))],2),b=y[0],w=y[1];return HP(w.concat(e.actions).concat(b),this.machine.options.actions)},e.prototype.transition=function(e,t,n){void 0===e&&(e=this.initialState);var r,o,i=MP(t);if(e instanceof gj)r=void 0===n?e:this.resolveState(gj.from(e,n));else{var a=TP(e)?this.resolve(fP(this.getResolvedPath(e))):this.resolve(e),s=null!=n?n:this.machine.context;r=this.resolveState(gj.from(a,s))}if(this.strict&&!this.events.includes(i.name)&&(o=i.name,!/^(done|error)\./.test(o)))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(i.name,"'"));var u=this._transition(r.value,r,i)||{transitions:[],configuration:[],entrySet:[],exitSet:[],source:r,actions:[]},c=aj([],this.getStateNodes(r.value)),l=u.configuration.length?aj(c,u.configuration):c;return u.configuration=KO([],qO(l),!1),this.resolveTransition(u,r,r.context,i)},e.prototype.resolveRaisedTransition=function(e,t,n){var r,o=e.actions;return(e=this.transition(e,t))._event=n,e.event=n.data,(r=e.actions).unshift.apply(r,KO([],qO(o),!1)),e},e.prototype.resolveTransition=function(e,t,n,r){var o,i,a=this;void 0===r&&(r=VP);var s=e.configuration,u=!t||e.transitions.length>0,c=u?cj(this.machine,s):void 0,l=t?t.historyValue?t.historyValue:e.source?this.machine.historyValue(t.value):void 0:void 0,d=this.getActions(e,n,r,t),f=t?BO({},t.activities):{};try{for(var h=VO(d),p=h.next();!p.done;p=h.next()){var v=p.value;v.type===GO?f[v.activity.id||v.activity.type]=v:v.type===WO&&(f[v.activity.id||v.activity.type]=!1)}}catch(e){o={error:e}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(o)throw o.error}}var g,m,y=qO(nj(this,t,n,r,d,this.machine.config.preserveActionOrder),2),b=y[0],w=y[1],S=qO(xP(b,(function(e){return e.type===$O||e.type===YO&&e.to===jO.Internal})),2),x=S[0],_=S[1],E=b.filter((function(e){var t;return e.type===GO&&(null===(t=e.activity)||void 0===t?void 0:t.type)===tP})),C=E.reduce((function(e,t){return e[t.activity.id]=xj(t.activity,a.machine,w,r),e}),t?BO({},t.children):{}),k=u?e.configuration:t?t.configuration:[],A=fj(k,this),T=new gj({value:c||t.value,context:w,_event:r,_sessionid:t?t._sessionid:null,historyValue:c?l?(g=l,m=c,{current:m,states:_P(g,m)}):void 0:t?t.historyValue:void 0,history:!c||e.source?t:void 0,actions:c?_:[],activities:c?f:t?t.activities:{},events:[],configuration:k,transitions:e.transitions,children:C,done:A,tags:hj(k),machine:this}),I=n!==w;T.changed=r.name===oP||I;var N=T.history;N&&delete N.history;var O=!A&&(this._transient||s.some((function(e){return e._transient})));if(!(u||O&&""!==r.name))return T;var P=T;if(!A)for(O&&(P=this.resolveRaisedTransition(P,{type:QO},r));x.length;){var j=x.shift();P=this.resolveRaisedTransition(P,j._event,r)}var R=P.changed||(N?!!P.actions.length||I||typeof N.value!=typeof P.value||!pj(P.value,N.value):void 0);return P.changed=R,P.history=N,P},e.prototype.getStateNode=function(e){if(Fj(e))return this.machine.getStateNodeById(e);if(!this.states)throw new Error("Unable to retrieve child state '".concat(e,"' from '").concat(this.id,"'; no child states exist."));var t=this.states[e];if(!t)throw new Error("Child state '".concat(e,"' does not exist on '").concat(this.id,"'"));return t},e.prototype.getStateNodeById=function(e){var t=Fj(e)?e.slice("#".length):e;if(t===this.id)return this;var n=this.machine.idMap[t];if(!n)throw new Error("Child state node '#".concat(t,"' does not exist on machine '").concat(this.id,"'"));return n},e.prototype.getStateNodeByPath=function(e){if("string"==typeof e&&Fj(e))try{return this.getStateNodeById(e.slice(1))}catch(e){}for(var t=lP(e,this.delimiter).slice(),n=this;t.length;){var r=t.shift();if(!r.length)break;n=n.getStateNode(r)}return n},e.prototype.resolve=function(e){var t,n=this;if(!e)return this.initialStateValue||Dj;switch(this.type){case"parallel":return hP(this.initialStateValue,(function(t,r){return t?n.getStateNode(r).resolve(e[r]||t):Dj}));case"compound":if(TP(e)){var r=this.getStateNode(e);return"parallel"===r.type||"compound"===r.type?((t={})[e]=r.initialStateValue,t):e}return Object.keys(e).length?hP(e,(function(e,t){return e?n.getStateNode(t).resolve(e):Dj})):this.initialStateValue||{};default:return e||Dj}},e.prototype.getResolvedPath=function(e){if(Fj(e)){var t=this.machine.idMap[e.slice("#".length)];if(!t)throw new Error("Unable to find state node '".concat(e,"'"));return t.path}return lP(e,this.delimiter)},Object.defineProperty(e.prototype,"initialStateValue",{get:function(){var e,t;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;if("parallel"===this.type)t=pP(this.states,(function(e){return e.initialStateValue||Dj}),(function(e){return!("history"===e.type)}));else if(void 0!==this.initial){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));t=rj(this.states[this.initial])?this.initial:((e={})[this.initial]=this.states[this.initial].initialStateValue,e)}else t={};return this.__cache.initialStateValue=t,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),e.prototype.getInitialState=function(e,t){this._init();var n=this.getStateNodes(e);return this.resolveTransition({configuration:n,entrySet:n,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,null!=t?t:this.machine.context,void 0)},Object.defineProperty(e.prototype,"initialState",{get:function(){var e=this.initialStateValue;if(!e)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){var e;if("history"===this.type){var t=this.config;e=TP(t.target)&&Fj(t.target)?fP(this.machine.getStateNodeById(t.target).path.slice(this.path.length-1)):t.target}return e},enumerable:!1,configurable:!0}),e.prototype.getRelativeStateNodes=function(e,t,n){return void 0===n&&(n=!0),n?"history"===e.type?e.resolveHistory(t):e.initialStateNodes:[e]},Object.defineProperty(e.prototype,"initialStateNodes",{get:function(){var e=this;return rj(this)?[this]:"compound"!==this.type||this.initial?mP(gP(this.initialStateValue).map((function(t){return e.getFromRelativePath(t)}))):[this]},enumerable:!1,configurable:!0}),e.prototype.getFromRelativePath=function(e){if(!e.length)return[this];var t=qO(e),n=t[0],r=t.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(n,"' from node with no states"));var o=this.getStateNode(n);if("history"===o.type)return o.resolveHistory();if(!this.states[n])throw new Error("Child state '".concat(n,"' does not exist on '").concat(this.id,"'"));return this.states[n].getFromRelativePath(r)},e.prototype.historyValue=function(e){if(Object.keys(this.states).length)return{current:e||this.initialStateValue,states:pP(this.states,(function(t,n){if(!e)return t.historyValue();var r=TP(e)?void 0:e[n];return t.historyValue(r||t.initialStateValue)}),(function(e){return!e.history}))}},e.prototype.resolveHistory=function(e){var t=this;if("history"!==this.type)return[this];var n=this.parent;if(!e){var r=this.target;return r?mP(gP(r).map((function(e){return n.getFromRelativePath(e)}))):n.initialStateNodes}var o,i,a=(o=n.path,i="states",function(e){var t,n,r=e;try{for(var a=VO(o),s=a.next();!s.done;s=a.next()){var u=s.value;r=r[i][u]}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return r})(e).current;return TP(a)?[n.getStateNode(a)]:mP(gP(a).map((function(e){return"deep"===t.history?n.getFromRelativePath(e):[n.states[e[0]]]})))},Object.defineProperty(e.prototype,"stateIds",{get:function(){var e=this,t=mP(Object.keys(this.states).map((function(t){return e.states[t].stateIds})));return[this.id].concat(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){var e,t,n,r;if(this.__cache.events)return this.__cache.events;var o=this.states,i=new Set(this.ownEvents);if(o)try{for(var a=VO(Object.keys(o)),s=a.next();!s.done;s=a.next()){var u=o[s.value];if(u.states)try{for(var c=(n=void 0,VO(u.events)),l=c.next();!l.done;l=c.next()){var d=l.value;i.add("".concat(d))}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return this.__cache.events=Array.from(i)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ownEvents",{get:function(){var e=new Set(this.transitions.filter((function(e){return!(!e.target&&!e.actions.length&&e.internal)})).map((function(e){return e.eventType})));return Array.from(e)},enumerable:!1,configurable:!0}),e.prototype.resolveTarget=function(e){var t=this;if(void 0!==e)return e.map((function(e){if(!TP(e))return e;var n=e[0]===t.delimiter;if(n&&!t.parent)return t.getStateNodeByPath(e.slice(1));var r=n?t.key+e:e;if(!t.parent)return t.getStateNodeByPath(r);try{return t.parent.getStateNodeByPath(r)}catch(e){throw new Error("Invalid transition definition for state node '".concat(t.id,"':\n").concat(e.message))}}))},e.prototype.formatTransition=function(e){var t=this,n=LP(e.target),r="internal"in e?e.internal:!n||n.some((function(e){return TP(e)&&e[0]===t.delimiter})),o=this.machine.options.guards,i=this.resolveTarget(n),a=BO(BO({},e),{actions:HP(bP(e.actions)),cond:IP(e.cond,o),target:i,source:this,internal:r,eventType:e.event,toJSON:function(){return BO(BO({},a),{target:a.target?a.target.map((function(e){return"#".concat(e.id)})):void 0,source:"#".concat(t.id)})}});return a},e.prototype.formatTransitions=function(){var e,t,n,r=this;if(this.config.on)if(Array.isArray(this.config.on))n=this.config.on;else{var o=this.config.on,i="*",a=o[i],s=void 0===a?[]:a,u=zO(o,["*"]);n=mP(Object.keys(u).map((function(e){var t=UP(e,u[e]);return t})).concat(UP("*",s)))}else n=[];var c=this.config.always?UP("",this.config.always):[],l=this.config.onDone?UP(String(XP(this.id)),this.config.onDone):[];var d=mP(this.invoke.map((function(e){var t=[];return e.onDone&&t.push.apply(t,KO([],qO(UP(String(ej(e.id)),e.onDone)),!1)),e.onError&&t.push.apply(t,KO([],qO(UP(String(tj(e.id)),e.onError)),!1)),t}))),f=this.after,h=mP(KO(KO(KO(KO([],qO(l),!1),qO(d),!1),qO(n),!1),qO(c),!1).map((function(e){return bP(e).map((function(e){return r.formatTransition(e)}))})));try{for(var p=VO(f),v=p.next();!v.done;v=p.next()){var g=v.value;h.push(g)}}catch(t){e={error:t}}finally{try{v&&!v.done&&(t=p.return)&&t.call(p)}finally{if(e)throw e.error}}return h},e}();function zj(e,t){return new Bj(e,t)}var Vj=function(e){return{type:ZO,assignment:e}},qj=function(){return YP(oP)},Kj={};Object.defineProperty(Kj,"__esModule",{value:!0});var Hj={};Object.defineProperty(Hj,"__esModule",{value:!0}),
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
Hj.__assign=function(){return Hj.__assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Hj.__assign.apply(this,arguments)},Hj.__read=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Hj.__rest=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Hj.__spreadArray=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Hj.__values=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};var Gj,Wj,$j={};Object.defineProperty($j,"__esModule",{value:!0}),$j.ActionTypes=void 0,(Gj=$j.ActionTypes||($j.ActionTypes={})).Start="xstate.start",Gj.Stop="xstate.stop",Gj.Raise="xstate.raise",Gj.Send="xstate.send",Gj.Cancel="xstate.cancel",Gj.NullEvent="",Gj.Assign="xstate.assign",Gj.After="xstate.after",Gj.DoneState="done.state",Gj.DoneInvoke="done.invoke",Gj.Log="xstate.log",Gj.Init="xstate.init",Gj.Invoke="xstate.invoke",Gj.ErrorExecution="error.execution",Gj.ErrorCommunication="error.communication",Gj.ErrorPlatform="error.platform",Gj.ErrorCustom="xstate.error",Gj.Update="xstate.update",Gj.Pure="xstate.pure",Gj.Choose="xstate.choose",$j.SpecialTargets=void 0,(Wj=$j.SpecialTargets||($j.SpecialTargets={})).Parent="#_parent",Wj.Internal="#_internal";var Yj={};Object.defineProperty(Yj,"__esModule",{value:!0});var Jj=$j.ActionTypes.Start,Qj=$j.ActionTypes.Stop,Zj=$j.ActionTypes.Raise,Xj=$j.ActionTypes.Send,eR=$j.ActionTypes.Cancel,tR=$j.ActionTypes.NullEvent,nR=$j.ActionTypes.Assign,rR=$j.ActionTypes.After,oR=$j.ActionTypes.DoneState,iR=$j.ActionTypes.Log,aR=$j.ActionTypes.Init,sR=$j.ActionTypes.Invoke,uR=$j.ActionTypes.ErrorExecution,cR=$j.ActionTypes.ErrorPlatform,lR=$j.ActionTypes.ErrorCustom,dR=$j.ActionTypes.Update,fR=$j.ActionTypes.Choose,hR=$j.ActionTypes.Pure;Yj.after=rR,Yj.assign=nR,Yj.cancel=eR,Yj.choose=fR,Yj.doneState=oR,Yj.error=lR,Yj.errorExecution=uR,Yj.errorPlatform=cR,Yj.init=aR,Yj.invoke=sR,Yj.log=iR,Yj.nullEvent=tR,Yj.pure=hR,Yj.raise=Zj,Yj.send=Xj,Yj.start=Jj,Yj.stop=Qj,Yj.update=dR;var pR={};Object.defineProperty(pR,"__esModule",{value:!0});var vR={};Object.defineProperty(vR,"__esModule",{value:!0});vR.DEFAULT_GUARD_TYPE="xstate.guard",vR.EMPTY_ACTIVITY_MAP={},vR.STATE_DELIMITER=".",vR.TARGETLESS_KEY="";var gR={};Object.defineProperty(gR,"__esModule",{value:!0});var mR;function yR(e,t){try{return AR(e)?e:e.toString().split(t)}catch(t){throw new Error("'".concat(e,"' is not a valid state path."))}}function bR(e){return"object"==typeof e&&"value"in e&&"context"in e&&"event"in e&&"_event"in e}function wR(e,t){return bR(e)?e.value:AR(e)?SR(e):"string"!=typeof e?e:SR(yR(e,t))}function SR(e){if(1===e.length)return e[0];for(var t={},n=t,r=0;r<e.length-1;r++)r===e.length-2?n[e[r]]=e[r+1]:(n[e[r]]={},n=n[e[r]]);return t}function xR(e,t){for(var n={},r=Object.keys(e),o=0;o<r.length;o++){var i=r[o];n[i]=t(e[i],i,e,o)}return n}gR.IS_PRODUCTION=!0;function _R(e){var t;return(t=[]).concat.apply(t,Hj.__spreadArray([],Hj.__read(e),!1))}function ER(e){return AR(e)?e:[e]}function CR(e){return void 0===e?[]:ER(e)}function kR(e,t){return xR(e.states,(function(e,n){if(e){var r=(IR(t)?void 0:t[n])||(e?e.current:void 0);if(r)return{current:r,states:kR(e,r)}}}))}function AR(e){return Array.isArray(e)}function TR(e){return"function"==typeof e}function IR(e){return"string"==typeof e}pR.warn=function(){},gR.IS_PRODUCTION||(pR.warn=function(e,t){var n=e instanceof Error?e:void 0;if((n||!e)&&void 0!==console){var r=["Warning: ".concat(t)];n&&r.push(n),console.warn.apply(console,r)}});var NR=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}(),OR=((mR={})[NR]=function(){return this},mR[Symbol.observable]=function(){return this},mR);function PR(e){return!!e&&"__xstatenode"in e}var jR=function(){var e=0;return function(){return(++e).toString(16)}}();function RR(e,t){return IR(e)||"number"==typeof e?Hj.__assign({type:e},t):e}pR.createInvokeId=function(e,t){return"".concat(e,":invocation[").concat(t,"]")},pR.evaluateGuard=function(e,t,n,r,o){var i=e.options.guards,a={state:o,cond:t,_event:r};if(t.type===vR.DEFAULT_GUARD_TYPE)return((null==i?void 0:i[t.name])||t.predicate)(n,r.data,a);var s=null==i?void 0:i[t.type];if(!s)throw new Error("Guard '".concat(t.type,"' is not implemented on machine '").concat(e.id,"'."));return s(n,r.data,a)},pR.flatten=_R,pR.getActionType=function(e){try{return IR(e)||"number"==typeof e?"".concat(e):TR(e)?e.name:e.type}catch(e){throw new Error("Actions must be strings or objects with a string action.type property.")}},pR.getEventType=function(e){try{return IR(e)||"number"==typeof e?"".concat(e):e.type}catch(e){throw new Error("Events must be strings or objects with a string event.type property.")}},pR.interopSymbols=OR,pR.isActor=function(e){return!!e&&"function"==typeof e.send},pR.isArray=AR,pR.isBehavior=function(e){return null!==e&&"object"==typeof e&&"transition"in e&&"function"==typeof e.transition},pR.isBuiltInEvent=function(e){return/^(done|error)\./.test(e)},pR.isFunction=TR,pR.isMachine=PR,pR.isObservable=function(e){try{return"subscribe"in e&&TR(e.subscribe)}catch(e){return!1}},pR.isPromiseLike=function(e){return e instanceof Promise||!(null===e||!TR(e)&&"object"!=typeof e||!TR(e.then))},pR.isStateLike=bR,pR.isString=IR,pR.keys=function(e){return Object.keys(e)},pR.mapContext=function(e,t,n){var r,o;if(TR(e))return e(t,n.data);var i={};try{for(var a=Hj.__values(Object.keys(e)),s=a.next();!s.done;s=a.next()){var u=s.value,c=e[u];TR(c)?i[u]=c(t,n.data):i[u]=c}}catch(e){r={error:e}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return i},pR.mapFilterValues=function(e,t,n){var r,o,i={};try{for(var a=Hj.__values(Object.keys(e)),s=a.next();!s.done;s=a.next()){var u=s.value,c=e[u];n(c)&&(i[u]=t(c,u,e))}}catch(e){r={error:e}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return i},pR.mapValues=xR,pR.matchesState=function e(t,n,r){void 0===r&&(r=vR.STATE_DELIMITER);var o=wR(t,r),i=wR(n,r);return IR(i)?!!IR(o)&&i===o:IR(o)?o in i:Object.keys(o).every((function(t){return t in i&&e(o[t],i[t])}))},pR.nestedPath=function(e,t){return function(n){var r,o,i=n;try{for(var a=Hj.__values(e),s=a.next();!s.done;s=a.next()){var u=s.value;i=i[t][u]}}catch(e){r={error:e}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return i}},pR.normalizeTarget=function(e){if(void 0!==e&&e!==vR.TARGETLESS_KEY)return CR(e)},pR.partition=function(e,t){var n,r,o=Hj.__read([[],[]],2),i=o[0],a=o[1];try{for(var s=Hj.__values(e),u=s.next();!u.done;u=s.next()){var c=u.value;t(c)?i.push(c):a.push(c)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return[i,a]},pR.path=function(e){return function(t){var n,r,o=t;try{for(var i=Hj.__values(e),a=i.next();!a.done;a=i.next()){o=o[a.value]}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return o}},pR.pathToStateValue=SR,pR.pathsToStateValue=function(e){var t,n,r={};if(e&&1===e.length&&1===e[0].length)return e[0][0];try{for(var o=Hj.__values(e),i=o.next();!i.done;i=o.next())for(var a=i.value,s=r,u=0;u<a.length;u++){var c=a[u];if(u===a.length-2){s[c]=a[u+1];break}s[c]=s[c]||{},s=s[c]}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r},pR.reportUnhandledExceptionOnInvocation=function(e,t,n){if(!gR.IS_PRODUCTION){var r=e.stack?" Stacktrace was '".concat(e.stack,"'"):"";if(e===t)console.error("Missing onError handler for invocation '".concat(n,"', error was '").concat(e,"'.").concat(r));else{var o=t.stack?" Stacktrace was '".concat(t.stack,"'"):"";console.error("Missing onError handler and/or unhandled exception/promise rejection for invocation '".concat(n,"'. ")+"Original error: '".concat(e,"'. ").concat(r," Current error is '").concat(t,"'.").concat(o))}}},pR.symbolObservable=NR,pR.toArray=CR,pR.toArrayStrict=ER,pR.toEventObject=RR,pR.toGuard=function(e,t){if(e)return IR(e)?{type:vR.DEFAULT_GUARD_TYPE,name:e,predicate:t?t[e]:void 0}:TR(e)?{type:vR.DEFAULT_GUARD_TYPE,name:e.name,predicate:e}:e},pR.toInvokeSource=function(e){return"string"==typeof e?{type:e}:e},pR.toObserver=function(e,t,n){if("object"==typeof e)return e;var r=function(){};return{next:e,error:t||r,complete:n||r}},pR.toSCXMLEvent=function(e,t){if(!IR(e)&&"$$type"in e&&"scxml"===e.$$type)return e;var n=RR(e);return Hj.__assign({name:n.type,data:n,$$type:"scxml",type:"external"},t)},pR.toStatePath=yR,pR.toStatePaths=function e(t){return t?IR(t)?[[t]]:_R(Object.keys(t).map((function(n){var r=t[n];return"string"==typeof r||r&&Object.keys(r).length?e(t[n]).map((function(e){return[n].concat(e)})):[[n]]}))):[[]]},pR.toStateValue=wR,pR.toTransitionConfigArray=function(e,t){return ER(t).map((function(t){return void 0===t||"string"==typeof t||PR(t)?{target:t,event:e}:Hj.__assign(Hj.__assign({},t),{event:e})}))},pR.uniqueId=jR,pR.updateContext=function(e,t,n,r){return gR.IS_PRODUCTION||pR.warn(!!e,"Attempting to update undefined context"),e?n.reduce((function(e,n){var o,i,a=n.assignment,s={state:r,action:n,_event:t},u={};if(TR(a))u=a(e,t.data,s);else try{for(var c=Hj.__values(Object.keys(a)),l=c.next();!l.done;l=c.next()){var d=l.value,f=a[d];u[d]=TR(f)?f(e,t.data,s):f}}catch(e){o={error:e}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(o)throw o.error}}return Object.assign({},e,u)}),e):e},pR.updateHistoryStates=kR,pR.updateHistoryValue=function(e,t){return{current:t,states:kR(e,t)}};var MR=pR.toSCXMLEvent({type:Yj.init});function UR(e,t){return t&&t[e]||void 0}function LR(e,t){var n;if(pR.isString(e)||"number"==typeof e){var r=UR(e,t);n=pR.isFunction(r)?{type:e,exec:r}:r||{type:e,exec:void 0}}else if(pR.isFunction(e))n={type:e.name||e.toString(),exec:e};else{r=UR(e.type,t);if(pR.isFunction(r))n=Hj.__assign(Hj.__assign({},e),{exec:r});else if(r){var o=r.type||e.type;n=Hj.__assign(Hj.__assign(Hj.__assign({},r),e),{type:o})}else n=e}return n}var DR=function(e,t){return e?(pR.isArray(e)?e:[e]).map((function(e){return LR(e,t)})):[]};function FR(e){var t=LR(e);return Hj.__assign(Hj.__assign({id:pR.isString(e)?e:t.id},t),{type:t.type})}function BR(e){return{type:Yj.raise,_event:pR.toSCXMLEvent(e.event)}}function zR(e,t){return{to:t?t.to:void 0,type:Yj.send,event:pR.isFunction(e)?e:pR.toEventObject(e),delay:t?t.delay:void 0,id:t&&void 0!==t.id?t.id:pR.isFunction(e)?e.name:pR.getEventType(e)}}function VR(e,t,n,r){var o,i={_event:n},a=pR.toSCXMLEvent(pR.isFunction(e.event)?e.event(t,n.data,i):e.event);if(pR.isString(e.delay)){var s=r&&r[e.delay];o=pR.isFunction(s)?s(t,n.data,i):s}else o=pR.isFunction(e.delay)?e.delay(t,n.data,i):e.delay;var u=pR.isFunction(e.to)?e.to(t,n.data,i):e.to;return Hj.__assign(Hj.__assign({},e),{to:u,_event:a,event:a.data,delay:o})}function qR(e,t){return zR(e,Hj.__assign(Hj.__assign({},t),{to:$j.SpecialTargets.Parent}))}var KR=function(e,t){return{context:e,event:t}};var HR=function(e,t,n){return Hj.__assign(Hj.__assign({},e),{value:pR.isString(e.expr)?e.expr:e.expr(t,n.data,{_event:n})})};function GR(e,t,n){var r=pR.isFunction(e.activity)?e.activity(t,n.data):e.activity,o="string"==typeof r?{id:r}:r;return{type:$j.ActionTypes.Stop,activity:o}}Kj.actionTypes=Yj,Kj.after=function(e,t){var n=t?"#".concat(t):"";return"".concat($j.ActionTypes.After,"(").concat(e,")").concat(n)},Kj.assign=function(e){return{type:Yj.assign,assignment:e}},Kj.cancel=function(e){return{type:Yj.cancel,sendId:e}},Kj.choose=function(e){return{type:$j.ActionTypes.Choose,conds:e}},Kj.done=function(e,t){var n="".concat($j.ActionTypes.DoneState,".").concat(e),r={type:n,data:t,toString:function(){return n}};return r},Kj.doneInvoke=function(e,t){var n="".concat($j.ActionTypes.DoneInvoke,".").concat(e),r={type:n,data:t,toString:function(){return n}};return r},Kj.error=function(e,t){var n="".concat($j.ActionTypes.ErrorPlatform,".").concat(e),r={type:n,data:t,toString:function(){return n}};return r},Kj.escalate=function(e,t){return qR((function(t,n,r){return{type:Yj.error,data:pR.isFunction(e)?e(t,n,r):e}}),Hj.__assign(Hj.__assign({},t),{to:$j.SpecialTargets.Parent}))},Kj.forwardTo=function(e,t){return zR((function(e,t){return t}),Hj.__assign(Hj.__assign({},t),{to:e}))},Kj.getActionFunction=UR,Kj.initEvent=MR,Kj.isActionObject=function(e){return"object"==typeof e&&"type"in e},Kj.log=function(e,t){return void 0===e&&(e=KR),{type:Yj.log,label:t,expr:e}},Kj.pure=function(e){return{type:$j.ActionTypes.Pure,get:e}},Kj.raise=function(e){return pR.isString(e)?{type:Yj.raise,event:e}:zR(e,{to:$j.SpecialTargets.Internal})},Kj.resolveActions=function e(t,n,r,o,i,a){void 0===a&&(a=!1);var s=Hj.__read(a?[[],i]:pR.partition(i,(function(e){return e.type===Yj.assign})),2),u=s[0],c=s[1],l=u.length?pR.updateContext(r,o,u,n):r,d=a?[r]:void 0,f=pR.flatten(c.map((function(r){var i;switch(r.type){case Yj.raise:return BR(r);case Yj.send:var s=VR(r,l,o,t.options.delays);return gR.IS_PRODUCTION||pR.warn(!pR.isString(r.delay)||"number"==typeof s.delay,"No delay reference for delay expression '".concat(r.delay,"' was found on machine '").concat(t.id,"'")),s;case Yj.log:return HR(r,l,o);case Yj.choose:if(!(h=null===(i=r.conds.find((function(e){var r=pR.toGuard(e.cond,t.options.guards);return!r||pR.evaluateGuard(t,r,l,o,n)})))||void 0===i?void 0:i.actions))return[];var u=Hj.__read(e(t,n,l,o,DR(pR.toArray(h),t.options.actions),a),2),c=u[0],f=u[1];return l=f,null==d||d.push(l),c;case Yj.pure:var h;if(!(h=r.get(l,o.data)))return[];var p=Hj.__read(e(t,n,l,o,DR(pR.toArray(h),t.options.actions),a),2),v=p[0],g=p[1];return l=g,null==d||d.push(l),v;case Yj.stop:return GR(r,l,o);case Yj.assign:l=pR.updateContext(l,o,[r],n),null==d||d.push(l);break;default:var m=LR(r,t.options.actions),y=m.exec;if(y&&d){var b=d.length-1;m=Hj.__assign(Hj.__assign({},m),{exec:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];y.apply(void 0,Hj.__spreadArray([d[b]],Hj.__read(t),!1))}})}return m}})).filter((function(e){return!!e})));return[f,l]},Kj.resolveLog=HR,Kj.resolveRaise=BR,Kj.resolveSend=VR,Kj.resolveStop=GR,Kj.respond=function(e,t){return zR(e,Hj.__assign(Hj.__assign({},t),{to:function(e,t,n){return n._event.origin}}))},Kj.send=zR,Kj.sendParent=qR,Kj.sendTo=function(e,t,n){return zR(t,Hj.__assign(Hj.__assign({},n),{to:e}))},Kj.sendUpdate=function(){return qR(Yj.update)},Kj.start=function(e){var t=FR(e);return{type:$j.ActionTypes.Start,activity:t,exec:void 0}},Kj.stop=function(e){var t=pR.isFunction(e)?e:FR(e);return{type:$j.ActionTypes.Stop,activity:t,exec:void 0}},Kj.toActionObject=LR,Kj.toActionObjects=DR,Kj.toActivityDefinition=FR;var WR=function(e){return(0,Kj.stop)(e)},$R=(0,Kj.assign)({attributeToVerify:function(e){}}),YR=(0,Kj.assign)({challengeName:function(e){}}),JR=(0,Kj.assign)({requiredAttributes:function(e){}}),QR=(0,Kj.assign)({remoteError:function(e){return""}}),ZR=(0,Kj.assign)({formValues:function(e){return{}}}),XR=(0,Kj.assign)({touched:function(e){return{}}}),eM=(0,Kj.assign)({unverifiedAttributes:function(e){}}),tM=(0,Kj.assign)({username:function(e){}}),nM=(0,Kj.assign)({validationError:function(e){return{}}}),rM=(0,Kj.assign)({challengeName:function(e,t){var n;return null===(n=t.data)||void 0===n?void 0:n.challengeName}}),oM=(0,Kj.assign)({requiredAttributes:function(e,t){var n,r;return null===(r=null===(n=t.data)||void 0===n?void 0:n.challengeParam)||void 0===r?void 0:r.requiredAttributes}}),iM=(0,Kj.assign)({redirectIntent:function(e){return"confirmPasswordReset"}}),aM=(0,Kj.assign)({redirectIntent:function(e){return"confirmSignUp"}}),sM=(0,Kj.assign)({authAttributes:function(e,t){var n,r,o=e.loginMechanisms[0];return{username:null!==(n=e.formValues[o])&&void 0!==n?n:e.formValues.username,password:null===(r=e.formValues)||void 0===r?void 0:r.password}}}),uM=(0,Kj.assign)({validationError:function(e,t){return t.data}}),cM=(0,Kj.assign)({remoteError:function(e,t){var n;return"NoUserPoolError"===t.data.name?"Configuration error (see console) – please contact the administrator":(null===(n=t.data)||void 0===n?void 0:n.message)||t.data}}),lM=(0,Kj.assign)({unverifiedAttributes:function(e,t){return t.data.unverified}}),dM=(0,Kj.assign)({user:function(e,t){return t.data.user||t.data}}),fM=(0,Kj.assign)({username:function(e,t){var n=e.formValues,r=n.username,o=n.country_code;return o&&(r="".concat(o).concat(r)),r}}),hM=(0,Kj.assign)({codeDeliveryDetails:function(e,t){return t.data.codeDeliveryDetails}}),pM=(0,Kj.assign)({authAttributes:function(e,t){return{username:e.formValues.username}}}),vM=(0,Kj.assign)({formValues:function(e,t){var n,r=t.data,o=r.name,i=r.value;return y(y({},e.formValues),((n={})[o]=i,n))}}),gM=(0,Kj.assign)({formValues:function(e,t){return y(y({},e.formValues),t.data)}}),mM=(0,Kj.assign)({touched:function(e,t){var n,r=t.data.name;return y(y({},e.touched),((n={})["".concat(r)]=!0,n))}}),yM=(0,Kj.assign)({formValues:function(e,t){var n,r,o=e.loginMechanisms[0],i=void 0===o?"username":o;if(!e.formValues.phone_number&&"phone_number"!==i)return e.formValues;var a=e.formValues,s=e.country_code,u=a.phone_number?"phone_number":"username",c="".concat(null!==(r=a.country_code)&&void 0!==r?r:s).concat(a[u]).replace(/[^A-Z0-9+]/gi,""),l=y(y({},a),((n={})[u]=c,n));return delete l.country_code,l}}),bM={},wM={},SM={},xM={},_M=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,EM=/^\w*$/;xM=function(e,t){if(vT(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!CT(e))||(EM.test(e)||!_M.test(e)||null!=t&&e in Object(t))};var CM={},kM={},AM={};function TM(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(TM.Cache||GI),n}TM.Cache=GI,AM=TM;kM=function(e){var t=AM(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t};var IM=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,NM=/\\(\\)?/g,OM=kM((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(IM,(function(e,n,r,o){t.push(r?o.replace(NM,"$1"):n||e)})),t}));CM=OM;var PM={},jM={},RM=eT?eT.prototype:void 0,MM=RM?RM.toString:void 0;jM=function e(t){if("string"==typeof t)return t;if(vT(t))return PT(t,e)+"";if(CT(t))return MM?MM.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n},PM=function(e){return null==e?"":jM(e)},SM=function(e,t){return vT(e)?e:xM(e,t)?[e]:CM(PM(e))};var UM={};UM=function(e){if("string"==typeof e||CT(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t},wM=function(e,t){for(var n=0,r=(t=SM(t,e)).length;null!=e&&n<r;)e=e[UM(t[n++])];return n&&n==r?e:void 0},bM=function(e,t,n){var r=null==e?void 0:wM(e,t);return void 0===r?n:r};VT=s("1QK3d");var LM,DM,FM,BM,zM,VM=Object.prototype.hasOwnProperty;LM=function(e){if(null==e)return!0;if(tT(e)&&(vT(e)||"string"==typeof e||"function"==typeof e.splice||VT(e)||GT(e)||UT(e)))return!e.length;var t=zN(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(XT(e))return!ZT(e).length;for(var n in e)if(VM.call(e,n))return!1;return!0},(zM=DM||(DM={})).SMS_MFA="SMS_MFA",zM.SOFTWARE_TOKEN_MFA="SOFTWARE_TOKEN_MFA",zM.NEW_PASSWORD_REQUIRED="NEW_PASSWORD_REQUIRED",zM.RESET_REQUIRED="RESET_REQUIRED",zM.MFA_SETUP="MFA_SETUP",(BM=FM||(FM={})).Apple="SignInWithApple",BM.Amazon="LoginWithAmazon",BM.Facebook="Facebook",BM.Google="Google";var qM,KM={},HM={};HM=function(e,t,n){(void 0!==n&&!pI(e[t],n)||void 0===n&&!(t in e))&&hN(e,t,n)};var GM={};var WM=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++o];if(!1===n(i[u],u,i))break}return t}}();GM=WM;var $M={},YM=(EN=s("bWvXv"),{});YM=function(e){return mT(e)&&tT(e)};VT=s("1QK3d");var JM={},QM=Function.prototype,ZM=Object.prototype,XM=QM.toString,eU=ZM.hasOwnProperty,tU=XM.call(Object);JM=function(e){if(!mT(e)||"[object Object]"!=rT(e))return!1;var t=MN(e);if(null===t)return!0;var n=eU.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&XM.call(n)==tU};var nU={};nU=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]};var rU={};rU=function(e){return yN(e,wN(e))},$M=function(e,t,n,r,o,i,a){var s=nU(e,n),u=nU(t,n),c=a.get(u);if(c)HM(e,n,c);else{var l=i?i(s,u,n+"",e,t,a):void 0,d=void 0===l;if(d){var f=vT(u),h=!f&&VT(u),p=!f&&!h&&GT(u);l=u,f||h||p?vT(s)?l=s:YM(s)?l=CN(s):h?(d=!1,l=EN(u,!0)):p?(d=!1,l=lO(u,!0)):l=[]:JM(u)||UT(u)?(l=s,UT(s)?l=rU(s):fT(s)&&!nT(s)||(l=dO(u))):d=!1}d&&(a.set(u,l),o(l,u,r,i,a),a.delete(u)),HM(e,n,l)}},KM=function e(t,n,r,o,i){t!==n&&GM(n,(function(a,s){if(i||(i=new lI),fT(a))$M(t,n,s,r,e,o,i);else{var u=o?o(nU(t,s),a,s+"",t,n,i):void 0;void 0===u&&(u=a),HM(t,s,u)}}),wN)};var oU,iU={};oU=function(e){return e};var aU={},sU={};sU=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)};var uU=Math.max;aU=function(e,t,n){return t=uU(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=uU(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=r[o];return s[t]=n(a),sU(e,this,s)}};var cU,lU={},dU={};dU=function(e){return function(){return e}};var fU=pN?function(e,t){return pN(e,"toString",{configurable:!0,enumerable:!1,value:dU(t),writable:!0})}:oU;cU=fU;var hU={},pU=Date.now;hU=function(e){var t=0,n=0;return function(){var r=pU(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}};var vU=hU(cU);lU=vU,iU=function(e,t){return lU(aU(e,t,oU),e+"")};var gU={};gU=function(e,t,n){if(!fT(n))return!1;var r=typeof t;return!!("number"==r?tT(n)&&qT(t,n.length):"string"==r&&t in n)&&pI(n[t],e)};var mU=function(e){return iU((function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&gU(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var s=n[r];s&&e(t,s,r,i)}return t}))}((function(e,t,n){KM(e,t,n)}));qM=mU;var yU=function(e,t,n,o){return w(void 0,void 0,void 0,(function(){var i,a;return S(this,(function(s){switch(s.label){case 0:return[4,Promise.all(o.map((function(r){return r(e,t,n)})))];case 1:return i=s.sent(),a=r(qM).apply(void 0,x([{}],i,!1)),r(LM)(a)?[2,Promise.resolve()]:[2,Promise.reject(a)]}}))}))},bU={getAmplifyConfig:function(){return w(this,void 0,void 0,(function(){return S(this,(function(e){return[2,O.Amplify.configure()]}))}))},getCurrentUser:function(){return w(this,void 0,void 0,(function(){return S(this,(function(e){return[2,Ud.Auth.currentAuthenticatedUser()]}))}))},handleSignUp:function(e){return w(this,void 0,void 0,(function(){return S(this,(function(t){return[2,Ud.Auth.signUp(e)]}))}))},handleSignIn:function(e){var t=e.username,n=e.password;return w(this,void 0,void 0,(function(){return S(this,(function(e){return[2,Ud.Auth.signIn(t,n)]}))}))},handleConfirmSignIn:function(e){var t=e.user,n=e.code,r=e.mfaType;return w(this,void 0,void 0,(function(){return S(this,(function(e){return[2,Ud.Auth.confirmSignIn(t,n,r)]}))}))},handleConfirmSignUp:function(e){var t=e.username,n=e.code;return w(this,void 0,void 0,(function(){return S(this,(function(e){switch(e.label){case 0:return[4,Ud.Auth.confirmSignUp(t,n)];case 1:return[2,e.sent()]}}))}))},handleForgotPasswordSubmit:function(e){var t=e.username,n=e.code,r=e.password;return w(this,void 0,void 0,(function(){return S(this,(function(e){return[2,Ud.Auth.forgotPasswordSubmit(t,n,r)]}))}))},handleForgotPassword:function(e){return w(this,void 0,void 0,(function(){return S(this,(function(t){return[2,Ud.Auth.forgotPassword(e)]}))}))},validateCustomSignUp:function(e,t){return w(this,void 0,void 0,(function(){return S(this,(function(e){return[2]}))}))},validateFormPassword:function(e,t,n){return w(this,void 0,void 0,(function(){var r,o,i,a;return S(this,(function(s){return r=e.password,t.password&&n?(o=[],i=+(null==n?void 0:n.passwordPolicyMinLength),r.length<i&&o.push("Password must have at least ".concat(i," characters")),null==(a=null==n?void 0:n.passwordPolicyCharacters)||a.forEach((function(e){switch(e){case"REQUIRES_LOWERCASE":/[a-z]/.test(r)||o.push("Password must have lower case letters");break;case"REQUIRES_UPPERCASE":/[A-Z]/.test(r)||o.push("Password must have upper case letters");break;case"REQUIRES_NUMBERS":/[0-9]/.test(r)||o.push("Password must have numbers");break;case"REQUIRES_SYMBOLS":/[\W]/.test(r)||o.push("Password must have special characters")}})),[2,0!==o.length?{password:o}:null]):[2,null]}))}))},validateConfirmPassword:function(e,t){return w(this,void 0,void 0,(function(){var n,r,o,i;return S(this,(function(a){return n=e.password,r=e.confirm_password,o=t.confirm_password,i=t.password,n||r?(n||r)&&n!==r&&(o&&i||(null==n?void 0:n.length)>=6&&(null==r?void 0:r.length)>=6)?[2,{confirm_password:"Your passwords must match"}]:[2]:[2,null]}))}))},validatePreferredUsername:function(e,t){return w(this,void 0,void 0,(function(){return S(this,(function(e){return[2]}))}))}};var wU=zj({initial:"pending",id:"signOutActor",states:{pending:{tags:["pending"],invoke:{src:"signOut",onDone:"resolved",onError:"rejected"}},resolved:{type:"final"},rejected:{type:"final"}}},{services:{signOut:function(){return Ud.Auth.signOut()}}});function SU(e){var t=e.services;return zj({id:"resetPasswordActor",initial:"init",states:{init:{always:[{target:"confirmResetPassword",cond:"shouldAutoConfirmReset"},{target:"resetPassword"}]},resetPassword:{initial:"edit",exit:["clearFormValues","clearError","clearTouched"],states:{edit:{entry:"sendUpdate",on:{SUBMIT:{actions:"handleSubmit",target:"submit"},CHANGE:{actions:"handleInput"},BLUR:{actions:"handleBlur"}}},submit:{tags:["pending"],entry:["sendUpdate","setUsername","clearError"],invoke:{src:"resetPassword",onDone:{target:"#resetPasswordActor.confirmResetPassword"},onError:{actions:["setRemoteError"],target:"edit"}}}}},confirmResetPassword:{type:"parallel",exit:["clearFormValues","clearError","clearUsername","clearTouched"],states:{validation:{initial:"pending",states:{pending:{invoke:{src:"validateFields",onDone:{target:"valid",actions:"clearValidationError"},onError:{target:"invalid",actions:"setFieldErrors"}}},valid:{entry:"sendUpdate"},invalid:{entry:"sendUpdate"}},on:{CHANGE:{actions:"handleInput",target:".pending"},BLUR:{actions:"handleBlur",target:".pending"}}},submission:{initial:"idle",states:{idle:{entry:"sendUpdate",on:{SUBMIT:{actions:"handleSubmit",target:"validate"},RESEND:"resendCode",CHANGE:{actions:"handleInput"},BLUR:{actions:"handleBlur"}}},validate:{entry:"sendUpdate",invoke:{src:"validateFields",onDone:{target:"pending",actions:"clearValidationError"},onError:{target:"idle",actions:"setFieldErrors"}}},resendCode:{tags:["pending"],entry:["clearError","sendUpdate"],invoke:{src:"resetPassword",onDone:{target:"idle"},onError:{actions:"setRemoteError",target:"idle"}}},pending:{tags:["pending"],entry:["clearError","sendUpdate"],invoke:{src:"confirmResetPassword",onDone:{actions:"clearUsername",target:"#resetPasswordActor.resolved"},onError:{actions:"setRemoteError",target:"idle"}}}}}}},resolved:{type:"final"}}},{actions:{clearError:QR,clearFormValues:ZR,clearTouched:XR,clearUsername:tM,clearValidationError:nM,handleInput:vM,handleSubmit:gM,handleBlur:mM,setFieldErrors:uM,setRemoteError:cM,setUsername:fM,sendUpdate:qj()},guards:{shouldAutoConfirmReset:function(e,t){return!(!e.intent||"confirmPasswordReset"!==e.intent)}},services:{resetPassword:function(e){return w(this,void 0,void 0,(function(){var n;return S(this,(function(r){return n=e.username,[2,t.handleForgotPassword(n)]}))}))},confirmResetPassword:function(e){return w(this,void 0,void 0,(function(){var n,r,o,i;return S(this,(function(a){return n=e.username,r=e.formValues,o=r.confirmation_code,i=r.password,[2,t.handleForgotPasswordSubmit({username:n,code:o,password:i})]}))}))},validateFields:function(e,t){return w(this,void 0,void 0,(function(){return S(this,(function(t){return[2,yU(e.formValues,e.touched,e.passwordSettings,[bU.validateConfirmPassword])]}))}))}}})}var xU,_U,EU={},CU={},kU={},AU={},TU={},IU={},NU={};_U=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var OU;function PU(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new GI;++t<n;)this.add(e[t])}OU=function(e){return this.__data__.has(e)},PU.prototype.add=PU.prototype.push=_U,PU.prototype.has=OU,NU=PU;var jU={};jU=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var RU={};RU=function(e,t){return e.has(t)};IU=function(e,t,n,r,o,i){var a=1&n,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var c=i.get(e),l=i.get(t);if(c&&l)return c==t&&l==e;var d=-1,f=!0,h=2&n?new NU:void 0;for(i.set(e,t),i.set(t,e);++d<s;){var p=e[d],v=t[d];if(r)var g=a?r(v,p,d,t,e,i):r(p,v,d,e,t,i);if(void 0!==g){if(g)continue;f=!1;break}if(h){if(!jU(t,(function(e,t){if(!RU(h,t)&&(p===e||o(p,e,n,r,i)))return h.push(t)}))){f=!1;break}}else if(p!==v&&!o(p,v,n,r,i)){f=!1;break}}return i.delete(e),i.delete(t),f};var MU,UU={};MU=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};var LU;LU=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n};var DU=eT?eT.prototype:void 0,FU=DU?DU.valueOf:void 0;UU=function(e,t,n,r,o,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new nO(e),new nO(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return pI(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=MU;case"[object Set]":var u=1&r;if(s||(s=LU),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var l=IU(s(e),s(t),r,o,i,a);return a.delete(e),l;case"[object Symbol]":if(FU)return FU.call(e)==FU.call(t)}return!1};var BU={},zU=Object.prototype.hasOwnProperty;BU=function(e,t,n,r,o,i){var a=1&n,s=DN(e),u=s.length;if(u!=DN(t).length&&!a)return!1;for(var c=u;c--;){var l=s[c];if(!(a?l in t:zU.call(t,l)))return!1}var d=i.get(e),f=i.get(t);if(d&&f)return d==t&&f==e;var h=!0;i.set(e,t),i.set(t,e);for(var p=a;++c<u;){var v=e[l=s[c]],g=t[l];if(r)var m=a?r(g,v,l,t,e,i):r(v,g,l,e,t,i);if(!(void 0===m?v===g||o(v,g,n,r,i):m)){h=!1;break}p||(p="constructor"==l)}if(h&&!p){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(h=!1)}return i.delete(e),i.delete(t),h};VT=s("1QK3d");var VU=Object.prototype.hasOwnProperty;TU=function(e,t,n,r,o,i){var a=vT(e),s=vT(t),u=a?"[object Array]":zN(e),c=s?"[object Array]":zN(t),l="[object Object]"==(u="[object Arguments]"==u?"[object Object]":u),d="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),f=u==c;if(f&&VT(e)){if(!VT(t))return!1;a=!0,l=!1}if(f&&!l)return i||(i=new lI),a||GT(e)?IU(e,t,n,r,o,i):UU(e,t,u,n,r,o,i);if(!(1&n)){var h=l&&VU.call(e,"__wrapped__"),p=d&&VU.call(t,"__wrapped__");if(h||p){var v=h?e.value():e,g=p?t.value():t;return i||(i=new lI),o(v,g,n,r,i)}}return!!f&&(i||(i=new lI),BU(e,t,n,r,o,i))},AU=function e(t,n,r,o,i){return t===n||(null==t||null==n||!mT(t)&&!mT(n)?t!=t&&n!=n:TU(t,n,r,o,e,i))};kU=function(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=Object(e);o--;){var s=n[o];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<i;){var u=(s=n[o])[0],c=e[u],l=s[1];if(a&&s[2]){if(void 0===c&&!(u in e))return!1}else{var d=new lI;if(r)var f=r(c,l,u,e,t,d);if(!(void 0===f?AU(l,c,3,r,d):f))return!1}}return!0};var qU={},KU={};KU=function(e){return e==e&&!fT(e)},qU=function(e){for(var t=jT(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,KU(o)]}return t};var HU={};HU=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}},CU=function(e){var t=qU(e);return 1==t.length&&t[0][2]?HU(t[0][0],t[0][1]):function(n){return n===e||kU(n,e,t)}};var GU,WU={},$U={};GU=function(e,t){return null!=e&&t in Object(e)};var YU={};YU=function(e,t,n){for(var r=-1,o=(t=SM(t,e)).length,i=!1;++r<o;){var a=UM(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&hT(o)&&qT(a,o)&&(vT(e)||UT(e))},$U=function(e,t){return null!=e&&YU(e,t,GU)};WU=function(e,t){return xM(e)&&KU(t)?HU(UM(e),t):function(n){var r=bM(n,e);return void 0===r&&r===t?$U(n,e):AU(t,r,3)}};var JU={},QU={};QU=function(e){return function(t){return null==t?void 0:t[e]}};var ZU={};ZU=function(e){return function(t){return wM(t,e)}},JU=function(e){return xM(e)?QU(UM(e)):ZU(e)},EU=function(e){return"function"==typeof e?e:null==e?oU:"object"==typeof e?vT(e)?WU(e[0],e[1]):CU(e):JU(e)};var XU={},eL={};function tL(){return zj({id:"authenticator",initial:"idle",context:{user:void 0,config:{},services:bU,actorRef:void 0,hasSetup:!1},states:{idle:{invoke:{src:"getCurrentUser",onDone:{actions:"setUser",target:"authenticated"},onError:{target:"setup"}}},setup:{initial:"waitConfig",states:{waitConfig:{on:{INIT:{actions:["configure","setHasSetup"],target:"applyConfig"}}},applyConfig:{invoke:{src:"getAmplifyConfig",onDone:{actions:"applyAmplifyConfig",target:"goToInitialState"}}},goToInitialState:{always:[{target:"#authenticator.signUp",cond:"isInitialStateSignUp"},{target:"#authenticator.resetPassword",cond:"isInitialStateResetPassword"},{target:"#authenticator.signIn"}]}}},signIn:{initial:"spawnActor",states:{spawnActor:{always:{actions:"spawnSignInActor",target:"runActor"}},runActor:{entry:"clearActorDoneData",exit:"stopSignInActor"}},on:{SIGN_UP:"signUp",RESET_PASSWORD:"resetPassword","done.invoke.signInActor":[{target:"signUp",actions:"setActorDoneData",cond:"shouldRedirectToSignUp"},{target:"resetPassword",actions:"setActorDoneData",cond:"shouldRedirectToResetPassword"},{target:"authenticated",actions:"setActorDoneData"}]}},signUp:{initial:"spawnActor",states:{spawnActor:{always:{actions:"spawnSignUpActor",target:"runActor"}},runActor:{entry:"clearActorDoneData",exit:"stopSignUpActor"},autoSignIn:{invoke:{src:"getCurrentUser",onDone:"#authenticator.authenticated",onError:"#authenticator.setup.goToInitialState"}}},on:{SIGN_IN:"signIn","done.invoke.signUpActor":{target:"signUp.autoSignIn",actions:"setActorDoneData"}}},resetPassword:{initial:"spawnActor",states:{spawnActor:{always:{actions:"spawnResetPasswordActor",target:"runActor"}},runActor:{entry:"clearActorDoneData",exit:"stopResetPasswordActor"}},on:{SIGN_IN:"signIn","done.invoke.resetPasswordActor":{target:"signIn",actions:"setActorDoneData"}}},signOut:{initial:"spawnActor",states:{spawnActor:{always:{actions:"spawnSignOutActor",target:"runActor"}},runActor:{entry:"clearActorDoneData",exit:["stopSignOutActor","clearUser"]}},on:{"done.invoke.signOutActor":[{target:"setup",cond:"shouldSetup"},{target:"setup.goToInitialState"}]}},authenticated:{initial:"idle",states:{idle:{on:{TOKEN_REFRESH:"refreshUser"}},refreshUser:{invoke:{src:"getCurrentUser",onDone:{actions:"setUser",target:"idle"},onError:{target:"#authenticator.signOut"}}}},on:{SIGN_OUT:"signOut"}}},on:{CHANGE:{actions:"forwardToActor"},BLUR:{actions:"forwardToActor"},SUBMIT:{actions:"forwardToActor"},FEDERATED_SIGN_IN:{actions:"forwardToActor"},RESEND:{actions:"forwardToActor"},SIGN_IN:{actions:"forwardToActor"},SKIP:{actions:"forwardToActor"}}},{actions:{forwardToActor:(0,Kj.choose)([{cond:"hasActor",actions:(e=function(e){return e.actorRef},$P((function(e,t){return t}),BO(BO({},t),{to:e})))}]),setUser:Vj({user:function(e,t){return t.data}}),setActorDoneData:Vj({actorDoneData:function(e,t){var n,r;return{authAttributes:y({},null===(n=t.data)||void 0===n?void 0:n.authAttributes),intent:null===(r=t.data)||void 0===r?void 0:r.intent}},user:function(e,t){var n;return null===(n=t.data)||void 0===n?void 0:n.user}}),clearUser:Vj({user:void 0}),clearActorDoneData:Vj({actorDoneData:void 0}),applyAmplifyConfig:Vj({config:function(e,t){var n,r,o,i,a,s,u,c,l,d=null!==(r=null===(n=t.data.aws_cognito_username_attributes)||void 0===n?void 0:n.map((function(e){return e.toLowerCase()})))&&void 0!==r?r:[],f=null!==(i=null===(o=t.data.aws_cognito_verification_mechanisms)||void 0===o?void 0:o.map((function(e){return e.toLowerCase()})))&&void 0!==i?i:[],h=null!==(s=null===(a=t.data.aws_cognito_signup_attributes)||void 0===a?void 0:a.map((function(e){return e.toLowerCase()})))&&void 0!==s?s:[],p=null!==(c=null===(u=t.data.aws_cognito_social_providers)||void 0===u?void 0:u.map((function(e){return e.toLowerCase()})))&&void 0!==c?c:[],v=t.data.aws_cognito_password_protection_settings||{};0===d.length&&d.push("username");var g,m=e.config,y=m.loginMechanisms,b=m.signUpAttributes,w=m.socialProviders,S=m.initialState;return{loginMechanisms:null!=y?y:d,formFields:null!==(g=m.formFields,g&&Object.keys(g).forEach((function(e){Object.keys(g[e]).forEach((function(t){var n=g[e][t];n.required=n.isRequired}))})),l=g)&&void 0!==l?l:{},passwordSettings:v,signUpAttributes:null!=b?b:Array.from(new Set(x(x([],f,!0),h,!0))),socialProviders:null!=w?w:p.sort(),initialState:S}}}),spawnSignInActor:Vj({actorRef:function(e,t){var n,o,i,a,s,u,c,l=e.services,d=(u={services:l},c=u.services,zj({initial:"init",id:"signInActor",states:{init:{always:[{target:"signIn"}]},signIn:{initial:"edit",exit:["clearFormValues","clearTouched"],states:{edit:{entry:"sendUpdate",on:{SUBMIT:{actions:"handleSubmit",target:"submit"},CHANGE:{actions:"handleInput"},FEDERATED_SIGN_IN:"federatedSignIn"}},federatedSignIn:{tags:["pending"],entry:["sendUpdate","clearError"],invoke:{src:"federatedSignIn",onError:{actions:"setRemoteError"}}},submit:{tags:["pending"],entry:["parsePhoneNumber","clearError","sendUpdate"],invoke:{src:"signIn",onDone:[{cond:"shouldSetupTOTP",actions:["setUser","setChallengeName"],target:"#signInActor.setupTOTP"},{cond:"shouldConfirmSignIn",actions:["setUser","setChallengeName"],target:"#signInActor.confirmSignIn"},{cond:"shouldForceChangePassword",actions:["setUser","setChallengeName","setRequiredAttributes"],target:"#signInActor.forceNewPassword"},{actions:"setUser",target:"verifying"}],onError:[{cond:"shouldRedirectToConfirmSignUp",actions:["setCredentials","setConfirmSignUpIntent"],target:"rejected"},{cond:"shouldRedirectToConfirmResetPassword",actions:["setUsernameAuthAttributes","setConfirmResetPasswordIntent"],target:"rejected"},{actions:"setRemoteError",target:"edit"}]}},verifying:{tags:["pending"],entry:["clearError","sendUpdate"],invoke:{src:"checkVerifiedContact",onDone:[{cond:"shouldRequestVerification",target:"#signInActor.verifyUser",actions:"setUnverifiedAttributes"},{target:"resolved"}],onError:{actions:"setRemoteError",target:"edit"}}},resolved:{always:"#signInActor.resolved"},rejected:{always:"#signInActor.rejected"}}},confirmSignIn:{initial:"edit",exit:["clearFormValues","clearError","clearTouched"],states:{edit:{entry:"sendUpdate",on:{SUBMIT:{actions:"handleSubmit",target:"submit"},SIGN_IN:"#signInActor.signIn",CHANGE:{actions:"handleInput"}}},submit:{tags:["pending"],entry:["clearError","sendUpdate"],invoke:{src:"confirmSignIn",onDone:{target:"#signInActor.resolved",actions:["setUser","clearChallengeName","clearRequiredAttributes"]},onError:{target:"edit",actions:"setRemoteError"}}}}},forceNewPassword:{type:"parallel",exit:["clearFormValues","clearError","clearTouched"],states:{validation:{initial:"pending",states:{pending:{invoke:{src:"validateFields",onDone:{target:"valid",actions:"clearValidationError"},onError:{target:"invalid",actions:"setFieldErrors"}}},valid:{entry:"sendUpdate"},invalid:{entry:"sendUpdate"}},on:{SIGN_IN:"#signInActor.signIn",CHANGE:{actions:"handleInput",target:".pending"},BLUR:{actions:"handleBlur",target:".pending"}}},submit:{initial:"idle",entry:"clearError",states:{idle:{entry:"sendUpdate",on:{SUBMIT:{actions:"handleSubmit",target:"validate"}}},validate:{entry:"sendUpdate",invoke:{src:"validateFields",onDone:{target:"pending",actions:"clearValidationError"},onError:{target:"idle",actions:"setFieldErrors"}}},pending:{tags:["pending"],entry:["sendUpdate","clearError"],invoke:{src:"forceNewPassword",onDone:[{cond:"shouldConfirmSignIn",actions:["setUser","setChallengeName"],target:"#signInActor.confirmSignIn"},{cond:"shouldSetupTOTP",actions:["setUser","setChallengeName"],target:"#signInActor.setupTOTP"},{target:"resolved",actions:["setUser","setCredentials"]}],onError:{target:"idle",actions:"setRemoteError"}}},resolved:{type:"final",always:"#signInActor.resolved"}}}}},setupTOTP:{initial:"edit",exit:["clearFormValues","clearError","clearTouched"],states:{edit:{entry:"sendUpdate",on:{SUBMIT:{actions:"handleSubmit",target:"submit"},SIGN_IN:"#signInActor.signIn",CHANGE:{actions:"handleInput"}}},submit:{tags:["pending"],entry:["sendUpdate","clearError"],invoke:{src:"verifyTotpToken",onDone:{actions:["setUser","clearChallengeName","clearRequiredAttributes"],target:"#signInActor.resolved"},onError:{actions:"setRemoteError",target:"edit"}}}}},verifyUser:{initial:"edit",exit:["clearFormValues","clearError","clearTouched"],states:{edit:{entry:"sendUpdate",on:{SUBMIT:{actions:"handleSubmit",target:"submit"},SKIP:"#signInActor.resolved",CHANGE:{actions:"handleInput"}}},submit:{tags:["pending"],entry:"clearError",invoke:{src:"verifyUser",onDone:{target:"#signInActor.confirmVerifyUser"},onError:{actions:"setRemoteError",target:"edit"}}}}},confirmVerifyUser:{initial:"edit",exit:["clearFormValues","clearError","clearUnverifiedAttributes","clearAttributeToVerify","clearTouched"],states:{edit:{entry:"sendUpdate",on:{SUBMIT:{actions:"handleSubmit",target:"submit"},SKIP:"#signInActor.resolved",CHANGE:{actions:"handleInput"}}},submit:{tags:["pending"],entry:"clearError",invoke:{src:"confirmVerifyUser",onDone:{target:"#signInActor.resolved"},onError:{actions:"setRemoteError",target:"edit"}}}}},resolved:{type:"final",data:function(e){return{user:e.user}}},rejected:{type:"final",data:function(e,t){return{intent:e.redirectIntent,authAttributes:e.authAttributes}}}}},{actions:{clearAttributeToVerify:$R,clearChallengeName:YR,clearRequiredAttributes:JR,clearError:QR,clearFormValues:ZR,clearTouched:XR,clearUnverifiedAttributes:eM,clearValidationError:nM,handleInput:vM,handleSubmit:gM,handleBlur:mM,parsePhoneNumber:yM,setChallengeName:rM,setConfirmResetPasswordIntent:iM,setConfirmSignUpIntent:aM,setRequiredAttributes:oM,setCredentials:sM,setFieldErrors:uM,setRemoteError:cM,setUnverifiedAttributes:lM,setUser:dM,setUsernameAuthAttributes:pM,sendUpdate:qj()},guards:{shouldConfirmSignIn:function(e,t){var n=r(bM)(t,"data.challengeName");return[DM.SMS_MFA,DM.SOFTWARE_TOKEN_MFA].includes(n)},shouldRedirectToConfirmSignUp:function(e,t){return"UserNotConfirmedException"===t.data.code},shouldRedirectToConfirmResetPassword:function(e,t){return"PasswordResetRequiredException"===t.data.code},shouldSetupTOTP:function(e,t){return r(bM)(t,"data.challengeName")===DM.MFA_SETUP},shouldForceChangePassword:function(e,t){return r(bM)(t,"data.challengeName")===DM.NEW_PASSWORD_REQUIRED},shouldRequestVerification:function(e,t){var n=t.data,o=n.unverified,i=n.verified;return r(LM)(i)&&!r(LM)(o)}},services:{signIn:function(e){return w(this,void 0,void 0,(function(){var t,n,r;return S(this,(function(o){switch(o.label){case 0:return t=e.formValues,n=t.username,r=t.password,[4,c.handleSignIn({username:n,password:r})];case 1:return[2,o.sent()]}}))}))},confirmSignIn:function(e,t){return w(this,void 0,void 0,(function(){var t,n,r,o;return S(this,(function(i){switch(i.label){case 0:return t=e.challengeName,n=e.user,r=e.formValues.confirmation_code,t!==DM.SMS_MFA&&t!==DM.SOFTWARE_TOKEN_MFA||(o=t),[4,c.handleConfirmSignIn({user:n,code:r,mfaType:o})];case 1:return i.sent(),[4,Ud.Auth.currentAuthenticatedUser()];case 2:return[2,i.sent()]}}))}))},forceNewPassword:function(e,t){return w(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,u,c;return S(this,(function(l){switch(l.label){case 0:t=e.user,n=e.formValues,r=n.password,o=n.phone_number,i=n.country_code,a=b(n,["password","confirm_password","phone_number","country_code"]),o&&(s="".concat(i).concat(o).replace(/[^A-Z0-9+]/gi,""),a=y(y({},a),{phone_number:s})),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,Ud.Auth.completeNewPassword(t,r,a)];case 2:return(u=l.sent()).challengeName?[2,u]:[2,Ud.Auth.currentAuthenticatedUser()];case 3:return c=l.sent(),[2,Promise.reject(c)];case 4:return[2]}}))}))},verifyTotpToken:function(e,t){return w(this,void 0,void 0,(function(){var t,n;return S(this,(function(r){return t=e.user,n=e.formValues.confirmation_code,[2,Ud.Auth.verifyTotpToken(t,n)]}))}))},federatedSignIn:function(e,t){return w(this,void 0,void 0,(function(){var e;return S(this,(function(n){switch(n.label){case 0:return e=t.data.provider,[4,Ud.Auth.federatedSignIn({provider:e})];case 1:return[2,n.sent()]}}))}))},checkVerifiedContact:function(e,t){return w(this,void 0,void 0,(function(){var t;return S(this,(function(n){switch(n.label){case 0:return t=e.user,[4,Ud.Auth.verifiedContact(t)];case 1:return[2,n.sent()]}}))}))},verifyUser:function(e,t){return w(this,void 0,void 0,(function(){var t,n;return S(this,(function(r){switch(r.label){case 0:return t=e.formValues.unverifiedAttr,[4,Ud.Auth.verifyCurrentUserAttribute(t)];case 1:return n=r.sent(),e.attributeToVerify=t,[2,n]}}))}))},confirmVerifyUser:function(e,t){return w(this,void 0,void 0,(function(){var t,n;return S(this,(function(r){switch(r.label){case 0:return t=e.attributeToVerify,n=e.formValues.confirmation_code,[4,Ud.Auth.verifyCurrentUserAttributeSubmit(t,n)];case 1:return[2,r.sent()]}}))}))},validateFields:function(e,t){return w(this,void 0,void 0,(function(){return S(this,(function(t){return[2,yU(e.formValues,e.touched,e.passwordSettings,[bU.validateConfirmPassword])]}))}))}}})).withContext({authAttributes:null===(n=e.actorDoneData)||void 0===n?void 0:n.authAttributes,user:e.user,intent:null===(o=e.actorDoneData)||void 0===o?void 0:o.intent,country_code:"+1",formValues:{},touched:{},validationError:{},loginMechanisms:null===(i=e.config)||void 0===i?void 0:i.loginMechanisms,socialProviders:null===(a=e.config)||void 0===a?void 0:a.socialProviders,formFields:null===(s=e.config)||void 0===s?void 0:s.formFields});return Rj(d,{name:"signInActor"})}}),spawnSignUpActor:Vj({actorRef:function(e,t){var n,o,i,a,s,u,c,l,d,f=e.services,h=(l={services:f},d=l.services,zj({id:"signUpActor",initial:"init",states:{init:{always:[{target:"confirmSignUp",cond:"shouldInitConfirmSignUp"},{target:"signUp"}]},signUp:{type:"parallel",exit:["clearError","clearFormValues","clearTouched"],states:{validation:{initial:"pending",states:{pending:{invoke:{src:"validateSignUp",onDone:{target:"valid",actions:"clearValidationError"},onError:{target:"invalid",actions:"setFieldErrors"}}},valid:{entry:"sendUpdate"},invalid:{entry:"sendUpdate"}},on:{CHANGE:{actions:"handleInput",target:".pending"},BLUR:{actions:"handleBlur",target:".pending"}}},submission:{initial:"idle",states:{idle:{entry:"sendUpdate",on:{SUBMIT:{actions:"handleSubmit",target:"validate"},FEDERATED_SIGN_IN:"federatedSignIn"}},federatedSignIn:{tags:["pending"],entry:["sendUpdate","clearError"],invoke:{src:"federatedSignIn",onDone:"#signUpActor.resolved",onError:{actions:"setRemoteError"}}},validate:{entry:"sendUpdate",invoke:{src:"validateSignUp",onDone:{target:"pending",actions:"clearValidationError"},onError:{target:"idle",actions:"setFieldErrors"}}},pending:{tags:["pending"],entry:["parsePhoneNumber","sendUpdate","clearError"],invoke:{src:"signUp",onDone:[{cond:"shouldSkipConfirm",target:"skipConfirm",actions:["setUser"]},{target:"resolved",actions:["setUser","setCredentials","setCodeDeliveryDetails"]}],onError:{target:"idle",actions:"setRemoteError"}}},skipConfirm:{invoke:{src:"signIn",onDone:{target:"#signUpActor.resolved",actions:"setUser"},onError:{target:"idle",actions:"setRemoteError"}}},resolved:{type:"final",always:"#signUpActor.confirmSignUp"}}}}},confirmSignUp:{initial:"edit",states:{edit:{entry:"sendUpdate",on:{SUBMIT:{actions:"handleSubmit",target:"submit"},CHANGE:{actions:"handleInput"},BLUR:{actions:"handleBlur"},RESEND:"resend"}},resend:{tags:["pending"],entry:"sendUpdate",invoke:{src:"resendConfirmationCode",onDone:{target:"edit"},onError:[{target:"#signUpActor.resolved",actions:"setUser",cond:"isUserAlreadyConfirmed"},{target:"edit",actions:"setRemoteError"}]}},submit:{tags:["pending"],entry:["sendUpdate","clearError"],invoke:{src:"confirmSignUp",onDone:{target:"#signUpActor.resolved",actions:["setUser"]},onError:{target:"edit",actions:"setRemoteError"}}}}},resolved:{type:"final",data:function(e,t){var n=e.authAttributes,o=n.username,i=n.password;return{user:r(bM)(t,"data.user")||e.user,authAttributes:{username:o,password:i}}}}}},{guards:{isUserAlreadyConfirmed:function(e,t){return"User is already confirmed."===t.data.message},shouldInitConfirmSignUp:function(e){return e.intent&&"confirmSignUp"===e.intent},shouldSkipConfirm:function(e,t){return t.data.userConfirmed}},actions:{clearError:QR,clearFormValues:ZR,clearTouched:XR,clearValidationError:nM,handleInput:vM,handleSubmit:gM,handleBlur:mM,parsePhoneNumber:yM,setCredentials:sM,setFieldErrors:uM,setRemoteError:cM,setCodeDeliveryDetails:hM,setUser:dM,sendUpdate:qj()},services:{signIn:function(e,t){return w(this,void 0,void 0,(function(){var t,n,o,i,a;return S(this,(function(s){switch(s.label){case 0:return t=e.user,n=e.authAttributes,o=e.formValues,i=r(bM)(t,"username")||r(bM)(n,"username"),a=r(bM)(o,"password"),[4,Ud.Auth.signIn(i,a)];case 1:return[2,s.sent()]}}))}))},confirmSignUp:function(e,t){return w(this,void 0,void 0,(function(){var t,n,o,i,a,s;return S(this,(function(u){switch(u.label){case 0:return t=e.user,n=e.authAttributes,o=e.formValues,i=o.confirmation_code,a=r(bM)(t,"username")||r(bM)(n,"username"),s=n.password,[4,d.handleConfirmSignUp({username:a,code:i})];case 1:return u.sent(),[4,Ud.Auth.signIn(a,s)];case 2:return[2,u.sent()]}}))}))},resendConfirmationCode:function(e,t){return w(this,void 0,void 0,(function(){var t,n,o;return S(this,(function(i){return t=e.user,n=e.authAttributes,o=r(bM)(t,"username")||r(bM)(n,"username"),[2,Ud.Auth.resendSignUp(o)]}))}))},federatedSignIn:function(e,t){return w(this,void 0,void 0,(function(){var e;return S(this,(function(n){switch(n.label){case 0:return e=t.data.provider,[4,Ud.Auth.federatedSignIn({provider:e})];case 1:return[2,n.sent()]}}))}))},signUp:function(e,t){return w(this,void 0,void 0,(function(){var t,n,o,i,a,s,u;return S(this,(function(c){switch(c.label){case 0:return t=e.formValues,n=e.loginMechanisms,o=n[0],a=(i=t)[void 0===o?"username":o],s=i.password,u=r(xU)(t,(function(e,t){switch(t){case"address":case"birthdate":case"email":case"family_name":case"gender":case"given_name":case"locale":case"middle_name":case"name":case"nickname":case"phone_number":case"picture":case"preferred_username":case"profile":case"updated_at":case"website":case"zoneinfo":return!0;default:return t.startsWith("custom:")}})),[4,d.handleSignUp({username:a,password:s,attributes:u})];case 1:return[2,c.sent()]}}))}))},validateSignUp:function(e,t){return w(this,void 0,void 0,(function(){return S(this,(function(t){return[2,yU(e.formValues,e.touched,e.passwordSettings,[d.validateFormPassword,d.validateConfirmPassword,d.validatePreferredUsername,d.validateCustomSignUp])]}))}))}}})).withContext({authAttributes:null!==(o=null===(n=e.actorDoneData)||void 0===n?void 0:n.authAttributes)&&void 0!==o?o:{},country_code:"+1",intent:null===(i=e.actorDoneData)||void 0===i?void 0:i.intent,formValues:{},touched:{},validationError:{},loginMechanisms:null===(a=e.config)||void 0===a?void 0:a.loginMechanisms,socialProviders:null===(s=e.config)||void 0===s?void 0:s.socialProviders,formFields:null===(u=e.config)||void 0===u?void 0:u.formFields,passwordSettings:null===(c=e.config)||void 0===c?void 0:c.passwordSettings});return Rj(h,{name:"signUpActor"})}}),spawnResetPasswordActor:Vj({actorRef:function(e,t){var n,r,o,i;return Rj(SU({services:e.services}).withContext({formValues:{},touched:{},intent:null===(n=e.actorDoneData)||void 0===n?void 0:n.intent,username:null===(o=null===(r=e.actorDoneData)||void 0===r?void 0:r.authAttributes)||void 0===o?void 0:o.username,formFields:null===(i=e.config)||void 0===i?void 0:i.formFields,validationError:{}}),{name:"resetPasswordActor"})}}),spawnSignOutActor:Vj({actorRef:function(e){return Rj(wU.withContext({user:e.user}),{name:"signOutActor"})}}),stopSignInActor:WR("signInActor"),stopSignUpActor:WR("signUpActor"),stopResetPasswordActor:WR("resetPasswordActor"),stopSignOutActor:WR("signOutActor"),configure:Vj((function(e,t){var n=t.data,r=n.services,o=b(n,["services"]);return{services:y(y({},bU),r),config:o}})),setHasSetup:Vj({hasSetup:!0})},guards:{isInitialStateSignUp:function(e){return"signUp"===e.config.initialState},isInitialStateResetPassword:function(e){return"resetPassword"===e.config.initialState},shouldRedirectToSignUp:function(e,t){var n;return"confirmSignUp"===(null===(n=t.data)||void 0===n?void 0:n.intent)},shouldRedirectToResetPassword:function(e,t){var n;return"confirmPasswordReset"===(null===(n=t.data)||void 0===n?void 0:n.intent)},shouldSetup:function(e){return!1===e.hasSetup},hasActor:function(e){return!!e.actorRef}},services:{getCurrentUser:function(e,t){return e.services.getCurrentUser()},getAmplifyConfig:function(e,t){return e.services.getAmplifyConfig()}}});var e,t}eL=function(e,t,n,r){if(!fT(e))return e;for(var o=-1,i=(t=SM(t,e)).length,a=i-1,s=e;null!=s&&++o<i;){var u=UM(t[o]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(o!=a){var l=s[u];void 0===(c=r?r(l,u,s):void 0)&&(c=fT(l)?l:qT(t[o+1])?[]:{})}fN(s,u,c),s=s[u]}return e},XU=function(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],s=wM(e,a);n(s,a)&&eL(i,SM(a,e),s)}return i},xU=function(e,t){if(null==e)return{};var n=PT(BN(e),(function(e){return[e]}));return t=EU(t),XU(e,n,(function(e,n){return t(e,n[0])}))};var nL,rL={};function oL(e){return e.toLowerCase()}var iL=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],aL=/[^A-Z0-9]+/gi;function sL(e,t){void 0===t&&(t={});for(var n=t.splitRegexp,r=void 0===n?iL:n,o=t.stripRegexp,i=void 0===o?aL:o,a=t.transform,s=void 0===a?oL:a,u=t.delimiter,c=void 0===u?" ":u,l=uL(uL(e,r,"$1\0$2"),i,"\0"),d=0,f=l.length;"\0"===l.charAt(d);)d++;for(;"\0"===l.charAt(f-1);)f--;return l.slice(d,f).split("\0").map(s).join(c)}function uL(e,t,n){return t instanceof RegExp?e.replace(t,n):t.reduce((function(e,t){return e.replace(t,n)}),e)}function cL(e,t){var n=e.charAt(0),r=e.substr(1).toLowerCase();return t>0&&n>="0"&&n<="9"?"_"+n+r:""+n.toUpperCase()+r}function lL(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function dL(e,t){return 0===t?e.toLowerCase():cL(e,t)}function fL(e,t){return void 0===t&&(t={}),sL(e,jt({delimiter:"."},t))}const hL=function(e,t){Object.keys(e||{}).forEach((n=>{let r=e[n];t(r,n)}))},pL=function(e){return null==e||"object"!=typeof e?e:e instanceof Array?e.reduce(((e,t,n)=>(e[n]=pL(t),e)),[]):e instanceof Object?Object.keys(e||{}).reduce(((t,n)=>(t[n]=pL(e[n]),t)),{}):void 0},vL=function(e){const t=typeof e;return null!=e&&("object"===t||"function"===t)};const gL=function(e,t){return vL(t)?Object.keys(t).every((n=>gL(e[n],t[n]))):e==t},mL={transform:function(e,t){return 0===t?e.toLowerCase():lL(e)}};var yL,bL;rL={each:hL,forEach:hL,forIn:hL,keys:Object.keys,clone:function(e){return Object.assign(new e.constructor,e)},cloneDeep:pL,extend:Object.assign,isString:function(e){return"string"==typeof e||e instanceof String},isArray:function(e){return Array.isArray(e)},isObject:vL,isPlainObject:function(e){if("object"!=typeof e||null===e||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},isEmpty:function(e){return[Object,Array].includes((e||{}).constructor)&&!Object.entries(e||{}).length},filter:function(e,t){if("function"!=typeof t)throw"filter is not a function";return void 0===e?[]:e.filter(t)},reduce:function(e,t,n){return Object.keys(e||{}).reduce(((n,r)=>{let o=e[r];return t(n,o,r,e)}),n)},assign:function(){let e=Array.prototype.slice.call(arguments);return e.unshift({}),Object.assign(...e)},upperFirst:function(e){return e?e[0].toUpperCase()+e.substr(1):""},camelCase:(yL=function(e,t){return void 0===t&&(t={}),function(e,t){return void 0===t&&(t={}),sL(e,jt({delimiter:"",transform:cL},t))}(e,jt({transform:dL},t))},(e,t)=>yL(e,Object.assign({},mL,bL,t))),snakeCase:function(e,t){return void 0===t&&(t={}),fL(e,jt({delimiter:"_"},t))},kebabCase:function(e,t){return void 0===t&&(t={}),fL(e,jt({delimiter:"-"},t))},pull:function(e,...t){var n=new Set(t);for(let t=e.length-1;t>=0;t--)n.has(e[t])&&e.splice(t,1)},matches:function(e){let t=pL(e);return e=>gL(e,t)},unique:function(e){return[...new Set(e)]}},nL=function e(t,n,r){if(null==t)return{};var o,i,a,s,u,c,l=t[0]||{},d=1,f=t.length;for(r=r||[],"object"!=typeof l&&(l={});d<f;d++)if(null!=(u=t[d]))for(s in u)if(u.hasOwnProperty(s)&&"__proto__"!==s&&(o=l[s],l!==(a=u[s])))if(a&&(rL.isPlainObject(a)||(i=rL.isArray(a)))){i?(i=!1,c=o&&rL.isArray(o)?o:[]):c=o&&rL.isPlainObject(o)?o:{};var h=r.slice(0);h.push(s),l[s]=e([c,a],n,h)}else void 0!==a&&(null!=o&&"function"==typeof n&&n({target:l,copy:u,path:r,key:s}),l[s]=a);return l};var wL;wL=function e(t,n){for(var r in n=n||[],t)t.hasOwnProperty(r)&&(rL.isPlainObject(t[r])&&"value"in t[r]?n.push(t[r]):rL.isPlainObject(t[r])&&e(t[r],n));return n};var SL,xL={tokens:{components:{alert:{alignItems:{value:"center"},justifyContent:{value:"space-between"},color:{value:"{colors.font.primary.value}"},backgroundColor:{value:"{colors.background.tertiary.value}"},paddingBlock:{value:"{space.small.value}"},paddingInline:{value:"{space.medium.value}"},icon:{size:{value:"{fontSizes.xl.value}"}},heading:{fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.bold.value}"}},info:{color:{value:"{colors.font.info.value}"},backgroundColor:{value:"{colors.background.info.value}"}},error:{color:{value:"{colors.font.error.value}"},backgroundColor:{value:"{colors.background.error.value}"}},warning:{color:{value:"{colors.font.warning.value}"},backgroundColor:{value:"{colors.background.warning.value}"}},success:{color:{value:"{colors.font.success.value}"},backgroundColor:{value:"{colors.background.success.value}"}}},authenticator:{maxWidth:{value:"60rem"},modal:{width:{value:"{space.relative.full}"},height:{value:"{space.relative.full}"},backgroundColor:{value:"{colors.overlay.50.value}"},top:{value:"{space.zero}"},left:{value:"{space.zero}"}},container:{widthMax:{value:"30rem"}},router:{borderWidth:{value:"{borderWidths.small.value}"},borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"},backgroundColor:{value:"{colors.background.primary.value}"},boxShadow:{value:"{shadows.medium.value}"}},footer:{paddingBottom:{value:"{space.medium.value}"}},form:{padding:{value:"{space.xl.value}"}},state:{inactive:{backgroundColor:{value:"{colors.background.secondary.value}"}}},orContainer:{color:{value:"{colors.neutral.80.value}"},orLine:{backgroundColor:{value:"{colors.background.primary.value}"}}}},badge:{color:{value:"{colors.font.primary.value}"},lineHeight:{value:1},fontWeight:{value:"{fontWeights.semibold.value}"},fontSize:{value:"{fontSizes.small.value}"},textAlign:{value:"center"},paddingVertical:{value:"{space.xs.value}"},paddingHorizontal:{value:"{space.small.value}"},backgroundColor:{value:"{colors.background.tertiary.value}"},borderRadius:{value:"{radii.xl.value}"},info:{color:{value:"{colors.font.info.value}"},backgroundColor:{value:"{colors.background.info.value}"}},warning:{color:{value:"{colors.font.warning.value}"},backgroundColor:{value:"{colors.background.warning.value}"}},success:{color:{value:"{colors.font.success.value}"},backgroundColor:{value:"{colors.background.success.value}"}},error:{color:{value:"{colors.font.error.value}"},backgroundColor:{value:"{colors.background.error.value}"}},small:{fontSize:{value:"{fontSizes.xs.value}"},paddingVertical:{value:"{space.xxs.value}"},paddingHorizontal:{value:"{space.xs.value}"}},large:{fontSize:{value:"{fontSizes.medium.value}"},paddingVertical:{value:"{space.small.value}"},paddingHorizontal:{value:"{space.medium.value}"}}},button:{fontWeight:{value:"{fontWeights.bold.value}"},transitionDuration:{value:"{components.fieldcontrol.transitionDuration.value}"},fontSize:{value:"{components.fieldcontrol.fontSize.value}"},lineHeight:{value:"{components.fieldcontrol.lineHeight.value}"},paddingBlockStart:{value:"{components.fieldcontrol.paddingBlockStart.value}"},paddingBlockEnd:{value:"{components.fieldcontrol.paddingBlockEnd.value}"},paddingInlineStart:{value:"{components.fieldcontrol.paddingInlineStart.value}"},paddingInlineEnd:{value:"{components.fieldcontrol.paddingInlineEnd.value}"},borderColor:{value:"{components.fieldcontrol.borderColor.value}"},borderWidth:{value:"{components.fieldcontrol.borderWidth.value}"},borderStyle:{value:"{components.fieldcontrol.borderStyle.value}"},borderRadius:{value:"{components.fieldcontrol.borderRadius.value}"},color:{value:"{colors.font.primary.value}"},_hover:{color:{value:"{colors.font.focus.value}"},backgroundColor:{value:"{colors.brand.primary.10.value}"},borderColor:{value:"{colors.brand.primary.60.value}"}},_focus:{color:{value:"{colors.font.focus.value}"},backgroundColor:{value:"{colors.brand.primary.10.value}"},borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},_active:{color:{value:"{colors.font.active.value}"},backgroundColor:{value:"{colors.brand.primary.20.value}"},borderColor:{value:"{colors.brand.primary.100.value}"}},_loading:{color:{value:"{colors.font.disabled.value}"},backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.tertiary.value}"}},_disabled:{color:{value:"{colors.font.disabled.value}"},backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.tertiary.value}"}},primary:{borderColor:{value:"transparent"},borderWidth:{value:"{borderWidths.small.value}"},borderStyle:{value:"solid"},backgroundColor:{value:"{colors.brand.primary.80.value}"},color:{value:"{colors.font.inverse.value}"},_disabled:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.background.disabled.value}"},color:{value:"{colors.font.disabled.value}"}},_loading:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.background.disabled.value}"},color:{value:"{colors.font.disabled.value}"}},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.brand.primary.90.value}"},color:{value:"{colors.font.inverse.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.brand.primary.90.value}"},color:{value:"{colors.font.inverse.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.brand.primary.100.value}"},color:{value:"{colors.font.inverse.value}"}}},menu:{borderWidth:{value:"{space.zero.value}"},backgroundColor:{value:"transparent"},justifyContent:{value:"start"},_hover:{color:{value:"{colors.font.inverse.value}"},backgroundColor:{value:"{colors.brand.primary.80.value}"}},_focus:{color:{value:"{colors.font.inverse.value}"},backgroundColor:{value:"{colors.brand.primary.80.value}"}},_active:{color:{value:"{colors.font.inverse.value}"},backgroundColor:{value:"{colors.brand.primary.90.value}"}},_disabled:{color:{value:"{colors.font.disabled.value}"}}},link:{backgroundColor:{value:"transparent"},borderColor:{value:"transparent"},borderWidth:{value:"{space.zero.value}"},color:{value:"{colors.font.interactive.value}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.brand.primary.10.value}"},color:{value:"{colors.font.hover.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.brand.primary.10.value}"},color:{value:"{colors.font.focus.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.brand.primary.20.value}"},color:{value:"{colors.font.active.value}"}},_disabled:{borderColor:{value:"transparent"},backgroundColor:{value:"transparent"},color:{value:"{colors.font.disabled.value}"}},_loading:{borderColor:{value:"transparent"},backgroundColor:{value:"transparent"},color:{value:"{colors.font.disabled.value}"}}},small:{fontSize:{value:"{components.fieldcontrol.small.fontSize.value}"},paddingBlockStart:{value:"{components.fieldcontrol.small.paddingBlockStart.value}"},paddingBlockEnd:{value:"{components.fieldcontrol.small.paddingBlockEnd.value}"},paddingInlineStart:{value:"{components.fieldcontrol.small.paddingInlineStart.value}"},paddingInlineEnd:{value:"{components.fieldcontrol.small.paddingInlineEnd.value}"}},large:{fontSize:{value:"{components.fieldcontrol.large.fontSize.value}"},paddingBlockStart:{value:"{components.fieldcontrol.large.paddingBlockStart.value}"},paddingBlockEnd:{value:"{components.fieldcontrol.large.paddingBlockEnd.value}"},paddingInlineStart:{value:"{components.fieldcontrol.large.paddingInlineStart.value}"},paddingInlineEnd:{value:"{components.fieldcontrol.large.paddingInlineEnd.value}"}},loaderWrapper:{alignItems:{value:"center"},gap:{value:"{space.xs.value}"}}},card:{backgroundColor:{value:"{colors.background.primary.value}"},borderRadius:{value:"{radii.xs.value}"},borderWidth:{value:"0"},borderStyle:{value:"solid"},borderColor:{value:"transparent"},boxShadow:{value:"none"},padding:{value:"{space.medium.value}"},outlined:{backgroundColor:{value:"{components.card.backgroundColor.value}"},borderRadius:{value:"{radii.xs.value}"},borderWidth:{value:"{borderWidths.small.value}"},borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"},boxShadow:{value:"{components.card.boxShadow.value}"}},elevated:{backgroundColor:{value:"{components.card.backgroundColor.value}"},borderRadius:{value:"{radii.xs.value}"},borderWidth:{value:"0"},borderStyle:{value:"solid"},borderColor:{value:"transparent"},boxShadow:{value:"{shadows.medium.value}"}}},checkbox:{cursor:{value:"pointer"},alignItems:{value:"center"},_disabled:{cursor:{value:"not-allowed"}},button:{position:{value:"relative"},alignItems:{value:"center"},justifyContent:{value:"center"},color:{value:"{colors.white.value}"},before:{width:{value:"100%"},height:{value:"100%"},borderWidth:{value:"{borderWidths.medium.value}"},borderRadius:{value:"20%"},borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"}},_focus:{outlineColor:{value:"{colors.transparent.value}"},outlineStyle:{value:"solid"},outlineWidth:{value:"{outlineWidths.medium.value}"},outlineOffset:{value:"{outlineOffsets.medium.value}"},borderColor:{value:"{colors.transparent.value}"},boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"2px",color:"{colors.border.focus.value}"}}},_disabled:{borderColor:{value:"{colors.border.disabled.value}"}},_error:{borderColor:{value:"{colors.border.error.value}"},_focus:{borderColor:{value:"{colors.transparent.value}"},boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"2px",color:"{colors.border.error.value}"}}}}},icon:{backgroundColor:{value:"{colors.brand.primary.80.value}"},borderRadius:{value:"20%"},opacity:{value:"{opacities.0.value}"},transform:{value:"scale(0)"},transitionProperty:{value:"all"},transitionDuration:{value:"{time.short.value}"},transitionTimingFunction:{value:"ease-in-out"},_checked:{opacity:{value:"{opacities.100.value}"},transform:{value:"scale(1)"},_disabled:{backgroundColor:{value:"{colors.background.disabled.value}"}}}},label:{_disabled:{color:{value:"{colors.font.disabled.value}"}}}},checkboxfield:{alignItems:{value:"flex-start"},alignContent:{value:"center"},flexDirection:{value:"column"},justifyContent:{value:"center"}},copy:{fontSize:{value:"{fontSizes.xs}"},gap:{value:"{space.relative.medium}"},svg:{path:{fill:{value:"{colors.font.primary}"}}},toolTip:{bottom:{value:"{space.large}"},color:{value:"{colors.teal.100}"},fontSize:{value:"{fontSizes.xxs}"}}},countrycodeselect:{height:{value:"{space.relative.full.value}"}},divider:{borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"},borderWidth:{value:"{borderWidths.medium.value}"},label:{color:{value:"{colors.font.tertiary.value}"},paddingInline:{value:"{space.medium.value}"},fontSize:{value:"{fontSizes.small.value}"},backgroundColor:{value:"{colors.background.primary.value}"}},small:{borderWidth:{value:"{borderWidths.small.value}"}},large:{borderWidth:{value:"{borderWidths.large.value}"}},opacity:{value:"{opacities.60.value}"}},expander:{display:{value:"block"},backgroundColor:{value:"{colors.white.value}"},borderRadius:{value:"{radii.medium.value}"},boxShadow:{value:"{shadows.large.value}"},width:{value:"100%"},item:{marginTop:{value:"1px"},boxShadow:{value:"{shadows.small.value}"},borderBottomLeftRadius:{value:"{radii.medium.value}"},borderBottomRightRadius:{value:"{radii.medium.value}"},borderTopLeftRadius:{value:"{radii.medium.value}"},borderTopRightRadius:{value:"{radii.medium.value}"},borderStartStartRadius:{value:"{radii.medium.value}"},borderStartEndRadius:{value:"{radii.medium.value}"},borderEndStartRadius:{value:"{radii.medium.value}"},borderEndEndRadius:{value:"{radii.medium.value}"},_focus:{boxShadow:{value:{offsetX:"0",offsetY:"0",blurRadius:"0",spreadRadius:"2px",color:"{colors.border.focus.value}"}}}},header:{boxShadow:{value:{offsetX:"0",offsetY:"1px",blurRadius:"0",color:"{colors.overlay.20.value}"}}},trigger:{minHeight:{value:"3rem"},paddingInlineStart:{value:"{space.large.value}"},paddingInlineEnd:{value:"{space.large.value}"},alignItems:{value:"center"},justifyContent:{value:"space-between"},_hover:{backgroundColor:{value:"{colors.overlay.10.value}"}}},content:{paddingInlineStart:{value:"{space.large.value}"},paddingInlineEnd:{value:"{space.large.value}"},text:{color:{value:"{colors.font.secondary.value}"},paddingBlockStart:{value:"{space.medium.value}"},paddingBlockEnd:{value:"{space.medium.value}"}},_open:{animationDuration:{value:"{time.medium.value}"},animationTimingFunction:{value:"cubic-bezier(0.87, 0, 0.13, 1)"}},_closed:{animationDuration:{value:"{time.medium.value}"},animationTimingFunction:{value:"cubic-bezier(0.87, 0, 0.13, 1)"}}},icon:{transitionDuration:{value:"{time.medium.value}"},transitionTimingFunction:{value:"cubic-bezier(0.87, 0, 0.13, 1)"}}},field:{gap:{value:"{space.xs.value}"},fontSize:{value:"{fontSizes.medium.value}"},small:{gap:{value:"{space.xxxs.value}"},fontSize:{value:"{fontSizes.small.value}"}},large:{gap:{value:"{space.small.value}"},fontSize:{value:"{fontSizes.large.value}"}},label:{color:{value:"{colors.font.secondary.value}"}}},fieldcontrol:{borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"},borderWidth:{value:"{borderWidths.small.value}"},borderRadius:{value:"{radii.small.value}"},color:{value:"{colors.font.primary.value}"},paddingBlockStart:{value:"{space.xs.value}"},paddingBlockEnd:{value:"{space.xs.value}"},paddingInlineStart:{value:"{space.medium.value}"},paddingInlineEnd:{value:"{space.medium.value}"},fontSize:{value:"{components.field.fontSize.value}"},lineHeight:{value:"{lineHeights.medium.value}"},transitionDuration:{value:"{time.medium.value}"},outlineColor:{value:"{colors.transparent.value}"},outlineStyle:{value:"solid"},outlineWidth:{value:"{outlineWidths.medium.value}"},outlineOffset:{value:"{outlineOffsets.medium.value}"},small:{fontSize:{value:"{components.field.small.fontSize.value}"},paddingBlockStart:{value:"{space.xxs.value}"},paddingBlockEnd:{value:"{space.xxs.value}"},paddingInlineStart:{value:"{space.small.value}"},paddingInlineEnd:{value:"{space.small.value}"}},large:{fontSize:{value:"{components.field.large.fontSize.value}"},paddingBlockStart:{value:"{space.xs.value}"},paddingBlockEnd:{value:"{space.xs.value}"},paddingInlineStart:{value:"{space.medium.value}"},paddingInlineEnd:{value:"{space.medium.value}"}},quiet:{borderStyle:{value:"none"},borderBlockEnd:{value:"{borderWidths.small.value} solid {colors.border.primary.value}"},borderInlineStart:{value:"none"},borderInlineEnd:{value:"none"},borderBlockStart:{value:"none"},borderRadius:{value:"0"},_focus:{borderBlockEndColor:{value:"{colors.border.focus.value}"},boxShadow:{value:{offsetX:"0px",offsetY:"1px",color:"{colors.border.focus.value}",blurRadius:"0px"}}},_error:{borderBlockEndColor:{value:"{colors.border.error.value}"},_focus:{boxShadow:{value:{offsetX:"0px",offsetY:"1px",color:"{colors.border.error.value}",blurRadius:"0px"}}}}},_focus:{borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"1px",color:"{colors.border.focus.value}"}}},_disabled:{color:{value:"{colors.font.disabled.value}"},cursor:{value:"not-allowed"},borderColor:{value:"{colors.transparent.value}"},backgroundColor:{value:"{colors.background.disabled.value}"}},_error:{borderColor:{value:"{colors.border.error.value}"},_focus:{boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"1px",color:"{colors.border.error.value}"}}}}},fieldgroup:{gap:{value:"{space.zero.value}"},vertical:{alignItems:{value:"center"}},outer:{alignItems:{value:"center"}}},fieldmessages:{error:{color:{value:"{colors.font.error.value}"},fontSize:{value:"{fontSizes.small.value}"}},description:{color:{value:"{colors.font.secondary.value}"},fontStyle:{value:"italic"},fontSize:{value:"{fontSizes.small.value}"}}},flex:{gap:{value:"{space.medium.value}"},justifyContent:{value:"normal"},alignItems:{value:"stretch"},alignContent:{value:"normal"},flexWrap:{value:"nowrap"}},heading:{color:{value:"{colors.font.primary.value}"},lineHeight:{value:"{lineHeights.small.value}"},1:{fontSize:{value:"{fontSizes.xxxxl.value}"},fontWeight:{value:"{fontWeights.light.value}"}},2:{fontSize:{value:"{fontSizes.xxxl.value}"},fontWeight:{value:"{fontWeights.normal.value}"}},3:{fontSize:{value:"{fontSizes.xxl.value}"},fontWeight:{value:"{fontWeights.medium.value}"}},4:{fontSize:{value:"{fontSizes.xl.value}"},fontWeight:{value:"{fontWeights.semibold.value}"}},5:{fontSize:{value:"{fontSizes.large.value}"},fontWeight:{value:"{fontWeights.bold.value}"}},6:{fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.extrabold.value}"}}},icon:{lineHeight:{value:1},height:{value:"1em"}},image:{maxWidth:{value:"100%"},height:{value:"auto"},objectFit:{value:"initial"},objectPosition:{value:"initial"}},link:{active:{color:{value:"{colors.font.active.value}"}},color:{value:"{colors.font.interactive.value}"},focus:{color:{value:"{colors.font.focus.value}"}},hover:{color:{value:"{colors.font.hover.value}"}},visited:{color:{value:"{colors.font.interactive.value}"}}},loader:{width:{value:"{fontSizes.medium.value}"},height:{value:"{fontSizes.medium.value}"},fontSize:{value:"{fontSizes.xs.value}"},strokeEmpty:{value:"{colors.neutral.20.value}"},strokeFilled:{value:"{colors.brand.primary.80.value}"},strokeLinecap:{value:"round"},animationDuration:{value:"1s"},small:{width:{value:"{fontSizes.small.value}"},height:{value:"{fontSizes.small.value}"},fontSize:{value:"{fontSizes.xxs.value}"}},large:{width:{value:"{fontSizes.large.value}"},height:{value:"{fontSizes.large.value}"},fontSize:{value:"{fontSizes.small.value}"}},linear:{width:{value:"100%"},minWidth:{value:"5rem"},fontSize:{value:"{fontSizes.medium.value}"},strokeWidth:{value:"{fontSizes.medium.value}"},strokeFilled:{value:"{colors.brand.primary.80.value}"},strokeEmpty:{value:"{colors.neutral.20.value}"},strokeLinecap:{value:"round"},animationDuration:{value:"1s"},small:{strokeWidth:{value:"{fontSizes.small.value}"},fontSize:{value:"{fontSizes.small.value}"}},large:{strokeWidth:{value:"{fontSizes.large.value}"},fontSize:{value:"{fontSizes.large.value}"}}},text:{fill:{value:"{colors.font.primary.value}"}}},menu:{backgroundColor:{value:"{colors.white.value}"},borderRadius:{value:"{radii.medium.value}"},borderWidth:{value:"{borderWidths.small.value}"},borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"},boxShadow:{value:"{shadows.large.value}"},flexDirection:{value:"column"},gap:{value:"{space.zero.value}"},maxWidth:{value:"30rem"},minWidth:{value:"14rem"},small:{width:{value:"{fontSizes.medium.value}"},height:{value:"{fontSizes.medium.value}"}},large:{width:{value:"{fontSizes.xxxl.value}"},height:{value:"{fontSizes.xxxl.value}"}},item:{minHeight:{value:"2.5rem"},paddingInlineStart:{value:"{space.medium.value}"},paddingInlineEnd:{value:"{space.medium.value}"}}},pagination:{current:{alignItems:{value:"center"},justifyContent:{value:"center"},color:{value:"{colors.white.value}"},fontSize:{value:"{fontSizes.small.value}"},backgroundColor:{value:"{colors.overlay.40.value}"}},button:{color:{value:"{colors.font.primary.value}"},paddingInlineStart:{value:"{space.xxs.value}"},paddingInlineEnd:{value:"{space.xxs.value}"},transitionProperty:{value:"background-color"},transitionDuration:{value:"{time.medium.value}"},hover:{backgroundColor:{value:"{colors.overlay.10.value}"},color:{value:"{colors.font.primary.value}"}},disabled:{color:{value:"{colors.font.disabled.value}"}}},ellipsis:{alignItems:{value:"baseline"},justifyContent:{value:"center"},paddingInlineStart:{value:"{space.xs.value}"},paddingInlineEnd:{value:"{space.xs.value}"}},itemContainer:{marginLeft:{value:"{space.xxxs.value}"},marginRight:{value:"{space.xxxs.value}"}},itemShared:{height:{value:"{fontSizes.xxl.value}"},minWidth:{value:"{fontSizes.xxl.value}"},borderRadius:{value:"{fontSizes.medium.value}"}}},placeholder:{borderRadius:{value:"{radii.small.value}"},transitionDuration:{value:"{time.long.value}"},startColor:{value:"{colors.background.secondary.value}"},endColor:{value:"{colors.background.tertiary.value}"},small:{height:{value:"{space.small.value}"}},default:{height:{value:"{space.medium.value}"}},large:{height:{value:"{space.large.value}"}}},radio:{alignItems:{value:"center"},justifyContent:{value:"flex-start"},gap:{value:"inherit"},_disabled:{cursor:{value:"not-allowed"}},button:{alignItems:{value:"center"},justifyContent:{value:"center"},width:{value:"{fontSizes.medium.value}"},height:{value:"{fontSizes.medium.value}"},boxSizing:{value:"border-box"},borderWidth:{value:"{borderWidths.medium.value}"},borderStyle:{value:"solid"},borderRadius:{value:"50%"},borderColor:{value:"{colors.border.primary.value}"},color:{value:"{colors.white.value}"},backgroundColor:{value:"{colors.white.value}"},transitionProperty:{value:"all"},transitionDuration:{value:"{time.medium.value}"},outlineColor:{value:"{colors.transparent.value}"},outlineStyle:{value:"solid"},outlineWidth:{value:"{outlineWidths.medium.value}"},outlineOffset:{value:"{outlineOffsets.medium.value}"},padding:{value:"{borderWidths.medium.value}"},small:{width:{value:"{fontSizes.small.value}"},height:{value:"{fontSizes.small.value}"}},large:{width:{value:"{fontSizes.large.value}"},height:{value:"{fontSizes.large.value}"}},_checked:{color:{value:"{colors.brand.primary.80.value}"},_disabled:{color:{value:"{colors.background.disabled.value}"}}},_focus:{borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},_error:{borderColor:{value:"{colors.border.error.value}"},_focus:{boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow.value}"}}},_disabled:{borderColor:{value:"{colors.border.disabled.value}"},backgroundColor:{value:"{colors.background.primary.value}"}}},label:{_disabled:{color:{value:"{colors.font.disabled.value}"}}}},rating:{large:{size:{value:"{fontSizes.xxxl.value}"}},default:{size:{value:"{fontSizes.xl.value}"}},small:{size:{value:"{fontSizes.small.value}"}},filled:{color:{value:"{colors.brand.secondary.80.value}"}},empty:{color:{value:"{colors.background.tertiary.value}"}}},select:{paddingInlineEnd:{value:"{space.xxl.value}"},wrapper:{flex:{value:"1"},display:{value:"block"},position:{value:"relative"},cursor:{value:"pointer"}},iconWrapper:{alignItems:{value:"center"},position:{value:"absolute"},top:{value:"50%"},right:{value:"{space.medium.value}"},transform:{value:"translateY(-50%)"},pointerEvents:{value:"none"}},option:{backgroundColor:{value:"{colors.background.primary.value}"}},whiteSpace:{value:"nowrap"},minWidth:{value:"6.5rem"},small:{minWidth:{value:"5.5rem"}},large:{minWidth:{value:"7.5rem"}}},selectfield:{flexDirection:{value:"column"}},sliderfield:{paddingBlock:{value:"{space.xs.value}"},track:{backgroundColor:{value:"{colors.background.quaternary.value}"},borderRadius:{value:"9999px"},height:{value:"0.375rem"},minWidth:{value:"10rem"}},range:{backgroundColor:{value:"{colors.brand.primary.80.value}"},borderRadius:{value:"9999px"},_disabled:{backgroundColor:{value:"{colors.background.disabled.value}"}}},thumb:{width:{value:"1.25rem"},height:{value:"1.25rem"},backgroundColor:{value:"{colors.background.primary.value}"},boxShadow:{value:"{shadows.small.value}"},borderRadius:{value:"50%"},borderWidth:{value:"{borderWidths.small.value}"},borderColor:{value:"{colors.border.primary.value}"},borderStyle:{value:"solid"},_disabled:{backgroundColor:{value:"{colors.background.disabled.value}"},borderColor:{value:"transparent"},boxShadow:{value:"none"}},_hover:{backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"{colors.border.focus.value}"}},_focus:{boxShadow:{value:{offsetX:"0",offsetY:"0",blurRadius:"0",spreadRadius:"3px",color:"{colors.border.focus.value}"}}}},small:{track:{height:{value:"0.25rem"}},thumb:{width:{value:"1rem"},height:{value:"1rem"}}},large:{track:{height:{value:"0.625rem"}},thumb:{width:{value:"1.5rem"},height:{value:"1.5rem"}}}},stepperfield:{flexDirection:{value:"column"},input:{textAlign:{value:"center"}}},switchfield:{_disabled:{opacity:{value:"{opacities.60.value}"}},_focused:{shadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"2px",color:"{colors.border.focus.value}"}}},large:{fontSize:{value:"{fontSizes.large.value}"}},small:{fontSize:{value:"{fontSizes.small.value}"}},label:{padding:{value:"{space.xs.value}"}},thumb:{backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"{colors.border.tertiary.value}"},borderRadius:{value:"{radii.xxxl.value}"},checked:{transform:{value:"{transforms.slideX.medium.value}"}},transition:{duration:{value:"{time.medium.value}"}},width:{value:"{space.relative.medium.value}"}},track:{backgroundColor:{value:"{colors.background.quaternary.value}"},borderRadius:{value:"{radii.xxxl.value}"},checked:{backgroundColor:{value:"{colors.brand.primary.80.value}"}},height:{value:"{space.relative.medium.value}"},padding:{value:"{outlineWidths.medium.value}"},transition:{duration:{value:"{time.short.value}"}},width:{value:"{space.relative.xl.value}"}}},table:{borderCollapse:{value:"collapse"},display:{value:"table"},width:{value:"100%"},head:{display:{value:"table-header-group"},verticalAlign:{value:"middle"}},body:{display:{value:"table-row-group"},verticalAlign:{value:"middle"}},foot:{display:{value:"table-footer-group"},verticalAlign:{value:"middle"}},row:{display:{value:"table-row"},verticalAlign:{value:"middle"},hover:{backgroundColor:{value:"{colors.background.tertiary.value}"}},striped:{backgroundColor:{value:"{colors.background.secondary.value}"}}},header:{borderColor:{value:"{colors.border.tertiary.value}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.small.value}"},color:{value:"{colors.font.primary.value}"},display:{value:"table-cell"},fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.bold.value}"},padding:{value:"{space.medium.value}"},verticalAlign:{value:"middle"},large:{fontSize:{value:"{fontSizes.large.value}"},padding:{value:"{space.large.value}"}},small:{fontSize:{value:"{fontSizes.small.value}"},padding:{value:"{space.xs.value}"}}},data:{borderColor:{value:"{colors.border.tertiary.value}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.small.value}"},color:{value:"{colors.font.primary.value}"},display:{value:"table-cell"},fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.normal.value}"},padding:{value:"{space.medium.value}"},verticalAlign:{value:"middle"},large:{fontSize:{value:"{fontSizes.large.value}"},padding:{value:"{space.large.value}"}},small:{fontSize:{value:"{fontSizes.small.value}"},padding:{value:"{space.xs.value}"}}},caption:{captionSide:{value:"bottom"},color:{value:"{colors.font.primary.value}"},display:{value:"table-caption"},fontSize:{value:"{fontSizes.medium.value}"},textAlign:{value:"center"},wordBreak:{value:"break-all"},large:{fontSize:{value:"{fontSizes.large.value}"}},small:{fontSize:{value:"{fontSizes.small.value}"}}}},tabs:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.secondary.value}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.medium.value}"},gap:{value:"0"},item:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.secondary.value}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.medium.value}"},color:{value:"{colors.font.secondary.value}"},fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.bold.value}"},paddingVertical:{value:"{space.small.value}"},paddingHorizontal:{value:"{space.medium.value}"},textAlign:{value:"center"},transitionDuration:{value:"{time.medium.value}"},_hover:{color:{value:"{colors.font.hover.value}"}},_focus:{color:{value:"{colors.font.focus.value}"}},_active:{color:{value:"{colors.font.interactive.value}"},borderColor:{value:"{colors.font.interactive.value}"},backgroundColor:{value:"transparent"}},_disabled:{color:{value:"{colors.font.disabled.value}"},backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.tertiary.value}"}}}},text:{color:{value:"{colors.font.primary.value}"},primary:{color:{value:"{colors.font.primary.value}"}},secondary:{color:{value:"{colors.font.secondary.value}"}},tertiary:{color:{value:"{colors.font.tertiary.value}"}},error:{color:{value:"{colors.font.error.value}"}},warning:{color:{value:"{colors.font.warning.value}"}},success:{color:{value:"{colors.font.success.value}"}},info:{color:{value:"{colors.font.info.value}"}}},togglebutton:{borderColor:{value:"{colors.border.primary.value}"},color:{value:"{colors.overlay.50.value}"},_hover:{backgroundColor:{value:"{colors.overlay.10.value}"}},_focus:{borderColor:{value:"{colors.border.focus.value}"},color:{value:"{colors.overlay.50.value}"}},_active:{backgroundColor:{value:"{colors.transparent.value}"}},_disabled:{backgroundColor:{value:"{colors.transparent.value}"},borderColor:{value:"{colors.border.secondary.value}"},color:{value:"{colors.font.disabled.value}"}},_pressed:{color:{value:"{colors.font.primary.value}"},backgroundColor:{value:"{colors.overlay.20.value}"},_hover:{backgroundColor:{value:"{colors.overlay.30.value}"}}},primary:{backgroundColor:{value:"{colors.transparent.value}"},borderWidth:{value:"{borderWidths.small.value}"},_focus:{borderColor:{value:"{colors.border.focus.value}"},backgroundColor:{value:"{colors.transparent.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"},color:{value:"{colors.overlay.50.value}"}},_hover:{backgroundColor:{value:"{colors.overlay.10.value}"},color:{value:"{colors.overlay.50.value}"}},_disabled:{backgroundColor:{value:"{colors.background.tertiary.value}"},color:{value:"{colors.font.disabled.value}"}},_pressed:{backgroundColor:{value:"{colors.brand.primary.80.value}"},borderColor:{value:"{colors.brand.primary.80.value}"},color:{value:"{colors.white.value}"},_focus:{backgroundColor:{value:"{colors.border.focus.value}"},borderColor:{value:"{colors.border.focus.value}"}},_hover:{borderColor:{value:"{colors.brand.primary.60.value}"},backgroundColor:{value:"{colors.brand.primary.60.value}"}}}},link:{color:{value:"{colors.overlay.50.value}"},_hover:{backgroundColor:{value:"{colors.transparent.value}"},color:{value:"{colors.overlay.50.value}"}},_focus:{backgroundColor:{value:"{colors.transparent.value}"},color:{value:"{colors.overlay.50.value}"}},_disabled:{color:{value:"{colors.font.disabled.value}"}},_pressed:{backgroundColor:{value:"{colors.transparent.value}"},color:{value:"{colors.overlay.90.value}"},_hover:{backgroundColor:{value:"{colors.transparent.value}"}}}}},togglebuttongroup:{alignItems:{value:"center"},alignContent:{value:"center"},justifyContent:{value:"flex-start"}}},borderWidths:{small:{value:"1px"},medium:{value:"2px"},large:{value:"3px"}},colors:{red:{10:{value:"hsl(0, 75%, 95%)"},20:{value:"hsl(0, 75%, 85%)"},40:{value:"hsl(0, 75%, 75%)"},60:{value:"hsl(0, 50%, 50%)"},80:{value:"hsl(0, 95%, 30%)"},90:{value:"hsl(0, 100%, 20%)"},100:{value:"hsl(0, 100%, 15%)"}},orange:{10:{value:"hsl(30, 75%, 95%)"},20:{value:"hsl(30, 75%, 85%)"},40:{value:"hsl(30, 75%, 75%)"},60:{value:"hsl(30, 50%, 50%)"},80:{value:"hsl(30, 95%, 30%)"},90:{value:"hsl(30, 100%, 20%)"},100:{value:"hsl(30, 100%, 15%)"}},yellow:{10:{value:"hsl(60, 75%, 95%)"},20:{value:"hsl(60, 75%, 85%)"},40:{value:"hsl(60, 75%, 75%)"},60:{value:"hsl(60, 50%, 50%)"},80:{value:"hsl(60, 95%, 30%)"},90:{value:"hsl(60, 100%, 20%)"},100:{value:"hsl(60, 100%, 15%)"}},green:{10:{value:"hsl(130, 60%, 95%)"},20:{value:"hsl(130, 60%, 90%)"},40:{value:"hsl(130, 44%, 63%)"},60:{value:"hsl(130, 43%, 46%)"},80:{value:"hsl(130, 33%, 37%)"},90:{value:"hsl(130, 27%, 29%)"},100:{value:"hsl(130, 22%, 23%)"}},teal:{10:{value:"hsl(190, 75%, 95%)"},20:{value:"hsl(190, 75%, 85%)"},40:{value:"hsl(190, 70%, 70%)"},60:{value:"hsl(190, 50%, 50%)"},80:{value:"hsl(190, 95%, 30%)"},90:{value:"hsl(190, 100%, 20%)"},100:{value:"hsl(190, 100%, 15%)"}},blue:{10:{value:"hsl(220, 95%, 95%)"},20:{value:"hsl(220, 85%, 85%)"},40:{value:"hsl(220, 70%, 70%)"},60:{value:"hsl(220, 50%, 50%)"},80:{value:"hsl(220, 95%, 30%)"},90:{value:"hsl(220, 100%, 20%)"},100:{value:"hsl(220, 100%, 15%)"}},purple:{10:{value:"hsl(300, 95%, 95%)"},20:{value:"hsl(300, 85%, 85%)"},40:{value:"hsl(300, 70%, 70%)"},60:{value:"hsl(300, 50%, 50%)"},80:{value:"hsl(300, 95%, 30%)"},90:{value:"hsl(300, 100%, 20%)"},100:{value:"hsl(300, 100%, 15%)"}},pink:{10:{value:"hsl(340, 95%, 95%)"},20:{value:"hsl(340, 90%, 85%)"},40:{value:"hsl(340, 70%, 70%)"},60:{value:"hsl(340, 50%, 50%)"},80:{value:"hsl(340, 95%, 30%)"},90:{value:"hsl(340, 100%, 20%)"},100:{value:"hsl(340, 100%, 15%)"}},neutral:{10:{value:"hsl(210, 5%, 98%)"},20:{value:"hsl(210, 5%, 94%)"},40:{value:"hsl(210, 5%, 87%)"},60:{value:"hsl(210, 8%, 55%)"},80:{value:"hsl(210, 10%, 40%)"},90:{value:"hsl(210, 25%, 25%)"},100:{value:"hsl(210, 50%, 10%)"}},brand:{primary:{10:{value:"{colors.teal.10.value}"},20:{value:"{colors.teal.20.value}"},40:{value:"{colors.teal.40.value}"},60:{value:"{colors.teal.60.value}"},80:{value:"{colors.teal.80.value}"},90:{value:"{colors.teal.90.value}"},100:{value:"{colors.teal.100.value}"}},secondary:{10:{value:"{colors.purple.10.value}"},20:{value:"{colors.purple.20.value}"},40:{value:"{colors.purple.40.value}"},60:{value:"{colors.purple.60.value}"},80:{value:"{colors.purple.80.value}"},90:{value:"{colors.purple.90.value}"},100:{value:"{colors.purple.100.value}"}}},font:{primary:{value:"{colors.neutral.100.value}"},secondary:{value:"{colors.neutral.90.value}"},tertiary:{value:"{colors.neutral.80.value}"},disabled:{value:"{colors.font.tertiary.value}"},inverse:{value:"{colors.white.value}"},interactive:{value:"{colors.brand.primary.80.value}"},hover:{value:"{colors.brand.primary.90.value}"},focus:{value:"{colors.brand.primary.100.value}"},active:{value:"{colors.brand.primary.100.value}"},info:{value:"{colors.blue.90.value}"},warning:{value:"{colors.orange.90.value}"},error:{value:"{colors.red.90.value}"},success:{value:"{colors.green.90.value}"}},background:{primary:{value:"{colors.white.value}"},secondary:{value:"{colors.neutral.10.value}"},tertiary:{value:"{colors.neutral.20.value}"},quaternary:{value:"{colors.neutral.60.value}"},disabled:{value:"{colors.background.tertiary.value}"},info:{value:"{colors.blue.20.value}"},warning:{value:"{colors.orange.20.value}"},error:{value:"{colors.red.20.value}"},success:{value:"{colors.green.20.value}"}},border:{primary:{value:"{colors.neutral.60.value}"},secondary:{value:"{colors.neutral.40.value}"},tertiary:{value:"{colors.neutral.20.value}"},disabled:{value:"{colors.border.tertiary.value}"},focus:{value:"{colors.brand.primary.100.value}"},error:{value:"{colors.red.80.value}"}},shadow:{primary:{value:"hsla(210, 50%, 10%, 0.25)"},secondary:{value:"hsla(210, 50%, 10%, 0.15)"},tertiary:{value:"hsla(210, 50%, 10%, 0.05)"}},overlay:{10:{value:"hsla(0, 0%, 0%, 0.1)"},20:{value:"hsla(0, 0%, 0%, 0.2)"},30:{value:"hsla(0, 0%, 0%, 0.3)"},40:{value:"hsla(0, 0%, 0%, 0.4)"},50:{value:"hsla(0, 0%, 0%, 0.5)"},60:{value:"hsla(0, 0%, 0%, 0.6)"},70:{value:"hsla(0, 0%, 0%, 0.7)"},80:{value:"hsla(0, 0%, 0%, 0.8)"},90:{value:"hsla(0, 0%, 0%, 0.9)"}},black:{value:"hsl(0, 0%, 0%)"},white:{value:"hsl(0, 0%, 100%)"},transparent:{value:"transparent"}},fonts:{default:{variable:{value:"'InterVariable', 'Inter var', 'Inter', -apple-system, BlinkMacSystemFont,\n        'Helvetica Neue', 'Segoe UI', Oxygen, Ubuntu, Cantarell, 'Open Sans',\n        sans-serif"},static:{value:"'Inter', -apple-system, BlinkMacSystemFont, 'Helvetica Neue',\n        'Segoe UI', Oxygen, Ubuntu, Cantarell, 'Open Sans', sans-serif"}}},fontSizes:{xxxs:{value:"0.375rem"},xxs:{value:"0.5rem"},xs:{value:"0.75rem"},small:{value:"0.875rem"},medium:{value:"1rem"},large:{value:"1.25rem"},xl:{value:"1.5rem"},xxl:{value:"2rem"},xxxl:{value:"2.5rem"},xxxxl:{value:"3rem"}},fontWeights:{hairline:{value:100},thin:{value:200},light:{value:300},normal:{value:400},medium:{value:500},semibold:{value:600},bold:{value:700},extrabold:{value:800},black:{value:900}},lineHeights:{small:{value:"1.25"},medium:{value:"1.5"},large:{value:"2"}},opacities:{0:{value:"0"},10:{value:"0.1"},20:{value:"0.2"},30:{value:"0.3"},40:{value:"0.4"},50:{value:"0.5"},60:{value:"0.6"},70:{value:"0.7"},80:{value:"0.8"},90:{value:"0.9"},100:{value:"1"}},outlineOffsets:{small:{value:"1px"},medium:{value:"2px"},large:{value:"3px"}},outlineWidths:{small:{value:"1px"},medium:{value:"2px"},large:{value:"3px"}},radii:{xs:{value:"0.125rem"},small:{value:"0.25rem"},medium:{value:"0.5rem"},large:{value:"1rem"},xl:{value:"2rem"},xxl:{value:"4rem"},xxxl:{value:"8rem"}},shadows:{small:{value:{offsetX:"0px",offsetY:"2px",blurRadius:"4px",color:"{colors.shadow.tertiary.value}"}},medium:{value:{offsetX:"0px",offsetY:"2px",blurRadius:"6px",color:"{colors.shadow.secondary.value}"}},large:{value:{offsetX:"0px",offsetY:"4px",blurRadius:"12px",color:"{colors.shadow.primary.value}"}}},space:{zero:{value:"0"},xxxs:{value:"0.25rem"},xxs:{value:"0.375rem"},xs:{value:"0.5rem"},small:{value:"0.75rem"},medium:{value:"1rem"},large:{value:"1.5rem"},xl:{value:"2.0rem"},xxl:{value:"3.0rem"},xxxl:{value:"4.5rem"},relative:{xxxs:{value:"0.25em"},xxs:{value:"0.375em"},xs:{value:"0.5em"},small:{value:"0.75em"},medium:{value:"1em"},large:{value:"1.5em"},xl:{value:"2.0em"},xxl:{value:"3.0em"},xxxl:{value:"4.5em"},full:{value:"100%"}}},time:{short:{value:"100ms"},medium:{value:"250ms"},long:{value:"500ms"}},transforms:{slideX:{small:{value:"translateX(0.5em)"},medium:{value:"translateX(1em)"},large:{value:"translateX(2em)"}}}},breakpoints:{values:{base:0,small:480,medium:768,large:992,xl:1280,xxl:1536},defaultBreakpoint:"base"},name:"default-theme"},_L={},EL={};EL=function(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n};var CL,kL={};var AL=function(e){return function(t){return null==e?void 0:e[t]}}({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"});CL=AL;var TL=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,IL=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");kL=function(e){return(e=PM(e))&&e.replace(TL,CL).replace(IL,"")};var NL={},OL={},PL=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;OL=function(e){return e.match(PL)||[]};var jL={},RL=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;jL=function(e){return RL.test(e)};var ML={},UL="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",LL="["+UL+"]",DL="\\d+",FL="[\\u2700-\\u27bf]",BL="[^\ud800-\udfff"+UL+DL+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",zL="(?:\ud83c[\udde6-\uddff]){2}",VL="[\ud800-\udbff][\udc00-\udfff]",qL="[A-Z\\xc0-\\xd6\\xd8-\\xde]",KL="(?:[a-z\\xdf-\\xf6\\xf8-\\xff]|"+BL+")",HL="(?:"+qL+"|"+BL+")",GL="[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\ud83c[\udffb-\udfff])?"+("(?:\\u200d(?:"+["[^\ud800-\udfff]",zL,VL].join("|")+")[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\ud83c[\udffb-\udfff])?)*"),WL="(?:"+[FL,zL,VL].join("|")+")"+GL,$L=RegExp([qL+"?[a-z\\xdf-\\xf6\\xf8-\\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[LL,qL,"$"].join("|")+")",HL+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[LL,qL+KL,"$"].join("|")+")",qL+"?"+KL+"+(?:['’](?:d|ll|m|re|s|t|ve))?",qL+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",DL,WL].join("|"),"g");ML=function(e){return e.match($L)||[]},NL=function(e,t,n){return e=PM(e),void 0===(t=n?void 0:t)?jL(e)?ML(e):OL(e):e.match(t)||[]};var YL=RegExp("['’]","g");_L=function(e){return function(t){return EL(NL(kL(t).replace(YL,"")),e,"")}};var JL=_L((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}));SL=JL;var QL,ZL,XL={};ZL={opening_character:"{",closing_character:"}",separator:"."},XL=function(e={}){const t=Object.assign({},ZL,e);return new RegExp("\\"+t.opening_character+"([^"+t.closing_character+"]+)\\"+t.closing_character,"g")},QL=function e(t,n={}){const r=n instanceof RegExp?n:XL(n);if("string"==typeof t)return r.test(t);if("object"==typeof t){let r=!1;for(const o in t)if(t.hasOwnProperty(o)){if(e(t[o],n)){r=!0;break}}return r}return!1};function eD(e){if(r(QL)(e)){var t=e.replace(/\{|\}/g,"").replace(".value","").split(".");return"var(--".concat(nD({path:t}),")")}return e}function tD(e){var t=e.value;if("string"==typeof t)return eD(t);if("object"==typeof t&&"offsetX"in t){var n=t.offsetX,r=void 0===n?"":n,o=t.offsetY,i=void 0===o?"":o,a=t.blurRadius,s=void 0===a?"":a,u=t.spreadRadius,c=void 0===u?"":u,l=t.color,d=void 0===l?"":l;return[eD(r),eD(i),eD(s),eD(c),eD(d)].join(" ")}return t}function nD(e){var t=e.path;return"".concat(r(SL)(x(["amplify"],void 0===t?[]:t,!0).join(" ")))}function rD(e,t){void 0===t&&(t=[]);var n,r,o,i,a={};if(e.hasOwnProperty("value"))return n=e,o="--".concat(nD({path:r=t})),i=n.value,{name:o,path:r,value:tD(n),original:i,toString:function(){return"var(".concat(o,")")}};for(var s in e)e.hasOwnProperty(s)&&(a[s]=rD(e[s],t.concat(s)));return a}function oD(e,t){void 0===t&&(t=xL);var n=r(nL)([{},t,e]),o=rD(n.tokens),i=n.breakpoints,a=n.name,s='[data-amplify-theme="'.concat(a,'"] {\n')+r(wL)(o).map((function(e){return"".concat(e.name,": ").concat(e.value,";")})).join("\n")+"\n}\n",u=[];return n.overrides&&(u=n.overrides.map((function(e){var t=rD(e.tokens),o=r(wL)(t).map((function(e){return"".concat(e.name,": ").concat(e.value,";")})).join("\n");if("selector"in e&&(s+="\n".concat(e.selector," {\n").concat(o,"\n}\n")),"mediaQuery"in e&&(s+="\n@media (".concat(e.mediaQuery,') {\n  [data-amplify-theme="').concat(a,'"] {\n    ').concat(o,"\n  }\n}\n")),"breakpoint"in e){var i=n.breakpoints.values[e.breakpoint];s+="\n@media (min-width: ".concat(i,'px) {\n  [data-amplify-theme="').concat(a,'"] {\n    ').concat(o,"\n  }\n}\n")}return"colorMode"in e&&(s+="\n@media (prefers-color-scheme: ".concat(e.colorMode,') {\n          [data-amplify-theme="').concat(a,'"][data-amplify-color-mode="system"] {\n').concat(o,"\n}\n        }\n"),s+='\n[data-amplify-theme="'.concat(a,'"][data-amplify-color-mode="').concat(e.colorMode,'"] {\n').concat(o,"\n}\n")),y(y({},e),{tokens:t})}))),{tokens:o,breakpoints:i,name:a,cssText:s,overrides:u}}function iD(e){return"object"==typeof e&&e.hasOwnProperty("value")}var aD={};e(aD,"useInterpret",(()=>hD),(e=>hD=e));v=s("fYo6y");var sD=(v=s("fYo6y")).useLayoutEffect;v=s("fYo6y");function uD(e){var t=v.useRef();return t.current||(t.current={v:e()}),t.current.v}var cD=function(){return cD=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},cD.apply(this,arguments)},lD=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},dD=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};function fD(e,t){var n=uD((function(){return"function"==typeof e?e():e})),r=t.context,o=t.guards,i=t.actions,a=t.activities,s=t.services,u=t.delays,c=(t.state,lD(t,["context","guards","actions","activities","services","delays","state"])),l=uD((function(){var e={context:r,guards:o,actions:i,activities:a,services:s,delays:u};return Mj(n.withConfig(e,(function(){return cD(cD({},n.context),r)})),c)}));return sD((function(){Object.assign(l.machine.options.actions,i),Object.assign(l.machine.options.guards,o),Object.assign(l.machine.options.activities,a),Object.assign(l.machine.options.services,s),Object.assign(l.machine.options.delays,u)}),[i,o,a,s,u]),l}function hD(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=dD(t,2),o=r[0],i=void 0===o?{}:o,a=r[1],s=fD(e,i);return(0,v.useEffect)((function(){if(a){var e=s.subscribe(BP(a));return function(){e.unsubscribe()}}}),[a]),(0,v.useEffect)((function(){var e=i.state;return s.start(e?gj.create(e):void 0),function(){s.stop(),s.status=Nj.NotStarted}}),[]),s}var pD;v=s("fYo6y");pD=s("la5wX");v=s("fYo6y"),s("dc8m0");function vD(e){return"state"in e}var gD={};e(gD,"getServiceSnapshot",(()=>mD),(e=>mD=e));function mD(e){return 0!==e.status?e.state:e.machine.initialState}var yD=function(e,t){return e===t},bD=function(e){return"state"in(t=e)&&"machine"in t?(0,gD.getServiceSnapshot)(e):vD(e)?e.state:void 0;var t};function wD(e,t,n,r){void 0===n&&(n=yD),void 0===r&&(r=bD);var o=(0,v.useCallback)((function(t){return e.subscribe(t).unsubscribe}),[e]),i=(0,v.useCallback)((function(){return r(e)}),[e,r]);return(0,pD.useSyncExternalStoreWithSelector)(o,i,i,t,n)}const SD=e=>r(fT)(e)&&r(LM)(e),xD=e=>r(vT)(e)&&r(LM)(e),_D=e=>{const t=new FormData(e.target);return Object.fromEntries(t)},ED=v.createContext({}),CD=({children:e})=>{const t=v.useContext(ED),n={service:(0,aD.useInterpret)(tL)},o=r(LM)(t)?n:t,{service:{send:i}}=o,a=v.useRef(!1);return v.useEffect((()=>{if(!a.current)return a.current=!0,e=i,G.Hub.listen("auth",(function(t){switch(t.payload.event){case"tokenRefresh":e("TOKEN_REFRESH");break;case"signOut":case"tokenRefresh_failure":e("SIGN_OUT")}}));var e}),[i]),(0,u.jsx)(ED.Provider,Object.assign({value:o},{children:e}))},kD=e=>{const t=(()=>{const{service:e}=v.useContext(ED);if(!e)throw new Error("Please ensure you wrap your App with `Authenticator.Provider`.\nSee the `useAuthenticator` section on https://ui.docs.amplify.aws/components/authenticator.");return e})(),{send:n}=t,r=v.useMemo((()=>_(n)),[n]),o=wD(t,(e=>{return t=e,Object.assign(Object.assign({},r),E(t));var t}),((t,n)=>{if(!e)return!1;const r=e(t),o=e(n);return a=o,(i=r).length===a.length&&i.every(((e,t)=>{const n=a[t];return!(!xD(e)||!xD(n))||!(!SD(e)||!SD(n))||e===n}));var i,a}));return Object.assign(Object.assign({},o),{_state:t.getSnapshot(),_send:n})};const AD=(v=s("fYo6y")).createContext(null),TD=()=>{const e=v.useContext(AD);if(!e)throw new Error("`useCustomComponents` cannot be used outside of a `CustomComponentsContext.Provider`");return e};v=s("fYo6y");var ID={};
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){var e={}.hasOwnProperty;function t(){for(var n=[],r=0;r<arguments.length;r++){var o=arguments[r];if(o){var i=typeof o;if("string"===i||"number"===i)n.push(o);else if(Array.isArray(o)){if(o.length){var a=t.apply(null,o);a&&n.push(a)}}else if("object"===i)if(o.toString===Object.prototype.toString)for(var s in o)e.call(o,s)&&o[s]&&n.push(s);else n.push(o.toString())}}return n.join(" ")}ID?(t.default=t,ID=t):"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],(function(){return t})):window.classNames=t}();v=s("fYo6y");const ND=e=>"string"==typeof e&&0===e.length,OD=e=>null==e||ND(e);const PD=(e,t)=>t?`${e}--${t}`:null,jD=(e,t,n)=>n?`${e}--${t}`:null,RD={Alert:{className:"amplify-alert",components:["Alert"],description:"Top level element that wraps the Alert primitive"},AlertIcon:{className:"amplify-alert__icon",components:["Alert"],description:"Class applied to Icon component within the Alert primitive"},AlertHeading:{className:"amplify-alert__heading",components:["Alert"],description:"Class applied to the heading View"},AlertBody:{className:"amplify-alert__body",components:["Alert"],description:"Class applied to the body View"},AlertDismiss:{className:"amplify-alert__dismiss",components:["Alert"],description:"Class applied to the close Button"},Badge:{className:"amplify-badge",components:["Badge"],description:"Top level element that wraps the Badge component"},Button:{className:"amplify-button",components:["Button"],description:"Top level element that wraps the Button primitive"},ButtonGroup:{className:"amplify-buttongroup"},ButtonLoaderWrapper:{className:"amplify-button__loader-wrapper",components:["Button"],description:"Class applied to the Loader component within the Button Loading state"},Card:{className:"amplify-card",components:["Card"],description:"Top level element that wraps the Card primitive"},Checkbox:{className:"amplify-checkbox",components:["Checkbox"],description:"Top level element that wraps the Checkbox primitive"},CheckboxButton:{className:"amplify-checkbox__button",components:["Checkbox"],description:"Wrapper for the checked icon within the Checkbox primitive"},CheckboxIcon:{className:"amplify-checkbox__icon",components:["Checkbox"],description:"Class applied to the checked icon within the Checkbox primitive"},CheckboxInput:{className:"amplify-checkbox__input",components:["Checkbox"],description:"Class applied to the visually hidden checkbox input within the Checkbox primitive"},CheckboxLabel:{className:"amplify-checkbox__label",components:["Checkbox"],description:"Class applied to the label within the Checkbox primitive"},CheckboxField:{className:"amplify-checkboxfield",components:["CheckboxField"],description:"Top level element that wraps the CheckboxField primitive"},Collection:{className:"amplify-collection",components:["Collection"],description:"Top level element that wraps the Collection primitive"},CollectionItems:{className:"amplify-collection-items",components:["Collection"],description:"Class applied to the element that wraps all the items in a collection"},CollectionSearch:{className:"amplify-collection-search",components:["Collection"],description:"Class applied to the element that wraps the collection search box"},CollectionPagination:{className:"amplify-collection-pagination",components:["Collection"],description:"Class applied to the element that wraps the pagination component in a collection"},CountryCodeSelect:{className:"amplify-countrycodeselect",components:["PhoneNumberField"],description:"Class applied to the Country Code Select within the PhoneNumberField primitive"},Divider:{className:"amplify-divider",components:["Divider"],description:"Top level element that wraps the Divider primitive"},DividerLabel:{className:"amplify-divider--label",components:["Divider"],description:"Class applied to the label of the Divider component"},Expander:{className:"amplify-expander",components:["Expander"],description:"Top level element that wraps the Expander primitive"},ExpanderContent:{className:"amplify-expander__content",components:["Expander"],description:"Expander content container"},ExpanderContentText:{className:"amplify-expander__content__text",components:["Expander"],description:"Expander content text"},ExpanderHeader:{className:"amplify-expander__header",components:["Expander"],description:"Expander item header"},ExpanderIcon:{className:"amplify-expander__icon",components:["Expander"],description:"Icon to indicate whether an item is expanded or collapsed"},ExpanderItem:{className:"amplify-expander__item",components:["Expander"],description:"Expander item(containier for header, trigger, and content)"},ExpanderTrigger:{className:"amplify-expander__trigger",components:["Expander"],description:"Expander item trigger(button)"},Field:{className:"amplify-field"},FieldDescription:{className:"amplify-field__description"},FieldErrorMessage:{className:"amplify-field__error-message"},FieldGroup:{className:"amplify-field-group"},FieldGroupControl:{className:"amplify-field-group__control"},FieldGroupOuterEnd:{className:"amplify-field-group__outer-end"},FieldGroupOuterStart:{className:"amplify-field-group__outer-start"},FieldGroupInnerEnd:{className:"amplify-field-group__inner-end"},FieldGroupInnerStart:{className:"amplify-field-group__inner-start"},FieldGroupIcon:{className:"amplify-field-group__icon"},FieldGroupIconButton:{className:"amplify-field-group__icon-button"},FieldGroupHasInnerEnd:{className:"amplify-field-group--has-inner-end"},FieldGroupHasInnerStart:{className:"amplify-field-group--has-inner-start"},FieldShowPassword:{className:"amplify-field__show-password"},FieldGroupFieldWrapper:{className:"amplify-field-group__field-wrapper"},Flex:{className:"amplify-flex",components:["Flex"],description:"Top level element that wraps the Flex primitive"},Grid:{className:"amplify-grid",components:["Grid"],description:"Top level element that wraps the Grid primitive"},Heading:{className:"amplify-heading",components:["Heading"],description:"Top level element that wraps the Heading primitive"},Icon:{className:"amplify-icon",components:["Icon"],description:"Top level element that wraps the Icon primitive"},Image:{className:"amplify-image",components:["Image"],description:"Top level element that wraps the Image primitive"},Input:{className:"amplify-input"},Label:{className:"amplify-label"},Link:{className:"amplify-link",components:["Link"],description:"Top level element that wraps the Link primitive"},Loader:{className:"amplify-loader",components:["Loader"],description:"Top level element that wraps the Loader primitive"},LoaderDeterminate:{className:"amplify-loader--determinate",components:["Loader"],description:"Class applied to a determinate loader"},LoaderPercentageText:{className:"amplify-loader__percentage-text",components:["Loader"],description:"Class applied to the percentage text of loader"},MenuContent:{className:"amplify-menu-content",components:["Menu"],description:"Menu content container (Flex)"},MenuItem:{className:"amplify-menu-content__item",components:["Menu"],description:"Menu item button (MenuButton, wrapped in amplify-menu-content class)"},MenuTrigger:{className:"amplify-menu-trigger",components:["Menu"],description:"Menu trigger button (MenuButton, not wrapped in amplify-menu-content class)"},Pagination:{className:"amplify-pagination",components:["Pagination"],description:"Top level element that wraps the Pagination primitive"},PaginationItemButton:{className:"amplify-pagination__item-button",components:["Pagination"],description:"Class applied to the pagination buttons"},PaginationItemCurrent:{className:"amplify-pagination__item-current",components:["Pagination"],description:"Class applied to the currently selected pagination button"},PaginationItemEllipsis:{className:"amplify-pagination__item-ellipsis",components:["Pagination"],description:"Class applied to the ellipsis within the Pagination primitive"},PasswordField:{className:"amplify-passwordfield",components:["PasswordField"],description:"Top level element that wraps the PasswordField primitive"},PhoneNumberField:{className:"amplify-phonenumberfield",components:["PhoneNumberField"],description:"Top level element that wraps the PhoneNumberField primitive"},Placeholder:{className:"amplify-placeholder",components:["Placeholder"],description:"Top level element that wraps the Placeholder primitive"},Radio:{className:"amplify-radio",components:["RadioGroupField","Radio"],description:"Top level element that wraps the Radio primitive"},RadioButton:{className:"amplify-radio__button",compoents:["RadioGroupField","Radio"],description:"Class applied to the displayed radio button"},RadioInput:{className:"amplify-radio__input",components:["RadioGroupField","Radio"],description:"Class applied to the visually hidden radio input"},RadioLabel:{className:"amplify-radio__label",components:["RadioGroupField","Radio"],description:"Class applied to the radio label"},RadioGroupField:{className:"amplify-radiogroupfield",components:["RadioGroupField"],description:"Top level element that wraps the RadioGroupField primitive"},RadioGroup:{className:"amplify-radiogroup",components:["RadioGroupField"],description:"Class applied to the radio group wrapper"},Rating:{className:"amplify-rating",components:["Rating"],description:"Top level element that wraps the Rating primitive"},ScrollView:{className:"amplify-scrollview",components:["ScrollView"],description:"Top level element that wraps the ScrollView primitive"},SearchField:{className:"amplify-searchfield",components:["SearchField"],description:"Top level element that wraps the SearchField primitive"},SearchFieldClear:{className:"amplify-searchfield__clear",components:["SearchField"],description:"Class applied to the search field clear button"},SearchFieldSearch:{className:"amplify-searchfield__search",components:["SearchField"],description:"Class applied to the search button"},Select:{className:"amplify-select",components:["Select","SelectField"],description:"Class applied to the select element"},SelectField:{className:"amplify-selectfield",components:["SelectField"],description:"Top level element that wraps the SelectField primitive"},SelectWrapper:{className:"amplify-select__wrapper",components:["Select","SelectField"],description:"Class applied to the select wrapper"},SelectIconWrapper:{className:"amplify-select__icon-wrapper",components:["Select","SelectField"],description:"Class applied to the select icon wrapper"},SliderField:{className:"amplify-sliderfield",components:["SliderField"],description:"Top level element that wraps the SliderField primitive"},SliderFieldGroup:{className:"amplify-sliderfield__group",components:["SliderField"],description:"Class applied to the element that wraps the slider root"},SliderFieldLabel:{className:"amplify-sliderfield__label",components:["SliderField"],description:"Class applied to the slider label"},SliderFieldRange:{className:"amplify-sliderfield__range",components:["SliderField"],description:"Class applied to the filled in portion of the slider track"},SliderFieldRoot:{className:"amplify-sliderfield__root",components:["SliderField"],description:"Class applied to the slider root which wraps the track and thumb"},SliderFieldThumb:{className:"amplify-sliderfield__thumb",components:["SliderField"],description:"Class applied to the slider thumb"},SliderFieldTrack:{className:"amplify-sliderfield__track",components:["SliderField"],description:"Class applied to the slider track"},StepperField:{className:"amplify-stepperfield",components:["StepperField"],description:"Top level element that wraps the StepperField primitive"},StepperFieldButtonDecrease:{className:"amplify-stepperfield__button--decrease",components:["StepperField"],description:"Class applied to the decrease button"},StepperFieldButtonIncrease:{className:"amplify-stepperfield__button--increase",components:["StepperField"],description:"Class applied to the increase button"},StepperFieldInput:{className:"amplify-stepperfield__input",components:["StepperField"],description:"Class applied to the StepperField input"},SwitchField:{className:"amplify-switchfield",components:["SwitchField"],description:"Top level element that wraps the SwitchField primitive"},SwitchLabel:{className:"amplify-switch-label",components:["SwitchField"],description:"Class applied to the SwitchField label text"},SwitchThumb:{className:"amplify-switch-thumb",components:["SwitchField"],description:"Class applied to the SwitchField thumb"},SwitchTrack:{className:"amplify-switch-track",components:["SwitchField"],description:"Class applied to the SwitchField track"},SwitchWrapper:{className:"amplify-switch__wrapper",components:["SwitchField"],description:"Class applied to the label element that wraps the SwitchField label and track"},Table:{className:"amplify-table",components:["Table"],description:"Top level element that wraps the Table primitive"},TableCaption:{className:"amplify-table__caption",components:["Table"],description:"Class applied to the content provided as the caption prop"},TableBody:{className:"amplify-table__body",components:["Table"],description:"Class applied to TableBody component"},TableTd:{className:"amplify-table__td",components:["Table"],description:'Class applied to TableCell component rendered as a <td> element (<TableCell as="td" />)'},TableTh:{className:"amplify-table__th",components:["Table"],description:'Class applied to TableCell comopnent rendered as a <th> element (<TableCell as="th" />)'},TableFoot:{className:"amplify-table__foot",components:["Table"],description:"Class applied to TableFoot component"},TableHead:{className:"amplify-table__head",components:["Table"],description:"Class applied to TableHead component"},TableRow:{className:"amplify-table__row",components:["Table"],description:"Class applied to TableRow component"},Tabs:{className:"amplify-tabs",components:["Tabs"],description:"Top level element that wraps the Tabs primitive"},TabItems:{className:"amplify-tabs-item",components:["Tabs"],description:"Top level element that wraps the TabItem primitive"},Text:{className:"amplify-text",components:["Text"],description:"Top level element that wraps the Text primitive"},Textarea:{className:"amplify-textarea",components:["TextAreaField"],description:"Class applied to the text area"},TextAreaField:{className:"amplify-textareafield",components:["TextAreaField"],description:"Top level element that wraps the TextAreaField primitive"},TextField:{className:"amplify-textfield",components:["TextField"],description:"Top level element that wraps the TextField primitive"},ToggleButton:{className:"amplify-togglebutton",components:["ToggleButton"],description:"Top level element that wraps the ToggleButton primitive"},ToggleButtonGroup:{className:"amplify-togglebuttongroup",components:["ToggleButton","ToggleButtonGroup"],description:"Top level element that wraps the ToggleButtonGroup primitive"},VisuallyHidden:{className:"amplify-visually-hidden",components:["VisuallyHidden"],description:"Top level element that wraps the VisuallyHidden primitive"}};let MD={};Object.keys(RD).map((e=>{MD[e]=RD[e].className})),Object.freeze(MD);v=s("fYo6y"),v=s("fYo6y"),v=s("fYo6y");const UD={alignContent:"alignContent",alignItems:"alignItems",alignSelf:"alignSelf",area:"gridArea",autoColumns:"gridAutoColumns",autoFlow:"gridAutoFlow",autoRows:"gridAutoRows",backgroundColor:"backgroundColor",backgroundImage:"backgroundImage",basis:"flexBasis",border:"border",borderRadius:"borderRadius",bottom:"bottom",boxShadow:"boxShadow",color:"color",column:"gridColumn",columnEnd:"gridColumnEnd",columnGap:"columnGap",columnSpan:"gridColumn",columnStart:"gridColumnStart",direction:"flexDirection",display:"display",flex:"flex",fontFamily:"fontFamily",fontSize:"fontSize",fontStyle:"fontStyle",fontWeight:"fontWeight",gap:"gap",grow:"flexGrow",height:"height",justifyContent:"justifyContent",left:"left",letterSpacing:"letterSpacing",lineHeight:"lineHeight",margin:"margin",marginBlockEnd:"marginBlockEnd",marginBlockStart:"marginBlockStart",marginBottom:"marginBlockEnd",marginInlineEnd:"marginInlineEnd",marginInlineStart:"marginInlineStart",marginLeft:"marginInlineStart",marginRight:"marginInlineEnd",marginTop:"marginBlockStart",maxHeight:"maxHeight",maxWidth:"maxWidth",minHeight:"minHeight",minWidth:"minWidth",objectFit:"objectFit",objectPosition:"objectPosition",opacity:"opacity",order:"order",overflow:"overflow",padding:"padding",paddingBlockEnd:"paddingBlockEnd",paddingBlockStart:"paddingBlockStart",paddingBottom:"paddingBlockEnd",paddingInlineEnd:"paddingInlineEnd",paddingInlineStart:"paddingInlineStart",paddingLeft:"paddingInlineStart",paddingRight:"paddingInlineEnd",paddingTop:"paddingBlockStart",position:"position",resize:"resize",right:"right",row:"gridRow",rowEnd:"gridRowEnd",rowGap:"rowGap",rowSpan:"gridRow",rowStart:"gridRowStart",shrink:"flexShrink",templateAreas:"gridTemplateAreas",templateColumns:"gridTemplateColumns",templateRows:"gridTemplateRows",textAlign:"textAlign",textDecoration:"textDecoration",textTransform:"textTransform",top:"top",transform:"transform",transformOrigin:"transformOrigin",width:"width",whiteSpace:"whiteSpace",wrap:"flexWrap"},LD=(Object.keys(UD),(e,t,n)=>{if("object"!=typeof e)return e;let r={};const o=Object.keys(n).sort(((e,t)=>n[e]-n[t]));return Array.isArray(e)?e.map(((e,t)=>{r[o[t]]=e})):r=e,Object.keys(r).forEach((e=>{const t=r[e];iD(t)&&(r[e]=t.toString())})),DD(r,t,n)}),DD=(e,t,n)=>{if(e.hasOwnProperty(t))return e[t];const r=Object.keys(n).sort(((e,t)=>n[t]-n[e])),o=r.slice(r.indexOf(t));for(const t of o)if(e.hasOwnProperty(t))return e[t];return null};v=s("fYo6y");const FD=({breakpoints:e})=>{const t=Object.keys(e).sort(((t,n)=>e[n]-e[t]));return t.map(((n,r)=>{let o="",i=e[n];const a=t[r-1],s=a?e[a]-1:null;return i>=0&&(o=`(min-width: ${i}px)`),null!==s&&(o&&(o+=" and "),o+=`(max-width: ${s}px)`),{breakpoint:n,query:o,maxWidth:s,minWidth:i}}))},BD="undefined"==typeof window?v.useEffect:v.useLayoutEffect,zD=({breakpoints:e,defaultBreakpoint:t})=>{const n="undefined"!=typeof window&&void 0!==window.matchMedia?window.matchMedia:null,r=v.useMemo((()=>FD({breakpoints:e})),[e]),[o,i]=v.useState(t),a=v.useCallback(((e,t)=>{e&&i(t)}),[i]);return BD((()=>{if(!n)return;const e=r.map((({query:e,breakpoint:t})=>{const r=n(e);a(r.matches,t);const o=e=>{e.matches&&i(t)};return r.addEventListener("change",o),()=>r.removeEventListener("change",o)}));return()=>{e.forEach((e=>e()))}}),[e,i,n,r]),v.useDebugValue(o,(e=>e)),o};v=s("fYo6y");const VD=(v=s("fYo6y")).createContext({theme:oD()}),qD=()=>{const e=v.useContext(VD);return KD(e)},KD=e=>void 0===e||void 0===e.theme?oD():e.theme,HD=(e,t)=>{const{breakpoints:{values:n,defaultBreakpoint:r}}=qD(),o=zD({breakpoints:n,defaultBreakpoint:r}),i=(e=>{const{rowSpan:t,columnSpan:n,row:r,column:o}=e,i=h(e,["rowSpan","columnSpan","row","column"]),{rowFromSpanValue:a,columnFromSpanValue:s}=v.useMemo((()=>({rowFromSpanValue:GD(t),columnFromSpanValue:GD(n)})),[t,n]);return Object.assign({row:OD(r)?a:r,column:OD(o)?s:o},i)})(e);return v.useMemo((()=>$D({props:i,style:t,breakpoint:o,breakpoints:n})),[i,t,n,o])},GD=e=>{if("auto"===(t=e)||"number"==typeof t&&!isNaN(t)||"string"==typeof t&&!isNaN(parseFloat(t)))return WD(e);var t;if(Array.isArray(e))return e.map((e=>WD(e)));if("object"==typeof e&&null!=e){const t={};return Object.entries(e).forEach((([e,n])=>{t[e]=WD(n)})),t}return null},WD=e=>"auto"===e?"auto":`span ${e}`,$D=({props:e={},style:t={},breakpoint:n,breakpoints:r})=>{const o={};return Object.keys(e).filter((t=>null!=e[t])).forEach((i=>{if(i in UD){if(!ND(e[i])){let o=e[i];o=iD(o)?o.toString():LD(o,n,r);const a=UD[i];t=Object.assign(Object.assign({},t),{[a]:o})}}else o[i]=e[i]})),{propStyles:t,nonStyleProps:o}},YD={alignContent:!0,alignItems:!0,direction:!0,gap:!0,justifyContent:!0,wrap:!0,columnGap:!0,rowGap:!0},JD={alignSelf:!0,area:!0,backgroundColor:!0,backgroundImage:!0,basis:!0,border:!0,borderRadius:!0,bottom:!0,boxShadow:!0,color:!0,column:!0,columnEnd:!0,columnSpan:!0,columnStart:!0,display:!0,flex:!0,fontFamily:!0,fontSize:!0,fontStyle:!0,fontWeight:!0,grow:!0,height:!0,left:!0,letterSpacing:!0,lineHeight:!0,margin:!0,marginBlockEnd:!0,marginBlockStart:!0,marginBottom:!0,marginInlineEnd:!0,marginInlineStart:!0,marginLeft:!0,marginRight:!0,marginTop:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,opacity:!0,order:!0,overflow:!0,padding:!0,paddingBlockEnd:!0,paddingBlockStart:!0,paddingBottom:!0,paddingInlineEnd:!0,paddingInlineStart:!0,paddingLeft:!0,paddingRight:!0,paddingTop:!0,position:!0,right:!0,row:!0,rowEnd:!0,rowSpan:!0,rowStart:!0,shrink:!0,textAlign:!0,textDecoration:!0,textTransform:!0,top:!0,transform:!0,transformOrigin:!0,width:!0,whiteSpace:!0},QD=e=>{const t={flexContainerStyleProps:{},baseStyleProps:{},rest:{}};return Object.keys(e).forEach((n=>{n in YD?t.flexContainerStyleProps[n]=e[n]:n in JD?t.baseStyleProps[n]=e[n]:t.rest[n]=e[n]})),t},ZD=v.forwardRef(((e,t)=>{var{as:n="div",children:r,testId:o,ariaLabel:i,isDisabled:a,style:s}=e,u=h(e,["as","children","testId","ariaLabel","isDisabled","style"]);const{propStyles:c,nonStyleProps:l}=HD(u,s);return v.createElement(n,Object.assign({"aria-label":i,"data-testid":o,disabled:a,ref:t,style:c},l),r)}));ZD.displayName="View";const XD=v.forwardRef(((e,t)=>{var{className:n,children:o}=e,i=h(e,["className","children"]);return(0,u.jsx)(ZD,Object.assign({className:r(ID)(MD.Flex,n),ref:t},i,{children:o}))}));XD.displayName="Flex";v=s("fYo6y");const eF=84*Math.PI,tF=v.forwardRef(((e,t)=>{var{className:n,filledColor:o,emptyColor:i,size:a,variation:s,isDeterminate:c=!1,isPercentageTextHidden:l=!1,percentage:d=0}=e,f=h(e,["className","filledColor","emptyColor","size","variation","isDeterminate","isPercentageTextHidden","percentage"]);d=Math.min(d,100);const p=`${d=Math.max(d,0)}%`,v=r(ID)(MD.Loader,PD(MD.Loader,a),PD(MD.Loader,s),c?MD.LoaderDeterminate:null,n),g=(0,u.jsxs)("g",{children:[(0,u.jsx)("line",{x1:"0",x2:"100%",y1:"50%",y2:"50%",style:{stroke:i},"data-testid":"linear-empty"}),(0,u.jsx)("line",{x1:"0",x2:c?p:"100%",y1:"50%",y2:"50%",style:{stroke:c&&0===d?"none":o},"data-testid":"linear-filled"}),c?(0,u.jsx)("text",Object.assign({"aria-live":"polite",className:r(ID)(MD.LoaderPercentageText,l?MD.VisuallyHidden:null),x:`${-1+d}%`,y:"200%"},{children:p})):null]}),m=(0,u.jsxs)("g",{children:[(0,u.jsx)("circle",{cx:"50%",cy:"50%",r:"42%",strokeWidth:"8%",style:{stroke:i},"data-testid":"circular-empty"}),(0,u.jsx)("circle",{cx:"50%",cy:"50%",r:"42%",strokeWidth:"8%",style:{stroke:o,strokeDasharray:c?`${eF}% ${eF}%`:void 0,strokeDashoffset:c?eF-eF*d/100+"%":void 0},"data-testid":"circular-filled"}),c?(0,u.jsx)("text",Object.assign({"aria-live":"polite",className:r(ID)(MD.LoaderPercentageText,l?MD.VisuallyHidden:null),x:"130%",y:"80%"},{children:p})):null]});return(0,u.jsx)(ZD,Object.assign({as:"svg",className:v,"data-size":a,"data-variation":s,ref:t,role:"img"},f,{children:"linear"===s?g:m}))}));tF.displayName="Loader";const nF=v.forwardRef(((e,t)=>{var{className:n,children:o,isFullWidth:i=!1,isDisabled:a,isLoading:s,loadingText:c="",size:l,type:d="button",variation:f}=e,p=h(e,["className","children","isFullWidth","isDisabled","isLoading","loadingText","size","type","variation"]);const v=r(ID)(MD.Button,MD.FieldGroupControl,PD(MD.Button,f),PD(MD.Button,l),jD(MD.Button,"disabled",a||s||p.disabled),jD(MD.Button,"loading",s),jD(MD.Button,"fullwidth",i),n);return(0,u.jsx)(ZD,Object.assign({ref:t,as:"button",className:v,"data-fullwidth":i,"data-loading":s,"data-size":l,"data-variation":f,isDisabled:a||s,type:d},p,{children:s&&c?(0,u.jsxs)(XD,Object.assign({as:"span",className:MD.ButtonLoaderWrapper},{children:[(0,u.jsx)(tF,{size:l}),c]})):o}))}));nF.displayName="Button";v=s("fYo6y");const rF={1:"h1",2:"h2",3:"h3",4:"h4",5:"h5",6:"h6"},oF=v.forwardRef(((e,t)=>{var{className:n,children:o,level:i=6}=e,a=h(e,["className","children","level"]);return(0,u.jsx)(ZD,Object.assign({as:rF[i],className:r(ID)(MD.Heading,PD(MD.Heading,i),n),ref:t},a,{children:o}))}));oF.displayName="Heading";const iF=(v=s("fYo6y")).forwardRef(((e,t)=>{var{as:n="p",className:o,children:i,isTruncated:a,variation:s}=e,c=h(e,["as","className","children","isTruncated","variation"]);const l=r(ID)(MD.Text,PD(MD.Text,s),jD(MD.Text,"truncated",a),o);return(0,u.jsx)(ZD,Object.assign({as:n,className:l,"data-truncate":a,"data-variation":s,ref:t},c,{children:i}))}));iF.displayName="Text";v=s("fYo6y");function aF(){const{submitForm:e,updateBlur:t,updateForm:n}=kD((e=>[e.submitForm,e.updateBlur,e.updateForm]));return{handleBlur:(0,v.useCallback)((({target:{name:e}})=>{t({name:e})}),[t]),handleChange:(0,v.useCallback)((({target:{checked:e,name:t,type:r,value:o}})=>{n({name:t,value:"checkbox"!==r||e?o:void 0})}),[n]),handleSubmit:(0,v.useCallback)((t=>{t.preventDefault(),e(_D(t))}),[e])}}v=s("fYo6y");s("fYo6y");const sF=e=>{const{className:t}=e,n=h(e,["className"]);return(0,u.jsx)(ZD,Object.assign({as:"span",width:"1em",height:"1em",className:r(ID)(MD.Icon,t)},n,{children:(0,u.jsx)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,u.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20ZM16.59 7.58L10 14.17L7.41 11.59L6 13L10 17L18 9L16.59 7.58Z",fill:"currentColor"})}))}))},uF=e=>{const{className:t}=e,n=h(e,["className"]);return(0,u.jsx)(ZD,Object.assign({as:"span",width:"1em",height:"1em",className:r(ID)(MD.Icon,t)},n,{children:(0,u.jsx)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,u.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM13 17H11V15H13V17ZM13 13H11V7H13V13Z",fill:"currentColor"})}))}))},cF=e=>{const{className:t}=e,n=h(e,["className"]);return(0,u.jsx)(ZD,Object.assign({as:"span",width:"1em",height:"1em",className:r(ID)(MD.Icon,t)},n,{children:(0,u.jsx)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,u.jsx)("path",{d:"M11 7H13V9H11V7ZM11 11H13V17H11V11ZM12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20Z",fill:"currentColor"})}))}))},lF=e=>{const{className:t}=e,n=h(e,["className"]);return(0,u.jsx)(ZD,Object.assign({as:"span",width:"1em",height:"1em",className:r(ID)(MD.Icon,t)},n,{children:(0,u.jsx)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,u.jsx)("path",{d:"M1 21H23L12 2L1 21ZM13 18H11V16H13V18ZM13 14H11V10H13V14Z",fill:"currentColor"})}))}))},dF=({variation:e})=>{switch(e){case"info":return(0,u.jsx)(cF,{className:MD.AlertIcon});case"error":return(0,u.jsx)(uF,{className:MD.AlertIcon});case"warning":return(0,u.jsx)(lF,{className:MD.AlertIcon});case"success":return(0,u.jsx)(sF,{className:MD.AlertIcon});default:return null}};dF.displayName="AlertIcon";const fF=e=>{const{className:t}=e,n=h(e,["className"]);return(0,u.jsx)(ZD,Object.assign({as:"span",width:"1em",height:"1em",className:r(ID)(MD.Icon,t)},n,{children:(0,u.jsx)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,u.jsx)("path",{d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z",fill:"currentColor"})}))}))},hF=v.forwardRef(((e,t)=>{var{buttonRef:n,children:o,className:i,hasIcon:a=!0,heading:s,isDismissible:c=!1,onDismiss:l,variation:d}=e,f=h(e,["buttonRef","children","className","hasIcon","heading","isDismissible","onDismiss","variation"]);const[p,g]=v.useState(!1),m=v.useCallback((()=>{g(!p),"function"==typeof l&&l()}),[g,l,p]);return!p&&(0,u.jsxs)(XD,Object.assign({className:r(ID)(MD.Alert,i,PD(MD.Alert,d)),"data-variation":d,ref:t},f,{children:[a&&(0,u.jsx)(dF,{variation:d}),(0,u.jsxs)(ZD,Object.assign({role:"alert",flex:"1"},{children:[s&&(0,u.jsx)(ZD,Object.assign({className:MD.AlertHeading},{children:s})),(0,u.jsx)(ZD,Object.assign({className:MD.AlertBody},{children:o}))]})),c&&(0,u.jsx)(nF,Object.assign({variation:"link",className:MD.AlertDismiss,onClick:m,ref:n},{children:(0,u.jsx)(fF,{})}))]}))}));hF.displayName="Alert";const pF=()=>{const{error:e}=kD((e=>[e.error]));return(0,u.jsx)(u.Fragment,{children:e?(0,u.jsx)(hF,Object.assign({variation:"error",isDismissible:!0},{children:NO(e)})):null})};v=s("fYo6y"),v=s("fYo6y"),v=s("fYo6y"),v=s("fYo6y");const vF={CountryCodeSelect:{ariaLabel:"Country code"},ShowPasswordButton:{ariaLabel:{showPassword:"Show password",hidePassword:"Hide password"}},Fields:{ariaLabel:{clearField:"Clear search"}},SearchField:{ariaLabel:{search:"Search"}},StepperField:{ariaLabel:{IncreaseTo:"Increase to",DecreaseTo:"Decrease to"}},Collection:{SearchFieldLabel:"Search"}},gF=e=>{const{className:t}=e,n=h(e,["className"]);return(0,u.jsx)(ZD,Object.assign({as:"span",width:"1em",height:"1em",className:r(ID)(MD.Icon,t)},n,{children:(0,u.jsx)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,u.jsx)("path",{d:"M12 6.0002C15.79 6.0002 19.17 8.1302 20.82 11.5002C20.23 12.7202 19.4 13.7702 18.41 14.6202L19.82 16.0302C21.21 14.8002 22.31 13.2602 23 11.5002C21.27 7.1102 17 4.0002 12 4.0002C10.73 4.0002 9.51 4.2002 8.36 4.5702L10.01 6.2202C10.66 6.0902 11.32 6.0002 12 6.0002ZM10.93 7.14019L13 9.2102C13.57 9.4602 14.03 9.9202 14.28 10.4902L16.35 12.5602C16.43 12.2202 16.49 11.8602 16.49 11.4902C16.5 9.0102 14.48 7.0002 12 7.0002C11.63 7.0002 11.28 7.05019 10.93 7.14019ZM2.01 3.8702L4.69 6.5502C3.06 7.8302 1.77 9.5302 1 11.5002C2.73 15.8902 7 19.0002 12 19.0002C13.52 19.0002 14.98 18.7102 16.32 18.1802L19.74 21.6002L21.15 20.1902L3.42 2.4502L2.01 3.8702ZM9.51 11.3702L12.12 13.9802C12.08 13.9902 12.04 14.0002 12 14.0002C10.62 14.0002 9.5 12.8802 9.5 11.5002C9.5 11.4502 9.51 11.4202 9.51 11.3702V11.3702ZM6.11 7.97019L7.86 9.7202C7.63 10.2702 7.5 10.8702 7.5 11.5002C7.5 13.9802 9.52 16.0002 12 16.0002C12.63 16.0002 13.23 15.8702 13.77 15.6402L14.75 16.6202C13.87 16.8602 12.95 17.0002 12 17.0002C8.21 17.0002 4.83 14.8702 3.18 11.5002C3.88 10.0702 4.9 8.89019 6.11 7.97019Z",fill:"currentColor"})}))}))},mF=e=>{const{className:t}=e,n=h(e,["className"]);return(0,u.jsx)(ZD,Object.assign({as:"span",width:"1em",height:"1em",className:r(ID)(MD.Icon,t)},n,{children:(0,u.jsx)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,u.jsx)("path",{d:"M12 6C15.79 6 19.17 8.13 20.82 11.5C19.17 14.87 15.79 17 12 17C8.21 17 4.83 14.87 3.18 11.5C4.83 8.13 8.21 6 12 6ZM12 4C7 4 2.73 7.11 1 11.5C2.73 15.89 7 19 12 19C17 19 21.27 15.89 23 11.5C21.27 7.11 17 4 12 4ZM12 9C13.38 9 14.5 10.12 14.5 11.5C14.5 12.88 13.38 14 12 14C10.62 14 9.5 12.88 9.5 11.5C9.5 10.12 10.62 9 12 9ZM12 7C9.52 7 7.5 9.02 7.5 11.5C7.5 13.98 9.52 16 12 16C14.48 16 16.5 13.98 16.5 11.5C16.5 9.02 14.48 7 12 7Z",fill:"currentColor"})}))}))},yF=vF.ShowPasswordButton.ariaLabel,bF=v.forwardRef(((e,t)=>{var{fieldType:n,size:r}=e,o=h(e,["fieldType","size"]);return(0,u.jsx)(nF,Object.assign({ariaLabel:"password"===n?yF.showPassword:yF.hidePassword,className:MD.FieldShowPassword,ref:t,size:r},o,{children:(0,u.jsx)("password"===n?mF:gF,{size:r})}))}));bF.displayName="ShowPasswordButton";v=s("fYo6y");const wF=e=>{var{descriptiveText:t,labelHidden:n}=e,o=h(e,["descriptiveText","labelHidden"]);return t?(0,u.jsx)(iF,Object.assign({"data-testid":"qa-field-description",className:r(ID)(MD.FieldDescription,{[MD.VisuallyHidden]:n})},o,{children:t})):null};wF.displayName="FieldDescription";const SF=e=>{var{errorMessage:t,hasError:n}=e,r=h(e,["errorMessage","hasError"]);return n&&t?(0,u.jsx)(iF,Object.assign({className:MD.FieldErrorMessage},r,{children:t})):null};SF.displayName="FieldErrorMessage";const xF=(v=s("fYo6y")).forwardRef(((e,t)=>{var{children:n,className:o,innerEndComponent:i,innerStartComponent:a,orientation:s="horizontal",outerEndComponent:c,outerStartComponent:l,variation:d}=e,f=h(e,["children","className","innerEndComponent","innerStartComponent","orientation","outerEndComponent","outerStartComponent","variation"]);const p=null!=i,v=null!=a?MD.FieldGroupHasInnerStart:null,g=p?MD.FieldGroupHasInnerEnd:null,m=r(ID)(MD.FieldGroup,v,g,PD(MD.FieldGroup,s),o);return(0,u.jsxs)(XD,Object.assign({className:m,"data-orientation":s,ref:t},f,{children:[l&&(0,u.jsx)(ZD,Object.assign({className:r(ID)(MD.FieldGroupOuterStart,PD(MD.FieldGroupOuterStart,d))},{children:l})),(0,u.jsxs)(ZD,Object.assign({className:r(ID)(MD.FieldGroupFieldWrapper,PD(MD.FieldGroupFieldWrapper,s)),"data-orientation":s},{children:[a&&(0,u.jsx)(ZD,Object.assign({className:MD.FieldGroupInnerStart},{children:a})),n,i&&(0,u.jsx)(ZD,Object.assign({className:MD.FieldGroupInnerEnd},{children:i}))]})),c&&(0,u.jsx)(ZD,Object.assign({className:r(ID)(MD.FieldGroupOuterEnd,PD(MD.FieldGroupOuterEnd,d))},{children:c}))]}))}));xF.displayName="FieldGroup";const _F=(v=s("fYo6y")).forwardRef(((e,t)=>{var{autoComplete:n,checked:o,className:i,defaultChecked:a,defaultValue:s,id:c,isDisabled:l,isReadOnly:d,isRequired:f,size:p,type:v="text",hasError:g=!1,value:m,variation:y,onBlur:b,onChange:w,onCopy:S,onCut:x,onFocus:_,onInput:E,onPaste:C,onSelect:k,onWheel:A}=e,T=h(e,["autoComplete","checked","className","defaultChecked","defaultValue","id","isDisabled","isReadOnly","isRequired","size","type","hasError","value","variation","onBlur","onChange","onCopy","onCut","onFocus","onInput","onPaste","onSelect","onWheel"]);const I=r(ID)(MD.Input,MD.FieldGroupControl,PD(MD.Input,y),jD(MD.Input,"error",g),PD(MD.Input,p),i);return(0,u.jsx)(ZD,Object.assign({"aria-invalid":g,as:"input",autoComplete:n,checked:o,className:I,"data-size":p,"data-variation":y,defaultChecked:a,defaultValue:s,isDisabled:l,id:c,onBlur:b,onChange:w,onCopy:S,onCut:x,onFocus:_,onInput:E,onPaste:C,onSelect:k,onWheel:A,readOnly:d,ref:t,required:f,type:v,value:m},T))}));_F.displayName="Input";const EF=(v=s("fYo6y")).forwardRef(((e,t)=>{var{children:n,className:o,visuallyHidden:i}=e,a=h(e,["children","className","visuallyHidden"]);return(0,u.jsx)(ZD,Object.assign({as:"label",className:r(ID)(MD.Label,o,{[MD.VisuallyHidden]:i}),ref:t},a,{children:n}))}));EF.displayName="Label";const CF=(v=s("fYo6y")).forwardRef(((e,t)=>{var{className:n,isReadOnly:o,isRequired:i,size:a,hasError:s=!1,variation:c}=e,l=h(e,["className","isReadOnly","isRequired","size","hasError","variation"]);const d=r(ID)(MD.Textarea,MD.FieldGroupControl,PD(MD.Textarea,c),PD(MD.Textarea,a),jD(MD.Textarea,"error",s),n);return(0,u.jsx)(ZD,Object.assign({"aria-invalid":s,as:"textarea",className:d,"data-size":a,"data-variation":c,readOnly:o,ref:t,required:i},l))}));CF.displayName="TextArea";v=s("fYo6y"),v=s("fYo6y");const kF=Boolean(null===globalThis||void 0===globalThis?void 0:globalThis.document)?v.useLayoutEffect:()=>{},AF=v["useId".toString()]||(()=>{});let TF=0;const IF=e=>{const[t,n]=v.useState(AF());return kF((()=>{e||n((e=>null!=e?e:String(TF++)))}),[e]),e||(t?`amplify-id-${t}`:"")};v=s("fYo6y"),ae=s("9Mq5w");const NF=({shouldWarn:e,message:t})=>{v.useEffect((()=>{e&&void 0===ae&&console.warn(t)}),[e,t])},OF=(e,t)=>{const{className:n,descriptiveText:o,errorMessage:i,hasError:a=!1,id:s,label:c,labelHidden:l=!1,outerEndComponent:d,outerStartComponent:f,innerStartComponent:p,innerEndComponent:v,isMultiline:g,type:m,size:y,testId:b,variation:w,bottom:S,height:x,left:_,padding:E,position:C,right:k,top:A,width:T}=e,I=h(e,["className","descriptiveText","errorMessage","hasError","id","label","labelHidden","outerEndComponent","outerStartComponent","innerStartComponent","innerEndComponent","isMultiline","type","size","testId","variation","bottom","height","left","padding","position","right","top","width"]),N=IF(s),O=IF(),P=o?O:void 0,{flexContainerStyleProps:j,baseStyleProps:R,rest:M}=QD(I);NF({shouldWarn:e.isMultiline,message:"TextField isMultiLine prop will be deprecated in next major release of @aws-amplify/ui-react. Please use TextAreaField component instead."});let U=null;if(e.isMultiline){const{rows:n}=e;U=(0,u.jsx)(CF,Object.assign({"aria-describedby":P,hasError:a,id:N,ref:(D=e,D.isMultiline?t:void 0),rows:null!=n?n:3,size:y,variation:w},R,M))}else if(!e.isMultiline){const{type:n="text"}=e;U=(0,u.jsx)(_F,Object.assign({"aria-describedby":P,hasError:a,id:N,ref:(L=e,L.isMultiline?void 0:t),size:y,type:n,variation:w},R,M))}var L,D;return(0,u.jsxs)(XD,Object.assign({className:r(ID)(MD.Field,PD(MD.Field,y),MD.TextField,n),bottom:S,"data-size":y,height:x,left:_,padding:E,position:C,right:k,testId:b,top:A,width:T},j,{children:[(0,u.jsx)(EF,Object.assign({htmlFor:N,visuallyHidden:l},{children:c})),(0,u.jsx)(wF,{id:O,labelHidden:l,descriptiveText:o}),(0,u.jsx)(xF,Object.assign({outerStartComponent:f,outerEndComponent:d,innerStartComponent:p,innerEndComponent:v,variation:w},{children:U})),(0,u.jsx)(SF,{hasError:a,errorMessage:i})]}))},PF=v.forwardRef(OF);OF.displayName="TextField";const jF=v.forwardRef(((e,t)=>{var{autoComplete:n="current-password",label:o,className:i,hideShowPassword:a=!1,showPasswordButtonRef:s,size:c}=e,l=h(e,["autoComplete","label","className","hideShowPassword","showPasswordButtonRef","size"]);const[d,f]=v.useState("password"),p=v.useCallback((()=>{f("password"===d?"text":"password")}),[f,d]);return(0,u.jsx)(PF,Object.assign({autoComplete:n,isMultiline:!1,outerEndComponent:a?null:(0,u.jsx)(bF,{fieldType:d,onClick:p,ref:s,size:c}),size:c,type:d,label:o,className:r(ID)(MD.PasswordField,i),ref:t},l))}));jF.displayName="PasswordField";v=s("fYo6y"),v=s("fYo6y"),v=s("fYo6y"),v=s("fYo6y");const RF=e=>{const{className:t}=e,n=h(e,["className"]);return(0,u.jsx)(ZD,Object.assign({as:"span",width:"1em",height:"1em",className:r(ID)(MD.Icon,t)},n,{children:(0,u.jsx)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,u.jsx)("path",{d:"M16.59 8.58984L12 13.1698L7.41 8.58984L6 9.99984L12 15.9998L18 9.99984L16.59 8.58984Z",fill:"currentColor"})}))}))},MF=v.forwardRef(((e,t)=>{var{autoComplete:n,className:o,size:i,variation:a,value:s,defaultValue:c,hasError:l,icon:d=(0,u.jsx)(RF,{}),iconColor:f,children:p,placeholder:v,isDisabled:g,isRequired:m}=e,y=h(e,["autoComplete","className","size","variation","value","defaultValue","hasError","icon","iconColor","children","placeholder","isDisabled","isRequired"]);const b=void 0===s&&void 0===c&&v,w=r(ID)(MD.Select,MD.FieldGroupControl,PD(MD.Select,i),PD(MD.Select,a),jD(MD.Select,"error",l),o);return(0,u.jsxs)(ZD,Object.assign({className:MD.SelectWrapper},{children:[(0,u.jsxs)(ZD,Object.assign({"aria-invalid":l,as:"select",autoComplete:n,value:s,defaultValue:b?"":c,isDisabled:g,required:m,"data-size":i,"data-variation":a,className:w,ref:t},y,{children:[v&&(0,u.jsx)("option",Object.assign({value:""},{children:v})),p]})),(0,u.jsx)(XD,Object.assign({className:MD.SelectIconWrapper,color:f},{children:d}))]}))}));MF.displayName="Select";const UF=({children:e,options:t})=>e?((null==t?void 0:t.length)&&console.warn("Amplify UI: <SelectField> component  defaults to rendering children over `options`. When using the `options` prop, omit children."),e):null==t?void 0:t.map(((e,t)=>(0,u.jsx)("option",Object.assign({label:e,value:e},{children:e}),`${e}-${t}`))),LF=v.forwardRef(((e,t)=>{const{children:n,className:o,descriptiveText:i,errorMessage:a,hasError:s=!1,id:c,label:l,labelHidden:d=!1,options:f,size:p,testId:v}=e,g=h(e,["children","className","descriptiveText","errorMessage","hasError","id","label","labelHidden","options","size","testId"]),m=IF(c),y=IF(),b=i?y:void 0,{flexContainerStyleProps:w,baseStyleProps:S,rest:x}=QD(g);return(0,u.jsxs)(XD,Object.assign({className:r(ID)(MD.Field,MD.SelectField,o),"data-size":p,testId:v},S,w,{children:[(0,u.jsx)(EF,Object.assign({htmlFor:m,visuallyHidden:d},{children:l})),(0,u.jsx)(wF,{id:y,labelHidden:d,descriptiveText:i}),(0,u.jsx)(MF,Object.assign({"aria-describedby":b,hasError:s,id:m,ref:t,size:p},x,{children:UF({children:n,options:f})})),(0,u.jsx)(SF,{hasError:s,errorMessage:a})]}))}));LF.displayName="SelectField";const DF=v.forwardRef(((e,t)=>{var{className:n,dialCodeList:o}=e,i=h(e,["className","dialCodeList"]);const a=null!=o?o:C,s=v.useMemo((()=>a.map((e=>(0,u.jsx)("option",Object.assign({value:e},{children:e}),e)))),[a]);return(0,u.jsx)(LF,Object.assign({autoComplete:"tel-country-code",className:r(ID)(MD.CountryCodeSelect,n),labelHidden:!0,ref:t},i,{children:s}))}));DF.displayName="CountryCodeSelect";const FF=v.forwardRef(((e,t)=>{var{autoComplete:n="tel-national",className:o,countryCodeName:i,countryCodeLabel:a=vF.CountryCodeSelect.ariaLabel,defaultCountryCode:s,hasError:c,isDisabled:l,onCountryCodeChange:d,onInput:f,size:p,type:v,variation:g,countryCodeRef:m,dialCodeList:y}=e,b=h(e,["autoComplete","className","countryCodeName","countryCodeLabel","defaultCountryCode","hasError","isDisabled","onCountryCodeChange","onInput","size","type","variation","countryCodeRef","dialCodeList"]);return(0,u.jsx)(PF,Object.assign({outerStartComponent:(0,u.jsx)(DF,{defaultValue:s,dialCodeList:y,className:o,hasError:c,isDisabled:l,label:a,name:i,onChange:d,ref:m,size:p,variation:g}),autoComplete:n,className:r(ID)(MD.PhoneNumberField,o),hasError:c,isDisabled:l,isMultiline:!1,onInput:f,ref:t,size:p,type:"tel",variation:g},b))}));FF.displayName="PhoneNumberField";const BF=({errors:e})=>(null==e?void 0:e.length)>0?(0,u.jsx)(ZD,Object.assign({"data-amplify-sign-up-errors":!0},{children:e.map(((e,t)=>(0,u.jsx)(iF,Object.assign({role:"alert",variation:"error"},{children:NO(e)}),e)))})):null;function zF(e){var{autocomplete:t,dialCode:n,name:r,type:o}=e,i=h(e,["autocomplete","dialCode","name","type"]);const{validationErrors:a}=kD((({validationErrors:e})=>[e])),s=v.useMemo((()=>{return(e=a[r])?(t=e,Array.isArray(t)?e:[e]):null;var e,t}),[r,a]),c=(null==s?void 0:s.length)>0;return(0,u.jsxs)(u.Fragment,"tel"===o?{children:[(0,u.jsx)(FF,Object.assign({},i,{name:r,defaultCountryCode:n,countryCodeName:"country_code",autoComplete:t,hasError:c})),(0,u.jsx)(BF,{errors:s})]}:"password"===o?{children:[(0,u.jsx)(jF,Object.assign({},i,{name:r,autoComplete:t,hasError:c})),(0,u.jsx)(BF,{errors:s})]}:{children:[(0,u.jsx)(PF,Object.assign({},i,{name:r,autoComplete:t,hasError:c,type:o})),(0,u.jsx)(BF,{errors:s})]})}function VF(){const{_state:e,route:t}=kD((({route:e})=>[e])),n=v.useRef(FO(t,e).flatMap((([e,t],n)=>(0,u.jsx)(zF,Object.assign({name:e},t),n)))).current;return(0,u.jsx)(u.Fragment,{children:n})}function qF({children:e,className:t,variation:n="default"}){const{route:r}=kD((({route:e})=>[e])),{components:{Header:o,Footer:i}}=TD();return(0,u.jsx)(ZD,Object.assign({className:t,"data-amplify-authenticator":"","data-variation":n},{children:(0,u.jsxs)(ZD,Object.assign({"data-amplify-container":""},{children:[(0,u.jsx)(o,{}),(0,u.jsx)(ZD,Object.assign({"data-amplify-router":"","data-amplify-router-content":(r,void 0)},{children:e})),(0,u.jsx)(i,{})]}))}))}function KF({className:e,variation:t}){const{isPending:n,resendCode:r,codeDeliveryDetails:{DeliveryMedium:o,Destination:i}={}}=kD((e=>[e.isPending,e.resendCode,e.codeDeliveryDetails])),{handleChange:a,handleSubmit:s}=aF(),{components:{ConfirmSignUp:{Header:c=KF.Header,Footer:l=KF.Footer}}}=TD(),d=NO("Your code is on the way. To log in, enter the code we emailed to"),f=NO("Your code is on the way. To log in, enter the code we texted to"),h=NO("Your code is on the way. To log in, enter the code we sent you. It may take a minute to arrive."),p=NO("It may take a minute to arrive."),v="EMAIL"===o?`${d} ${i}. ${p}`:"SMS"===o?`${f} ${i}. ${p}`:NO(`${h}`);return(0,u.jsx)(qF,Object.assign({className:e,variation:t},{children:(0,u.jsx)("form",Object.assign({"data-amplify-form":"","data-amplify-authenticator-confirmsignup":"",method:"post",onChange:a,onSubmit:s},{children:(0,u.jsxs)(XD,Object.assign({as:"fieldset",direction:"column",isDisabled:n},{children:[(0,u.jsx)(c,{}),(0,u.jsxs)(XD,Object.assign({direction:"column"},{children:[(0,u.jsx)(iF,Object.assign({className:"amplify-authenticator__subtitle"},{children:v})),(0,u.jsx)(VF,{}),(0,u.jsx)(pF,{}),(0,u.jsx)(nF,Object.assign({variation:"primary",isDisabled:n,type:"submit",loadingText:NO("Confirming"),isLoading:n,fontWeight:"normal"},{children:NO("Confirm")})),(0,u.jsx)(nF,Object.assign({onClick:r,type:"button",fontWeight:"normal"},{children:NO("Resend Code")}))]})),(0,u.jsx)(l,{})]}))}))}))}KF.Header=()=>{const{codeDeliveryDetails:{DeliveryMedium:e}={}}=kD((e=>[e.codeDeliveryDetails])),t=NO("EMAIL"===e?"We Emailed You":"SMS"===e?"We Texted You":"We Sent A Code");return(0,u.jsx)(oF,Object.assign({level:4},{children:t}))},KF.Footer=()=>null;const HF=({className:e,variation:t})=>{const{isPending:n,toSignIn:r}=kD((e=>[e.isPending,e.toSignIn])),{handleBlur:o,handleChange:i,handleSubmit:a}=aF(),{components:{ForceNewPassword:{FormFields:s=HF.FormFields}}}=TD();return(0,u.jsx)(qF,Object.assign({className:e,variation:t},{children:(0,u.jsx)("form",Object.assign({"data-amplify-form":"","data-amplify-authenticator-forcenewpassword":"",method:"post",onChange:i,onSubmit:a,onBlur:o},{children:(0,u.jsxs)(XD,Object.assign({as:"fieldset",direction:"column",isDisabled:n},{children:[(0,u.jsx)(oF,Object.assign({level:3},{children:NO("Change Password")})),(0,u.jsx)(s,{}),(0,u.jsx)(pF,{}),(0,u.jsx)(nF,Object.assign({isDisabled:n,type:"submit",variation:"primary",isLoading:n,loadingText:NO("Changing"),fontWeight:"normal"},{children:NO("Change Password")})),(0,u.jsx)(nF,Object.assign({onClick:r,type:"button",fontWeight:"normal",variation:"link",size:"small"},{children:NO("Back to Sign In")}))]}))}))}))};HF.FormFields=()=>(0,u.jsx)(VF,{});var GF,WF,$F,YF,JF={};e(JF,"create",(()=>GF),(e=>GF=e)),e(JF,"toCanvas",(()=>WF),(e=>WF=e)),e(JF,"toDataURL",(()=>$F),(e=>$F=e)),e(JF,"toString",(()=>YF),(e=>YF=e));var QF,ZF,XF,eB,tB,nB,rB,oB;let iB;QF=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then};const aB=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];var sB,uB,cB,lB,dB,fB;XF=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},eB=function(e){return aB[e]},tB=function(e){let t=0;for(;0!==e;)t++,e>>>=1;return t},nB=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');iB=e},rB=function(){return void 0!==iB},oB=function(e){return iB(e)},sB={bit:1},uB={bit:0},cB={bit:3},lB={bit:2},dB=function(e){return e&&void 0!==e.bit&&e.bit>=0&&e.bit<4},fB=function(e,t){if(dB(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return sB;case"m":case"medium":return uB;case"q":case"quartile":return cB;case"h":case"high":return lB;default:throw new Error("Unknown EC Level: "+e)}}(e)}catch(e){return t}};var hB={};function pB(){this.buffer=[],this.length=0}pB.prototype={get:function(e){const t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(let n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},hB=pB;var vB,gB,mB={};function yB(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}yB.prototype.set=function(e,t,n,r){const o=e*this.size+t;this.data[o]=n,r&&(this.reservedBit[o]=!0)},yB.prototype.get=function(e,t){return this.data[e*this.size+t]},yB.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n},yB.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},mB=yB;var bB,wB=XF;vB=function(e){if(1===e)return[];const t=Math.floor(e/7)+2,n=wB(e),r=145===n?26:2*Math.ceil((n-13)/(2*t-2)),o=[n-7];for(let e=1;e<t-1;e++)o[e]=o[e-1]-r;return o.push(6),o.reverse()},gB=function(e){const t=[],n=vB(e),r=n.length;for(let e=0;e<r;e++)for(let o=0;o<r;o++)0===e&&0===o||0===e&&o===r-1||e===r-1&&0===o||t.push([n[e],n[o]]);return t};var SB=XF;var xB,_B,EB,CB,kB,AB,TB,IB,NB;bB=function(e){const t=SB(e);return[[0,0],[t-7,0],[0,t-7]]},xB={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const OB=3,PB=3,jB=40,RB=10;function MB(e,t,n){switch(e){case xB.PATTERN000:return(t+n)%2==0;case xB.PATTERN001:return t%2==0;case xB.PATTERN010:return n%3==0;case xB.PATTERN011:return(t+n)%3==0;case xB.PATTERN100:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case xB.PATTERN101:return t*n%2+t*n%3==0;case xB.PATTERN110:return(t*n%2+t*n%3)%2==0;case xB.PATTERN111:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}}var UB,LB;_B=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},EB=function(e){return _B(e)?parseInt(e,10):void 0},CB=function(e){const t=e.size;let n=0,r=0,o=0,i=null,a=null;for(let s=0;s<t;s++){r=o=0,i=a=null;for(let u=0;u<t;u++){let t=e.get(s,u);t===i?r++:(r>=5&&(n+=OB+(r-5)),i=t,r=1),t=e.get(u,s),t===a?o++:(o>=5&&(n+=OB+(o-5)),a=t,o=1)}r>=5&&(n+=OB+(r-5)),o>=5&&(n+=OB+(o-5))}return n},kB=function(e){const t=e.size;let n=0;for(let r=0;r<t-1;r++)for(let o=0;o<t-1;o++){const t=e.get(r,o)+e.get(r,o+1)+e.get(r+1,o)+e.get(r+1,o+1);4!==t&&0!==t||n++}return n*PB},AB=function(e){const t=e.size;let n=0,r=0,o=0;for(let i=0;i<t;i++){r=o=0;for(let a=0;a<t;a++)r=r<<1&2047|e.get(i,a),a>=10&&(1488===r||93===r)&&n++,o=o<<1&2047|e.get(a,i),a>=10&&(1488===o||93===o)&&n++}return n*jB},TB=function(e){let t=0;const n=e.data.length;for(let r=0;r<n;r++)t+=e.data[r];return Math.abs(Math.ceil(100*t/n/5)-10)*RB},IB=function(e,t){const n=t.size;for(let r=0;r<n;r++)for(let o=0;o<n;o++)t.isReserved(o,r)||t.xor(o,r,MB(e,o,r))},NB=function(e,t){const n=Object.keys(xB).length;let r=0,o=1/0;for(let i=0;i<n;i++){t(i),IB(i,e);const n=CB(e)+kB(e)+AB(e)+TB(e);IB(i,e),n<o&&(o=n,r=i)}return r};const DB=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],FB=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];UB=function(e,t){switch(t){case sB:return DB[4*(e-1)+0];case uB:return DB[4*(e-1)+1];case cB:return DB[4*(e-1)+2];case lB:return DB[4*(e-1)+3];default:return}},LB=function(e,t){switch(t){case sB:return FB[4*(e-1)+0];case uB:return FB[4*(e-1)+1];case cB:return FB[4*(e-1)+2];case lB:return FB[4*(e-1)+3];default:return}};var BB,zB,VB,qB,KB,HB={};const GB=new Uint8Array(512),WB=new Uint8Array(256);function $B(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}var YB,JB,QB,ZB,XB,ez,tz,nz,rz,oz,iz,az,sz,uz,cz,lz,dz,fz,hz,pz,vz,gz,mz;!function(){let e=1;for(let t=0;t<255;t++)GB[t]=e,WB[e]=t,e<<=1,256&e&&(e^=285);for(let e=255;e<512;e++)GB[e]=GB[e-255]}(),qB=function(e){return GB[e]},KB=function(e,t){return 0===e||0===t?0:GB[WB[e]+WB[t]]},BB=function(e,t){const n=new Uint8Array(e.length+t.length-1);for(let r=0;r<e.length;r++)for(let o=0;o<t.length;o++)n[r+o]^=KB(e[r],t[o]);return n},zB=function(e,t){let n=new Uint8Array(e);for(;n.length-t.length>=0;){const e=n[0];for(let r=0;r<t.length;r++)n[r]^=KB(t[r],e);let r=0;for(;r<n.length&&0===n[r];)r++;n=n.slice(r)}return n},VB=function(e){let t=new Uint8Array([1]);for(let n=0;n<e;n++)t=BB(t,new Uint8Array([1,qB(n)]));return t},$B.prototype.initialize=function(e){this.degree=e,this.genPoly=VB(this.degree)},$B.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(e.length+this.degree);t.set(e);const n=zB(t,this.genPoly),r=this.degree-n.length;if(r>0){const e=new Uint8Array(this.degree);return e.set(n,r),e}return n},HB=$B,cz=function(e){return!isNaN(e)&&e>=1&&e<=40};let yz="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";yz=yz.replace(/u/g,"\\u");const bz="(?:(?![A-Z0-9 $%*+\\-./:]|"+yz+")(?:.|[\r\n]))+";lz=new RegExp(yz,"g"),dz=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),fz=new RegExp(bz,"g"),hz=new RegExp("[0-9]+","g"),pz=new RegExp("[A-Z $%*+\\-./:]+","g");const wz=new RegExp("^"+yz+"$"),Sz=new RegExp("^[0-9]+$"),xz=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");vz=function(e){return wz.test(e)},gz=function(e){return Sz.test(e)},mz=function(e){return xz.test(e)},XB={id:"Numeric",bit:1,ccBits:[10,12,14]},ez={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},tz={id:"Byte",bit:4,ccBits:[8,16,16]},nz={id:"Kanji",bit:8,ccBits:[8,10,12]},rz={bit:-1},oz=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!cz(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},iz=function(e){return gz(e)?XB:mz(e)?ez:vz(e)?nz:tz},az=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},sz=function(e){return e&&e.bit&&e.ccBits},uz=function(e,t){if(sz(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return XB;case"alphanumeric":return ez;case"kanji":return nz;case"byte":return tz;default:throw new Error("Unknown mode: "+e)}}(e)}catch(e){return t}};const _z=tB(7973);function Ez(e,t){return oz(e,t)+4}function Cz(e,t){let n=0;return e.forEach((function(e){const r=Ez(e.mode,t);n+=r+e.getBitsLength()})),n}var kz;YB=function(e,t){return cz(e)?parseInt(e,10):t},JB=function(e,t,n){if(!cz(e))throw new Error("Invalid QR Code version");void 0===n&&(n=tz);const r=8*(eB(e)-LB(e,t));if(n===rz)return r;const o=r-Ez(n,e);switch(n){case XB:return Math.floor(o/10*3);case ez:return Math.floor(o/11*2);case nz:return Math.floor(o/13);default:return Math.floor(o/8)}},QB=function(e,t){let n;const r=fB(t,uB);if(Array.isArray(e)){if(e.length>1)return function(e,t){for(let n=1;n<=40;n++)if(Cz(e,n)<=JB(n,t,rz))return n}(e,r);if(0===e.length)return 1;n=e[0]}else n=e;return function(e,t,n){for(let r=1;r<=40;r++)if(t<=JB(r,n,e))return r}(n.mode,n.getLength(),r)},ZB=function(e){if(!cz(e)||e<7)throw new Error("Invalid QR Code version");let t=e<<12;for(;tB(t)-_z>=0;)t^=7973<<tB(t)-_z;return e<<12|t};const Az=tB(1335);var Tz,Iz,Nz;kz=function(e,t){const n=e.bit<<3|t;let r=n<<10;for(;tB(r)-Az>=0;)r^=1335<<tB(r)-Az;return 21522^(n<<10|r)};var Oz={};function Pz(e){this.mode=XB,this.data=e.toString()}Pz.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},Pz.prototype.getLength=function(){return this.data.length},Pz.prototype.getBitsLength=function(){return Pz.getBitsLength(this.data.length)},Pz.prototype.write=function(e){let t,n,r;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),r=parseInt(n,10),e.put(r,10);const o=this.data.length-t;o>0&&(n=this.data.substr(t),r=parseInt(n,10),e.put(r,3*o+1))},Oz=Pz;var jz={};const Rz=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Mz(e){this.mode=ez,this.data=e}Mz.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},Mz.prototype.getLength=function(){return this.data.length},Mz.prototype.getBitsLength=function(){return Mz.getBitsLength(this.data.length)},Mz.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let n=45*Rz.indexOf(this.data[t]);n+=Rz.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(Rz.indexOf(this.data[t]),6)},jz=Mz;var Uz,Lz={};function Dz(e){this.mode=tz,this.data=new Uint8Array(Uz(e))}Uz=function(e){for(var t=[],n=e.length,r=0;r<n;r++){var o=e.charCodeAt(r);if(o>=55296&&o<=56319&&n>r+1){var i=e.charCodeAt(r+1);i>=56320&&i<=57343&&(o=1024*(o-55296)+i-56320+65536,r+=1)}o<128?t.push(o):o<2048?(t.push(o>>6|192),t.push(63&o|128)):o<55296||o>=57344&&o<65536?(t.push(o>>12|224),t.push(o>>6&63|128),t.push(63&o|128)):o>=65536&&o<=1114111?(t.push(o>>18|240),t.push(o>>12&63|128),t.push(o>>6&63|128),t.push(63&o|128)):t.push(239,191,189)}return new Uint8Array(t).buffer},Dz.getBitsLength=function(e){return 8*e},Dz.prototype.getLength=function(){return this.data.length},Dz.prototype.getBitsLength=function(){return Dz.getBitsLength(this.data.length)},Dz.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)},Lz=Dz;var Fz={};function Bz(e){this.mode=nz,this.data=e}Bz.getBitsLength=function(e){return 13*e},Bz.prototype.getLength=function(){return this.data.length},Bz.prototype.getBitsLength=function(){return Bz.getBitsLength(this.data.length)},Bz.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=oB(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");n-=49472}n=192*(n>>>8&255)+(255&n),e.put(n,13)}},Fz=Bz;var zz,Vz,qz,Kz,Hz,Gz,Wz,$z={},Yz={single_source_shortest_paths:function(e,t,n){var r={},o={};o[t]=0;var i,a,s,u,c,l,d,f=Yz.PriorityQueue.make();for(f.push(t,0);!f.empty();)for(s in a=(i=f.pop()).value,u=i.cost,c=e[a]||{})c.hasOwnProperty(s)&&(l=u+c[s],d=o[s],(void 0===o[s]||d>l)&&(o[s]=l,f.push(s,l),r[s]=a));if(void 0!==n&&void 0===o[n]){var h=["Could not find a path from ",t," to ",n,"."].join("");throw new Error(h)}return r},extract_shortest_path_from_predecessor_list:function(e,t){for(var n=[],r=t;r;)n.push(r),e[r],r=e[r];return n.reverse(),n},find_path:function(e,t,n){var r=Yz.single_source_shortest_paths(e,t,n);return Yz.extract_shortest_path_from_predecessor_list(r,n)},PriorityQueue:{make:function(e){var t,n=Yz.PriorityQueue,r={};for(t in e=e||{},n)n.hasOwnProperty(t)&&(r[t]=n[t]);return r.queue=[],r.sorter=e.sorter||n.default_sorter,r},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var n={value:e,cost:t};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};function Jz(e){return unescape(encodeURIComponent(e)).length}function Qz(e,t,n){const r=[];let o;for(;null!==(o=e.exec(n));)r.push({data:o[0],index:o.index,mode:t,length:o[0].length});return r}function Zz(e){const t=Qz(hz,XB,e),n=Qz(pz,ez,e);let r,o;rB()?(r=Qz(fz,tz,e),o=Qz(lz,nz,e)):(r=Qz(dz,tz,e),o=[]);return t.concat(n,r,o).sort((function(e,t){return e.index-t.index})).map((function(e){return{data:e.data,mode:e.mode,length:e.length}}))}function Xz(e,t){switch(t){case XB:return Oz.getBitsLength(e);case ez:return jz.getBitsLength(e);case nz:return Fz.getBitsLength(e);case tz:return Lz.getBitsLength(e)}}function eV(e,t){let n;const r=iz(e);if(n=uz(t,r),n!==tz&&n.bit<r.bit)throw new Error('"'+e+'" cannot be encoded with mode '+az(n)+".\n Suggested mode is: "+az(r));switch(n!==nz||rB()||(n=tz),n){case XB:return new Oz(e);case ez:return new jz(e);case nz:return new Fz(e);case tz:return new Lz(e)}}function tV(e,t,n){const r=e.size,o=kz(t,n);let i,a;for(i=0;i<15;i++)a=1==(o>>i&1),i<6?e.set(i,8,a,!0):i<8?e.set(i+1,8,a,!0):e.set(r-15+i,8,a,!0),i<8?e.set(8,r-i-1,a,!0):i<9?e.set(8,15-i-1+1,a,!0):e.set(8,15-i-1,a,!0);e.set(r-8,8,1,!0)}function nV(e,t,n){const r=new hB;n.forEach((function(t){r.put(t.mode.bit,4),r.put(t.getLength(),oz(t.mode,e)),t.write(r)}));const o=8*(eB(e)-LB(e,t));for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(0);const i=(o-r.getLengthInBits())/8;for(let e=0;e<i;e++)r.put(e%2?17:236,8);return function(e,t,n){const r=eB(t),o=LB(t,n),i=r-o,a=UB(t,n),s=a-r%a,u=Math.floor(r/a),c=Math.floor(i/a),l=c+1,d=u-c,f=new HB(d);let h=0;const p=new Array(a),v=new Array(a);let g=0;const m=new Uint8Array(e.buffer);for(let e=0;e<a;e++){const t=e<s?c:l;p[e]=m.slice(h,h+t),v[e]=f.encode(p[e]),h+=t,g=Math.max(g,t)}const y=new Uint8Array(r);let b,w,S=0;for(b=0;b<g;b++)for(w=0;w<a;w++)b<p[w].length&&(y[S++]=p[w][b]);for(b=0;b<d;b++)for(w=0;w<a;w++)y[S++]=v[w][b];return y}(r,e,t)}function rV(e,t,n,r){let o;if(Array.isArray(e))o=Tz(e);else{if("string"!=typeof e)throw new Error("Invalid data");{let r=t;if(!r){const t=Nz(e);r=QB(t,n)}o=Iz(e,r||40)}}const i=QB(o,n);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<i)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+i+".\n")}else t=i;const a=nV(t,n,o),s=XF(t),u=new mB(s);return function(e,t){const n=e.size,r=bB(t);for(let t=0;t<r.length;t++){const o=r[t][0],i=r[t][1];for(let t=-1;t<=7;t++)if(!(o+t<=-1||n<=o+t))for(let r=-1;r<=7;r++)i+r<=-1||n<=i+r||(t>=0&&t<=6&&(0===r||6===r)||r>=0&&r<=6&&(0===t||6===t)||t>=2&&t<=4&&r>=2&&r<=4?e.set(o+t,i+r,!0,!0):e.set(o+t,i+r,!1,!0))}}(u,t),function(e){const t=e.size;for(let n=8;n<t-8;n++){const t=n%2==0;e.set(n,6,t,!0),e.set(6,n,t,!0)}}(u),function(e,t){const n=gB(t);for(let t=0;t<n.length;t++){const r=n[t][0],o=n[t][1];for(let t=-2;t<=2;t++)for(let n=-2;n<=2;n++)-2===t||2===t||-2===n||2===n||0===t&&0===n?e.set(r+t,o+n,!0,!0):e.set(r+t,o+n,!1,!0)}}(u,t),tV(u,n,0),t>=7&&function(e,t){const n=e.size,r=ZB(t);let o,i,a;for(let t=0;t<18;t++)o=Math.floor(t/3),i=t%3+n-8-3,a=1==(r>>t&1),e.set(o,i,a,!0),e.set(i,o,a,!0)}(u,t),function(e,t){const n=e.size;let r=-1,o=n-1,i=7,a=0;for(let s=n-1;s>0;s-=2)for(6===s&&s--;;){for(let n=0;n<2;n++)if(!e.isReserved(o,s-n)){let r=!1;a<t.length&&(r=1==(t[a]>>>i&1)),e.set(o,s-n,r),i--,-1===i&&(a++,i=7)}if(o+=r,o<0||n<=o){o-=r,r=-r;break}}}(u,a),isNaN(r)&&(r=NB(u,tV.bind(null,u,n))),IB(r,u),tV(u,n,r),{modules:u,version:t,errorCorrectionLevel:n,maskPattern:r,segments:o}}function oV(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw new Error("Color should be defined as hex string");let t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map((function(e){return[e,e]})))),6===t.length&&t.push("F","F");const n=parseInt(t.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+t.slice(0,6).join("")}}function iV(e,t){const n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function aV(e,t,n){let r=e+t;return void 0!==n&&(r+=" "+n),r}function sV(e,t,n,r,o){const i=[].slice.call(arguments,1),a=i.length,s="function"==typeof i[a-1];if(!s&&!QF())throw new Error("Callback required as last argument");if(!s){if(a<1)throw new Error("Too few arguments provided");return 1===a?(n=t,t=r=void 0):2!==a||t.getContext||(r=n,n=t,t=void 0),new Promise((function(o,i){try{const i=ZF(n,r);o(e(i,t,r))}catch(e){i(e)}}))}if(a<2)throw new Error("Too few arguments provided");2===a?(o=n,n=t,t=r=void 0):3===a&&(t.getContext&&void 0===o?(o=r,r=void 0):(o=r,r=n,n=t,t=void 0));try{const i=ZF(n,r);o(null,e(i,t,r))}catch(e){o(e)}}$z=Yz,Tz=function(e){return e.reduce((function(e,t){return"string"==typeof t?e.push(eV(t,null)):t.data&&e.push(eV(t.data,t.mode)),e}),[])},Iz=function(e,t){const n=function(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n];switch(r.mode){case XB:t.push([r,{data:r.data,mode:ez,length:r.length},{data:r.data,mode:tz,length:r.length}]);break;case ez:t.push([r,{data:r.data,mode:tz,length:r.length}]);break;case nz:t.push([r,{data:r.data,mode:tz,length:Jz(r.data)}]);break;case tz:t.push([{data:r.data,mode:tz,length:Jz(r.data)}])}}return t}(Zz(e,rB())),r=function(e,t){const n={},r={start:{}};let o=["start"];for(let i=0;i<e.length;i++){const a=e[i],s=[];for(let e=0;e<a.length;e++){const u=a[e],c=""+i+e;s.push(c),n[c]={node:u,lastCount:0},r[c]={};for(let e=0;e<o.length;e++){const i=o[e];n[i]&&n[i].node.mode===u.mode?(r[i][c]=Xz(n[i].lastCount+u.length,u.mode)-Xz(n[i].lastCount,u.mode),n[i].lastCount+=u.length):(n[i]&&(n[i].lastCount=u.length),r[i][c]=Xz(u.length,u.mode)+4+oz(u.mode,t))}}o=s}for(let e=0;e<o.length;e++)r[o[e]].end=0;return{map:r,table:n}}(n,t),o=$z.find_path(r.map,"start","end"),i=[];for(let e=1;e<o.length-1;e++)i.push(r.table[o[e]].node);return Tz(function(e){return e.reduce((function(e,t){const n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)}),[])}(i))},Nz=function(e){return Tz(Zz(e,rB()))},qz=function(e){e||(e={}),e.color||(e.color={});const t=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,n=e.width&&e.width>=21?e.width:void 0,r=e.scale||4;return{width:n,scale:n?4:r,margin:t,color:{dark:oV(e.color.dark||"#000000ff"),light:oV(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},Kz=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},Hz=function(e,t){const n=Kz(e,t);return Math.floor((e+2*t.margin)*n)},Gz=function(e,t,n){const r=t.modules.size,o=t.modules.data,i=Kz(r,n),a=Math.floor((r+2*n.margin)*i),s=n.margin*i,u=[n.color.light,n.color.dark];for(let t=0;t<a;t++)for(let c=0;c<a;c++){let l=4*(t*a+c),d=n.color.light;if(t>=s&&c>=s&&t<a-s&&c<a-s){d=u[o[Math.floor((t-s)/i)*r+Math.floor((c-s)/i)]?1:0]}e[l++]=d.r,e[l++]=d.g,e[l++]=d.b,e[l]=d.a}},zz=function(e,t,n){let r=n,o=t;void 0!==r||t&&t.getContext||(r=t,t=void 0),t||(o=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),r=qz(r);const i=Hz(e.modules.size,r),a=o.getContext("2d"),s=a.createImageData(i,i);return Gz(s.data,e,r),function(e,t,n){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=n,t.width=n,t.style.height=n+"px",t.style.width=n+"px"}(a,o,i),a.putImageData(s,0,0),o},Vz=function(e,t,n){let r=n;void 0!==r||t&&t.getContext||(r=t,t=void 0),r||(r={});const o=zz(e,t,r),i=r.type||"image/png",a=r.rendererOpts||{};return o.toDataURL(i,a.quality)},Wz=function(e,t,n){const r=qz(t),o=e.modules.size,i=e.modules.data,a=o+2*r.margin,s=r.color.light.a?"<path "+iV(r.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",u="<path "+iV(r.color.dark,"stroke")+' d="'+function(e,t,n){let r="",o=0,i=!1,a=0;for(let s=0;s<e.length;s++){const u=Math.floor(s%t),c=Math.floor(s/t);u||i||(i=!0),e[s]?(a++,s>0&&u>0&&e[s-1]||(r+=i?aV("M",u+n,.5+c+n):aV("m",o,0),o=0,i=!1),u+1<t&&e[s+1]||(r+=aV("h",a),a=0)):o++}return r}(i,o,r.margin)+'"/>',c='viewBox="0 0 '+a+" "+a+'"',l='<svg xmlns="http://www.w3.org/2000/svg" '+(r.width?'width="'+r.width+'" height="'+r.width+'" ':"")+c+' shape-rendering="crispEdges">'+s+u+"</svg>\n";return"function"==typeof n&&n(null,l),l},GF=ZF=function(e,t){if(void 0===e||""===e)throw new Error("No input text");let n,r,o=uB;return void 0!==t&&(o=fB(t.errorCorrectionLevel,uB),n=YB(t.version),r=EB(t.maskPattern),t.toSJISFunc&&nB(t.toSJISFunc)),rV(e,n,o,r)},WF=sV.bind(null,zz),$F=sV.bind(null,Vz),YF=sV.bind(null,(function(e,t,n){return Wz(e,n)}));v=s("fYo6y");const uV=()=>{const{isPending:e,toSignIn:t}=kD((e=>[e.isPending,e.toSignIn]));return(0,u.jsxs)(XD,Object.assign({direction:"column"},{children:[(0,u.jsx)(nF,Object.assign({isDisabled:e,type:"submit",variation:"primary",fontWeight:"normal",isLoading:e,loadingText:NO("Confirming")},{children:NO("Confirm")})),(0,u.jsx)(nF,Object.assign({onClick:t,type:"button",variation:"link",fontWeight:"normal",size:"small"},{children:NO("Back to Sign In")}))]}))},cV=new(0,P.ConsoleLogger)("SetupTOTP-logger"),lV=({className:e,variation:t})=>{var n,o;const{_state:i,isPending:a}=kD((e=>[e.isPending])),{handleChange:s,handleSubmit:c}=aF(),{components:{SetupTOTP:{Header:l=lV.Header,Footer:d=lV.Footer}}}=TD(),[f,h]=v.useState(!0),[m,y]=v.useState(),[b,w]=v.useState("COPY"),[S,x]=v.useState(""),_=g(i),{formFields:E,user:C}=_.context,{totpIssuer:k="AWSCognito",totpUsername:A=C.username}=null!==(o=null===(n=null==E?void 0:E.setupTOTP)||void 0===n?void 0:n.QR)&&void 0!==o?o:{},T=v.useCallback((e=>p(void 0,void 0,void 0,(function*(){try{const n=yield Ud.Auth.setupTOTP(e);x(n);const o=(t=k,encodeURI(`otpauth://totp/${t}:${A}?secret=${n}&issuer=${t}`)),i=yield r(JF).toDataURL(o);y(i)}catch(e){cV.error(e)}finally{h(!1)}var t}))),[k,A]);return v.useEffect((()=>{C&&T(C)}),[T,C]),(0,u.jsx)(qF,Object.assign({className:e,variation:t},{children:(0,u.jsx)("form",Object.assign({"data-amplify-form":"","data-amplify-authenticator-setup-totp":"",method:"post",onChange:s,onSubmit:c},{children:(0,u.jsxs)(XD,Object.assign({as:"fieldset",direction:"column",isDisabled:a},{children:[(0,u.jsx)(l,{}),(0,u.jsxs)(XD,Object.assign({direction:"column"},{children:[f?(0,u.jsxs)("p",{children:[NO("Loading"),"…"]}):(0,u.jsx)("img",{"data-amplify-qrcode":!0,src:m,alt:"qr code",width:"228",height:"228"}),(0,u.jsxs)(XD,Object.assign({"data-amplify-copy":!0},{children:[(0,u.jsx)("div",{children:S}),(0,u.jsxs)(XD,Object.assign({"data-amplify-copy-svg":!0,onClick:()=>{navigator.clipboard.writeText(S),w(NO("COPIED"))}},{children:[(0,u.jsx)("div",Object.assign({"data-amplify-copy-tooltip":!0},{children:b})),(0,u.jsx)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},{children:(0,u.jsx)("path",{d:"M16 1H4C2.9 1 2 1.9 2 3V17H4V3H16V1ZM15 5H8C6.9 5 6.01 5.9 6.01 7L6 21C6 22.1 6.89 23 7.99 23H19C20.1 23 21 22.1 21 21V11L15 5ZM8 21V7H14V12H19V21H8Z"})}))]}))]})),(0,u.jsx)(VF,{}),(0,u.jsx)(pF,{})]})),(0,u.jsx)(uV,{}),(0,u.jsx)(d,{})]}))}))}))};lV.Header=()=>(0,u.jsx)(oF,Object.assign({level:3},{children:NO("Setup TOTP")})),lV.Footer=()=>null;v=s("fYo6y");const dV=Boolean(null===globalThis||void 0===globalThis?void 0:globalThis.document)?v.useLayoutEffect:()=>{};const fV=(v=s("fYo6y"))["useId".toString()]||(()=>{});let hV=0;function pV(e){const[t,n]=v.useState(fV());return dV((()=>{e||n((e=>null!=e?e:String(hV++)))}),[e]),e||(t?`radix-${t}`:"")}v=s("fYo6y");function vV(e){const t=v.useRef(e);return v.useEffect((()=>{t.current=e})),v.useMemo((()=>(...e)=>{var n;return null===(n=t.current)||void 0===n?void 0:n.call(t,...e)}),[])}v=s("fYo6y");function gV({prop:e,defaultProp:t,onChange:n=(()=>{})}){const[r,o]=function({defaultProp:e,onChange:t}){const n=v.useState(e),[r]=n,o=v.useRef(r),i=vV(t);return v.useEffect((()=>{o.current!==r&&(i(r),o.current=r)}),[r,o,i]),n}({defaultProp:t,onChange:n}),i=void 0!==e,a=i?e:r,s=vV(n);return[a,v.useCallback((t=>{if(i){const n=t,r="function"==typeof t?n(e):t;r!==e&&s(r)}else o(t)}),[i,e,o,s])]}v=s("fYo6y");function mV(e){const t=v.useRef(e);return v.useEffect((()=>{t.current=e})),v.useMemo((()=>(...e)=>{var n;return null===(n=t.current)||void 0===n?void 0:n.call(t,...e)}),[])}v=s("fYo6y");function yV(...e){return t=>e.forEach((e=>{return r=t,void("function"==typeof(n=e)?n(r):null!=n&&(n.current=r));var n,r}))}function bV(){return bV=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bV.apply(this,arguments)}const wV=(v=s("fYo6y")).forwardRef(((e,t)=>{const{children:n,...r}=e;return v.Children.toArray(n).some(_V)?v.createElement(v.Fragment,null,v.Children.map(n,(e=>_V(e)?v.createElement(SV,bV({},r,{ref:t}),e.props.children):e))):v.createElement(SV,bV({},r,{ref:t}),n)}));wV.displayName="Slot";const SV=v.forwardRef(((e,t)=>{const{children:n,...r}=e;return v.isValidElement(n)?v.cloneElement(n,{...EV(r,n.props),ref:yV(t,n.ref)}):v.Children.count(n)>1?v.Children.only(null):null}));SV.displayName="SlotClone";const xV=({children:e})=>v.createElement(v.Fragment,null,e);function _V(e){return v.isValidElement(e)&&e.type===xV}function EV(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?n[r]=(...e)=>{null==i||i(...e),null==o||o(...e)}:"style"===r?n[r]={...o,...i}:"className"===r&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}v=s("fYo6y");const CV=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"].reduce(((e,t)=>({...e,[t]:v.forwardRef(((e,n)=>{const{asChild:r,...o}=e,i=r?wV:t;return v.useEffect((()=>{window[Symbol.for("radix-ui")]=!0}),[]),v.createElement(i,bV({},o,{ref:n}))}))})),{});v=s("fYo6y");function kV(e,t=[]){let n=[];const r=()=>{const t=n.map((e=>v.createContext(e)));return function(n){const r=(null==n?void 0:n[e])||t;return v.useMemo((()=>({[`__scope${e}`]:{...n,[e]:r}})),[n,r])}};return r.scopeName=e,[function(t,r){const o=v.createContext(r),i=n.length;function a(t){const{scope:n,children:r,...a}=t,s=(null==n?void 0:n[e][i])||o,u=v.useMemo((()=>a),Object.values(a));return v.createElement(s.Provider,{value:u},r)}return n=[...n,r],a.displayName=t+"Provider",[a,function(n,a){const s=(null==a?void 0:a[e][i])||o,u=v.useContext(s);if(u)return u;if(void 0!==r)return r;throw new Error(`\`${n}\` must be used within \`${t}\``)}]},AV(r,...t)]}function AV(...e){const t=e[0];if(1===e.length)return t;const n=()=>{const n=e.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(e){const r=n.reduce(((t,{useScope:n,scopeName:r})=>({...t,...n(e)[`__scope${r}`]})),{});return v.useMemo((()=>({[`__scope${t.scopeName}`]:r})),[r])}};return n.scopeName=t.scopeName,n}v=s("fYo6y");function TV(...e){return t=>e.forEach((e=>{return r=t,void("function"==typeof(n=e)?n(r):null!=n&&(n.current=r));var n,r}))}function IV(...e){return v.useCallback(TV(...e),e)}const NV=(v=s("fYo6y")).forwardRef(((e,t)=>{const{children:n,...r}=e;return v.Children.toArray(n).some(jV)?v.createElement(v.Fragment,null,v.Children.map(n,(e=>jV(e)?v.createElement(OV,bV({},r,{ref:t}),e.props.children):e))):v.createElement(OV,bV({},r,{ref:t}),n)}));NV.displayName="Slot";const OV=v.forwardRef(((e,t)=>{const{children:n,...r}=e;return v.isValidElement(n)?v.cloneElement(n,{...RV(r,n.props),ref:TV(t,n.ref)}):v.Children.count(n)>1?v.Children.only(null):null}));OV.displayName="SlotClone";const PV=({children:e})=>v.createElement(v.Fragment,null,e);function jV(e){return v.isValidElement(e)&&e.type===PV}function RV(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?n[r]=(...e)=>{null==i||i(...e),null==o||o(...e)}:"style"===r?n[r]={...o,...i}:"className"===r&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}v=s("fYo6y");function MV(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(null==e||e(r),!1===n||!r.defaultPrevented)return null==t?void 0:t(r)}}v=s("fYo6y");const UV={bubbles:!1,cancelable:!0},[LV,DV,FV]=function(e){const t=e+"CollectionProvider",[n,o]=kV(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=e+"CollectionSlot",u=e+"CollectionItemSlot",c="data-radix-collection-item";return[{Provider:e=>{const{scope:t,children:n}=e,o=r(v).useRef(null),a=r(v).useRef(new Map).current;return r(v).createElement(i,{scope:t,itemMap:a,collectionRef:o},n)},Slot:r(v).forwardRef(((e,t)=>{const{scope:n,children:o}=e,i=IV(t,a(s,n).collectionRef);return r(v).createElement(NV,{ref:i},o)})),ItemSlot:r(v).forwardRef(((e,t)=>{const{scope:n,children:o,...i}=e,s=r(v).useRef(null),l=IV(t,s),d=a(u,n);return r(v).useEffect((()=>(d.itemMap.set(s,{ref:s,...i}),()=>{d.itemMap.delete(s)}))),r(v).createElement(NV,{[c]:"",ref:l},o)}))},function(t){const n=a(e+"CollectionConsumer",t);return r(v).useCallback((()=>{const e=n.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll(`[${c}]`));return Array.from(n.itemMap.values()).sort(((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current)))}),[n.collectionRef,n.itemMap])},o]}("RovingFocusGroup"),[BV,zV]=kV("RovingFocusGroup",[FV]),[VV,qV]=BV("RovingFocusGroup"),KV=v.forwardRef(((e,t)=>v.createElement(LV.Provider,{scope:e.__scopeRovingFocusGroup},v.createElement(LV.Slot,{scope:e.__scopeRovingFocusGroup},v.createElement(HV,bV({},e,{ref:t})))))),HV=v.forwardRef(((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,dir:o="ltr",loop:i=!1,currentTabStopId:a,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:u,onEntryFocus:c,...l}=e,d=v.useRef(null),f=IV(t,d),[h=null,p]=gV({prop:a,defaultProp:s,onChange:u}),[g,m]=v.useState(!1),y=mV(c),b=DV(n),w=v.useRef(!1);return v.useEffect((()=>{const e=d.current;if(e)return e.addEventListener("rovingFocusGroup.onEntryFocus",y),()=>e.removeEventListener("rovingFocusGroup.onEntryFocus",y)}),[y]),v.createElement(VV,{scope:n,orientation:r,dir:o,loop:i,currentTabStopId:h,onItemFocus:v.useCallback((e=>p(e)),[p]),onItemShiftTab:v.useCallback((()=>m(!0)),[])},v.createElement(CV.div,bV({tabIndex:g?-1:0,"data-orientation":r},l,{ref:f,style:{outline:"none",...e.style},onMouseDown:MV(e.onMouseDown,(()=>{w.current=!0})),onFocus:MV(e.onFocus,(e=>{const t=!w.current;if(e.target===e.currentTarget&&t&&!g){const t=new Event("rovingFocusGroup.onEntryFocus",UV);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){const e=b().filter((e=>e.focusable));$V([e.find((e=>e.active)),e.find((e=>e.id===h)),...e].filter(Boolean).map((e=>e.ref.current)))}}w.current=!1})),onBlur:MV(e.onBlur,(()=>m(!1)))})))})),GV=v.forwardRef(((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,...i}=e,a=pV(),s=qV("RovingFocusGroupItem",n),u=s.currentTabStopId===a,c=DV(n);return v.createElement(LV.ItemSlot,{scope:n,id:a,focusable:r,active:o},v.createElement(CV.span,bV({tabIndex:u?0:-1,"data-orientation":s.orientation},i,{ref:t,onMouseDown:MV(e.onMouseDown,(e=>{r?s.onItemFocus(a):e.preventDefault()})),onFocus:MV(e.onFocus,(()=>s.onItemFocus(a))),onKeyDown:MV(e.onKeyDown,(e=>{if("Tab"===e.key&&e.shiftKey)return void s.onItemShiftTab();if(e.target!==e.currentTarget)return;const t=function(e,t,n){const r=(o=e.key,"rtl"!==n?o:"ArrowLeft"===o?"ArrowRight":"ArrowRight"===o?"ArrowLeft":o);var o;return"vertical"===t&&["ArrowLeft","ArrowRight"].includes(r)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(r)?void 0:WV[r]}(e,s.orientation,s.dir);if(void 0!==t){e.preventDefault();let o=c().filter((e=>e.focusable)).map((e=>e.ref.current));if("last"===t)o.reverse();else if("prev"===t||"next"===t){"prev"===t&&o.reverse();const i=o.indexOf(e.currentTarget);o=s.loop?(r=i+1,(n=o).map(((e,t)=>n[(r+t)%n.length]))):o.slice(i+1)}setTimeout((()=>$V(o)))}var n,r}))})))})),WV={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function $V(e){const t=document.activeElement;for(const n of e){if(n===t)return;if(n.focus(),document.activeElement!==t)return}}const YV=KV,JV=GV;v=s("fYo6y");const[QV,ZV]=kV("Tabs",[zV]),XV=zV(),[eq,tq]=QV("Tabs");function nq(e,t){return`${e}-trigger-${t}`}function rq(e,t){return`${e}-content-${t}`}const oq=v.forwardRef(((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:o,defaultValue:i,orientation:a="horizontal",dir:s="ltr",activationMode:u="automatic",...c}=e,[l,d]=gV({prop:r,onChange:o,defaultProp:i});return v.createElement(eq,{scope:n,baseId:pV(),value:l,onValueChange:d,orientation:a,dir:s,activationMode:u},v.createElement(CV.div,bV({"data-orientation":a},c,{ref:t})))})),iq=v.forwardRef(((e,t)=>{const{__scopeTabs:n,loop:r=!0,...o}=e,i=tq("TabsList",n),a=XV(n);return v.createElement(YV,bV({asChild:!0},a,{orientation:i.orientation,dir:i.dir,loop:r}),v.createElement(CV.div,bV({role:"tablist","aria-orientation":i.orientation,dir:i.dir},o,{ref:t})))})),aq=v.forwardRef(((e,t)=>{const{__scopeTabs:n,value:r,disabled:o=!1,...i}=e,a=tq("TabsTrigger",n),s=XV(n),u=nq(a.baseId,r),c=rq(a.baseId,r),l=r===a.value;return v.createElement(JV,bV({asChild:!0},s,{focusable:!o,active:l}),v.createElement(CV.button,bV({type:"button",role:"tab","aria-selected":l,"aria-controls":c,"data-state":l?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:u},i,{ref:t,onMouseDown:MV(e.onMouseDown,(e=>{o||0!==e.button||!1!==e.ctrlKey?e.preventDefault():a.onValueChange(r)})),onKeyDown:MV(e.onKeyDown,(e=>{[" ","Enter"].includes(e.key)&&a.onValueChange(r)})),onFocus:MV(e.onFocus,(()=>{const e="manual"!==a.activationMode;l||o||!e||a.onValueChange(r)}))})))})),sq=v.forwardRef(((e,t)=>{const{__scopeTabs:n,value:r,children:o,...i}=e,a=tq("TabsContent",n),s=nq(a.baseId,r),u=rq(a.baseId,r),c=r===a.value;return v.createElement(CV.div,bV({"data-state":c?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":s,hidden:!c,id:u,tabIndex:0},i,{ref:t}),c&&o)}));v=s("fYo6y");const uq=e=>null!==e&&"object"==typeof e&&e.hasOwnProperty("props")&&null!=e.props.title,cq=v.forwardRef(((e,t)=>{var{ariaLabel:n,children:o,className:i,defaultIndex:a=0,currentIndex:s,onChange:c,indicatorPosition:l,spacing:d}=e,f=h(e,["ariaLabel","children","className","defaultIndex","currentIndex","onChange","indicatorPosition","spacing"]);const p=v.Children.map(o,(e=>null===e||"string"==typeof e&&/\s/.test(e)?{}:uq(e)?e.props:(console.warn("Amplify UI: <Tabs> component only accepts <TabItem> as children."),{}))),g={defaultValue:a.toString(),value:null!=s?s.toString():void 0,onValueChange:c};return(0,u.jsxs)(oq,Object.assign({},g,{children:[(0,u.jsx)(iq,Object.assign({"aria-label":n},{children:(0,u.jsx)(XD,Object.assign({className:r(ID)(MD.Tabs,i),"data-indicator-position":l,ref:t},f,{children:v.Children.map(o,((e,t)=>uq(e)?v.cloneElement(e,{"data-spacing":d,key:t,value:`${t}`}):null))}))})),p.map(((e,t)=>(0,u.jsx)(sq,Object.assign({value:`${t}`},{children:e.children}),t)))]}))})),lq=v.forwardRef(((e,t)=>{var{className:n,title:o}=e,i=h(e,["className","title"]);return(0,u.jsx)(ZD,Object.assign({as:aq,className:r(ID)(MD.TabItems,n),ref:t},i,{children:o}))}));cq.displayName="Tabs",lq.displayName="TabItem";const dq=(v=s("fYo6y")).forwardRef(((e,t)=>{var{as:n="span",children:o,className:i}=e,a=h(e,["as","children","className"]);return(0,u.jsx)(ZD,Object.assign({as:n,className:r(ID)(MD.VisuallyHidden,i),ref:t},a,{children:o}))}));dq.displayName="VisuallyHidden";const fq=(v=s("fYo6y")).forwardRef(((e,t)=>{var{className:n,orientation:o="horizontal",size:i,label:a}=e,s=h(e,["className","orientation","size","label"]);const c=r(ID)(MD.Divider,PD(MD.Divider,o),PD(MD.Divider,i),a?MD.DividerLabel:null,n);return(0,u.jsx)(ZD,Object.assign({"aria-orientation":o,as:"hr",className:c,"data-size":i,"data-label":a,ref:t},s))}));fq.displayName="Divider";v=s("fYo6y"),v=s("fYo6y");const hq={minX:0,minY:0,width:24,height:24},pq=v.forwardRef(((e,t)=>{var{className:n,as:o="svg",fill:i="currentColor",pathData:a,viewBox:s=hq,children:c,paths:l}=e,d=h(e,["className","as","fill","pathData","viewBox","children","paths"]);const f=s.minX?s.minX:hq.minX,p=s.minY?s.minY:hq.minY,g=s.width?s.width:hq.width,m=s.height?s.height:hq.height;let y;return c&&(y=c),l&&(y=l.map(((e,t)=>(0,v.createElement)("path",Object.assign({},e,{key:t}))))),a&&(y=(0,u.jsx)("path",{d:a,fill:i})),(0,u.jsx)(ZD,Object.assign({as:o,className:r(ID)(MD.Icon,n),ref:t,viewBox:`${f} ${p} ${g} ${m}`},d,{children:y}))}));pq.displayName="Icon",s("fYo6y");const vq=()=>(0,u.jsx)("svg",Object.assign({"aria-label":"Apple icon",className:"amplify-icon federated-sign-in-icon",fill:"#000",preserveAspectRatio:"xMidYMid",stroke:"#000",strokeWidth:"0",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},{children:(0,u.jsx)("path",{d:"M747.4 535.7c-.4-68.2 30.5-119.6 92.9-157.5-34.9-50-87.7-77.5-157.3-82.8-65.9-5.2-138 38.4-164.4 38.4-27.9 0-91.7-36.6-141.9-36.6C273.1 298.8 163 379.8 163 544.6c0 48.7 8.9 99 26.7 150.8 23.8 68.2 109.6 235.3 199.1 232.6 46.8-1.1 79.9-33.2 140.8-33.2 59.1 0 89.7 33.2 141.9 33.2 90.3-1.3 167.9-153.2 190.5-221.6-121.1-57.1-114.6-167.2-114.6-170.7zm-105.1-305c50.7-60.2 46.1-115 44.6-134.7-44.8 2.6-96.6 30.5-126.1 64.8-32.5 36.8-51.6 82.3-47.5 133.6 48.4 3.7 92.6-21.2 129-63.7z"})})),gq=()=>(0,u.jsxs)("svg",Object.assign({"aria-label":"Google icon",className:"amplify-icon federated-sign-in-icon",viewBox:"0 0 256 262",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},{children:[(0,u.jsx)("path",{d:"M255.878 133.451c0-10.734-.871-18.567-2.756-26.69H130.55v48.448h71.947c-1.45 12.04-9.283 30.172-26.69 42.356l-.244 1.622 38.755 30.023 2.685.268c24.659-22.774 38.875-56.282 38.875-96.027",fill:"#4285F4"}),(0,u.jsx)("path",{d:"M130.55 261.1c35.248 0 64.839-11.605 86.453-31.622l-41.196-31.913c-11.024 7.688-25.82 13.055-45.257 13.055-34.523 0-63.824-22.773-74.269-54.25l-1.531.13-40.298 31.187-.527 1.465C35.393 231.798 79.49 261.1 130.55 261.1",fill:"#34A853"}),(0,u.jsx)("path",{d:"M56.281 156.37c-2.756-8.123-4.351-16.827-4.351-25.82 0-8.994 1.595-17.697 4.206-25.82l-.073-1.73L15.26 71.312l-1.335.635C5.077 89.644 0 109.517 0 130.55s5.077 40.905 13.925 58.602l42.356-32.782",fill:"#FBBC05"}),(0,u.jsx)("path",{d:"M130.55 50.479c24.514 0 41.05 10.589 50.479 19.438l36.844-35.974C195.245 12.91 165.798 0 130.55 0 79.49 0 35.393 29.301 13.925 71.947l42.211 32.783c10.59-31.477 39.891-54.251 74.414-54.251",fill:"#EB4335"})]})),mq=()=>(0,u.jsx)(pq,{className:"federated-sign-in-icon",ariaLabel:"Facebook icon",viewBox:{minX:0,minY:0,width:279,height:538},pathData:"M82.3409742,538 L82.3409742,292.936652 L0,292.936652 L0,196.990154 L82.2410458,196.990154 L82.2410458,126.4295 C82.2410458,44.575144 132.205229,0 205.252865,0 C240.227794,0 270.306232,2.59855099 279,3.79788222 L279,89.2502322 L228.536175,89.2502322 C188.964542,89.2502322 181.270057,108.139699 181.270057,135.824262 L181.270057,196.89021 L276.202006,196.89021 L263.810888,292.836708 L181.16913,292.836708 L181.16913,538 L82.3409742,538 Z",fill:"#1877F2"}),yq=()=>(0,u.jsxs)("svg",Object.assign({"aria-label":"Amazon icon",className:"amplify-icon federated-sign-in-icon",viewBox:"0 0 243 264",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},{children:[(0,u.jsx)("path",{d:"M230.826 208.039C227.468 203.683 208.551 205.982 200.056 206.998C197.471 207.321 197.076 205.042 199.407 203.405C214.475 192.665 239.201 195.766 242.082 199.364C244.966 202.982 241.337 228.071 227.173 240.049C225.001 241.888 222.93 240.904 223.898 238.468C227.077 230.431 234.205 212.419 230.826 208.039ZM123.769 264C71.0234 264 39.0764 241.955 14.7853 217.542C9.97339 212.706 3.71799 206.296 0.311513 200.691C-1.09773 198.372 2.59096 195.022 5.04421 196.844C35.239 219.268 79.1012 239.538 122.53 239.538C151.82 239.538 188.046 227.47 217.669 214.868C222.147 212.966 222.147 219.18 221.512 221.061C221.183 222.032 206.515 236.221 186.247 247.047C167.304 257.166 143.397 264 123.769 264Z",fill:"#F2541B"}),(0,u.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M142.943 111.185C142.943 124.756 143.268 136.054 136.406 148.123C130.856 157.913 122.027 163.95 112.222 163.95C98.8288 163.95 90.9806 153.772 90.9806 138.693C90.9806 109.036 117.677 103.647 142.943 103.647V111.185ZM178.166 196.081C175.858 198.15 171.635 198.22 169.914 196.894C157.974 187.684 149.89 173.688 149.89 173.688C130.706 193.156 117.127 199 92.2879 199C62.8772 199 40 180.905 40 144.729C40 116.461 55.3552 97.2408 77.2563 87.823C96.2094 79.5256 122.684 78.0173 142.943 75.7517C142.943 75.7517 144.633 53.933 138.699 45.9806C134.098 39.8163 126.272 36.9329 119.089 36.9329C106.127 36.8829 93.61 43.9051 91.1262 57.4188C90.4136 61.2829 87.5533 64.5261 84.54 64.206L51.0823 60.5922C48.5156 60.2951 45.0381 57.6639 45.8636 53.3081C53.644 12.3684 90.7373 0 123.989 0C140.983 0 163.21 4.51651 176.608 17.3349C193.597 33.1648 191.969 54.2755 191.969 77.2722V131.51C191.969 147.835 198.768 154.987 205.151 163.775C207.376 166.953 207.886 170.714 205.04 173.032C197.902 178.999 178.166 196.081 178.166 196.081Z",fill:"#F2541B"})]})),bq=e=>{const{icon:t,provider:n,text:r}=e,{_send:o}=kD((()=>[]));let i;return"facebook"===t?i=(0,u.jsx)(mq,{}):"google"===t?i=(0,u.jsx)(gq,{}):"amazon"===t?i=(0,u.jsx)(yq,{}):"apple"===t&&(i=(0,u.jsx)(vq,{})),(0,u.jsxs)(nF,Object.assign({onClick:e=>{e.preventDefault(),o({type:"FEDERATED_SIGN_IN",data:{provider:n}})},className:"federated-sign-in-button",fontWeight:"normal",gap:"1rem"},{children:[i,(0,u.jsx)(iF,Object.assign({as:"span"},{children:r}))]}))};function wq(){const{_state:e,route:t}=kD((e=>[e.route])),{socialProviders:n=[]}=e.context.config;if(0===n.length)return null;const r="signUp"===t?"Up":"In";return(0,u.jsxs)(XD,Object.assign({direction:"column",padding:"0 0 1rem 0",className:"federated-sign-in-container"},{children:[n.map((e=>{switch(e){case"amazon":return(0,u.jsx)(bq,{icon:"amazon",provider:FM.Amazon,text:NO(`Sign ${r} with Amazon`)},e);case"apple":return(0,u.jsx)(bq,{icon:"apple",provider:FM.Apple,text:NO(`Sign ${r} with Apple`)},e);case"facebook":return(0,u.jsx)(bq,{icon:"facebook",provider:FM.Facebook,text:NO(`Sign ${r} with Facebook`)},e);case"google":return(0,u.jsx)(bq,{icon:"google",provider:FM.Google,text:NO(`Sign ${r} with Google`)},e);default:console.error(`Authenicator does not support ${e}. Please open an issue: https://github.com/aws-amplify/amplify-ui/issues/choose`)}})),(0,u.jsx)(fq,{size:"small",label:"or"})]}))}function Sq(){const{isPending:e}=kD((e=>[e.isPending])),{handleChange:t,handleSubmit:n}=aF(),{components:{SignIn:{Header:r=Sq.Header,Footer:o=Sq.Footer}}}=TD();return(0,u.jsxs)(ZD,{children:[(0,u.jsx)(r,{}),(0,u.jsxs)("form",Object.assign({"data-amplify-form":"","data-amplify-authenticator-signin":"",method:"post",onSubmit:n,onChange:t},{children:[(0,u.jsx)(wq,{}),(0,u.jsxs)(XD,Object.assign({direction:"column"},{children:[(0,u.jsxs)(XD,Object.assign({as:"fieldset",direction:"column",isDisabled:e},{children:[(0,u.jsx)(dq,{children:(0,u.jsx)("legend",{children:NO("Sign in")})}),(0,u.jsx)(VF,{})]})),(0,u.jsx)(pF,{}),(0,u.jsx)(nF,Object.assign({isDisabled:e,isFullWidth:!0,type:"submit",variation:"primary",isLoading:e,loadingText:NO("Signing in")},{children:NO("Sign in")}))]}))]})),(0,u.jsx)(o,{})]})}function xq(){const{hasValidationErrors:e,isPending:t}=kD((e=>[e.hasValidationErrors,e.isPending])),{handleChange:n,handleBlur:r,handleSubmit:o}=aF(),{components:{SignUp:{Header:i=xq.Header,FormFields:a=xq.FormFields,Footer:s=xq.Footer}}}=TD();return(0,u.jsxs)(ZD,{children:[(0,u.jsx)(i,{}),(0,u.jsxs)("form",Object.assign({"data-amplify-form":"","data-amplify-authenticator-signup":"",method:"post",onChange:n,onSubmit:o,onBlur:r},{children:[(0,u.jsx)(wq,{}),(0,u.jsxs)(XD,Object.assign({as:"fieldset",direction:"column",isDisabled:t},{children:[(0,u.jsxs)(XD,Object.assign({direction:"column"},{children:[(0,u.jsx)(a,{}),(0,u.jsx)(pF,{})]})),(0,u.jsx)(nF,Object.assign({isDisabled:e||t,isFullWidth:!0,type:"submit",variation:"primary",isLoading:t,loadingText:NO("Creating Account")},{children:NO("Create Account")}))]}))]})),(0,u.jsx)(s,{})]})}Sq.Footer=()=>{const{toResetPassword:e}=kD((e=>[e.toResetPassword])),t=(n="Forgot your password? ",ie.get(n)!==n?NO("Forgot your password? "):NO("Forgot your password?"));var n;return(0,u.jsx)(ZD,Object.assign({"data-amplify-footer":""},{children:(0,u.jsx)(nF,Object.assign({fontWeight:"normal",onClick:e,size:"small",variation:"link"},{children:t}))}))},Sq.Header=()=>null,xq.Header=()=>null,xq.FormFields=()=>(0,u.jsx)(VF,{}),xq.Footer=()=>null;const _q=({className:e,hideSignUp:t,variation:n})=>{const{route:r,toSignIn:o,toSignUp:i}=kD((e=>[e.route,e.toSignIn,e.toSignUp]));return(0,u.jsx)(qF,Object.assign({className:e,variation:n},{children:t?(0,u.jsx)(ZD,Object.assign({"data-amplify-router-content":""},{children:"signIn"===r&&(0,u.jsx)(Sq,{})})):(0,u.jsxs)(cq,Object.assign({indicatorPosition:"top",currentIndex:"signIn"===r?0:1,spacing:"equal",justifyContent:"center",onChange:()=>"signIn"===r?i():o()},{children:[(0,u.jsx)(lq,Object.assign({title:NO("Sign In")},{children:(0,u.jsx)(ZD,Object.assign({"data-amplify-router-content":""},{children:"signIn"===r&&(0,u.jsx)(Sq,{})}))})),(0,u.jsx)(lq,Object.assign({title:NO("Create Account")},{children:(0,u.jsx)(ZD,Object.assign({"data-amplify-router-content":""},{children:"signUp"===r&&(0,u.jsx)(xq,{})}))}))]}))}))},Eq=e=>{const{cancelButtonSendType:t,cancelButtonText:n,submitButtonText:r}=e,{_send:o,isPending:i}=kD((e=>[e.isPending])),a=i?(0,u.jsxs)(u.Fragment,{children:[NO("Submitting"),"…"]}):(0,u.jsx)(u.Fragment,{children:NO("Submit")}),s=r||a;return(0,u.jsxs)(XD,Object.assign({direction:"column"},{children:[(0,u.jsx)(nF,Object.assign({fontWeight:"normal",variation:"primary",isDisabled:i,type:"submit"},{children:s})),(0,u.jsx)(nF,Object.assign({onClick:()=>o({type:t}),type:"button",variation:"link",fontWeight:"normal",size:"small"},{children:n}))]}))},Cq=({className:e,variation:t})=>{const{isPending:n}=kD((e=>[e.isPending])),{handleChange:r,handleSubmit:o}=aF(),{components:{ConfirmVerifyUser:{Header:i=Cq.Header,Footer:a=Cq.Footer}}}=TD();return(0,u.jsx)(qF,Object.assign({className:e,variation:t},{children:(0,u.jsx)("form",Object.assign({"data-amplify-form":"","data-amplify-authenticator-confirmverifyuser":"",method:"post",onChange:r,onSubmit:o},{children:(0,u.jsxs)(XD,Object.assign({as:"fieldset",direction:"column",isDisabled:n},{children:[(0,u.jsx)(i,{}),(0,u.jsx)(XD,Object.assign({direction:"column"},{children:(0,u.jsx)(VF,{})})),(0,u.jsx)(pF,{}),(0,u.jsx)(Eq,{cancelButtonText:NO("Skip"),cancelButtonSendType:"SKIP"}),(0,u.jsx)(a,{})]}))}))}))};Cq.Header=()=>(0,u.jsx)(oF,Object.assign({level:3},{children:NO("Account recovery requires verified contact information")})),Cq.Footer=()=>null;v=s("fYo6y");const kq=r(v=s("fYo6y")).createContext({name:"default"}),Aq=v.forwardRef(((e,t)=>{var{children:n,className:o,id:i,isDisabled:a,testId:s,value:c,labelPosition:l,height:d,width:f,bottom:p,left:g,position:m,padding:y,right:b,top:w}=e,S=h(e,["children","className","id","isDisabled","testId","value","labelPosition","height","width","bottom","left","position","padding","right","top"]);const{currentValue:x,defaultValue:_,name:E,hasError:C,isGroupDisabled:k,isRequired:A,isReadOnly:T,onChange:I,size:N,labelPosition:O}=(0,v.useContext)(kq),P=k||a||T&&_!==c,j=void 0!==x?c===x:void 0,R=void 0!==_?c===_:void 0,M=l||O;return(0,u.jsxs)(XD,Object.assign({as:"label",className:r(ID)(MD.Radio,jD(MD.Radio,"disabled",P),o),"data-disabled":P,"data-label-position":M,width:f,bottom:p,top:w,right:b,left:g,position:m,padding:y},{children:[n&&(0,u.jsx)(iF,Object.assign({as:"span",className:MD.RadioLabel,"data-disabled":P},{children:n})),(0,u.jsx)(_F,Object.assign({checked:j,className:r(ID)(MD.VisuallyHidden,MD.RadioInput),defaultChecked:R,hasError:C,id:i,isDisabled:P,isReadOnly:T,isRequired:A,onChange:I,ref:t,type:"radio",name:E,value:c},S)),(0,u.jsx)(XD,{"aria-hidden":"true",as:"span",className:r(ID)(MD.RadioButton,PD(MD.RadioButton,N)),"data-size":N,testId:s})]}))}));Aq.displayName="Radio";const Tq=(v=s("fYo6y")).forwardRef(((e,t)=>{var{children:n,className:o,defaultValue:i,descriptiveText:a,errorMessage:s,hasError:c=!1,id:l,isDisabled:d,isRequired:f,isReadOnly:p,label:g,labelHidden:m=!1,labelPosition:y,onChange:b,name:w,size:S,value:x}=e,_=h(e,["children","className","defaultValue","descriptiveText","errorMessage","hasError","id","isDisabled","isRequired","isReadOnly","label","labelHidden","labelPosition","onChange","name","size","value"]);const E=IF(l),C=IF(),k=IF(),A=a?k:void 0,T=v.useMemo((()=>({currentValue:x,defaultValue:i,hasError:c,isRequired:f,isReadOnly:p,isGroupDisabled:d,onChange:b,size:S,name:w,labelPosition:y})),[i,c,d,f,p,b,S,w,x,y]);return(0,u.jsxs)(XD,Object.assign({className:r(ID)(MD.Field,MD.RadioGroupField,o),"data-size":S,ref:t},_,{children:[(0,u.jsx)(EF,Object.assign({id:C,visuallyHidden:m},{children:g})),(0,u.jsx)(wF,{id:k,labelHidden:m,descriptiveText:a}),(0,u.jsx)(XD,Object.assign({"aria-describedby":A,"aria-labelledby":C,className:MD.RadioGroup,id:E,role:"radiogroup"},{children:(0,u.jsx)(kq.Provider,Object.assign({value:T},{children:n}))})),(0,u.jsx)(SF,{hasError:c,errorMessage:s})]}))}));Tq.displayName="RadioGroupField";const Iq=(e,t)=>{const n=NO(e);let r=t;if("Phone Number"===e)r=YA(t);else if("Email"===e){const e=t.split("@");r=`${$A(e[0])}@${e[1]}`}return`${n}: ${r}`},Nq=e=>{const t=[];for(const[n,r]of Object.entries(e)){const e=(0,u.jsx)(Aq,Object.assign({name:"unverifiedAttr",value:n},{children:Iq(k[n].label,r)}),n);t.push(e)}return t},Oq=({className:e,variation:t})=>{const{components:{VerifyUser:{Header:n=Oq.Header,Footer:r=Oq.Footer}}}=TD(),{_state:o,isPending:i}=kD((e=>[e.isPending])),{handleChange:a,handleSubmit:s}=aF(),c=m(o),l=(0,u.jsx)(u.Fragment,i?{children:"Verifying…"}:{children:NO("Verify")}),d=(0,u.jsx)(Tq,Object.assign({label:NO("Verify Contact"),labelHidden:!0,name:"verify_context",isDisabled:i},{children:Nq(c.unverifiedAttributes)}));return(0,u.jsx)(qF,Object.assign({className:e,variation:t},{children:(0,u.jsx)("form",Object.assign({"data-amplify-form":"","data-amplify-authenticator-verifyuser":"",method:"post",onChange:a,onSubmit:s},{children:(0,u.jsxs)(XD,Object.assign({as:"fieldset",direction:"column",isDisabled:i},{children:[(0,u.jsx)(n,{}),d,(0,u.jsx)(pF,{}),(0,u.jsx)(Eq,{cancelButtonText:NO("Skip"),cancelButtonSendType:"SKIP",submitButtonText:l}),(0,u.jsx)(r,{})]}))}))}))};Oq.Header=()=>(0,u.jsx)(oF,Object.assign({level:3},{children:NO("Account recovery requires verified contact information")})),Oq.Footer=()=>null;const Pq=({className:e,variation:t})=>{const{isPending:n}=kD((e=>[e.isPending])),{handleChange:r,handleSubmit:o}=aF(),{components:{ConfirmSignIn:{Header:i=Pq.Header,Footer:a=Pq.Footer}}}=TD();return(0,u.jsx)(qF,Object.assign({className:e,variation:t},{children:(0,u.jsx)("form",Object.assign({"data-amplify-form":"","data-amplify-authenticator-confirmsignin":"",method:"post",onChange:r,onSubmit:o},{children:(0,u.jsxs)(XD,Object.assign({as:"fieldset",direction:"column",isDisabled:n},{children:[(0,u.jsx)(i,{}),(0,u.jsxs)(XD,Object.assign({direction:"column"},{children:[(0,u.jsx)(VF,{}),(0,u.jsx)(pF,{})]})),(0,u.jsx)(uV,{}),(0,u.jsx)(a,{})]}))}))}))};Pq.Header=function(){const{_state:e}=kD(),t=g(e),{challengeName:n}=t.context;let r;switch(n){case DM.SMS_MFA:r=NO("Confirm SMS Code");break;case DM.SOFTWARE_TOKEN_MFA:r=NO("Confirm TOTP Code");break;default:throw new Error(`${NO("Unexpected challengeName encountered in ConfirmSignIn:")} ${n}`)}return(0,u.jsx)(oF,Object.assign({level:3},{children:r}))},Pq.Footer=()=>null;const jq=({className:e,variation:t})=>{const{isPending:n}=kD((e=>[e.isPending])),{handleBlur:r,handleChange:o,handleSubmit:i}=aF(),{components:{ConfirmResetPassword:{Header:a=jq.Header,Footer:s=jq.Footer}}}=TD();return(0,u.jsx)(qF,Object.assign({className:e,variation:t},{children:(0,u.jsx)("form",Object.assign({"data-amplify-form":"","data-amplify-authenticator-confirmresetpassword":"",method:"post",onSubmit:i,onChange:o,onBlur:r},{children:(0,u.jsxs)(XD,Object.assign({as:"fieldset",direction:"column",isDisabled:n},{children:[(0,u.jsx)(a,{}),(0,u.jsx)(XD,Object.assign({direction:"column"},{children:(0,u.jsx)(VF,{})})),(0,u.jsx)(pF,{}),(0,u.jsx)(Eq,{cancelButtonSendType:"RESEND",cancelButtonText:NO("Resend Code")}),(0,u.jsx)(s,{})]}))}))}))};jq.Header=()=>{const e=NO("Reset your password");return(0,u.jsx)(oF,Object.assign({level:3},{children:e}))},jq.Footer=()=>null;const Rq=({className:e,variation:t})=>{const{isPending:n}=kD((e=>[e.isPending])),{handleChange:r,handleSubmit:o}=aF(),{components:{ResetPassword:{Header:i=Rq.Header,Footer:a=Rq.Footer}}}=TD();return(0,u.jsx)(qF,Object.assign({className:e,variation:t},{children:(0,u.jsx)("form",Object.assign({"data-amplify-form":"","data-amplify-authenticator-resetpassword":"",method:"post",onChange:r,onSubmit:o},{children:(0,u.jsxs)(XD,Object.assign({as:"fieldset",direction:"column",isDisabled:n},{children:[(0,u.jsx)(i,{}),(0,u.jsx)(XD,Object.assign({direction:"column"},{children:(0,u.jsx)(VF,{})})),(0,u.jsx)(pF,{}),(0,u.jsx)(Eq,{cancelButtonText:NO("Back to Sign In"),cancelButtonSendType:"SIGN_IN",submitButtonText:n?(0,u.jsxs)(u.Fragment,{children:[NO("Sending"),"…"]}):(0,u.jsx)(u.Fragment,{children:NO("Send code")})}),(0,u.jsx)(a,{})]}))}))}))};Rq.Header=()=>(0,u.jsx)(oF,Object.assign({level:3},{children:NO("Reset your password")})),Rq.Footer=()=>null;const Mq=e=>"signIn"===e||"signUp"===e;function Uq({children:e,className:t,hideSignUp:n,variation:r}){const{route:o}=kD((({route:e})=>[e])),i=function(e){const{route:t,signOut:n,user:r}=kD((({route:e,signOut:t,user:n})=>[e,t,n]));return v.useMemo((()=>"authenticated"!==t&&"signOut"!==t?(e=>{switch(e){case"authenticated":case"idle":case"setup":return()=>null;case"confirmSignUp":return KF;case"confirmSignIn":return Pq;case"setupTOTP":return lV;case"signIn":case"signUp":return _q;case"forceNewPassword":return HF;case"resetPassword":return Rq;case"confirmResetPassword":return jq;case"verifyUser":return Oq;case"confirmVerifyUser":return Cq;default:return console.warn(`Unhandled Authenticator route - please open an issue: ${e}`),()=>null}})(t):e?()=>"function"==typeof e?e({signOut:n,user:r}):e:()=>null),[e,t,n,r])}(e);return(0,u.jsx)(i,{className:t,hideSignUp:Mq(o)?n:void 0,variation:r})}const Lq={Header:()=>null,SignIn:{Header:Sq.Header,Footer:Sq.Footer},SignUp:{Header:xq.Header,FormFields:xq.FormFields,Footer:xq.Footer},ConfirmSignUp:{Header:KF.Header,Footer:KF.Footer},SetupTOTP:{Header:lV.Header,Footer:lV.Footer},ConfirmResetPassword:{Header:jq.Header,Footer:jq.Footer},ConfirmSignIn:{Header:Pq.Header,Footer:Pq.Footer},VerifyUser:{Header:Oq.Header,Footer:Oq.Footer},ConfirmVerifyUser:{Header:Cq.Header,Footer:Cq.Footer},ForceNewPassword:{FormFields:HF.FormFields},ResetPassword:{Header:Rq.Header,Footer:Rq.Footer},Footer:()=>null};function Dq(e){var{children:t}=e,n=h(e,["children"]);const{_send:r,route:o}=kD((({route:e})=>[e])),i=v.useRef(!1);return v.useEffect((()=>{i.current||"setup"!==o||(r({type:"INIT",data:n}),i.current=!0)}),[r,o,n]),(0,u.jsx)(u.Fragment,{children:t})}function Fq({children:e,className:t,components:n,formFields:r,hideSignUp:o,initialState:i,loginMechanisms:a,signUpAttributes:s,services:c,socialProviders:l,variation:d}){const f=Object.assign(Object.assign({},Lq),n),h={initialState:i,loginMechanisms:a,services:c,signUpAttributes:s,socialProviders:l,formFields:r};return(0,u.jsx)(CD,{children:(0,u.jsx)(AD.Provider,Object.assign({value:{components:f}},{children:(0,u.jsx)(Dq,Object.assign({},h,{children:(0,u.jsx)(Uq,Object.assign({className:t,hideSignUp:o,variation:d},{children:e}))}))}))})}Fq.Provider=CD,Fq.ResetPassword=Rq,Fq.SetupTOTP=lV,Fq.SignIn=Sq,Fq.SignUp=xq,Fq.ForceNewPassword=HF;var Bq,zq;v=s("fYo6y");(zq=Bq||(Bq={})).Pop="POP",zq.Push="PUSH",zq.Replace="REPLACE";function Vq(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function o(){var e=n.location,t=e.pathname,o=e.search,i=e.hash,a=r.state||{};return[a.idx,{pathname:t,search:o,hash:i,state:a.usr||null,key:a.key||"default"}]}var i=null;n.addEventListener("popstate",(function(){if(i)d.call(i),i=null;else{var e=Bq.Pop,t=o(),n=t[0],r=t[1];if(d.length){if(null!=n){var a=u-n;a&&(i={action:e,location:r,retry:function(){m(-1*a)}},m(a))}}else g(e)}}));var a=Bq.Pop,s=o(),u=s[0],c=s[1],l=Kq(),d=Kq();function f(e){return"string"==typeof e?e:Gq(e)}function h(e,t){return void 0===t&&(t=null),bV({pathname:c.pathname,hash:"",search:""},"string"==typeof e?Wq(e):e,{state:t,key:Hq()})}function p(e,t){return[{usr:e.state,key:e.key,idx:t},f(e)]}function v(e,t,n){return!d.length||(d.call({action:e,location:t,retry:n}),!1)}function g(e){a=e;var t=o();u=t[0],c=t[1],l.call({action:a,location:c})}function m(e){r.go(e)}null==u&&(u=0,r.replaceState(bV({},r.state,{idx:u}),""));var y={get action(){return a},get location(){return c},createHref:f,push:function e(t,o){var i=Bq.Push,a=h(t,o);if(v(i,a,(function(){e(t,o)}))){var s=p(a,u+1),c=s[0],l=s[1];try{r.pushState(c,"",l)}catch(e){n.location.assign(l)}g(i)}},replace:function e(t,n){var o=Bq.Replace,i=h(t,n);if(v(o,i,(function(){e(t,n)}))){var a=p(i,u),s=a[0],c=a[1];r.replaceState(s,"",c),g(o)}},go:m,back:function(){m(-1)},forward:function(){m(1)},listen:function(e){return l.push(e)},block:function(e){var t=d.push(e);return 1===d.length&&n.addEventListener("beforeunload",qq),function(){t(),d.length||n.removeEventListener("beforeunload",qq)}}};return y}function qq(e){e.preventDefault(),e.returnValue=""}function Kq(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function Hq(){return Math.random().toString(36).substr(2,8)}function Gq(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,o=void 0===r?"":r,i=e.hash,a=void 0===i?"":i;return o&&"?"!==o&&(n+="?"===o.charAt(0)?o:"?"+o),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n}function Wq(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}const $q=(0,(v=s("fYo6y")).createContext)(null),Yq=(0,v.createContext)(null),Jq=(0,v.createContext)({outlet:null,matches:[]});function Qq(e,t){if(!e)throw new Error(t)}function Zq(e,t,n){void 0===n&&(n="/");let r=aK(("string"==typeof t?Wq(t):t).pathname||"/",n);if(null==r)return null;let o=Xq(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]))?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let i=null;for(let e=0;null==i&&e<o.length;++e)i=rK(o[e],r);return i}function Xq(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach(((e,o)=>{let i={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};i.relativePath.startsWith("/")&&(!i.relativePath.startsWith(r)&&Qq(!1),i.relativePath=i.relativePath.slice(r.length));let a=sK([r,i.relativePath]),s=n.concat(i);e.children&&e.children.length>0&&(!0===e.index&&Qq(!1),Xq(e.children,t,s,a)),(null!=e.path||e.index)&&t.push({path:a,score:nK(a,e.index),routesMeta:s})})),t}const eK=/^:\w+$/,tK=e=>"*"===e;function nK(e,t){let n=e.split("/"),r=n.length;return n.some(tK)&&(r+=-2),t&&(r+=2),n.filter((e=>!tK(e))).reduce(((e,t)=>e+(eK.test(t)?3:""===t?1:10)),r)}function rK(e,t){let{routesMeta:n}=e,r={},o="/",i=[];for(let e=0;e<n.length;++e){let a=n[e],s=e===n.length-1,u="/"===o?t:t.slice(o.length)||"/",c=oK({path:a.relativePath,caseSensitive:a.caseSensitive,end:s},u);if(!c)return null;Object.assign(r,c.params);let l=a.route;i.push({params:r,pathname:sK([o,c.pathname]),pathnameBase:uK(sK([o,c.pathnameBase])),route:l}),"/"!==c.pathnameBase&&(o=sK([o,c.pathnameBase]))}return i}function oK(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,((e,t)=>(r.push(t),"([^\\/]+)")));e.endsWith("*")?(r.push("*"),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):o+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(o,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],a=i.replace(/(.)\/+$/,"$1"),s=o.slice(1);return{params:r.reduce(((e,t,n)=>{if("*"===t){let e=s[n]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(t){return e}}(s[n]||""),e}),{}),pathname:i,pathnameBase:a,pattern:e}}function iK(e,t,n){let r,o="string"==typeof e?Wq(e):e,i=""===e||""===o.pathname?"/":o.pathname;if(null==i)r=n;else{let e=t.length-1;if(i.startsWith("..")){let t=i.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}r=e>=0?t[e]:"/"}let a=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:o=""}="string"==typeof e?Wq(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:cK(r),hash:lK(o)}}(o,r);return i&&"/"!==i&&i.endsWith("/")&&!a.pathname.endsWith("/")&&(a.pathname+="/"),a}function aK(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}const sK=e=>e.join("/").replace(/\/\/+/g,"/"),uK=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),cK=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",lK=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function dK(e){!fK()&&Qq(!1);let{basename:t,navigator:n}=(0,v.useContext)($q),{hash:r,pathname:o,search:i}=gK(e),a=o;if("/"!==t){let n=function(e){return""===e||""===e.pathname?"/":"string"==typeof e?Wq(e).pathname:e.pathname}(e),r=null!=n&&n.endsWith("/");a="/"===o?t+(r?"/":""):sK([t,o])}return n.createHref({pathname:a,search:i,hash:r})}function fK(){return null!=(0,v.useContext)(Yq)}function hK(){return!fK()&&Qq(!1),(0,v.useContext)(Yq).location}function pK(){!fK()&&Qq(!1);let{basename:e,navigator:t}=(0,v.useContext)($q),{matches:n}=(0,v.useContext)(Jq),{pathname:r}=hK(),o=JSON.stringify(n.map((e=>e.pathnameBase))),i=(0,v.useRef)(!1);return(0,v.useEffect)((()=>{i.current=!0})),(0,v.useCallback)((function(n,a){if(void 0===a&&(a={}),!i.current)return;if("number"==typeof n)return void t.go(n);let s=iK(n,JSON.parse(o),r);"/"!==e&&(s.pathname=sK([e,s.pathname])),(a.replace?t.replace:t.push)(s,a.state)}),[e,t,o,r])}const vK=(0,v.createContext)(null);function gK(e){let{matches:t}=(0,v.useContext)(Jq),{pathname:n}=hK(),r=JSON.stringify(t.map((e=>e.pathnameBase)));return(0,v.useMemo)((()=>iK(e,JSON.parse(r),n)),[e,r,n])}function mK(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight(((n,r,o)=>(0,v.createElement)(Jq.Provider,{children:void 0!==r.route.element?r.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,o+1))}})),null)}function yK(e){return function(e){let t=(0,v.useContext)(Jq).outlet;return t?(0,v.createElement)(vK.Provider,{value:e},t):t}(e.context)}function bK(e){Qq(!1)}function wK(e){let{basename:t="/",children:n=null,location:r,navigationType:o=Bq.Pop,navigator:i,static:a=!1}=e;fK()&&Qq(!1);let s=uK(t),u=(0,v.useMemo)((()=>({basename:s,navigator:i,static:a})),[s,i,a]);"string"==typeof r&&(r=Wq(r));let{pathname:c="/",search:l="",hash:d="",state:f=null,key:h="default"}=r,p=(0,v.useMemo)((()=>{let e=aK(c,s);return null==e?null:{pathname:e,search:l,hash:d,state:f,key:h}}),[s,c,l,d,f,h]);return null==p?null:(0,v.createElement)($q.Provider,{value:u},(0,v.createElement)(Yq.Provider,{children:n,value:{location:p,navigationType:o}}))}function SK(e){let{children:t,location:n}=e;return function(e,t){!fK()&&Qq(!1);let n,{matches:r}=(0,v.useContext)(Jq),o=r[r.length-1],i=o?o.params:{},a=(o&&o.pathname,o?o.pathnameBase:"/"),s=(o&&o.route,hK());if(t){var u;let e="string"==typeof t?Wq(t):t;"/"!==a&&!(null==(u=e.pathname)?void 0:u.startsWith(a))&&Qq(!1),n=e}else n=s;let c=n.pathname||"/",l=Zq(e,{pathname:"/"===a?c:c.slice(a.length)||"/"});return mK(l&&l.map((e=>Object.assign({},e,{params:Object.assign({},i,e.params),pathname:sK([a,e.pathname]),pathnameBase:"/"===e.pathnameBase?a:sK([a,e.pathnameBase])}))),r)}(xK(t),n)}function xK(e){let t=[];return v.Children.forEach(e,(e=>{if(!(0,v.isValidElement)(e))return;if(e.type===v.Fragment)return void t.push.apply(t,xK(e.props.children));e.type!==bK&&Qq(!1);let n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=xK(e.props.children)),t.push(n)})),t}function _K(){return _K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_K.apply(this,arguments)}function EK(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}const CK=["onClick","reloadDocument","replace","state","target","to"];function kK(e){let{basename:t,children:n,window:r}=e,o=(0,v.useRef)();null==o.current&&(o.current=Vq({window:r}));let i=o.current,[a,s]=(0,v.useState)({action:i.action,location:i.location});return(0,v.useLayoutEffect)((()=>i.listen(s)),[i]),(0,v.createElement)(wK,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:i})}const AK=(0,v.forwardRef)((function(e,t){let{onClick:n,reloadDocument:r,replace:o=!1,state:i,target:a,to:s}=e,u=EK(e,CK),c=dK(s),l=function(e,t){let{target:n,replace:r,state:o}=void 0===t?{}:t,i=pK(),a=hK(),s=gK(e);return(0,v.useCallback)((t=>{if(!(0!==t.button||n&&"_self"!==n||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t))){t.preventDefault();let n=!!r||Gq(a)===Gq(s);i(e,{replace:n,state:o})}}),[a,i,s,r,o,n,e])}(s,{replace:o,state:i,target:a});return(0,v.createElement)("a",_K({},u,{href:c,onClick:function(e){n&&n(e),e.defaultPrevented||r||l(e)},ref:t,target:a}))}));function TK(e){let t=(0,v.useRef)(IK(e)),n=hK(),r=(0,v.useMemo)((()=>{let e=IK(n.search);for(let n of t.current.keys())e.has(n)||t.current.getAll(n).forEach((t=>{e.append(n,t)}));return e}),[n.search]),o=pK();return[r,(0,v.useCallback)(((e,t)=>{o("?"+IK(e),t)}),[o])]}function IK(e){return void 0===e&&(e=""),new URLSearchParams("string"==typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}var NK={aws_project_region:"us-east-1",aws_cognito_identity_pool_id:"us-east-1:16993a75-c0cb-495b-b0d2-020c70133ce4",aws_cognito_region:"us-east-1",aws_user_pools_id:"us-east-1_f9xGQTEjI",aws_user_pools_web_client_id:"7bqcgo55ftucbf6fpe4ao4pqq4",oauth:{},aws_cognito_username_attributes:["EMAIL"],aws_cognito_social_providers:[],aws_cognito_signup_attributes:[],aws_cognito_mfa_configuration:"ON",aws_cognito_mfa_types:["SMS","TOTP"],aws_cognito_password_protection_settings:{passwordPolicyMinLength:8,passwordPolicyCharacters:["REQUIRES_LOWERCASE","REQUIRES_NUMBERS","REQUIRES_SYMBOLS","REQUIRES_UPPERCASE"]},aws_cognito_verification_mechanisms:["EMAIL"],aws_cloud_logic_custom:[{name:"flareapi",endpoint:"https://h3tqg8ihpg.execute-api.us-east-1.amazonaws.com/staging",region:"us-east-1"}]},OK=(v=s("fYo6y"),v=s("fYo6y"),{});e(OK,"exhaustiveCheck",(()=>FW),(e=>FW=e)),e(OK,"isNullOrUndefined",(()=>BW),(e=>BW=e)),e(OK,"validatePredicate",(()=>zW),(e=>zW=e)),e(OK,"isModelConstructor",(()=>qW),(e=>qW=e)),e(OK,"registerNonModelClass",(()=>HW),(e=>HW=e)),e(OK,"isNonModelConstructor",(()=>$W),(e=>$W=e)),e(OK,"establishRelationAndKeys",(()=>YW),(e=>YW=e)),e(OK,"traverseModel",(()=>QW),(e=>QW=e)),e(OK,"getIndex",(()=>ZW),(e=>ZW=e)),e(OK,"getIndexFromAssociation",(()=>XW),(e=>XW=e)),e(OK,"DATASTORE",(()=>t$),(e=>t$=e)),e(OK,"USER",(()=>n$),(e=>n$=e)),e(OK,"SYNC",(()=>r$),(e=>r$=e)),e(OK,"STORAGE",(()=>o$),(e=>o$=e)),e(OK,"isPrivateMode",(()=>i$),(e=>i$=e)),e(OK,"monotonicUlidFactory",(()=>s$),(e=>s$=e)),e(OK,"getNow",(()=>u$),(e=>u$=e)),e(OK,"sortCompareFunction",(()=>c$),(e=>c$=e)),e(OK,"valuesEqual",(()=>l$),(e=>l$=e)),e(OK,"isAWSDate",(()=>d$),(e=>d$=e)),e(OK,"isAWSTime",(()=>f$),(e=>f$=e)),e(OK,"isAWSDateTime",(()=>h$),(e=>h$=e)),e(OK,"isAWSTimestamp",(()=>p$),(e=>p$=e)),e(OK,"isAWSEmail",(()=>v$),(e=>v$=e)),e(OK,"isAWSJSON",(()=>g$),(e=>g$=e)),e(OK,"isAWSURL",(()=>m$),(e=>m$=e)),e(OK,"isAWSPhone",(()=>y$),(e=>y$=e)),e(OK,"isAWSIPAddress",(()=>b$),(e=>b$=e)),e(OK,"DeferredCallbackResolver",(()=>S$),(e=>S$=e)),e(OK,"mergePatches",(()=>x$),(e=>x$=e));zd=s("awmEs");function PK(e){var t=new Error(e);return t.source="ulid",t}var jK="0123456789ABCDEFGHJKMNPQRSTVWXYZ".length,RK=Math.pow(2,48)-1;function MK(e,t,n){return t>e.length-1?e:e.substr(0,t)+n+e.substr(t+1)}function UK(e){var t=Math.floor(e()*jK);return t===jK&&(t=jK-1),"0123456789ABCDEFGHJKMNPQRSTVWXYZ".charAt(t)}function LK(e,t){if(isNaN(e))throw new Error(e+" must be a number");if(e>RK)throw PK("cannot encode time greater than "+RK);if(e<0)throw PK("time must be positive");if(!1===Number.isInteger(e))throw PK("time must be an integer");for(var n=void 0,r="";t>0;t--)r="0123456789ABCDEFGHJKMNPQRSTVWXYZ".charAt(n=e%jK)+r,e=(e-n)/jK;return r}function DK(e,t){for(var n="";e>0;e--)n=UK(t)+n;return n}function FK(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];t||(t="undefined"!=typeof window?window:null);var n=t&&(t.crypto||t.msCrypto);if(n)return function(){var e=new Uint8Array(1);return n.getRandomValues(e),e[0]/255};try{var r=s("MMD0z");return function(){return r.randomBytes(1).readUInt8()/255}}catch(e){}if(e){try{console.error("secure crypto unusable, falling back to insecure Math.random()!")}catch(e){}return function(){return Math.random()}}throw PK("secure crypto unusable, insecure Math.random not allowed")}function BK(e){e||(e=FK());var t=0,n=void 0;return function(r){if(isNaN(r)&&(r=Date.now()),r<=t){var o=n=function(e){for(var t=void 0,n=e.length,r=void 0,o=void 0,i=jK-1;!t&&n-- >=0;){if(r=e[n],-1===(o="0123456789ABCDEFGHJKMNPQRSTVWXYZ".indexOf(r)))throw PK("incorrectly encoded string");o!==i?t=MK(e,n,"0123456789ABCDEFGHJKMNPQRSTVWXYZ"[o+1]):e=MK(e,n,"0123456789ABCDEFGHJKMNPQRSTVWXYZ"[0])}if("string"==typeof t)return t;throw PK("cannot increment this string")}(n);return LK(t,10)+o}t=r;var i=n=DK(16,e);return LK(r,10)+i}}zK||(zK=FK());var zK,VK,qK,KK={},HK="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(HK){var GK=new Uint8Array(16);KK=function(){return HK(GK),GK}}else{var WK=new Array(16);KK=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),WK[t]=e>>>((3&t)<<3)&255;return WK}}for(var $K,YK,JK={},QK=[],ZK=0;ZK<256;++ZK)QK[ZK]=(ZK+256).toString(16).substr(1);JK=function(e,t){var n=t||0,r=QK;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")};var XK=0,eH=0;qK=function(e,t,n){var r=t&&n||0,o=t||[],i=(e=e||{}).node||$K,a=void 0!==e.clockseq?e.clockseq:YK;if(null==i||null==a){var s=KK();null==i&&(i=$K=[1|s[0],s[1],s[2],s[3],s[4],s[5]]),null==a&&(a=YK=16383&(s[6]<<8|s[7]))}var u=void 0!==e.msecs?e.msecs:(new Date).getTime(),c=void 0!==e.nsecs?e.nsecs:eH+1,l=u-XK+(c-eH)/1e4;if(l<0&&void 0===e.clockseq&&(a=a+1&16383),(l<0||u>XK)&&void 0===e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");XK=u,eH=c,YK=a;var d=(1e4*(268435455&(u+=122192928e5))+c)%4294967296;o[r++]=d>>>24&255,o[r++]=d>>>16&255,o[r++]=d>>>8&255,o[r++]=255&d;var f=u/4294967296*1e4&268435455;o[r++]=f>>>8&255,o[r++]=255&f,o[r++]=f>>>24&15|16,o[r++]=f>>>16&255,o[r++]=a>>>8|128,o[r++]=255&a;for(var h=0;h<6;++h)o[r+h]=i[h];return t||JK(o)};var tH;var nH=tH=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||KK)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var i=0;i<16;++i)t[r+i]=o[i];return t||JK(o)};function rH(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function oH(e){return!!e&&!!e[GH]}function iH(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===WH}(e)||Array.isArray(e)||!!e[HH]||!!e.constructor[HH]||fH(e)||hH(e))}function aH(e,t,n){void 0===n&&(n=!1),0===sH(e)?(n?Object.keys:$H)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function sH(e){var t=e[GH];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:fH(e)?2:hH(e)?3:0}function uH(e,t){return 2===sH(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function cH(e,t){return 2===sH(e)?e.get(t):e[t]}function lH(e,t,n){var r=sH(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function dH(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function fH(e){return zH&&e instanceof Map}function hH(e){return VH&&e instanceof Set}function pH(e){return e.o||e.t}function vH(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=YH(e);delete t[GH];for(var n=$H(t),r=0;r<n.length;r++){var o=n[r],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function gH(e,t){return void 0===t&&(t=!1),yH(e)||oH(e)||!iH(e)||(sH(e)>1&&(e.set=e.add=e.clear=e.delete=mH),Object.freeze(e),t&&aH(e,(function(e,t){return gH(t,!0)}),!0)),e}function mH(){rH(2)}function yH(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function bH(e){var t=JH[e];return t||rH(18,e),t}function wH(e,t){JH[e]||(JH[e]=t)}function SH(){return FH}function xH(e,t){t&&(bH("Patches"),e.u=[],e.s=[],e.v=t)}function _H(e){EH(e),e.p.forEach(kH),e.p=null}function EH(e){e===FH&&(FH=e.l)}function CH(e){return FH={p:[],l:FH,h:e,m:!0,_:0}}function kH(e){var t=e[GH];0===t.i||1===t.i?t.j():t.O=!0}function AH(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||bH("ES5").S(t,e,r),r?(n[GH].P&&(_H(t),rH(4)),iH(e)&&(e=TH(t,e),t.l||NH(t,e)),t.u&&bH("Patches").M(n[GH],e,t.u,t.s)):e=TH(t,n,[]),_H(t),t.u&&t.v(t.u,t.s),e!==KH?e:void 0}function TH(e,t,n){if(yH(t))return t;var r=t[GH];if(!r)return aH(t,(function(o,i){return IH(e,r,t,o,i,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return NH(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=vH(r.k):r.o;aH(3===r.i?new Set(o):o,(function(t,i){return IH(e,r,o,t,i,n)})),NH(e,o,!1),n&&e.u&&bH("Patches").R(r,n,e.u,e.s)}return r.o}function IH(e,t,n,r,o,i){if(oH(o)){var a=TH(e,o,i&&t&&3!==t.i&&!uH(t.D,r)?i.concat(r):void 0);if(lH(n,r,a),!oH(a))return;e.m=!1}if(iH(o)&&!yH(o)){if(!e.h.F&&e._<1)return;TH(e,o),t&&t.A.l||NH(e,o)}}function NH(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&gH(t,n)}function OH(e,t){var n=e[GH];return(n?pH(n):e)[t]}function PH(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function jH(e){e.P||(e.P=!0,e.l&&jH(e.l))}function RH(e){e.o||(e.o=vH(e.t))}function MH(e,t,n){var r=fH(t)?bH("MapSet").N(t,n):hH(t)?bH("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:SH(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=r,i=QH;n&&(o=[r],i=ZH);var a=Proxy.revocable(o,i),s=a.revoke,u=a.proxy;return r.k=u,r.j=s,u}(t,n):bH("ES5").J(t,n);return(n?n.A:SH()).p.push(r),r}function UH(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return vH(e)}function LH(){function e(t){if(!iH(t))return t;if(Array.isArray(t))return t.map(e);if(fH(t))return new Map(Array.from(t.entries()).map((function(t){return[t[0],e(t[1])]})));if(hH(t))return new Set(Array.from(t).map(e));var n=Object.create(Object.getPrototypeOf(t));for(var r in t)n[r]=e(t[r]);return uH(t,HH)&&(n[HH]=t[HH]),n}function t(t){return oH(t)?e(t):t}var n="add";wH("Patches",{$:function(t,r){return r.forEach((function(r){for(var o=r.path,i=r.op,a=t,s=0;s<o.length-1;s++){var u=sH(a),c=""+o[s];0!==u&&1!==u||"__proto__"!==c&&"constructor"!==c||rH(24),"function"==typeof a&&"prototype"===c&&rH(24),"object"!=typeof(a=cH(a,c))&&rH(15,o.join("/"))}var l=sH(a),d=e(r.value),f=o[o.length-1];switch(i){case"replace":switch(l){case 2:return a.set(f,d);case 3:rH(16);default:return a[f]=d}case n:switch(l){case 1:return a.splice(f,0,d);case 2:return a.set(f,d);case 3:return a.add(d);default:return a[f]=d}case"remove":switch(l){case 1:return a.splice(f,1);case 2:return a.delete(f);case 3:return a.delete(r.value);default:return delete a[f]}default:rH(17,i)}})),t},R:function(e,r,o,i){switch(e.i){case 0:case 4:case 2:return p=r,v=o,g=i,m=(h=e).t,y=h.o,void aH(h.D,(function(e,r){var o=cH(m,e),i=cH(y,e),a=r?uH(m,e)?"replace":n:"remove";if(o!==i||"replace"!==a){var s=p.concat(e);v.push("remove"===a?{op:a,path:s}:{op:a,path:s,value:i}),g.push(a===n?{op:"remove",path:s}:"remove"===a?{op:n,path:s,value:t(o)}:{op:"replace",path:s,value:t(o)})}}));case 5:case 1:return function(e,r,o,i){var a=e.t,s=e.D,u=e.o;if(u.length<a.length){var c=[u,a];a=c[0],u=c[1];var l=[i,o];o=l[0],i=l[1]}for(var d=0;d<a.length;d++)if(s[d]&&u[d]!==a[d]){var f=r.concat([d]);o.push({op:"replace",path:f,value:t(u[d])}),i.push({op:"replace",path:f,value:t(a[d])})}for(var h=a.length;h<u.length;h++){var p=r.concat([h]);o.push({op:n,path:p,value:t(u[h])})}a.length<u.length&&i.push({op:"replace",path:r.concat(["length"]),value:a.length})}(e,r,o,i);case 3:return s=r,u=o,c=i,l=(a=e).t,d=a.o,f=0,l.forEach((function(e){if(!d.has(e)){var t=s.concat([f]);u.push({op:"remove",path:t,value:e}),c.unshift({op:n,path:t,value:e})}f++})),f=0,void d.forEach((function(e){if(!l.has(e)){var t=s.concat([f]);u.push({op:n,path:t,value:e}),c.unshift({op:"remove",path:t,value:e})}f++}))}var a,s,u,c,l,d,f,h,p,v,g,m,y},M:function(e,t,n,r){n.push({op:"replace",path:[],value:t===KH?void 0:t}),r.push({op:"replace",path:[],value:e.t})}})}nH.v1=qK,nH.v4=tH,VK=nH;var DH,FH,BH="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),zH="undefined"!=typeof Map,VH="undefined"!=typeof Set,qH="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,KH=BH?Symbol.for("immer-nothing"):((DH={})["immer-nothing"]=!0,DH),HH=BH?Symbol.for("immer-draftable"):"__$immer_draftable",GH=BH?Symbol.for("immer-state"):"__$immer_state",WH=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),$H="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,YH=Object.getOwnPropertyDescriptors||function(e){var t={};return $H(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},JH={},QH={get:function(e,t){if(t===GH)return e;var n,r,o,i=pH(e);if(!uH(i,t))return n=e,(o=PH(i,t))?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(n.k):void 0;var a=i[t];return e.I||!iH(a)?a:a===OH(e.t,t)?(RH(e),e.o[t]=MH(e.A.h,a,e)):a},has:function(e,t){return t in pH(e)},ownKeys:function(e){return Reflect.ownKeys(pH(e))},set:function(e,t,n){var r=PH(pH(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var o=OH(pH(e),t),i=null==o?void 0:o[GH];if(i&&i.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(dH(n,o)&&(void 0!==n||uH(e.t,t)))return!0;RH(e),jH(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==OH(e.t,t)||t in e.t?(e.D[t]=!1,RH(e),jH(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=pH(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){rH(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){rH(12)}},ZH={};aH(QH,(function(e,t){ZH[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),ZH.deleteProperty=function(e,t){return QH.deleteProperty.call(this,e[0],t)},ZH.set=function(e,t,n){return QH.set.call(this,e[0],t,n,e[0])};var XH=new(function(){function e(e){var t=this;this.g=qH,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var o=n;n=e;var i=t;return function(e){var t=this;void 0===e&&(e=o);for(var r=arguments.length,a=Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return i.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(a))}))}}var a;if("function"!=typeof n&&rH(6),void 0!==r&&"function"!=typeof r&&rH(7),iH(e)){var s=CH(t),u=MH(t,e,void 0),c=!0;try{a=n(u),c=!1}finally{c?_H(s):EH(s)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return xH(s,r),AH(e,s)}),(function(e){throw _H(s),e})):(xH(s,r),AH(a,s))}if(!e||"object"!=typeof e){if((a=n(e))===KH)return;return void 0===a&&(a=e),t.F&&gH(a,!0),a}rH(21,e)},this.produceWithPatches=function(e,n){var r,o;return"function"==typeof e?function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(o))}))}:[t.produce(e,n,(function(e,t){r=e,o=t})),r,o]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){var t;iH(e)||rH(8),oH(e)&&(oH(t=e)||rH(22,t),e=function e(t){if(!iH(t))return t;var n,r=t[GH],o=sH(t);if(r){if(!r.P&&(r.i<4||!bH("ES5").K(r)))return r.t;r.I=!0,n=UH(t,o),r.I=!1}else n=UH(t,o);return aH(n,(function(t,o){r&&cH(r.t,t)===o||lH(n,t,e(o))})),3===o?new Set(n):n}(t));var n=CH(this),r=MH(this,e,void 0);return r[GH].C=!0,EH(n),r},t.finishDraft=function(e,t){var n=(e&&e[GH]).A;return xH(n,t),AH(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!qH&&rH(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}var o=bH("Patches").$;return oH(e)?o(e,t):this.produce(e,(function(e){return o(e,t.slice(n+1))}))},e}()),eG=XH.produce,tG=(XH.produceWithPatches.bind(XH),XH.setAutoFreeze.bind(XH)),nG=(XH.setUseProxies.bind(XH),XH.applyPatches.bind(XH)),rG=(XH.createDraft.bind(XH),XH.finishDraft.bind(XH),{});e(rG,"isSchemaModel",(()=>_G),(e=>_G=e)),e(rG,"isTargetNameAssociation",(()=>EG),(e=>EG=e)),e(rG,"isModelAttributeKey",(()=>CG),(e=>CG=e)),e(rG,"isModelAttributePrimaryKey",(()=>kG),(e=>kG=e)),e(rG,"isModelAttributeCompositeKey",(()=>AG),(e=>AG=e)),e(rG,"ModelAttributeAuthAllow",(()=>oG),(e=>oG=e)),e(rG,"ModelAttributeAuthProvider",(()=>aG),(e=>aG=e)),e(rG,"GraphQLScalarType",(()=>uG),(e=>uG=e)),e(rG,"isGraphQLScalarType",(()=>TG),(e=>TG=e)),e(rG,"isModelFieldType",(()=>IG),(e=>IG=e)),e(rG,"isNonModelFieldType",(()=>NG),(e=>NG=e)),e(rG,"isEnumFieldType",(()=>OG),(e=>OG=e)),e(rG,"OpType",(()=>dG),(e=>dG=e)),e(rG,"isPredicateObj",(()=>PG),(e=>PG=e)),e(rG,"isPredicateGroup",(()=>jG),(e=>jG=e)),e(rG,"QueryOne",(()=>hG),(e=>hG=e)),e(rG,"SortDirection",(()=>vG),(e=>vG=e)),e(rG,"AuthModeStrategyType",(()=>mG),(e=>mG=e)),e(rG,"ModelOperation",(()=>bG),(e=>bG=e)),e(rG,"ProcessName",(()=>SG),(e=>SG=e)),e(rG,"DISCARD",(()=>UG),(e=>UG=e)),e(rG,"LimitTimerRaceResolvedValues",(()=>RG),(e=>RG=e));var oG,iG,aG,sG,uG,cG,lG,dG,fG,hG,pG,vG,gG,mG,yG,bG,wG,SG,xG;function _G(e){return e&&void 0!==e.pluralName}function EG(e){return e&&e.targetName}function CG(e){return"key"===e.type&&e.properties&&e.properties.fields&&e.properties.fields.length>0}function kG(e){return CG(e)&&void 0===e.properties.name}function AG(e){return CG(e)&&void 0!==e.properties.name&&e.properties.fields.length>2}function TG(e){return e&&void 0!==uG[e]}function IG(e){return!(!e||!e.model)}function NG(e){return!(!e||!e.nonModel)}function OG(e){return!(!e||!e.enum)}function PG(e){return e&&void 0!==e.field}function jG(e){return e&&void 0!==e.type}(iG=oG||(oG={})).CUSTOM="custom",iG.OWNER="owner",iG.GROUPS="groups",iG.PRIVATE="private",iG.PUBLIC="public",(sG=aG||(aG={})).FUNCTION="function",sG.USER_POOLS="userPools",sG.OIDC="oidc",sG.IAM="iam",sG.API_KEY="apiKey",(cG=uG||(uG={}))[cG.ID=0]="ID",cG[cG.String=1]="String",cG[cG.Int=2]="Int",cG[cG.Float=3]="Float",cG[cG.Boolean=4]="Boolean",cG[cG.AWSDate=5]="AWSDate",cG[cG.AWSTime=6]="AWSTime",cG[cG.AWSDateTime=7]="AWSDateTime",cG[cG.AWSTimestamp=8]="AWSTimestamp",cG[cG.AWSEmail=9]="AWSEmail",cG[cG.AWSJSON=10]="AWSJSON",cG[cG.AWSURL=11]="AWSURL",cG[cG.AWSPhone=12]="AWSPhone",cG[cG.AWSIPAddress=13]="AWSIPAddress",(lG=uG||(uG={})).getJSType=function(e){switch(e){case"Boolean":return"boolean";case"ID":case"String":case"AWSDate":case"AWSTime":case"AWSDateTime":case"AWSEmail":case"AWSURL":case"AWSPhone":case"AWSIPAddress":return"string";case"Int":case"Float":case"AWSTimestamp":return"number";case"AWSJSON":return"object";default:(0,OK.exhaustiveCheck)(e)}},lG.getValidationFunction=function(e){switch(e){case"AWSDate":return OK.isAWSDate;case"AWSTime":return OK.isAWSTime;case"AWSDateTime":return OK.isAWSDateTime;case"AWSTimestamp":return OK.isAWSTimestamp;case"AWSEmail":return OK.isAWSEmail;case"AWSJSON":return OK.isAWSJSON;case"AWSURL":return OK.isAWSURL;case"AWSPhone":return OK.isAWSPhone;case"AWSIPAddress":return OK.isAWSIPAddress;default:return}},(fG=dG||(dG={})).INSERT="INSERT",fG.UPDATE="UPDATE",fG.DELETE="DELETE",(pG=hG||(hG={}))[pG.FIRST=0]="FIRST",pG[pG.LAST=1]="LAST",(gG=vG||(vG={})).ASCENDING="ASCENDING",gG.DESCENDING="DESCENDING",(yG=mG||(mG={})).DEFAULT="DEFAULT",yG.MULTI_AUTH="MULTI_AUTH",(wG=bG||(bG={})).CREATE="CREATE",wG.READ="READ",wG.UPDATE="UPDATE",wG.DELETE="DELETE",(xG=SG||(SG={})).sync="sync",xG.mutate="mutate",xG.subscribe="subscribe";var RG,MG,UG=Symbol("DISCARD");(MG=RG||(RG={})).LIMIT="LIMIT",MG.TIMER="TIMER";
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var LG=function(){function e(e){var t=e||{},n=t.ValidationData,r=t.Username,o=t.Password,i=t.AuthParameters,a=t.ClientMetadata;this.validationData=n||{},this.authParameters=i||{},this.clientMetadata=a||{},this.username=r,this.password=o}var t=e.prototype;return t.getUsername=function(){return this.username},t.getPassword=function(){return this.password},t.getValidationData=function(){return this.validationData},t.getAuthParameters=function(){return this.authParameters},t.getClientMetadata=function(){return this.clientMetadata},e}();zd=s("awmEs"),Vd=s("j0EVl");s("dWihT");var DG;Kd=s("e5at0"),Hd=s("1BRlx");if("undefined"!=typeof window&&window.crypto&&(DG=window.crypto),!DG&&"undefined"!=typeof window&&window.msCrypto&&(DG=window.msCrypto),!DG&&void 0!==t&&t.crypto&&(DG=t.crypto),!DG)try{DG=s("4AFFV")}catch(e){}function FG(){if(DG){if("function"==typeof DG.getRandomValues)try{return DG.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof DG.randomBytes)try{return DG.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")}var BG,zG=function(){function e(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length}var t=e.prototype;return t.random=function(t){for(var n=[],r=0;r<t;r+=4)n.push(FG());return new e(n,t)},t.toString=function(){return function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")}(this)},e}(),VG=qG;function qG(e,t){null!=e&&this.fromString(e,t)}function KG(){return new qG(null)}var HG="undefined"!=typeof navigator;HG&&"Microsoft Internet Explorer"==navigator.appName?(qG.prototype.am=function(e,t,n,r,o,i){for(var a=32767&t,s=t>>15;--i>=0;){var u=32767&this[e],c=this[e++]>>15,l=s*u+c*a;o=((u=a*u+((32767&l)<<15)+n[r]+(1073741823&o))>>>30)+(l>>>15)+s*c+(o>>>30),n[r++]=1073741823&u}return o},BG=30):HG&&"Netscape"!=navigator.appName?(qG.prototype.am=function(e,t,n,r,o,i){for(;--i>=0;){var a=t*this[e++]+n[r]+o;o=Math.floor(a/67108864),n[r++]=67108863&a}return o},BG=26):(qG.prototype.am=function(e,t,n,r,o,i){for(var a=16383&t,s=t>>14;--i>=0;){var u=16383&this[e],c=this[e++]>>14,l=s*u+c*a;o=((u=a*u+((16383&l)<<14)+n[r]+o)>>28)+(l>>14)+s*c,n[r++]=268435455&u}return o},BG=28),qG.prototype.DB=BG,qG.prototype.DM=(1<<BG)-1,qG.prototype.DV=1<<BG;qG.prototype.FV=Math.pow(2,52),qG.prototype.F1=52-BG,qG.prototype.F2=2*BG-52;var GG,WG,$G=new Array;for(GG="0".charCodeAt(0),WG=0;WG<=9;++WG)$G[GG++]=WG;for(GG="a".charCodeAt(0),WG=10;WG<36;++WG)$G[GG++]=WG;for(GG="A".charCodeAt(0),WG=10;WG<36;++WG)$G[GG++]=WG;function YG(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function JG(e,t){var n=$G[e.charCodeAt(t)];return null==n?-1:n}function QG(e){var t=KG();return t.fromInt(e),t}function ZG(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function XG(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function eW(e){return zd.Buffer.from((new zG).random(e).toString(),"hex")}XG.prototype.convert=function(e){var t=KG();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(qG.ZERO)>0&&this.m.subTo(t,t),t},XG.prototype.revert=function(e){var t=KG();return e.copyTo(t),this.reduce(t),t},XG.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},XG.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},XG.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},qG.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},qG.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},qG.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");n=2}this.t=0,this.s=0;for(var r=e.length,o=!1,i=0;--r>=0;){var a=JG(e,r);a<0?"-"==e.charAt(r)&&(o=!0):(o=!1,0==i?this[this.t++]=a:i+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-i)-1)<<i,this[this.t++]=a>>this.DB-i):this[this.t-1]|=a<<i,(i+=n)>=this.DB&&(i-=this.DB))}this.clamp(),o&&qG.ZERO.subTo(this,this)},qG.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},qG.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},qG.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},qG.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,o=this.DB-r,i=(1<<o)-1,a=Math.floor(e/this.DB),s=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+a+1]=this[n]>>o|s,s=(this[n]&i)<<r;for(n=a-1;n>=0;--n)t[n]=0;t[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()},qG.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,o=this.DB-r,i=(1<<r)-1;t[0]=this[n]>>r;for(var a=n+1;a<this.t;++a)t[a-n-1]|=(this[a]&i)<<o,t[a-n]=this[a]>>r;r>0&&(t[this.t-n-1]|=(this.s&i)<<o),t.t=this.t-n,t.clamp()}},qG.prototype.subTo=function(e,t){for(var n=0,r=0,o=Math.min(e.t,this.t);n<o;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},qG.prototype.multiplyTo=function(e,t){var n=this.abs(),r=e.abs(),o=n.t;for(t.t=o+r.t;--o>=0;)t[o]=0;for(o=0;o<r.t;++o)t[o+n.t]=n.am(0,r[o],t,o,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&qG.ZERO.subTo(t,t)},qG.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},qG.prototype.divRemTo=function(e,t,n){var r=e.abs();if(!(r.t<=0)){var o=this.abs();if(o.t<r.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=KG());var i=KG(),a=this.s,s=e.s,u=this.DB-ZG(r[r.t-1]);u>0?(r.lShiftTo(u,i),o.lShiftTo(u,n)):(r.copyTo(i),o.copyTo(n));var c=i.t,l=i[c-1];if(0!=l){var d=l*(1<<this.F1)+(c>1?i[c-2]>>this.F2:0),f=this.FV/d,h=(1<<this.F1)/d,p=1<<this.F2,v=n.t,g=v-c,m=null==t?KG():t;for(i.dlShiftTo(g,m),n.compareTo(m)>=0&&(n[n.t++]=1,n.subTo(m,n)),qG.ONE.dlShiftTo(c,m),m.subTo(i,i);i.t<c;)i[i.t++]=0;for(;--g>=0;){var y=n[--v]==l?this.DM:Math.floor(n[v]*f+(n[v-1]+p)*h);if((n[v]+=i.am(0,y,n,g,0,c))<y)for(i.dlShiftTo(g,m),n.subTo(m,n);n[v]<--y;)n.subTo(m,n)}null!=t&&(n.drShiftTo(c,t),a!=s&&qG.ZERO.subTo(t,t)),n.t=c,n.clamp(),u>0&&n.rShiftTo(u,n),a<0&&qG.ZERO.subTo(n,n)}}},qG.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},qG.prototype.addTo=function(e,t){for(var n=0,r=0,o=Math.min(e.t,this.t);n<o;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},qG.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");t=2}var n,r=(1<<t)-1,o=!1,i="",a=this.t,s=this.DB-a*this.DB%t;if(a-- >0)for(s<this.DB&&(n=this[a]>>s)>0&&(o=!0,i=YG(n));a>=0;)s<t?(n=(this[a]&(1<<s)-1)<<t-s,n|=this[--a]>>(s+=this.DB-t)):(n=this[a]>>(s-=t)&r,s<=0&&(s+=this.DB,--a)),n>0&&(o=!0),o&&(i+=YG(n));return o?i:"0"},qG.prototype.negate=function(){var e=KG();return qG.ZERO.subTo(this,e),e},qG.prototype.abs=function(){return this.s<0?this.negate():this},qG.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},qG.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+ZG(this[this.t-1]^this.s&this.DM)},qG.prototype.mod=function(e){var t=KG();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(qG.ZERO)>0&&e.subTo(t,t),t},qG.prototype.equals=function(e){return 0==this.compareTo(e)},qG.prototype.add=function(e){var t=KG();return this.addTo(e,t),t},qG.prototype.subtract=function(e){var t=KG();return this.subTo(e,t),t},qG.prototype.multiply=function(e){var t=KG();return this.multiplyTo(e,t),t},qG.prototype.divide=function(e){var t=KG();return this.divRemTo(e,t,null),t},qG.prototype.modPow=function(e,t,n){var r,o=e.bitLength(),i=QG(1),a=new XG(t);if(o<=0)return i;r=o<18?1:o<48?3:o<144?4:o<768?5:6;var s=new Array,u=3,c=r-1,l=(1<<r)-1;if(s[1]=a.convert(this),r>1){var d=KG();for(a.sqrTo(s[1],d);u<=l;)s[u]=KG(),a.mulTo(d,s[u-2],s[u]),u+=2}var f,h,p=e.t-1,v=!0,g=KG();for(o=ZG(e[p])-1;p>=0;){for(o>=c?f=e[p]>>o-c&l:(f=(e[p]&(1<<o+1)-1)<<c-o,p>0&&(f|=e[p-1]>>this.DB+o-c)),u=r;0==(1&f);)f>>=1,--u;if((o-=u)<0&&(o+=this.DB,--p),v)s[f].copyTo(i),v=!1;else{for(;u>1;)a.sqrTo(i,g),a.sqrTo(g,i),u-=2;u>0?a.sqrTo(i,g):(h=i,i=g,g=h),a.mulTo(g,s[f],i)}for(;p>=0&&0==(e[p]&1<<o);)a.sqrTo(i,g),h=i,i=g,g=h,--o<0&&(o=this.DB-1,--p)}var m=a.revert(i);return n(null,m),m},qG.ZERO=QG(0),qG.ONE=QG(1);var tW=/^[89a-f]/i,nW=function(){function e(e){this.N=new VG("FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",16),this.g=new VG("2",16),this.k=new VG(this.hexHash(""+this.padHex(this.N)+this.padHex(this.g)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue((function(){})),this.infoBits=zd.Buffer.from("Caldera Derived Key","utf8"),this.poolName=e}var t=e.prototype;return t.getSmallAValue=function(){return this.smallAValue},t.getLargeAValue=function(e){var t=this;this.largeAValue?e(null,this.largeAValue):this.calculateA(this.smallAValue,(function(n,r){n&&e(n,null),t.largeAValue=r,e(null,t.largeAValue)}))},t.generateRandomSmallA=function(){var e=eW(128).toString("hex");return new VG(e,16)},t.generateRandomString=function(){return eW(40).toString("base64")},t.getRandomPassword=function(){return this.randomPassword},t.getSaltDevices=function(){return this.SaltToHashDevices},t.getVerifierDevices=function(){return this.verifierDevices},t.generateHashDevice=function(e,t,n){var r=this;this.randomPassword=this.generateRandomString();var o=""+e+t+":"+this.randomPassword,i=this.hash(o),a=eW(16).toString("hex");this.SaltToHashDevices=this.padHex(new VG(a,16)),this.g.modPow(new VG(this.hexHash(this.SaltToHashDevices+i),16),this.N,(function(e,t){e&&n(e,null),r.verifierDevices=r.padHex(t),n(null,null)}))},t.calculateA=function(e,t){var n=this;this.g.modPow(e,this.N,(function(e,r){e&&t(e,null),r.mod(n.N).equals(VG.ZERO)&&t(new Error("Illegal paramater. A mod N cannot be 0."),null),t(null,r)}))},t.calculateU=function(e,t){return this.UHexHash=this.hexHash(this.padHex(e)+this.padHex(t)),new VG(this.UHexHash,16)},t.hash=function(e){var t=e instanceof zd.Buffer?r(Vd).lib.WordArray.create(e):e,n=r(Kd)(t).toString();return new Array(64-n.length).join("0")+n},t.hexHash=function(e){return this.hash(zd.Buffer.from(e,"hex"))},t.computehkdf=function(e,t){var n=r(Vd).lib.WordArray.create(zd.Buffer.concat([this.infoBits,zd.Buffer.from(String.fromCharCode(1),"utf8")])),o=e instanceof zd.Buffer?r(Vd).lib.WordArray.create(e):e,i=t instanceof zd.Buffer?r(Vd).lib.WordArray.create(t):t,a=r(Hd)(o,i),s=r(Hd)(n,a);return zd.Buffer.from(s.toString(),"hex").slice(0,16)},t.getPasswordAuthenticationKey=function(e,t,n,r,o){var i=this;if(n.mod(this.N).equals(VG.ZERO))throw new Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,n),this.UValue.equals(VG.ZERO))throw new Error("U cannot be zero.");var a=""+this.poolName+e+":"+t,s=this.hash(a),u=new VG(this.hexHash(this.padHex(r)+s),16);this.calculateS(u,n,(function(e,t){e&&o(e,null);var n=i.computehkdf(zd.Buffer.from(i.padHex(t),"hex"),zd.Buffer.from(i.padHex(i.UValue),"hex"));o(null,n)}))},t.calculateS=function(e,t,n){var r=this;this.g.modPow(e,this.N,(function(o,i){o&&n(o,null),t.subtract(r.k.multiply(i)).modPow(r.smallAValue.add(r.UValue.multiply(e)),r.N,(function(e,t){e&&n(e,null),n(null,t.mod(r.N))}))}))},t.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return"userAttributes."},t.padHex=function(e){if(!(e instanceof VG))throw new Error("Not a BigInteger");var t=e.compareTo(VG.ZERO)<0,n=e.abs().toString(16);if(n=n.length%2!=0?"0"+n:n,n=tW.test(n)?"00"+n:n,t){var r=n.split("").map((function(e){var t=15&~parseInt(e,16);return"0123456789ABCDEF".charAt(t)})).join("");(n=new VG(r,16).add(VG.ONE).toString(16)).toUpperCase().startsWith("FF8")&&(n=n.substring(2))}return n},e}(),rW=(zd=s("awmEs"),function(){function e(e){this.jwtToken=e||"",this.payload=this.decodePayload()}var t=e.prototype;return t.getJwtToken=function(){return this.jwtToken},t.getExpiration=function(){return this.payload.exp},t.getIssuedAt=function(){return this.payload.iat},t.decodePayload=function(){var e=this.jwtToken.split(".")[1];try{return JSON.parse(zd.Buffer.from(e,"base64").toString("utf8"))}catch(e){return{}}},e}());function oW(e,t){return(oW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var iW=function(e){var t,n;function r(t){var n=(void 0===t?{}:t).AccessToken;return e.call(this,n||"")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,oW(t,n),r}(rW);function aW(e,t){return(aW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var sW=function(e){var t,n;function r(t){var n=(void 0===t?{}:t).IdToken;return e.call(this,n||"")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,aW(t,n),r}(rW),uW=function(){function e(e){var t=(void 0===e?{}:e).RefreshToken;this.token=t||""}return e.prototype.getToken=function(){return this.token},e}();
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */zd=s("awmEs"),Vd=s("j0EVl");s("dWihT");mf=s("fU9hS"),Hd=s("1BRlx");var cW=function(){function e(e){var t=void 0===e?{}:e,n=t.IdToken,r=t.RefreshToken,o=t.AccessToken,i=t.ClockDrift;if(null==o||null==n)throw new Error("Id token and Access Token must be present.");this.idToken=n,this.refreshToken=r,this.accessToken=o,this.clockDrift=void 0===i?this.calculateClockDrift():i}var t=e.prototype;return t.getIdToken=function(){return this.idToken},t.getRefreshToken=function(){return this.refreshToken},t.getAccessToken=function(){return this.accessToken},t.getClockDrift=function(){return this.clockDrift},t.calculateClockDrift=function(){return Math.floor(new Date/1e3)-Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt())},t.isValid=function(){var e=Math.floor(new Date/1e3)-this.clockDrift;return e<this.accessToken.getExpiration()&&e<this.idToken.getExpiration()},e}(),lW=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dW=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],fW=function(){function e(){}return e.prototype.getNowString=function(){var e=new Date,t=dW[e.getUTCDay()],n=lW[e.getUTCMonth()],r=e.getUTCDate(),o=e.getUTCHours();o<10&&(o="0"+o);var i=e.getUTCMinutes();i<10&&(i="0"+i);var a=e.getUTCSeconds();return a<10&&(a="0"+a),t+" "+n+" "+r+" "+o+":"+i+":"+a+" UTC "+e.getUTCFullYear()},e}(),hW=function(){function e(e){var t=void 0===e?{}:e,n=t.Name,r=t.Value;this.Name=n||"",this.Value=r||""}var t=e.prototype;return t.getValue=function(){return this.Value},t.setValue=function(e){return this.Value=e,this},t.getName=function(){return this.Name},t.setName=function(e){return this.Name=e,this},t.toString=function(){return JSON.stringify(this)},t.toJSON=function(){return{Name:this.Name,Value:this.Value}},e}(),pW={},vW=function(){function e(){}return e.setItem=function(e,t){return pW[e]=t,pW[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(pW,e)?pW[e]:void 0},e.removeItem=function(e){return delete pW[e]},e.clear=function(){return pW={}},e}(),gW=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch(e){this.storageWindow=vW}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),mW="undefined"!=typeof navigator?navigator.userAgent:"nodejs",yW=function(){function e(e){if(null==e||null==e.Username||null==e.Pool)throw new Error("Username and Pool information are required.");this.username=e.Username||"",this.pool=e.Pool,this.Session=null,this.client=e.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=e.Storage||(new gW).getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}var t=e.prototype;return t.setSignInUserSession=function(e){this.clearCachedUserData(),this.signInUserSession=e,this.cacheTokens()},t.getSignInUserSession=function(){return this.signInUserSession},t.getUsername=function(){return this.username},t.getAuthenticationFlowType=function(){return this.authenticationFlowType},t.setAuthenticationFlowType=function(e){this.authenticationFlowType=e},t.initiateAuth=function(e,t){var n=this,r=e.getAuthParameters();r.USERNAME=this.username;var o=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),i={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:o};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",i,(function(e,r){if(e)return t.onFailure(e);var o=r.ChallengeName,i=r.ChallengeParameters;return"CUSTOM_CHALLENGE"===o?(n.Session=r.Session,t.customChallenge(i)):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),t.onSuccess(n.signInUserSession))}))},t.authenticateUser=function(e,t){return"USER_PASSWORD_AUTH"===this.authenticationFlowType?this.authenticateUserPlainUsernamePassword(e,t):"USER_SRP_AUTH"===this.authenticationFlowType||"CUSTOM_AUTH"===this.authenticationFlowType?this.authenticateUserDefaultAuth(e,t):t.onFailure(new Error("Authentication flow type is invalid."))},t.authenticateUserDefaultAuth=function(e,t){var n,o,i=this,a=new nW(this.pool.getUserPoolId().split("_")[1]),s=new fW,u={};null!=this.deviceKey&&(u.DEVICE_KEY=this.deviceKey),u.USERNAME=this.username,a.getLargeAValue((function(c,l){c&&t.onFailure(c),u.SRP_A=l.toString(16),"CUSTOM_AUTH"===i.authenticationFlowType&&(u.CHALLENGE_NAME="SRP_A");var d=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),f={AuthFlow:i.authenticationFlowType,ClientId:i.pool.getClientId(),AuthParameters:u,ClientMetadata:d};i.getUserContextData(i.username)&&(f.UserContextData=i.getUserContextData(i.username)),i.client.request("InitiateAuth",f,(function(u,c){if(u)return t.onFailure(u);var l=c.ChallengeParameters;i.username=l.USER_ID_FOR_SRP,i.userDataKey=i.keyPrefix+"."+i.username+".userData",n=new VG(l.SRP_B,16),o=new VG(l.SALT,16),i.getCachedDeviceKeyAndPassword(),a.getPasswordAuthenticationKey(i.username,e.getPassword(),n,o,(function(e,n){e&&t.onFailure(e);var o=s.getNowString(),u=r(Vd).lib.WordArray.create(zd.Buffer.concat([zd.Buffer.from(i.pool.getUserPoolId().split("_")[1],"utf8"),zd.Buffer.from(i.username,"utf8"),zd.Buffer.from(l.SECRET_BLOCK,"base64"),zd.Buffer.from(o,"utf8")])),f=r(Vd).lib.WordArray.create(n),h=r(mf).stringify(r(Hd)(u,f)),p={};p.USERNAME=i.username,p.PASSWORD_CLAIM_SECRET_BLOCK=l.SECRET_BLOCK,p.TIMESTAMP=o,p.PASSWORD_CLAIM_SIGNATURE=h,null!=i.deviceKey&&(p.DEVICE_KEY=i.deviceKey);var v={ChallengeName:"PASSWORD_VERIFIER",ClientId:i.pool.getClientId(),ChallengeResponses:p,Session:c.Session,ClientMetadata:d};i.getUserContextData()&&(v.UserContextData=i.getUserContextData()),function e(t,n){return i.client.request("RespondToAuthChallenge",t,(function(r,o){return r&&"ResourceNotFoundException"===r.code&&-1!==r.message.toLowerCase().indexOf("device")?(p.DEVICE_KEY=null,i.deviceKey=null,i.randomPassword=null,i.deviceGroupKey=null,i.clearCachedDeviceKeyAndPassword(),e(t,n)):n(r,o)}))}(v,(function(e,n){return e?t.onFailure(e):i.authenticateUserInternal(n,a,t)}))}))}))}))},t.authenticateUserPlainUsernamePassword=function(e,t){var n=this,r={};if(r.USERNAME=this.username,r.PASSWORD=e.getPassword(),r.PASSWORD){var o=new nW(this.pool.getUserPoolId().split("_")[1]);this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(r.DEVICE_KEY=this.deviceKey);var i=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),a={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:i};this.getUserContextData(this.username)&&(a.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",a,(function(e,r){return e?t.onFailure(e):n.authenticateUserInternal(r,o,t)}))}else t.onFailure(new Error("PASSWORD parameter is required"))},t.authenticateUserInternal=function(e,t,n){var r=this,o=e.ChallengeName,i=e.ChallengeParameters;if("SMS_MFA"===o)return this.Session=e.Session,n.mfaRequired(o,i);if("SELECT_MFA_TYPE"===o)return this.Session=e.Session,n.selectMFAType(o,i);if("MFA_SETUP"===o)return this.Session=e.Session,n.mfaSetup(o,i);if("SOFTWARE_TOKEN_MFA"===o)return this.Session=e.Session,n.totpRequired(o,i);if("CUSTOM_CHALLENGE"===o)return this.Session=e.Session,n.customChallenge(i);if("NEW_PASSWORD_REQUIRED"===o){this.Session=e.Session;var a=null,s=null,u=[],c=t.getNewPasswordRequiredChallengeUserAttributePrefix();if(i&&(a=JSON.parse(e.ChallengeParameters.userAttributes),s=JSON.parse(e.ChallengeParameters.requiredAttributes)),s)for(var l=0;l<s.length;l++)u[l]=s[l].substr(c.length);return n.newPasswordRequired(a,u)}if("DEVICE_SRP_AUTH"===o)return this.Session=e.Session,void this.getDeviceResponse(n);this.signInUserSession=this.getCognitoUserSession(e.AuthenticationResult),this.challengeName=o,this.cacheTokens();var d=e.AuthenticationResult.NewDeviceMetadata;if(null==d)return n.onSuccess(this.signInUserSession);t.generateHashDevice(e.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,e.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(o){if(o)return n.onFailure(o);var i={Salt:zd.Buffer.from(t.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:zd.Buffer.from(t.getVerifierDevices(),"hex").toString("base64")};r.verifierDevices=i.PasswordVerifier,r.deviceGroupKey=d.DeviceGroupKey,r.randomPassword=t.getRandomPassword(),r.client.request("ConfirmDevice",{DeviceKey:d.DeviceKey,AccessToken:r.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:i,DeviceName:mW},(function(t,o){return t?n.onFailure(t):(r.deviceKey=e.AuthenticationResult.NewDeviceMetadata.DeviceKey,r.cacheDeviceKeyAndPassword(),!0===o.UserConfirmationNecessary?n.onSuccess(r.signInUserSession,o.UserConfirmationNecessary):n.onSuccess(r.signInUserSession))}))}))},t.completeNewPasswordChallenge=function(e,t,n,r){var o=this;if(!e)return n.onFailure(new Error("New password is required."));var i=new nW(this.pool.getUserPoolId().split("_")[1]),a=i.getNewPasswordRequiredChallengeUserAttributePrefix(),s={};t&&Object.keys(t).forEach((function(e){s[a+e]=t[e]})),s.NEW_PASSWORD=e,s.USERNAME=this.username;var u={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:s,Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(u.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",u,(function(e,t){return e?n.onFailure(e):o.authenticateUserInternal(t,i,n)}))},t.getDeviceResponse=function(e,t){var n=this,o=new nW(this.deviceGroupKey),i=new fW,a={};a.USERNAME=this.username,a.DEVICE_KEY=this.deviceKey,o.getLargeAValue((function(s,u){s&&e.onFailure(s),a.SRP_A=u.toString(16);var c={ChallengeName:"DEVICE_SRP_AUTH",ClientId:n.pool.getClientId(),ChallengeResponses:a,ClientMetadata:t,Session:n.Session};n.getUserContextData()&&(c.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",c,(function(t,a){if(t)return e.onFailure(t);var s=a.ChallengeParameters,u=new VG(s.SRP_B,16),c=new VG(s.SALT,16);o.getPasswordAuthenticationKey(n.deviceKey,n.randomPassword,u,c,(function(t,o){if(t)return e.onFailure(t);var u=i.getNowString(),c=r(Vd).lib.WordArray.create(zd.Buffer.concat([zd.Buffer.from(n.deviceGroupKey,"utf8"),zd.Buffer.from(n.deviceKey,"utf8"),zd.Buffer.from(s.SECRET_BLOCK,"base64"),zd.Buffer.from(u,"utf8")])),l=r(Vd).lib.WordArray.create(o),d=r(mf).stringify(r(Hd)(c,l)),f={};f.USERNAME=n.username,f.PASSWORD_CLAIM_SECRET_BLOCK=s.SECRET_BLOCK,f.TIMESTAMP=u,f.PASSWORD_CLAIM_SIGNATURE=d,f.DEVICE_KEY=n.deviceKey;var h={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:n.pool.getClientId(),ChallengeResponses:f,Session:a.Session};n.getUserContextData()&&(h.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",h,(function(t,r){return t?e.onFailure(t):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),e.onSuccess(n.signInUserSession))}))}))}))}))},t.confirmRegistration=function(e,t,n,r){var o={ClientId:this.pool.getClientId(),ConfirmationCode:e,Username:this.username,ForceAliasCreation:t,ClientMetadata:r};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",o,(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.sendCustomChallengeAnswer=function(e,t,n){var r=this,o={};o.USERNAME=this.username,o.ANSWER=e;var i=new nW(this.pool.getUserPoolId().split("_")[1]);this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(o.DEVICE_KEY=this.deviceKey);var a={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:o,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:n};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",a,(function(e,n){return e?t.onFailure(e):r.authenticateUserInternal(n,i,t)}))},t.sendMFACode=function(e,t,n,r){var o=this,i={};i.USERNAME=this.username,i.SMS_MFA_CODE=e;var a=n||"SMS_MFA";"SOFTWARE_TOKEN_MFA"===a&&(i.SOFTWARE_TOKEN_MFA_CODE=e),null!=this.deviceKey&&(i.DEVICE_KEY=this.deviceKey);var s={ChallengeName:a,ChallengeResponses:i,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(s.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",s,(function(e,n){if(e)return t.onFailure(e);if("DEVICE_SRP_AUTH"!==n.ChallengeName){if(o.signInUserSession=o.getCognitoUserSession(n.AuthenticationResult),o.cacheTokens(),null==n.AuthenticationResult.NewDeviceMetadata)return t.onSuccess(o.signInUserSession);var r=new nW(o.pool.getUserPoolId().split("_")[1]);r.generateHashDevice(n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,n.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(e){if(e)return t.onFailure(e);var i={Salt:zd.Buffer.from(r.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:zd.Buffer.from(r.getVerifierDevices(),"hex").toString("base64")};o.verifierDevices=i.PasswordVerifier,o.deviceGroupKey=n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,o.randomPassword=r.getRandomPassword(),o.client.request("ConfirmDevice",{DeviceKey:n.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:o.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:i,DeviceName:mW},(function(e,r){return e?t.onFailure(e):(o.deviceKey=n.AuthenticationResult.NewDeviceMetadata.DeviceKey,o.cacheDeviceKeyAndPassword(),!0===r.UserConfirmationNecessary?t.onSuccess(o.signInUserSession,r.UserConfirmationNecessary):t.onSuccess(o.signInUserSession))}))}))}else o.getDeviceResponse(t)}))},t.changePassword=function(e,t,n,r){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:e,ProposedPassword:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:r},(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.enableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);var t=[];t.push({DeliveryMedium:"SMS",AttributeName:"phone_number"}),this.client.request("SetUserSettings",{MFAOptions:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},t.setUserMfaPreference=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:e,SoftwareTokenMfaSettings:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.disableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("SetUserSettings",{MFAOptions:[],AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},t.deleteUser=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:t},(function(t){return t?e(t,null):(n.clearCachedUser(),e(null,"SUCCESS"))}))},t.updateAttributes=function(e,t,n){var r=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:e,ClientMetadata:n},(function(e){return e?t(e,null):r.getUserData((function(){return t(null,"SUCCESS")}),{bypassCache:!0})}))},t.getUserAttributes=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){if(t)return e(t,null);for(var r=[],o=0;o<n.UserAttributes.length;o++){var i={Name:n.UserAttributes[o].Name,Value:n.UserAttributes[o].Value},a=new hW(i);r.push(a)}return e(null,r)}))},t.getMFAOptions=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){return t?e(t,null):e(null,n.MFAOptions)}))},t.createGetUserRequest=function(){return this.client.promisifyRequest("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()})},t.refreshSessionIfPossible=function(e){var t=this;return void 0===e&&(e={}),new Promise((function(n){var r=t.signInUserSession.getRefreshToken();r&&r.getToken()?t.refreshSession(r,n,e.clientMetadata):n()}))},t.getUserData=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return this.clearCachedUserData(),e(new Error("User is not authenticated"),null);var r=this.getUserDataFromCache();if(r)if(this.isFetchUserDataAndTokenRequired(t))this.fetchUserData().then((function(e){return n.refreshSessionIfPossible(t).then((function(){return e}))})).then((function(t){return e(null,t)})).catch(e);else try{return void e(null,JSON.parse(r))}catch(t){return this.clearCachedUserData(),void e(t,null)}else this.fetchUserData().then((function(t){e(null,t)})).catch(e)},t.getUserDataFromCache=function(){return this.storage.getItem(this.userDataKey)},t.isFetchUserDataAndTokenRequired=function(e){var t=(e||{}).bypassCache;return void 0!==t&&t},t.fetchUserData=function(){var e=this;return this.createGetUserRequest().then((function(t){return e.cacheUserData(t),t}))},t.deleteAttributes=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?t(e,null):n.getUserData((function(){return t(null,"SUCCESS")}),{bypassCache:!0})}))},t.resendConfirmationCode=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.client.request("ResendConfirmationCode",n,(function(t,n){return t?e(t,null):e(null,n)}))},t.getSession=function(e,t){if(void 0===t&&(t={}),null==this.username)return e(new Error("Username is null. Cannot retrieve a new session"),null);if(null!=this.signInUserSession&&this.signInUserSession.isValid())return e(null,this.signInUserSession);var n="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,r=n+".idToken",o=n+".accessToken",i=n+".refreshToken",a=n+".clockDrift";if(this.storage.getItem(r)){var s=new sW({IdToken:this.storage.getItem(r)}),u=new iW({AccessToken:this.storage.getItem(o)}),c=new uW({RefreshToken:this.storage.getItem(i)}),l=parseInt(this.storage.getItem(a),0)||0,d=new cW({IdToken:s,AccessToken:u,RefreshToken:c,ClockDrift:l});if(d.isValid())return this.signInUserSession=d,e(null,this.signInUserSession);if(!c.getToken())return e(new Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(c,e,t.clientMetadata)}else e(new Error("Local storage is missing an ID Token, Please authenticate"),null)},t.refreshSession=function(e,t,n){var r=this,o=this.pool.wrapRefreshSessionCallback?this.pool.wrapRefreshSessionCallback(t):t,i={};i.REFRESH_TOKEN=e.getToken();var a="CognitoIdentityServiceProvider."+this.pool.getClientId(),s=a+".LastAuthUser";if(this.storage.getItem(s)){this.username=this.storage.getItem(s);var u=a+"."+this.username+".deviceKey";this.deviceKey=this.storage.getItem(u),i.DEVICE_KEY=this.deviceKey}var c={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:i,ClientMetadata:n};this.getUserContextData()&&(c.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",c,(function(t,n){if(t)return"NotAuthorizedException"===t.code&&r.clearCachedUser(),o(t,null);if(n){var i=n.AuthenticationResult;return Object.prototype.hasOwnProperty.call(i,"RefreshToken")||(i.RefreshToken=e.getToken()),r.signInUserSession=r.getCognitoUserSession(i),r.cacheTokens(),o(null,r.signInUserSession)}}))},t.cacheTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",r=e+"."+this.username+".refreshToken",o=e+"."+this.username+".clockDrift",i=e+".LastAuthUser";this.storage.setItem(t,this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(n,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(r,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(o,""+this.signInUserSession.getClockDrift()),this.storage.setItem(i,this.username)},t.cacheUserData=function(e){this.storage.setItem(this.userDataKey,JSON.stringify(e))},t.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},t.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},t.cacheDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.setItem(t,this.deviceKey),this.storage.setItem(n,this.randomPassword),this.storage.setItem(r,this.deviceGroupKey)},t.getCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.getItem(t)&&(this.deviceKey=this.storage.getItem(t),this.randomPassword=this.storage.getItem(n),this.deviceGroupKey=this.storage.getItem(r))},t.clearCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(r)},t.clearCachedTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",r=e+"."+this.username+".refreshToken",o=e+".LastAuthUser",i=e+"."+this.username+".clockDrift";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(r),this.storage.removeItem(o),this.storage.removeItem(i)},t.getCognitoUserSession=function(e){var t=new sW(e),n=new iW(e),r=new uW(e);return new cW({IdToken:t,AccessToken:n,RefreshToken:r})},t.forgotPassword=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.getUserContextData()&&(n.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",n,(function(t,n){return t?e.onFailure(t):"function"==typeof e.inputVerificationCode?e.inputVerificationCode(n):e.onSuccess(n)}))},t.confirmPassword=function(e,t,n,r){var o={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:e,Password:t,ClientMetadata:r};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",o,(function(e){return e?n.onFailure(e):n.onSuccess("SUCCESS")}))},t.getAttributeVerificationCode=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:n},(function(e,n){return e?t.onFailure(e):"function"==typeof t.inputVerificationCode?t.inputVerificationCode(n):t.onSuccess("SUCCESS")}))},t.verifyAttribute=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:e,Code:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?n.onFailure(e):n.onSuccess("SUCCESS")}))},t.getDevice=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},(function(t,n){return t?e.onFailure(t):e.onSuccess(n)}))},t.forgetSpecificDevice=function(e,t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:e},(function(e){return e?t.onFailure(e):t.onSuccess("SUCCESS")}))},t.forgetDevice=function(e){var t=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:e.onFailure,onSuccess:function(n){return t.deviceKey=null,t.deviceGroupKey=null,t.randomPassword=null,t.clearCachedDeviceKeyAndPassword(),e.onSuccess(n)}})},t.setDeviceStatusRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},(function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")}))},t.setDeviceStatusNotRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},(function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")}))},t.listDevices=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));var r={AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:e};t&&(r.PaginationToken=t),this.client.request("ListDevices",r,(function(e,t){return e?n.onFailure(e):n.onSuccess(t)}))},t.globalSignOut=function(e){var t=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(n){return n?e.onFailure(n):(t.clearCachedUser(),e.onSuccess("SUCCESS"))}))},t.signOut=function(e){var t=this;e&&"function"==typeof e?this.getSession((function(n,r){if(n)return e(n);t.revokeTokens((function(n){t.cleanClientData(),e(n)}))})):this.cleanClientData()},t.revokeTokens=function(e){if(void 0===e&&(e=function(){}),"function"!=typeof e)throw new Error("Invalid revokeTokenCallback. It should be a function.");if(!this.signInUserSession)return e(new Error("User is not authenticated"));if(!this.signInUserSession.getAccessToken())return e(new Error("No Access token available"));var t=this.signInUserSession.getRefreshToken().getToken(),n=this.signInUserSession.getAccessToken();if(this.isSessionRevocable(n)&&t)return this.revokeToken({token:t,callback:e});e()},t.isSessionRevocable=function(e){if(e&&"function"==typeof e.decodePayload)try{return!!e.decodePayload().origin_jti}catch(e){}return!1},t.cleanClientData=function(){this.signInUserSession=null,this.clearCachedUser()},t.revokeToken=function(e){var t=e.token,n=e.callback;this.client.requestWithRetry("RevokeToken",{Token:t,ClientId:this.pool.getClientId()},(function(e){if(e)return n(e);n()}))},t.sendMFASelectionAnswer=function(e,t){var n=this,r={};r.USERNAME=this.username,r.ANSWER=e;var o={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:r,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",o,(function(r,o){return r?t.onFailure(r):(n.Session=o.Session,"SMS_MFA"===e?t.mfaRequired(o.ChallengeName,o.ChallengeParameters):"SOFTWARE_TOKEN_MFA"===e?t.totpRequired(o.ChallengeName,o.ChallengeParameters):void 0)}))},t.getUserContextData=function(){return this.pool.getUserContextData(this.username)},t.associateSoftwareToken=function(e){var t=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){return t?e.onFailure(t):e.associateSecretCode(n.SecretCode)})):this.client.request("AssociateSoftwareToken",{Session:this.Session},(function(n,r){return n?e.onFailure(n):(t.Session=r.Session,e.associateSecretCode(r.SecretCode))}))},t.verifySoftwareToken=function(e,t,n){var r=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:e,FriendlyDeviceName:t},(function(e,t){return e?n.onFailure(e):n.onSuccess(t)})):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:e,FriendlyDeviceName:t},(function(e,t){if(e)return n.onFailure(e);r.Session=t.Session;var o={};o.USERNAME=r.username;var i={ChallengeName:"MFA_SETUP",ClientId:r.pool.getClientId(),ChallengeResponses:o,Session:r.Session};r.getUserContextData()&&(i.UserContextData=r.getUserContextData()),r.client.request("RespondToAuthChallenge",i,(function(e,t){return e?n.onFailure(e):(r.signInUserSession=r.getCognitoUserSession(t.AuthenticationResult),r.cacheTokens(),n.onSuccess(r.signInUserSession))}))}))},e}(),bW={userAgent:"aws-amplify/5.0.4 js",product:"",navigator:null,isReactNative:!1};if("undefined"!=typeof navigator&&navigator.product)if(bW.product=navigator.product||"",bW.navigator=navigator||null,"ReactNative"===navigator.product)bW.userAgent="aws-amplify/5.0.4 react-native",bW.isReactNative=!0;else bW.userAgent="aws-amplify/5.0.4 js",bW.isReactNative=!1;function wW(){}wW.prototype.userAgent=bW.userAgent;var SW=wW;function xW(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,kW(e,t)}function _W(e){var t="function"==typeof Map?new Map:void 0;return _W=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return EW(e,arguments,AW(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),kW(r,e)},_W(e)}function EW(e,t,n){return(EW=CW()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&kW(o,n.prototype),o}).apply(null,arguments)}function CW(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function kW(e,t){return(kW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function AW(e){return(AW=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var TW=function(e){function t(t,n,r,o){var i;return(i=e.call(this,t)||this).code=n,i.name=r,i.statusCode=o,i}return xW(t,e),t}(_W(Error)),IW=function(){function e(e,t,n){this.endpoint=t||"https://cognito-idp."+e+".amazonaws.com/";var r=(n||{}).credentials;this.fetchOptions=r?{credentials:r}:{}}var t=e.prototype;return t.promisifyRequest=function(e,t){var n=this;return new Promise((function(r,o){n.request(e,t,(function(e,t){e?o(new TW(e.message,e.code,e.name,e.statusCode)):r(t)}))}))},t.requestWithRetry=function(e,t,n){var r=this;(function(e,t,n){void 0===n&&(n=3e5);return OW(e,t,function(e){var t=100,n=100;return function(r){var o=Math.pow(2,r)*t+n*Math.random();return!(o>e)&&o}}(n))})((function(t){return new Promise((function(n,o){r.request(e,t,(function(e,t){e?o(e):n(t)}))}))}),[t],5e3).then((function(e){return n(null,e)})).catch((function(e){return n(e)}))},t.request=function(e,t,n){var r,o={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+e,"X-Amz-User-Agent":SW.prototype.userAgent},i=Object.assign({},this.fetchOptions,{headers:o,method:"POST",mode:"cors",cache:"no-cache",body:JSON.stringify(t)});fetch(this.endpoint,i).then((function(e){return r=e,e}),(function(e){if(e instanceof TypeError)throw new Error("Network error");throw e})).then((function(e){return e.json().catch((function(){return{}}))})).then((function(e){if(r.ok)return n(null,e);e;var t=(e.__type||e.code).split("#").pop(),o=new Error(e.message||e.Message||null);return o.name=t,o.code=t,n(o)})).catch((function(e){if(r&&r.headers&&r.headers.get("x-amzn-errortype"))try{var t=r.headers.get("x-amzn-errortype").split(":")[0],o=new Error(r.status?r.status.toString():null);return o.code=t,o.name=t,o.statusCode=r.status,n(o)}catch(t){return n(e)}else e instanceof Error&&"Network error"===e.message&&(e.code="NetworkError");return n(e)}))},e}(),NW=function(){};Error;function OW(e,t,n,r){if(void 0===r&&(r=1),"function"!=typeof e)throw Error("functionToRetry must be a function");return NW(e.name+" attempt #"+r+" with args: "+JSON.stringify(t)),e.apply(void 0,t).catch((function(o){if(NW("error on "+e.name,o),(i=o)&&i.nonRetryable)throw NW(e.name+" non retryable error",o),o;var i,a=n(r,t,o);if(NW(e.name+" retrying in "+a+" ms"),!1!==a)return new Promise((function(e){return setTimeout(e,a)})).then((function(){return OW(e,t,n,r+1)}));throw o}))}var PW=function(){function e(e,t){var n=e||{},r=n.UserPoolId,o=n.ClientId,i=n.endpoint,a=n.fetchOptions,s=n.AdvancedSecurityDataCollectionFlag;if(!r||!o)throw new Error("Both UserPoolId and ClientId are required.");if(r.length>55||!/^[\w-]+_[0-9a-zA-Z]+$/.test(r))throw new Error("Invalid UserPoolId format.");var u=r.split("_")[0];this.userPoolId=r,this.clientId=o,this.client=new IW(u,i,a),this.advancedSecurityDataCollectionFlag=!1!==s,this.storage=e.Storage||(new gW).getStorage(),t&&(this.wrapRefreshSessionCallback=t)}var t=e.prototype;return t.getUserPoolId=function(){return this.userPoolId},t.getClientId=function(){return this.clientId},t.signUp=function(e,t,n,r,o,i){var a=this,s={ClientId:this.clientId,Username:e,Password:t,UserAttributes:n,ValidationData:r,ClientMetadata:i};this.getUserContextData(e)&&(s.UserContextData=this.getUserContextData(e)),this.client.request("SignUp",s,(function(t,n){if(t)return o(t,null);var r={Username:e,Pool:a,Storage:a.storage},i={user:new yW(r),userConfirmed:n.UserConfirmed,userSub:n.UserSub,codeDeliveryDetails:n.CodeDeliveryDetails};return o(null,i)}))},t.getCurrentUser=function(){var e="CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser",t=this.storage.getItem(e);if(t){var n={Username:t,Pool:this,Storage:this.storage};return new yW(n)}return null},t.getUserContextData=function(e){if("undefined"!=typeof AmazonCognitoAdvancedSecurityData){var t=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var n=t.getData(e,this.userPoolId,this.clientId);if(n)return{EncodedData:n}}return{}}},e}(),jW=function(){function e(e){if(!e.domain)throw new Error("The domain of cookieStorage can not be undefined.");if(this.domain=e.domain,e.path?this.path=e.path:this.path="/",Object.prototype.hasOwnProperty.call(e,"expires")?this.expires=e.expires:this.expires=365,Object.prototype.hasOwnProperty.call(e,"secure")?this.secure=e.secure:this.secure=!0,Object.prototype.hasOwnProperty.call(e,"sameSite")){if(!["strict","lax","none"].includes(e.sameSite))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===e.sameSite&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=e.sameSite}else this.sameSite=null}var t=e.prototype;return t.setItem=function(e,t){var n={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(n.sameSite=this.sameSite),Vf.set(e,t,n),Vf.get(e)},t.getItem=function(e){return Vf.get(e)},t.removeItem=function(e){var t={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(t.sameSite=this.sameSite),Vf.remove(e,t)},t.clear=function(){for(var e=Vf.get(),t=Object.keys(e).length,n=0;n<t;++n)this.removeItem(Object.keys(e)[n]);return{}},e}(),RW=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},MW=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},UW=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},LW=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(UW(arguments[t]));return e},DW=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},FW=function(e,t){if(void 0===t&&(t=!0),t)throw new Error("Invalid "+e)},BW=function(e){return void 0===e||null==e},zW=function(e,t,n){var r,o=!1;if(0===n.length)return!0;switch(t){case"not":r="every",o=!0;break;case"and":r="every";break;case"or":r="some";break;default:FW(t)}var i=n[r]((function(t){if((0,rG.isPredicateObj)(t)){var n=t.field,r=t.operator,o=t.operand,i=e[n];return VW(i,r,o)}if((0,rG.isPredicateGroup)(t)){var a=t.type,s=t.predicates;return zW(e,a,s)}throw new Error("Not a predicate or group")}));return o?!i:i},VW=function(e,t,n){switch(t){case"ne":return e!==n;case"eq":return e===n;case"le":return e<=n;case"lt":return e<n;case"ge":return e>=n;case"gt":return e>n;case"between":var r=UW(n,2),o=r[0],i=r[1];return e>=o&&e<=i;case"beginsWith":return!BW(e)&&e.startsWith(n);case"contains":return!BW(e)&&e.indexOf(n)>-1;case"notContains":return BW(e)||-1===e.indexOf(n);default:return FW(t,!1),!1}},qW=function(e){return e&&"function"==typeof e.copyOf},KW=new WeakSet;function HW(e){KW.add(e)}var GW,WW,$W=function(e){return KW.has(e)},YW=function(e){var t={},n={};return Object.keys(e.models).forEach((function(r){var o,i,a,s;t[r]={indexes:[],relationTypes:[]},n[r]={};var u,c,l,d=e.models[r];if(Object.keys(d.fields).forEach((function(e){var n=d.fields[e];if("object"==typeof n.type&&"model"in n.type){var o=n.association.connectionType;t[r].relationTypes.push({fieldName:n.name,modelName:n.type.model,relationType:o,targetName:n.association.targetName,associatedWith:n.association.associatedWith}),"BELONGS_TO"===o&&t[r].indexes.push(n.association.targetName)}})),d.attributes){n[r].compositeKeys=(u=d.attributes,c=function(e){return e.reduce((function(e,t){var n=new Set(t);if(0===e.length)return e.push(n),e;var r=e.findIndex((function(e){return LW(e).some((function(e){return n.has(e)}))}));if(r>-1){var o=new Set(LW(e[r],n));e[r]=o}else e.push(n);return e}),[])},l=c(u.filter(rG.isModelAttributeCompositeKey).map((function(e){return UW(e.properties.fields).slice(1)}))),c(l));try{for(var f=DW(d.attributes),h=f.next();!h.done;h=f.next()){var p=h.value;if((0,rG.isModelAttributeKey)(p)){(0,rG.isModelAttributePrimaryKey)(p)&&(n[r].primaryKey=p.properties.fields);var v=p.properties.fields;try{for(var g=(a=void 0,DW(v)),m=g.next();!m.done;m=g.next()){var y=m.value;t[r].indexes.includes(y)||t[r].indexes.push(y)}}catch(e){a={error:e}}finally{try{m&&!m.done&&(s=g.return)&&s.call(g)}finally{if(a)throw a.error}}}}}catch(e){o={error:e}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(o)throw o.error}}}})),[t,n]},JW=new WeakMap,QW=function(e,t,n,r,o){var i=n.relationships,a=o(n.name,e),s=i[e],u=[],c=a.copyOf(t,(function(e){s.relationTypes.forEach((function(i){var a=o(n.name,i.modelName);switch(i.relationType){case"HAS_ONE":if(t[i.fieldName]){var s=void 0;try{s=r(a,t[i.fieldName])}catch(e){console.log(e)}u.push({modelName:i.modelName,item:t[i.fieldName],instance:s}),i.targetName?(e[i.targetName]=e[i.fieldName].id,delete e[i.fieldName]):e[i.fieldName]=e[i.fieldName].id}break;case"BELONGS_TO":if(t[i.fieldName]){s=void 0;try{s=r(a,t[i.fieldName])}catch(e){}e[i.fieldName]._deleted||u.push({modelName:i.modelName,item:t[i.fieldName],instance:s})}e[i.fieldName]&&(e[i.targetName]=e[i.fieldName].id,delete e[i.fieldName]);break;case"HAS_MANY":break;default:FW(i.relationType)}}))}));u.unshift({modelName:e,item:c,instance:c}),JW.has(n)||JW.set(n,Array.from(n.modelTopologicalOrdering.keys()));var l=JW.get(n);return u.sort((function(e,t){return l.indexOf(e.modelName)-l.indexOf(t.modelName)})),u},ZW=function(e,t){var n="";return e.some((function(e){e.modelName===t&&(n=e.targetName)})),n},XW=function(e,t){return e.find((function(e){return e===t}))};(WW=GW||(GW={})).DATASTORE="datastore",WW.USER="user",WW.SYNC="sync",WW.STORAGE="storage";var e$,t$=GW.DATASTORE,n$=GW.USER,r$=GW.SYNC,o$=GW.STORAGE,i$=function(){return new Promise((function(e){var t,n=(0,VK.v4)(),r=function(){e$=!1,e(!0)},o=function(){return RW(void 0,void 0,void 0,(function(){return MW(this,(function(r){switch(r.label){case 0:return t&&t.result&&"function"==typeof t.result.close?[4,t.result.close()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[4,indexedDB.deleteDatabase(n)];case 3:return r.sent(),e$=!0,[2,e(!1)]}}))}))};return!0===e$?o():!1===e$||null===indexedDB?r():((t=indexedDB.open(n)).onerror=r,void(t.onsuccess=o))}))},a$=function(){return(e=1,zd.Buffer.from((new zG).random(e).toString(),"hex")).readUInt8(0)/255;var e};function s$(e){var t=BK(a$);return function(){return t(e)}}function u$(){return"undefined"!=typeof performance&&performance&&"function"==typeof performance.now?0|performance.now():Date.now()}function c$(e){return function(t,n){var r,o;try{for(var i=DW(e),a=i.next();!a.done;a=i.next()){var s=a.value,u=s.field,c=s.sortDirection===rG.SortDirection.ASCENDING?1:-1;if(t[u]<n[u])return-1*c;if(t[u]>n[u])return 1*c}}catch(e){r={error:e}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return 0}}function l$(e,t,n){var r,o;void 0===n&&(n=!1);var i,a,s=e,u=t;if(s instanceof Object&&!(u instanceof Object)||!(s instanceof Object)&&u instanceof Object)return!1;if(!(s instanceof Object))return!(!n||(i=s,a=u,null!=i||null!=a))||s===u;if(Array.isArray(s)&&!Array.isArray(u)||Array.isArray(u)&&!Array.isArray(s))return!1;s instanceof Set&&u instanceof Set&&(s=LW(s),u=LW(u)),s instanceof Map&&u instanceof Map&&(s=Object.fromEntries(s),u=Object.fromEntries(u));var c=Object.keys(s),l=Object.keys(u);if(c.length!==l.length&&(!n||Array.isArray(s)))return!1;var d=c.length>=l.length?c:l;try{for(var f=DW(d),h=f.next();!h.done;h=f.next()){var p=h.value;if(!l$(s[p],u[p],n))return!1}}catch(e){r={error:e}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}return!0}var d$=function(e){return!!/^\d{4}-\d{2}-\d{2}(Z|[+-]\d{2}:\d{2}($|:\d{2}))?$/.exec(e)},f$=function(e){return!!/^\d{2}:\d{2}(:\d{2}(.\d+)?)?(Z|[+-]\d{2}:\d{2}($|:\d{2}))?$/.exec(e)},h$=function(e){return!!/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}(:\d{2}(.\d+)?)?(Z|[+-]\d{2}:\d{2}($|:\d{2}))?$/.exec(e)},p$=function(e){return!!/^\d+$/.exec(String(e))},v$=function(e){return!!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.exec(e)},g$=function(e){try{return JSON.parse(e),!0}catch(e){return!1}},m$=function(e){try{return new URL(e),!0}catch(e){return!1}},y$=function(e){return!!/^\+?\d[\d\s-]+$/.exec(e)},b$=function(e){return!!/((^((([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]))$)|(^((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?$))$/.exec(e)},w$=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},S$=function(){function e(e){this.limitPromise=new w$,this.raceInFlight=!1,this.callback=function(){},this.defaultErrorHandler=function(e){throw void 0===e&&(e="DeferredCallbackResolver error"),new Error(e)},this.callback=e.callback,this.errorHandler=e.errorHandler||this.defaultErrorHandler,this.maxInterval=e.maxInterval||2e3}return e.prototype.startTimer=function(){var e=this;this.timerPromise=new Promise((function(t,n){e.timer=setTimeout((function(){t(rG.LimitTimerRaceResolvedValues.TIMER)}),e.maxInterval)}))},e.prototype.racePromises=function(){return RW(this,void 0,void 0,(function(){var e,t;return MW(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,3,4]),this.raceInFlight=!0,this.startTimer(),[4,Promise.race([this.timerPromise,this.limitPromise.promise])];case 1:return e=n.sent(),this.callback(),[3,4];case 2:return t=n.sent(),this.errorHandler(t),[3,4];case 3:return this.clear(),this.raceInFlight=!1,this.limitPromise=new w$,[2,e];case 4:return[2]}}))}))},e.prototype.start=function(){this.raceInFlight||this.racePromises()},e.prototype.clear=function(){clearTimeout(this.timer)},e.prototype.resolve=function(){this.limitPromise.resolve(rG.LimitTimerRaceResolvedValues.LIMIT)},e}();function x$(e,t,n){var r,o=t.concat(n);return eG(e,(function(e){nG(e,o)}),(function(e){r=e})),r}var _$={};e(_$,"initSchema",(()=>G2),(e=>G2=e)),e(_$,"DataStore",(()=>d3),(e=>d3=e));var E$={};n(E$),e(E$,"Constants",(()=>MJ)),e(E$,"ConsoleLogger",(()=>k$.ConsoleLogger)),e(E$,"Logger",(()=>k$.ConsoleLogger)),e(E$,"Hub",(()=>F$.Hub)),e(E$,"Signer",(()=>hY.Signer)),e(E$,"Credentials",(()=>aJ.Credentials)),e(E$,"StorageHelper",(()=>cJ)),e(E$,"UniversalStorage",(()=>NJ)),e(E$,"Platform",(()=>L$)),e(E$,"Amplify",(()=>C$.Amplify)),e(E$,"JS",(()=>fY)),e(E$,"browserOrNode",(()=>uY)),e(E$,"isWebWorker",(()=>sY)),e(E$,"JS",(()=>eJ.JS)),e(E$,"Mutex",(()=>eJ.Mutex)),e(E$,"browserOrNode",(()=>eJ.browserOrNode)),e(E$,"isWebWorker",(()=>eJ.isWebWorker)),e(E$,"retry",(()=>eJ.retry)),e(E$,"NonRetryableError",(()=>eJ.NonRetryableError)),e(E$,"jitteredBackoff",(()=>eJ.jitteredBackoff)),e(E$,"jitteredExponentialRetry",(()=>eJ.jitteredExponentialRetry)),e(E$,"Reachability",(()=>eJ.Reachability)),e(E$,"INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER",(()=>eJ.INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER)),e(E$,"INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER",(()=>eJ.INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER)),e(E$,"Parser",(()=>eJ.Parser)),e(E$,"urlSafeDecode",(()=>eJ.urlSafeDecode)),e(E$,"USER_AGENT_HEADER",(()=>eJ.USER_AGENT_HEADER)),e(E$,"urlSafeEncode",(()=>eJ.urlSafeEncode)),e(E$,"DateUtils",(()=>eJ.DateUtils)),e(E$,"INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER",(()=>PJ)),e(E$,"INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER",(()=>jJ)),e(E$,"USER_AGENT_HEADER",(()=>RJ));var C$={};e(C$,"Amplify",(()=>U$),(e=>U$=e));var k$={};e(k$,"ConsoleLogger",(()=>j$),(e=>j$=e));var A$,T$=["ResourceNotFoundException","InvalidSequenceTokenException"],I$=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},N$=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},O$=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(N$(arguments[t]));return e},P$={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5};!function(e){e.DEBUG="DEBUG",e.ERROR="ERROR",e.INFO="INFO",e.WARN="WARN",e.VERBOSE="VERBOSE"}(A$||(A$={}));var j$=function(){function e(e,t){void 0===t&&(t=A$.WARN),this.name=e,this.level=t,this._pluggables=[]}return e.prototype._padding=function(e){return e<10?"0"+e:""+e},e.prototype._ts=function(){var e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(":")+"."+e.getMilliseconds()},e.prototype.configure=function(e){return e?(this._config=e,this._config):this._config},e.prototype._log=function(t){for(var n,r,o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];var a=this.level;e.LOG_LEVEL&&(a=e.LOG_LEVEL),"undefined"!=typeof window&&window.LOG_LEVEL&&(a=window.LOG_LEVEL);var s=P$[a],u=P$[t];if(u>=s){var c=console.log.bind(console);t===A$.ERROR&&console.error&&(c=console.error.bind(console)),t===A$.WARN&&console.warn&&(c=console.warn.bind(console));var l="["+t+"] "+this._ts()+" "+this.name,d="";if(1===o.length&&"string"==typeof o[0])c(d=l+" - "+o[0]);else if(1===o.length)d=l+" "+o[0],c(l,o[0]);else if("string"==typeof o[0]){var f=o.slice(1);1===f.length&&(f=f[0]),d=l+" - "+o[0]+" "+f,c(l+" - "+o[0],f)}else d=l+" "+o,c(l,o);try{for(var h=I$(this._pluggables),p=h.next();!p.done;p=h.next()){var v=p.value,g={message:d,timestamp:Date.now()};v.pushLogs([g])}}catch(e){n={error:e}}finally{try{p&&!p.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}}},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,O$([A$.INFO],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,O$([A$.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,O$([A$.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,O$([A$.ERROR],e))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,O$([A$.DEBUG],e))},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,O$([A$.VERBOSE],e))},e.prototype.addPluggable=function(e){e&&"Logging"===e.getCategoryName()&&(this._pluggables.push(e),e.configure(this._config))},e.prototype.listPluggables=function(){return this._pluggables},e.LOG_LEVEL=null,e}(),R$=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},M$=new(0,k$.ConsoleLogger)("Amplify"),U$=new(function(){function e(){this._components=[],this._config={},this._modules={},this.Auth=null,this.Analytics=null,this.API=null,this.Credentials=null,this.Storage=null,this.I18n=null,this.Cache=null,this.PubSub=null,this.Interactions=null,this.Pushnotification=null,this.UI=null,this.XR=null,this.Predictions=null,this.DataStore=null,this.Geo=null,this.Logger=k$.ConsoleLogger,this.ServiceWorker=null}return e.prototype.register=function(e){M$.debug("component registered in amplify",e),this._components.push(e),"function"==typeof e.getModuleName?(this._modules[e.getModuleName()]=e,this[e.getModuleName()]=e):M$.debug("no getModuleName method for component",e),e.configure(this._config)},e.prototype.configure=function(e){var t=this;return e?(this._config=Object.assign(this._config,e),M$.debug("amplify config",this._config),Object.entries(this._modules).forEach((function(e){var n=R$(e,2),r=(n[0],n[1]);Object.keys(r).forEach((function(e){t._modules[e]&&(r[e]=t._modules[e])}))})),this._components.map((function(e){e.configure(t._config)})),this._config):this._config},e.prototype.addPluggable=function(e){e&&e.getCategory&&"function"==typeof e.getCategory&&this._components.map((function(t){t.addPluggable&&"function"==typeof t.addPluggable&&t.addPluggable(e)}))},e}()),L$={userAgent:"aws-amplify/4.5.8 js",product:"",navigator:null,isReactNative:!1};if("undefined"!=typeof navigator&&navigator.product)if(L$.product=navigator.product||"",L$.navigator=navigator||null,"ReactNative"===navigator.product)L$.userAgent="aws-amplify/4.5.8 react-native",L$.isReactNative=!0;else L$.userAgent="aws-amplify/4.5.8 js",L$.isReactNative=!1;var D$=function(){return L$.userAgent},F$={};e(F$,"Hub",(()=>G$),(e=>G$=e));var B$=function(){return B$=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},B$.apply(this,arguments)},z$=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},V$=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(z$(arguments[t]));return e},q$=new(0,k$.ConsoleLogger)("Hub"),K$="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default";var H$=function(){function e(e){this.listeners=[],this.patterns=[],this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=e}return e.prototype.remove=function(e,t){if(e instanceof RegExp){var n=this.patterns.find((function(t){return t.pattern.source===e.source}));if(!n)return void q$.warn("No listeners for "+e);this.patterns=V$(this.patterns.filter((function(e){return e!==n})))}else{var r=this.listeners[e];if(!r)return void q$.warn("No listeners for "+e);this.listeners[e]=V$(r.filter((function(e){return e.callback!==t})))}},e.prototype.dispatch=function(e,t,n,r){(void 0===n&&(n=""),this.protectedChannels.indexOf(e)>-1)&&(r===K$||q$.warn("WARNING: "+e+" is protected and dispatching on it can have unintended consequences"));var o={channel:e,payload:B$({},t),source:n,patternInfo:[]};try{this._toListeners(o)}catch(e){q$.error(e)}},e.prototype.listen=function(e,t,n){var r,o=this;if(void 0===n&&(n="noname"),function(e){return void 0!==e.onHubCapsule}(t))q$.warn("WARNING onHubCapsule is Deprecated. Please pass in a callback."),r=t.onHubCapsule.bind(t);else{if("function"!=typeof t)throw new Error("No callback supplied to Hub");r=t}if(e instanceof RegExp)this.patterns.push({pattern:e,callback:r});else{var i=this.listeners[e];i||(i=[],this.listeners[e]=i),i.push({name:n,callback:r})}return function(){o.remove(e,r)}},e.prototype._toListeners=function(e){var t=e.channel,n=e.payload,r=this.listeners[t];if(r&&r.forEach((function(r){q$.debug("Dispatching to "+t+" with ",n);try{r.callback(e)}catch(e){q$.error(e)}})),this.patterns.length>0){if(!n.message)return void q$.warn("Cannot perform pattern matching without a message key");var o=n.message;this.patterns.forEach((function(t){var n=o.match(t.pattern);if(n){var r=z$(n).slice(1),i=B$(B$({},e),{patternInfo:r});try{t.callback(i)}catch(e){q$.error(e)}}}))}},e}(),G$=new H$("__default__"),W$=new(0,k$.ConsoleLogger)("I18n"),$$=function(){function e(e){this._options=null,this._lang=null,this._dict={},this._options=Object.assign({},e),this._lang=this._options.language,!this._lang&&"undefined"!=typeof window&&window&&window.navigator&&(this._lang=window.navigator.language),W$.debug(this._lang)}return e.prototype.setLanguage=function(e){this._lang=e},e.prototype.get=function(e,t){if(void 0===t&&(t=void 0),!this._lang)return void 0!==t?t:e;var n=this._lang,r=this.getByLanguage(e,n);return r||(n.indexOf("-")>0&&(r=this.getByLanguage(e,n.split("-")[0])),r||(void 0!==t?t:e))},e.prototype.getByLanguage=function(e,t,n){if(void 0===n&&(n=null),!t)return n;var r=this._dict[t];return r?r[e]:n},e.prototype.putVocabulariesForLanguage=function(e,t){var n=this._dict[e];n||(n=this._dict[e]={}),Object.assign(n,t)},e.prototype.putVocabularies=function(e){var t=this;Object.keys(e).map((function(n){t.putVocabulariesForLanguage(n,e[n])}))},e}(),Y$=new(0,k$.ConsoleLogger)("I18n"),J$=null,Q$=null,Z$=function(){function e(){}return e.configure=function(t){return Y$.debug("configure I18n"),t?(J$=Object.assign({},J$,t.I18n||t),e.createInstance(),J$):J$},e.getModuleName=function(){return"I18n"},e.createInstance=function(){Y$.debug("create I18n instance"),Q$||(Q$=new $$(J$))},e.setLanguage=function(t){return e.checkConfig(),Q$.setLanguage(t)},e.get=function(t,n){return e.checkConfig()?Q$.get(t,n):void 0===n?t:n},e.putVocabulariesForLanguage=function(t,n){return e.checkConfig(),Q$.putVocabulariesForLanguage(t,n)},e.putVocabularies=function(t){return e.checkConfig(),Q$.putVocabularies(t)},e.checkConfig=function(){return Q$||(Q$=new $$(J$)),!0},e}();C$.Amplify.register(Z$);ae=s("9Mq5w");var X$=[{type:"text/plain",ext:"txt"},{type:"text/html",ext:"html"},{type:"text/javascript",ext:"js"},{type:"text/css",ext:"css"},{type:"text/csv",ext:"csv"},{type:"text/yaml",ext:"yml"},{type:"text/yaml",ext:"yaml"},{type:"text/calendar",ext:"ics"},{type:"text/calendar",ext:"ical"},{type:"image/apng",ext:"apng"},{type:"image/bmp",ext:"bmp"},{type:"image/gif",ext:"gif"},{type:"image/x-icon",ext:"ico"},{type:"image/x-icon",ext:"cur"},{type:"image/jpeg",ext:"jpg"},{type:"image/jpeg",ext:"jpeg"},{type:"image/jpeg",ext:"jfif"},{type:"image/jpeg",ext:"pjp"},{type:"image/jpeg",ext:"pjpeg"},{type:"image/png",ext:"png"},{type:"image/svg+xml",ext:"svg"},{type:"image/tiff",ext:"tif"},{type:"image/tiff",ext:"tiff"},{type:"image/webp",ext:"webp"},{type:"application/json",ext:"json"},{type:"application/xml",ext:"xml"},{type:"application/x-sh",ext:"sh"},{type:"application/zip",ext:"zip"},{type:"application/x-rar-compressed",ext:"rar"},{type:"application/x-tar",ext:"tar"},{type:"application/x-bzip",ext:"bz"},{type:"application/x-bzip2",ext:"bz2"},{type:"application/pdf",ext:"pdf"},{type:"application/java-archive",ext:"jar"},{type:"application/msword",ext:"doc"},{type:"application/vnd.ms-excel",ext:"xls"},{type:"application/vnd.ms-excel",ext:"xlsx"},{type:"message/rfc822",ext:"eml"}],eY=function(e){return void 0===e&&(e={}),0===Object.keys(e).length},tY=function(e,t,n){if(!e||!e.sort)return!1;var r=n&&"desc"===n?-1:1;return e.sort((function(e,n){var o=e[t],i=n[t];return void 0===i?void 0===o?0:1*r:void 0===o||o<i?-1*r:o>i?1*r:0})),!0},nY=function(e,t){var n=Object.assign({},e);return t&&("string"==typeof t?delete n[t]:t.forEach((function(e){delete n[e]}))),n},rY=function(e,t){void 0===t&&(t="application/octet-stream");var n=e.toLowerCase(),r=X$.filter((function(e){return n.endsWith("."+e.ext)}));return r.length>0?r[0].type:t},oY=function(e){var t=e.toLowerCase();return!!t.startsWith("text/")||("application/json"===t||"application/xml"===t||"application/sh"===t)},iY=function(){for(var e="",t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=32;n>0;n-=1)e+=t[Math.floor(Math.random()*t.length)];return e},aY=function(e){if(e.isResolved)return e;var t=!0,n=!1,r=!1,o=e.then((function(e){return r=!0,t=!1,e}),(function(e){throw n=!0,t=!1,e}));return o.isFullfilled=function(){return r},o.isPending=function(){return t},o.isRejected=function(){return n},o},sY=function(){if("undefined"==typeof self)return!1;var e=self;return void 0!==e.WorkerGlobalScope&&self instanceof e.WorkerGlobalScope},uY=function(){return{isBrowser:"undefined"!=typeof window&&void 0!==window.document,isNode:void 0!==ae&&null!=ae.versions&&null!=ae.versions.node}},cY=function(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=[]),!dY(e))return e;var r={};for(var o in e)if(e.hasOwnProperty(o)){r[t.includes(o)?o:o[0].toLowerCase()+o.slice(1)]=n.includes(o)?e[o]:cY(e[o],t,n)}return r},lY=function(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=[]),!dY(e))return e;var r={};for(var o in e)if(e.hasOwnProperty(o)){r[t.includes(o)?o:o[0].toUpperCase()+o.slice(1)]=n.includes(o)?e[o]:lY(e[o],t,n)}return r},dY=function(e){return!(!(e instanceof Object)||e instanceof Array||e instanceof Function||e instanceof Number||e instanceof String||e instanceof Boolean)},fY=function(){function e(){}return e.isEmpty=eY,e.sortByField=tY,e.objectLessAttributes=nY,e.filenameToContentType=rY,e.isTextFile=oY,e.generateRandomString=iY,e.makeQuerablePromise=aY,e.isWebWorker=sY,e.browserOrNode=uY,e.transferKeyToLowerCase=cY,e.transferKeyToUpperCase=lY,e.isStrictObject=dY,e}(),hY={};e(hY,"Signer",(()=>$Y),(e=>$Y=e));var pY={};e(pY,"Mutex",(()=>AY)),e(pY,"Reachability",(()=>TY.default)),e(pY,"urlSafeDecode",(()=>MY)),e(pY,"urlSafeEncode",(()=>RY));var vY={};e(vY,"NonRetryableError",(()=>xY),(e=>xY=e)),e(vY,"retry",(()=>_Y),(e=>_Y=e)),e(vY,"jitteredBackoff",(()=>EY),(e=>EY=e)),e(vY,"jitteredExponentialRetry",(()=>CY),(e=>CY=e));var gY=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mY=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},yY=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},bY=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},wY=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(bY(arguments[t]));return e},SY=new(0,k$.ConsoleLogger)("Util"),xY=function(e){function t(t){var n=e.call(this,t)||this;return n.nonRetryable=!0,n}return gY(t,e),t}(Error);function _Y(e,t,n,r){return void 0===r&&(r=1),mY(this,void 0,void 0,(function(){var o,i;return yY(this,(function(a){switch(a.label){case 0:if("function"!=typeof e)throw Error("functionToRetry must be a function");SY.debug(e.name+" attempt #"+r+" with this vars: "+JSON.stringify(t)),a.label=1;case 1:return a.trys.push([1,3,,8]),[4,e.apply(void 0,wY(t))];case 2:return[2,a.sent()];case 3:if(o=a.sent(),SY.debug("error on "+e.name,o),(s=o)&&s.nonRetryable)throw SY.debug(e.name+" non retryable error",o),o;return i=n(r,t,o),SY.debug(e.name+" retrying in "+i+" ms"),!1===i?[3,6]:[4,new Promise((function(e){return setTimeout(e,i)}))];case 4:return a.sent(),[4,_Y(e,t,n,r+1)];case 5:return[2,a.sent()];case 6:throw o;case 7:return[3,8];case 8:return[2]}var s}))}))}function EY(e){void 0===e&&(e=3e5);return function(t){var n=100*Math.pow(2,t)+100*Math.random();return!(n>e)&&n}}var CY=function(e,t,n){return void 0===n&&(n=3e5),_Y(e,t,EY(n))},kY=function(){function e(){this._queue=[],this._pending=!1}return e.prototype.isLocked=function(){return this._pending},e.prototype.acquire=function(){var e=this,t=new Promise((function(t){return e._queue.push(t)}));return this._pending||this._dispatchNext(),t},e.prototype.runExclusive=function(e){return this.acquire().then((function(t){var n;try{n=e()}catch(e){throw t(),e}return Promise.resolve(n).then((function(e){return t(),e}),(function(e){throw t(),e}))}))},e.prototype._dispatchNext=function(){this._queue.length>0?(this._pending=!0,this._queue.shift()(this._dispatchNext.bind(this))):this._pending=!1},e}(),AY=kY,TY={};
/*!
 * The MIT License (MIT)
 *
 * Copyright (c) 2016 Christian Speckner <cnspeckn@googlemail.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */e(TY,"default",(()=>NY),(e=>NY=e));var IY=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},NY=function(){function e(){}return e.prototype.networkMonitor=function(t){if(uY().isNode)return gk.from([{online:!0}]);var n=sY()?self:window;return new gk((function(t){t.next({online:n.navigator.onLine});var r=function(){return t.next({online:!0})},o=function(){return t.next({online:!1})};return n.addEventListener("online",r),n.addEventListener("offline",o),e._observers.push(t),function(){n.removeEventListener("online",r),n.removeEventListener("offline",o),e._observers=e._observers.filter((function(e){return e!==t}))}}))},e._observerOverride=function(t){var n,r,o=function(n){if(n.closed)return e._observers=e._observers.filter((function(e){return e!==n})),"continue";n.next(t)};try{for(var i=IY(e._observers),a=i.next();!a.done;a=i.next()){o(a.value)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e._observers=[],e}(),OY={};e(OY,"DateUtils",(()=>jY),(e=>jY=e));var PY=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},jY={clockOffset:0,getDateWithClockOffset:function(){return jY.clockOffset?new Date((new Date).getTime()+jY.clockOffset):new Date},getClockOffset:function(){return jY.clockOffset},getHeaderStringFromDate:function(e){return void 0===e&&(e=jY.getDateWithClockOffset()),e.toISOString().replace(/[:\-]|\.\d{3}/g,"")},getDateFromHeaderString:function(e){var t=PY(e.match(/^(\d{4})(\d{2})(\d{2})T(\d{2})(\d{2})(\d{2}).+/),7),n=t[1],r=t[2],o=t[3],i=t[4],a=t[5],s=t[6];return new Date(Date.UTC(Number(n),Number(r)-1,Number(o),Number(i),Number(a),Number(s)))},isClockSkewed:function(e){return Math.abs(e.getTime()-jY.getDateWithClockOffset().getTime())>=3e5},isClockSkewError:function(e){if(!e.response||!e.response.headers)return!1;var t=e.response.headers;return Boolean(["BadRequestException","InvalidSignatureException"].includes(t["x-amzn-errortype"])&&(t.date||t.Date))},setClockOffset:function(e){jY.clockOffset=e}};function RY(e){return e.split("").map((function(e){return e.charCodeAt(0).toString(16).padStart(2,"0")})).join("")}function MY(e){return e.match(/.{2}/g).map((function(e){return String.fromCharCode(parseInt(e,16))})).join("")}o(pY,vY),o(pY,OY);var UY=function(){return UY=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},UY.apply(this,arguments)},LY=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},DY=new(0,k$.ConsoleLogger)("Signer"),FY=function(e,t){var n=new(0,xe.Sha256)(e);return n.update(t),n.digestSync()},BY=function(e){var t=e||"",n=new(0,xe.Sha256);return n.update(t),Ne(n.digestSync())},zY=function(e){return Object.keys(e).map((function(e){return e.toLowerCase()})).sort().join(";")},VY=function(e){var t,n,r=_e(e.url);return[e.method||"/",encodeURIComponent(r.pathname).replace(/%2F/gi,"/"),(n=r.query,n&&0!==n.length?n.split("&").map((function(e){var t=e.split("=");if(1===t.length)return e;var n=t[1].replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}));return t[0]+"="+n})).sort((function(e,t){var n=e.split("=")[0],r=t.split("=")[0];return n===r?e<t?-1:1:n<r?-1:1})).join("&"):""),(t=e.headers,t&&0!==Object.keys(t).length?Object.keys(t).map((function(e){return{key:e.toLowerCase(),value:t[e]?t[e].trim().replace(/\s+/g," "):""}})).sort((function(e,t){return e.key<t.key?-1:1})).map((function(e){return e.key+":"+e.value})).join("\n")+"\n":""),zY(e.headers),BY(e.data)].join("\n")},qY=function(e){var t=(_e(e.url).host.match(/([^\.]+)\.(?:([^\.]*)\.)?amazonaws\.com$/)||[]).slice(1,3);return"es"===t[1]&&(t=t.reverse()),{service:e.service||t[0],region:e.region||t[1]}},KY=function(e,t,n){return[e,t,n,"aws4_request"].join("/")},HY=function(e,t,n,r){return[e,n,r,BY(t)].join("\n")},GY=function(e,t,n){DY.debug(n);var r=FY("AWS4"+e,t),o=FY(r,n.region),i=FY(o,n.service);return FY(i,"aws4_request")},WY=function(e,t){return Ne(FY(e,t))},$Y=function(){function e(){}return e.sign=function(e,t,n){void 0===n&&(n=null),e.headers=e.headers||{};var r=OY.DateUtils.getDateWithClockOffset().toISOString().replace(/[:\-]|\.\d{3}/g,""),o=r.substr(0,8),i=_e(e.url);e.headers.host=i.host,e.headers["x-amz-date"]=r,t.session_token&&(e.headers["X-Amz-Security-Token"]=t.session_token);var a=VY(e);DY.debug(a);var s=n||qY(e),u=KY(o,s.region,s.service),c=HY("AWS4-HMAC-SHA256",a,r,u),l=GY(t.secret_key,o,s),d=WY(l,c),f=function(e,t,n,r,o){return[e+" Credential="+t+"/"+n,"SignedHeaders="+r,"Signature="+o].join(", ")}("AWS4-HMAC-SHA256",t.access_key,u,zY(e.headers),d);return e.headers.Authorization=f,e},e.signUrl=function(e,t,n,r){var o="object"==typeof e?e.url:e,i="object"==typeof e?e.method:"GET",a="object"==typeof e?e.body:void 0,s=OY.DateUtils.getDateWithClockOffset().toISOString().replace(/[:\-]|\.\d{3}/g,""),u=s.substr(0,8),c=_e(o,!0,!0),l=(c.search,LY(c,["search"])),d={host:l.host},f=n||qY({url:Ee(l)}),h=f.region,p=f.service,v=KY(u,h,p),g=t.session_token&&"iotdevicegateway"!==p,m=UY(UY(UY({"X-Amz-Algorithm":"AWS4-HMAC-SHA256","X-Amz-Credential":[t.access_key,v].join("/"),"X-Amz-Date":s.substr(0,16)},g?{"X-Amz-Security-Token":""+t.session_token}:{}),r?{"X-Amz-Expires":""+r}:{}),{"X-Amz-SignedHeaders":Object.keys(d).join(",")}),y=VY({method:i,url:Ee(UY(UY({},l),{query:UY(UY({},l.query),m)})),headers:d,data:a}),b=HY("AWS4-HMAC-SHA256",y,s,v),w=GY(t.secret_key,u,{region:h,service:p}),S=WY(w,b),x=UY({"X-Amz-Signature":S},t.session_token&&{"X-Amz-Security-Token":t.session_token});return Ee({protocol:l.protocol,slashes:!0,hostname:l.hostname,port:l.port,pathname:l.pathname,query:UY(UY(UY({},l.query),m),x)})},e}(),YY={};e(YY,"parseMobileHubConfig",(()=>ZY),(e=>ZY=e)),e(YY,"Parser",(()=>XY),(e=>XY=e));var JY=function(){return JY=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},JY.apply(this,arguments)},QY=new(0,k$.ConsoleLogger)("Parser"),ZY=function(e){var t,n={};if(e.aws_mobile_analytics_app_id){var r={AWSPinpoint:{appId:e.aws_mobile_analytics_app_id,region:e.aws_mobile_analytics_app_region}};n.Analytics=r}return(e.aws_cognito_identity_pool_id||e.aws_user_pools_id)&&(n.Auth={userPoolId:e.aws_user_pools_id,userPoolWebClientId:e.aws_user_pools_web_client_id,region:e.aws_cognito_region,identityPoolId:e.aws_cognito_identity_pool_id,identityPoolRegion:e.aws_cognito_region,mandatorySignIn:"enable"===e.aws_mandatory_sign_in}),t=e.aws_user_files_s3_bucket?{AWSS3:{bucket:e.aws_user_files_s3_bucket,region:e.aws_user_files_s3_bucket_region,dangerouslyConnectToHttpEndpointForTesting:e.aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing}}:e?e.Storage||e:{},e.Logging&&(n.Logging=JY(JY({},e.Logging),{region:e.aws_project_region})),e.geo&&(n.Geo=Object.assign({},e.geo),e.geo.amazon_location_service&&(n.Geo={AmazonLocationService:e.geo.amazon_location_service})),n.Analytics=Object.assign({},n.Analytics,e.Analytics),n.Auth=Object.assign({},n.Auth,e.Auth),n.Storage=Object.assign({},t),n.Logging=Object.assign({},n.Logging,e.Logging),QY.debug("parse config",e,"to amplifyconfig",n),n},XY=function(){function e(){}return e.parseMobilehubConfig=ZY,e}(),eJ={},tJ=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},nJ=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},rJ=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},oJ=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(rJ(arguments[t]));return e},iJ=new(0,k$.ConsoleLogger)("AWSCloudWatch"),aJ=(function(){function e(e){this.configure(e),this._dataTracker={eventUploadInProgress:!1,logEvents:[]},this._currentLogBatch=[],this._initiateLogPushInterval()}e.prototype.getProviderName=function(){return e.PROVIDER_NAME},e.prototype.getCategoryName=function(){return e.CATEGORY},e.prototype.getLogQueue=function(){return this._dataTracker.logEvents},e.prototype.configure=function(e){if(!e)return this._config||{};var t=Object.assign({},this._config,(0,YY.parseMobileHubConfig)(e).Logging,e);return this._config=t,this._config},e.prototype.createLogGroup=function(e){return tJ(this,void 0,void 0,(function(){var t,n;return nJ(this,(function(r){switch(r.label){case 0:iJ.debug("creating new log group in CloudWatch - ",e.logGroupName),t=new vu(e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this._ensureCredentials()];case 2:if(!r.sent())throw new Error("No credentials");return[4,this._initCloudWatchLogs().send(t)];case 3:return[2,r.sent()];case 4:throw n=r.sent(),iJ.error("error creating log group - "+n),n;case 5:return[2]}}))}))},e.prototype.getLogGroups=function(e){return tJ(this,void 0,void 0,(function(){var t,n;return nJ(this,(function(r){switch(r.label){case 0:iJ.debug("getting list of log groups"),t=new mu(e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this._ensureCredentials()];case 2:if(!r.sent())throw new Error("No credentials");return[4,this._initCloudWatchLogs().send(t)];case 3:return[2,r.sent()];case 4:throw n=r.sent(),iJ.error("error getting log group - "+n),n;case 5:return[2]}}))}))},e.prototype.createLogStream=function(e){return tJ(this,void 0,void 0,(function(){var t,n;return nJ(this,(function(r){switch(r.label){case 0:iJ.debug("creating new log stream in CloudWatch - ",e.logStreamName),t=new gu(e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this._ensureCredentials()];case 2:if(!r.sent())throw new Error("No credentials");return[4,this._initCloudWatchLogs().send(t)];case 3:return[2,r.sent()];case 4:throw n=r.sent(),iJ.error("error creating log stream - "+n),n;case 5:return[2]}}))}))},e.prototype.getLogStreams=function(e){return tJ(this,void 0,void 0,(function(){var t,n;return nJ(this,(function(r){switch(r.label){case 0:iJ.debug("getting list of log streams"),t=new yu(e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this._ensureCredentials()];case 2:if(!r.sent())throw new Error("No credentials");return[4,this._initCloudWatchLogs().send(t)];case 3:return[2,r.sent()];case 4:throw n=r.sent(),iJ.error("error getting log stream - "+n),n;case 5:return[2]}}))}))},e.prototype.getLogEvents=function(e){return tJ(this,void 0,void 0,(function(){var t,n;return nJ(this,(function(r){switch(r.label){case 0:iJ.debug("getting log events from stream - ",e.logStreamName),t=new bu(e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this._ensureCredentials()];case 2:if(!r.sent())throw new Error("No credentials");return[4,this._initCloudWatchLogs().send(t)];case 3:return[2,r.sent()];case 4:throw n=r.sent(),iJ.error("error getting log events - "+n),n;case 5:return[2]}}))}))},e.prototype.pushLogs=function(e){iJ.debug("pushing log events to Cloudwatch..."),this._dataTracker.logEvents=oJ(this._dataTracker.logEvents,e)},e.prototype._validateLogGroupExistsAndCreate=function(e){return tJ(this,void 0,void 0,(function(){var t,n,r,o;return nJ(this,(function(i){switch(i.label){case 0:if(this._dataTracker.verifiedLogGroup)return[2,this._dataTracker.verifiedLogGroup];i.label=1;case 1:return i.trys.push([1,5,,6]),[4,this._ensureCredentials()];case 2:if(!i.sent())throw new Error("No credentials");return[4,this.getLogGroups({logGroupNamePrefix:e})];case 3:return"string"!=typeof(t=i.sent())&&t.logGroups&&(n=t.logGroups.filter((function(t){return t.logGroupName===e}))).length>0?(this._dataTracker.verifiedLogGroup=n[0],[2,n[0]]):[4,this.createLogGroup({logGroupName:e})];case 4:return i.sent(),[2,null];case 5:throw r=i.sent(),o="failure during log group search: "+r,iJ.error(o),r;case 6:return[2]}}))}))},e.prototype._validateLogStreamExists=function(e,t){return tJ(this,void 0,void 0,(function(){var n,r,o,i;return nJ(this,(function(a){switch(a.label){case 0:return a.trys.push([0,4,,5]),[4,this._ensureCredentials()];case 1:if(!a.sent())throw new Error("No credentials");return[4,this.getLogStreams({logGroupName:e,logStreamNamePrefix:t})];case 2:return(n=a.sent()).logStreams&&(r=n.logStreams.filter((function(e){return e.logStreamName===t}))).length>0?(this._nextSequenceToken=r[0].uploadSequenceToken,[2,r[0]]):[4,this.createLogStream({logGroupName:e,logStreamName:t})];case 3:return a.sent(),[2,null];case 4:throw o=a.sent(),i="failure during log stream search: "+o,iJ.error(i),o;case 5:return[2]}}))}))},e.prototype._sendLogEvents=function(e){return tJ(this,void 0,void 0,(function(){var t,n,r;return nJ(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,this._ensureCredentials()];case 1:if(!o.sent())throw new Error("No credentials");return iJ.debug("sending log events to stream - ",e.logStreamName),t=new wu(e),[4,this._initCloudWatchLogs().send(t)];case 2:return[2,o.sent()];case 3:return n=o.sent(),r="failure during log push: "+n,iJ.error(r),[3,4];case 4:return[2]}}))}))},e.prototype._initCloudWatchLogs=function(){return new rs({region:this._config.region,credentials:this._config.credentials,customUserAgent:D$(),endpoint:this._config.endpoint})},e.prototype._ensureCredentials=function(){return tJ(this,void 0,void 0,(function(){var e=this;return nJ(this,(function(t){switch(t.label){case 0:return[4,aJ.Credentials.get().then((function(t){if(!t)return!1;var n=aJ.Credentials.shear(t);return iJ.debug("set credentials for logging",n),e._config.credentials=n,!0})).catch((function(e){return iJ.warn("ensure credentials error",e),!1}))];case 1:return[2,t.sent()]}}))}))},e.prototype._getNextSequenceToken=function(){return tJ(this,void 0,void 0,(function(){var e,t;return nJ(this,(function(n){switch(n.label){case 0:if(this._nextSequenceToken&&this._nextSequenceToken.length>0)return[2,this._nextSequenceToken];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,this._validateLogGroupExistsAndCreate(this._config.logGroupName)];case 2:return n.sent(),this._nextSequenceToken=void 0,[4,this._validateLogStreamExists(this._config.logGroupName,this._config.logStreamName)];case 3:return(e=n.sent())&&(this._nextSequenceToken=e.uploadSequenceToken),[2,this._nextSequenceToken];case 4:throw t=n.sent(),iJ.error("failure while getting next sequence token: "+t),t;case 5:return[2]}}))}))},e.prototype._safeUploadLogEvents=function(){return tJ(this,void 0,void 0,(function(){var e,t,n,r,o;return nJ(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,this._getNextSequenceToken()];case 1:return e=i.sent(),t=0===this._currentLogBatch.length?this._getBufferedBatchOfLogs():this._currentLogBatch,n={logGroupName:this._config.logGroupName,logStreamName:this._config.logStreamName,logEvents:t,sequenceToken:e},this._dataTracker.eventUploadInProgress=!0,[4,this._sendLogEvents(n)];case 2:return r=i.sent(),this._nextSequenceToken=r.nextSequenceToken,this._dataTracker.eventUploadInProgress=!1,this._currentLogBatch=[],[2,r];case 3:if(o=i.sent(),iJ.error("error during _safeUploadLogEvents: "+o),!T$.includes(o.name))throw this._dataTracker.eventUploadInProgress=!1,o;return this._getNewSequenceTokenAndSubmit({logEvents:this._currentLogBatch,logGroupName:this._config.logGroupName,logStreamName:this._config.logStreamName}),[3,4];case 4:return[2]}}))}))},e.prototype._getBufferedBatchOfLogs=function(){for(var e=0,t=0;e<this._dataTracker.logEvents.length;){var n=this._dataTracker.logEvents[e],r=n?(new TextEncoder).encode(n.message).length+26:0;if(r>256e3){var o="Log entry exceeds maximum size for CloudWatch logs. Log size: "+r+". Truncating log message.";iJ.warn(o),n.message=n.message.substring(0,r)}if(t+r>1048576)break;t+=r,e++}return this._currentLogBatch=this._dataTracker.logEvents.splice(0,e),this._currentLogBatch},e.prototype._getNewSequenceTokenAndSubmit=function(e){return tJ(this,void 0,void 0,(function(){var t,n,r;return nJ(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),this._nextSequenceToken=void 0,this._dataTracker.eventUploadInProgress=!0,[4,this._getNextSequenceToken()];case 1:return t=o.sent(),e.sequenceToken=t,[4,this._sendLogEvents(e)];case 2:return n=o.sent(),this._dataTracker.eventUploadInProgress=!1,this._currentLogBatch=[],[2,n];case 3:throw r=o.sent(),iJ.error("error when retrying log submission with new sequence token: "+r),this._dataTracker.eventUploadInProgress=!1,r;case 4:return[2]}}))}))},e.prototype._initiateLogPushInterval=function(){var e=this;this._timer&&clearInterval(this._timer),this._timer=setInterval((function(){return tJ(e,void 0,void 0,(function(){var e;return nJ(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),this._getDocUploadPermissibility()?[4,this._safeUploadLogEvents()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[3,4];case 3:return e=t.sent(),iJ.error("error when calling _safeUploadLogEvents in the timer interval - "+e),[3,4];case 4:return[2]}}))}))}),2e3)},e.prototype._getDocUploadPermissibility=function(){return(0!==this._dataTracker.logEvents.length||0!==this._currentLogBatch.length)&&!this._dataTracker.eventUploadInProgress},e.PROVIDER_NAME="AWSCloudWatch",e.CATEGORY="Logging"}(),{});e(aJ,"Credentials",(()=>TJ),(e=>TJ=e));var sJ={},uJ=function(){function e(){}return e.setItem=function(e,t){return sJ[e]=t,sJ[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(sJ,e)?sJ[e]:void 0},e.removeItem=function(e){return delete sJ[e]},e.clear=function(){return sJ={}},e}(),cJ=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.amplify.test-ls",1),this.storageWindow.removeItem("aws.amplify.test-ls")}catch(e){this.storageWindow=uJ}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),lJ={};e(lJ,"GoogleOAuth",(()=>vJ),(e=>vJ=e));var dJ=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},fJ=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},hJ=new(0,k$.ConsoleLogger)("CognitoCredentials"),pJ=new Promise((function(e,t){return uY().isBrowser?(window.gapi&&window.gapi.auth2?window.gapi.auth2:null)?(hJ.debug("google api already loaded"),e()):void setTimeout((function(){return e()}),2e3):(hJ.debug("not in the browser, directly resolved"),e())})),vJ=function(){function e(){this.initialized=!1,this.refreshGoogleToken=this.refreshGoogleToken.bind(this),this._refreshGoogleTokenImpl=this._refreshGoogleTokenImpl.bind(this)}return e.prototype.refreshGoogleToken=function(){return dJ(this,void 0,void 0,(function(){return fJ(this,(function(e){switch(e.label){case 0:return this.initialized?[3,2]:(hJ.debug("need to wait for the Google SDK loaded"),[4,pJ]);case 1:e.sent(),this.initialized=!0,hJ.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshGoogleTokenImpl()]}}))}))},e.prototype._refreshGoogleTokenImpl=function(){var e=null;return uY().isBrowser&&(e=window.gapi&&window.gapi.auth2?window.gapi.auth2:null),e?new Promise((function(t,n){e.getAuthInstance().then((function(e){e||(hJ.debug("google Auth undefined"),n(new(0,vY.NonRetryableError)("google Auth undefined")));var r=e.currentUser.get();r.isSignedIn()?(hJ.debug("refreshing the google access token"),r.reloadAuthResponse().then((function(e){var n=e.id_token,r=e.expires_at;t({token:n,expires_at:r})})).catch((function(e){e&&"network_error"===e.error?n("Network error reloading google auth response"):n(new(0,vY.NonRetryableError)("Failed to reload google auth response"))}))):n(new(0,vY.NonRetryableError)("User is not signed in with Google"))})).catch((function(e){hJ.debug("Failed to refresh google token",e),n(new(0,vY.NonRetryableError)("Failed to refresh google token"))}))})):(hJ.debug("no gapi auth2 available"),Promise.reject("no gapi auth2 available"))},e}(),gJ={};e(gJ,"FacebookOAuth",(()=>SJ),(e=>SJ=e));var mJ=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},yJ=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},bJ=new(0,k$.ConsoleLogger)("CognitoCredentials"),wJ=new Promise((function(e,t){return uY().isBrowser?window.FB?(bJ.debug("FB SDK already loaded"),e()):void setTimeout((function(){return e()}),2e3):(bJ.debug("not in the browser, directly resolved"),e())})),SJ=function(){function e(){this.initialized=!1,this.refreshFacebookToken=this.refreshFacebookToken.bind(this),this._refreshFacebookTokenImpl=this._refreshFacebookTokenImpl.bind(this)}return e.prototype.refreshFacebookToken=function(){return mJ(this,void 0,void 0,(function(){return yJ(this,(function(e){switch(e.label){case 0:return this.initialized?[3,2]:(bJ.debug("need to wait for the Facebook SDK loaded"),[4,wJ]);case 1:e.sent(),this.initialized=!0,bJ.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshFacebookTokenImpl()]}}))}))},e.prototype._refreshFacebookTokenImpl=function(){var e=null;if(uY().isBrowser&&(e=window.FB),!e){var t="no fb sdk available";return bJ.debug(t),Promise.reject(new(0,vY.NonRetryableError)(t))}return new Promise((function(t,n){e.getLoginStatus((function(e){if(e&&e.authResponse){var r=e.authResponse,o=r.accessToken,i=1e3*r.expiresIn+(new Date).getTime();if(!o){a="the jwtToken is undefined";bJ.debug(a),n(new(0,vY.NonRetryableError)(a))}t({token:o,expires_at:i})}else{var a="no response from facebook when refreshing the jwt token";bJ.debug(a),n(new(0,vY.NonRetryableError)(a))}}),{scope:"public_profile,email"})}))},e}(),xJ=new(0,lJ.GoogleOAuth),_J=new(0,gJ.FacebookOAuth),EJ=function(){return EJ=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},EJ.apply(this,arguments)},CJ=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},kJ=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},AJ=new(0,k$.ConsoleLogger)("Credentials"),TJ=new(function(){function e(e){this._gettingCredPromise=null,this._refreshHandlers={},this.Auth=void 0,this.configure(e),this._refreshHandlers.google=xJ.refreshGoogleToken,this._refreshHandlers.facebook=_J.refreshFacebookToken}return e.prototype.getModuleName=function(){return"Credentials"},e.prototype.getCredSource=function(){return this._credentials_source},e.prototype.configure=function(e){if(!e)return this._config||{};this._config=Object.assign({},this._config,e);var t=this._config.refreshHandlers;return t&&(this._refreshHandlers=EJ(EJ({},this._refreshHandlers),t)),this._storage=this._config.storage,this._storage||(this._storage=(new cJ).getStorage()),this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),this._config},e.prototype.get=function(){return AJ.debug("getting credentials"),this._pickupCredentials()},e.prototype._getCognitoIdentityIdStorageKey=function(e){return"CognitoIdentityId-"+e},e.prototype._pickupCredentials=function(){return AJ.debug("picking up credentials"),this._gettingCredPromise&&this._gettingCredPromise.isPending()?AJ.debug("getting old cred promise"):(AJ.debug("getting new cred promise"),this._gettingCredPromise=aY(this._keepAlive())),this._gettingCredPromise},e.prototype._keepAlive=function(){return CJ(this,void 0,void 0,(function(){var e,t,n,r,o,i,a;return kJ(this,(function(s){switch(s.label){case 0:if(AJ.debug("checking if credentials exists and not expired"),(e=this._credentials)&&!this._isExpired(e)&&!this._isPastTTL())return AJ.debug("credentials not changed and not expired, directly return"),[2,Promise.resolve(e)];if(AJ.debug("need to get a new credential or refresh the existing one"),t=this.Auth,!(n=void 0===t?C$.Amplify.Auth:t)||"function"!=typeof n.currentUserCredentials)return[2,Promise.reject("No Auth module registered in Amplify")];if(this._isExpired(e)||!this._isPastTTL())return[3,6];AJ.debug("ttl has passed but token is not yet expired"),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,n.currentUserPoolUser()];case 2:return r=s.sent(),[4,n.currentSession()];case 3:return o=s.sent(),i=o.refreshToken,[4,new Promise((function(e,t){r.refreshSession(i,(function(n,r){return n?t(n):e(r)}))}))];case 4:return s.sent(),[3,6];case 5:return a=s.sent(),AJ.debug("Error attempting to refreshing the session",a),[3,6];case 6:return[2,n.currentUserCredentials()]}}))}))},e.prototype.refreshFederatedToken=function(e){AJ.debug("Getting federated credentials");var t=e.provider,n=e.user,r=e.token,o=e.identity_id,i=e.expires_at;i=1970===new Date(i).getFullYear()?1e3*i:i;var a=this;return AJ.debug("checking if federated jwt token expired"),i>(new Date).getTime()?(AJ.debug("token not expired"),this._setCredentialsFromFederation({provider:t,token:r,user:n,identity_id:o,expires_at:i})):a._refreshHandlers[t]&&"function"==typeof a._refreshHandlers[t]?(AJ.debug("getting refreshed jwt token from federation provider"),this._providerRefreshWithRetry({refreshHandler:a._refreshHandlers[t],provider:t,user:n})):(AJ.debug("no refresh handler for provider:",t),this.clear(),Promise.reject("no refresh handler for provider"))},e.prototype._providerRefreshWithRetry=function(e){var t=this,n=e.refreshHandler,r=e.provider,o=e.user;return(0,vY.jitteredExponentialRetry)(n,[],1e4).then((function(e){return AJ.debug("refresh federated token sucessfully",e),t._setCredentialsFromFederation({provider:r,token:e.token,user:o,identity_id:e.identity_id,expires_at:e.expires_at})})).catch((function(e){return"string"==typeof e&&0===e.toLowerCase().lastIndexOf("network error",e.length)||t.clear(),AJ.debug("refresh federated token failed",e),Promise.reject("refreshing federation token failed: "+e)}))},e.prototype._isExpired=function(e){if(!e)return AJ.debug("no credentials for expiration check"),!0;AJ.debug("are these credentials expired?",e);var t=Date.now();return e.expiration.getTime()<=t},e.prototype._isPastTTL=function(){return this._nextCredentialsRefresh<=Date.now()},e.prototype._setCredentialsForGuest=function(){return CJ(this,void 0,void 0,(function(){var e,t,n,r,o,i,a,s=this;return kJ(this,(function(u){switch(u.label){case 0:return AJ.debug("setting credentials for guest"),e=this._config,t=e.identityPoolId,n=e.region,e.mandatorySignIn?[2,Promise.reject("cannot get guest credentials when mandatory signin enabled")]:t?n?(o=this,[4,this._getGuestIdentityId()]):(AJ.debug("region is not configured for getting the credentials"),[2,Promise.reject("region is not configured for getting the credentials")]):(AJ.debug("No Cognito Identity pool provided for unauthenticated access"),[2,Promise.reject("No Cognito Identity pool provided for unauthenticated access")]);case 1:return r=o._identityId=u.sent(),i=new fl({region:n,customUserAgent:D$()}),a=void 0,a=r?ed({identityId:r,client:i})():function(){return CJ(s,void 0,void 0,(function(){var e;return kJ(this,(function(n){switch(n.label){case 0:return[4,i.send(new Yl({IdentityPoolId:t}))];case 1:return e=n.sent().IdentityId,this._identityId=e,[2,ed({client:i,identityId:e})()]}}))}))}().catch((function(e){return CJ(s,void 0,void 0,(function(){return kJ(this,(function(t){throw e}))}))})),[2,this._loadCredentials(a,"guest",!1,null).then((function(e){return e})).catch((function(e){return CJ(s,void 0,void 0,(function(){var n=this;return kJ(this,(function(o){switch(o.label){case 0:return"ResourceNotFoundException"!==e.name||e.message!=="Identity '"+r+"' not found."?[3,2]:(AJ.debug("Failed to load guest credentials"),[4,this._removeGuestIdentityId()]);case 1:return o.sent(),a=function(){return CJ(n,void 0,void 0,(function(){var e;return kJ(this,(function(n){switch(n.label){case 0:return[4,i.send(new Yl({IdentityPoolId:t}))];case 1:return e=n.sent().IdentityId,this._identityId=e,[2,ed({client:i,identityId:e})()]}}))}))}().catch((function(e){return CJ(n,void 0,void 0,(function(){return kJ(this,(function(t){throw e}))}))})),[2,this._loadCredentials(a,"guest",!1,null)];case 2:return[2,e]}}))}))}))]}}))}))},e.prototype._setCredentialsFromFederation=function(e){var t=e.provider,n=e.token,r=e.identity_id,o={google:"accounts.google.com",facebook:"graph.facebook.com",amazon:"www.amazon.com",developer:"cognito-identity.amazonaws.com"}[t]||t;if(!o)return Promise.reject("You must specify a federated provider");var i={};i[o]=n;var a=this._config,s=a.identityPoolId,u=a.region;if(!s)return AJ.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!u)return AJ.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var c=new fl({region:u,customUserAgent:D$()}),l=void 0;r?l=ed({identityId:r,logins:i,client:c})():l=rd({logins:i,identityPoolId:s,client:c})();return this._loadCredentials(l,"federated",!0,e)},e.prototype._setCredentialsFromSession=function(e){var t=this;AJ.debug("set credentials from session");var n=e.getIdToken().getJwtToken(),r=this._config,o=r.region,i=r.userPoolId,a=r.identityPoolId;if(!a)return AJ.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!o)return AJ.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var s={};s["cognito-idp."+o+".amazonaws.com/"+i]=n;var u=new fl({region:o,customUserAgent:D$()}),c=CJ(t,void 0,void 0,(function(){var e,t,n,r,o,i,c,l,d,f;return kJ(this,(function(h){switch(h.label){case 0:return[4,this._getGuestIdentityId()];case 1:return(e=h.sent())?[3,3]:[4,u.send(new Yl({IdentityPoolId:a,Logins:s}))];case 2:n=h.sent().IdentityId,t=n,h.label=3;case 3:return[4,u.send(new $l({IdentityId:e||t,Logins:s}))];case 4:return r=h.sent(),o=r.Credentials,i=o.AccessKeyId,c=o.Expiration,l=o.SecretKey,d=o.SessionToken,f=r.IdentityId,this._identityId=f,e?(AJ.debug("The guest identity "+e+" has been successfully linked to the logins"),e===f&&AJ.debug("The guest identity "+e+" has become the primary identity"),[4,this._removeGuestIdentityId()]):[3,6];case 5:h.sent(),h.label=6;case 6:return[2,{accessKeyId:i,secretAccessKey:l,sessionToken:d,expiration:c,identityId:f}]}}))})).catch((function(e){return CJ(t,void 0,void 0,(function(){return kJ(this,(function(t){throw e}))}))}));return this._loadCredentials(c,"userPool",!0,null)},e.prototype._loadCredentials=function(e,t,n,r){var o=this,i=this;return new Promise((function(a,s){e.then((function(e){return CJ(o,void 0,void 0,(function(){var o,s,u,c,l;return kJ(this,(function(d){switch(d.label){case 0:if(AJ.debug("Load credentials successfully",e),this._identityId&&!e.identityId&&(e.identityId=this._identityId),i._credentials=e,i._credentials.authenticated=n,i._credentials_source=t,i._nextCredentialsRefresh=(new Date).getTime()+3e6,"federated"===t){o=Object.assign({id:this._credentials.identityId},r.user),s=r.provider,u=r.token,c=r.expires_at,l=r.identity_id;try{this._storage.setItem("aws-amplify-federatedInfo",JSON.stringify({provider:s,token:u,user:o,expires_at:c,identity_id:l}))}catch(e){AJ.debug("Failed to put federated info into auth storage",e)}}return"guest"!==t?[3,2]:[4,this._setGuestIdentityId(e.identityId)];case 1:d.sent(),d.label=2;case 2:return a(i._credentials),[2]}}))}))})).catch((function(t){if(t)return AJ.debug("Failed to load credentials",e),AJ.debug("Error loading credentials",t),void s(t)}))}))},e.prototype.set=function(e,t){return"session"===t?this._setCredentialsFromSession(e):"federation"===t?this._setCredentialsFromFederation(e):"guest"===t?this._setCredentialsForGuest():(AJ.debug("no source specified for setting credentials"),Promise.reject("invalid source"))},e.prototype.clear=function(){return CJ(this,void 0,void 0,(function(){return kJ(this,(function(e){return this._credentials=null,this._credentials_source=null,AJ.debug("removing aws-amplify-federatedInfo from storage"),this._storage.removeItem("aws-amplify-federatedInfo"),[2]}))}))},e.prototype._getGuestIdentityId=function(){return CJ(this,void 0,void 0,(function(){var e,t;return kJ(this,(function(n){switch(n.label){case 0:e=this._config.identityPoolId,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this._storageSync];case 2:return n.sent(),[2,this._storage.getItem(this._getCognitoIdentityIdStorageKey(e))];case 3:return t=n.sent(),AJ.debug("Failed to get the cached guest identityId",t),[3,4];case 4:return[2]}}))}))},e.prototype._setGuestIdentityId=function(e){return CJ(this,void 0,void 0,(function(){var t,n;return kJ(this,(function(r){switch(r.label){case 0:t=this._config.identityPoolId,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._storageSync];case 2:return r.sent(),this._storage.setItem(this._getCognitoIdentityIdStorageKey(t),e),[3,4];case 3:return n=r.sent(),AJ.debug("Failed to cache guest identityId",n),[3,4];case 4:return[2]}}))}))},e.prototype._removeGuestIdentityId=function(){return CJ(this,void 0,void 0,(function(){var e;return kJ(this,(function(t){return e=this._config.identityPoolId,AJ.debug("removing "+this._getCognitoIdentityIdStorageKey(e)+" from storage"),this._storage.removeItem(this._getCognitoIdentityIdStorageKey(e)),[2]}))}))},e.prototype.shear=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e}())(null);C$.Amplify.register(TJ);var IJ=uY().isBrowser,NJ=function(){function e(e){void 0===e&&(e={}),this.cookies=new xd,this.store=IJ?window.localStorage:Object.create(null),this.cookies=e.req?new xd(e.req.headers.cookie):new xd,Object.assign(this.store,this.cookies.getAll())}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.entries(this.store).length},enumerable:!0,configurable:!0}),e.prototype.clear=function(){var e=this;Array.from(new Array(this.length)).map((function(t,n){return e.key(n)})).forEach((function(t){return e.removeItem(t)}))},e.prototype.getItem=function(e){return this.getLocalItem(e)},e.prototype.getLocalItem=function(e){return Object.prototype.hasOwnProperty.call(this.store,e)?this.store[e]:null},e.prototype.getUniversalItem=function(e){return this.cookies.get(e)},e.prototype.key=function(e){return Object.keys(this.store)[e]},e.prototype.removeItem=function(e){this.removeLocalItem(e),this.removeUniversalItem(e)},e.prototype.removeLocalItem=function(e){delete this.store[e]},e.prototype.removeUniversalItem=function(e){this.cookies.remove(e,{path:"/"})},e.prototype.setItem=function(e,t){switch(this.setLocalItem(e,t),e.split(".").pop()){case"LastAuthUser":case"accessToken":case"refreshToken":case"idToken":IJ?this.setUniversalItem(e,t):this.setLocalItem(e,t)}},e.prototype.setLocalItem=function(e,t){this.store[e]=t},e.prototype.setUniversalItem=function(e,t){this.cookies.set(e,t,{path:"/",sameSite:!0,secure:"localhost"!==window.location.hostname})},e}(),OJ="undefined"!=typeof Symbol&&"function"==typeof Symbol.for,PJ=OJ?Symbol.for("INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER"):"@@INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER",jJ=OJ?Symbol.for("INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER"):"@@INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER",RJ="x-amz-user-agent",MJ={userAgent:L$.userAgent};C$.Amplify;o(E$,YY),o(E$,pY);var UJ=function(){return[]},LJ={};e(LJ,"multiAuthStrategy",(()=>sX),(e=>sX=e));var DJ,FJ,BJ,zJ={};function VJ(e){return e&&!!["provider"].find((function(t){return e.hasOwnProperty(t)}))}function qJ(e){return e&&!!["customState"].find((function(t){return e.hasOwnProperty(t)}))}function KJ(e){return void 0!==e.redirectSignIn}e(zJ,"Auth",(()=>yQ),(e=>yQ=e)),function(e){e.Cognito="COGNITO",e.Google="Google",e.Facebook="Facebook",e.Amazon="LoginWithAmazon",e.Apple="SignInWithApple"}(DJ||(DJ={})),function(e){e.NoConfig="noConfig",e.MissingAuthConfig="missingAuthConfig",e.EmptyUsername="emptyUsername",e.InvalidUsername="invalidUsername",e.EmptyPassword="emptyPassword",e.EmptyCode="emptyCode",e.SignUpError="signUpError",e.NoMFA="noMFA",e.InvalidMFA="invalidMFA",e.EmptyChallengeResponse="emptyChallengeResponse",e.NoUserSession="noUserSession",e.Default="default",e.DeviceConfig="deviceConfig",e.NetworkError="networkError"}(FJ||(FJ={})),function(e){e.API_KEY="API_KEY",e.AWS_IAM="AWS_IAM",e.OPENID_CONNECT="OPENID_CONNECT",e.AMAZON_COGNITO_USER_POOLS="AMAZON_COGNITO_USER_POOLS",e.AWS_LAMBDA="AWS_LAMBDA"}(BJ||(BJ={}));var HJ={};e(HJ,"default",(()=>nQ),(e=>nQ=e));var GJ,WJ=function(e){var t=window.open(e,"_self");return t?Promise.resolve(t):Promise.reject()},$J=(Kd=s("e5at0"),mf=s("fU9hS"),function(){return $J=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},$J.apply(this,arguments)}),YJ=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},JJ=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},QJ=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},ZJ="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",XJ=function(e,t,n){F$.Hub.dispatch("auth",{event:e,data:t,message:n},"Auth",ZJ)},eQ=new(0,k$.ConsoleLogger)("OAuth"),tQ=function(){function e(e){var t=e.config,n=e.cognitoClientId,r=e.scopes,o=void 0===r?[]:r;if(this._urlOpener=t.urlOpener||WJ,this._config=t,this._cognitoClientId=n,!this.isValidScopes(o))throw Error("scopes must be a String Array");this._scopes=o}return e.prototype.isValidScopes=function(e){return Array.isArray(e)&&e.every((function(e){return"string"==typeof e}))},e.prototype.oauthSignIn=function(e,t,n,r,o,i){void 0===e&&(e="code"),void 0===o&&(o=DJ.Cognito);var a=this._generateState(32),s=i?a+"-"+RY(i):a;!function(e){window.sessionStorage.setItem("oauth_state",e)}(s);var u,c=this._generateRandom(128);u=c,window.sessionStorage.setItem("ouath_pkce_key",u);var l=this._generateChallenge(c),d=this._scopes.join(" "),f="https://"+t+"/oauth2/authorize?"+Object.entries($J($J({redirect_uri:n,response_type:e,client_id:r,identity_provider:o,scope:d,state:s},"code"===e?{code_challenge:l}:{}),"code"===e?{code_challenge_method:"S256"}:{})).map((function(e){var t=QJ(e,2),n=t[0],r=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(r)})).join("&");eQ.debug("Redirecting to "+f),this._urlOpener(f,n)},e.prototype._handleCodeFlow=function(e){return YJ(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,u,c,l,d,f,h,p;return JJ(this,(function(v){switch(v.label){case 0:return t=(_e(e).query||"").split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n,r=QJ(t,2),o=r[0],i=r[1];return $J($J({},e),((n={})[o]=i,n))}),{code:void 0}).code,n=_e(e).pathname||"/",r=_e(this._config.redirectSignIn).pathname||"/",t&&n===r?(o="https://"+this._config.domain+"/oauth2/token",XJ("codeFlow",{},"Retrieving tokens from "+o),i=KJ(this._config)?this._cognitoClientId:this._config.clientID,a=KJ(this._config)?this._config.redirectSignIn:this._config.redirectUri,g=window.sessionStorage.getItem("ouath_pkce_key"),window.sessionStorage.removeItem("ouath_pkce_key"),u=$J({grant_type:"authorization_code",code:t,client_id:i,redirect_uri:a},(s=g)?{code_verifier:s}:{}),eQ.debug("Calling token endpoint: "+o+" with",u),c=Object.entries(u).map((function(e){var t=QJ(e,2),n=t[0],r=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(r)})).join("&"),[4,fetch(o,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:c})]):[2];case 1:return[4,v.sent().json()];case 2:if(l=v.sent(),d=l.access_token,f=l.refresh_token,h=l.id_token,p=l.error)throw new Error(p);return[2,{accessToken:d,refreshToken:f,idToken:h}]}var g}))}))},e.prototype._handleImplicitFlow=function(e){return YJ(this,void 0,void 0,(function(){var t,n,r;return JJ(this,(function(o){return t=(_e(e).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n,r=QJ(t,2),o=r[0],i=r[1];return $J($J({},e),((n={})[o]=i,n))}),{id_token:void 0,access_token:void 0}),n=t.id_token,r=t.access_token,XJ("implicitFlow",{},"Got tokens from "+e),eQ.debug("Retrieving implicit tokens from "+e+" with"),[2,{accessToken:r,idToken:n,refreshToken:null}]}))}))},e.prototype.handleAuthResponse=function(e){return YJ(this,void 0,void 0,(function(){var t,n,r,o,i,a,s;return JJ(this,(function(u){switch(u.label){case 0:if(u.trys.push([0,5,,6]),t=e?$J($J({},(_e(e).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n=QJ(t,2),r=n[0],o=n[1];return e[r]=o,e}),{})),(_e(e).query||"").split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n=QJ(t,2),r=n[0],o=n[1];return e[r]=o,e}),{})):{},n=t.error,r=t.error_description,n)throw new Error(r);return o=this._validateState(t),eQ.debug("Starting "+this._config.responseType+" flow with "+e),"code"!==this._config.responseType?[3,2]:(i=[{}],[4,this._handleCodeFlow(e)]);case 1:return[2,$J.apply(void 0,[$J.apply(void 0,i.concat([u.sent()])),{state:o}])];case 2:return a=[{}],[4,this._handleImplicitFlow(e)];case 3:return[2,$J.apply(void 0,[$J.apply(void 0,a.concat([u.sent()])),{state:o}])];case 4:return[3,6];case 5:throw s=u.sent(),eQ.error("Error handling auth response.",s),s;case 6:return[2]}}))}))},e.prototype._validateState=function(e){if(e){var t,n=(t=window.sessionStorage.getItem("oauth_state"),window.sessionStorage.removeItem("oauth_state"),t),r=e.state;if(n&&n!==r)throw new Error("Invalid state in OAuth flow");return r}},e.prototype.signOut=function(){return YJ(this,void 0,void 0,(function(){var e,t,n;return JJ(this,(function(r){return e="https://"+this._config.domain+"/logout?",t=KJ(this._config)?this._cognitoClientId:this._config.oauth.clientID,n=KJ(this._config)?this._config.redirectSignOut:this._config.returnTo,e+=Object.entries({client_id:t,logout_uri:encodeURIComponent(n)}).map((function(e){var t=QJ(e,2);return t[0]+"="+t[1]})).join("&"),XJ("oAuthSignOut",{oAuth:"signOut"},"Signing out from "+e),eQ.debug("Signing out from "+e),[2,this._urlOpener(e,n)]}))}))},e.prototype._generateState=function(e){for(var t="",n=e,r="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";n>0;--n)t+=r[Math.round(Math.random()*(r.length-1))];return t},e.prototype._generateChallenge=function(e){return this._base64URL(r(Kd)(e))},e.prototype._base64URL=function(e){return e.toString(r(mf)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},e.prototype._generateRandom=function(e){var t=new Uint8Array(e);if("undefined"!=typeof window&&window.crypto)window.crypto.getRandomValues(t);else for(var n=0;n<e;n+=1)t[n]=Math.random()*"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~".length|0;return this._bufferToString(t)},e.prototype._bufferToString=function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[],r=0;r<e.byteLength;r+=1){var o=e[r]%t.length;n.push(t[o])}return n.join("")},e}(),nQ=tQ,rQ=function(e){if(uY().isBrowser&&window.location)e({url:window.location.href});else if(!uY().isNode)throw new Error("Not supported")},oQ={};e(oQ,"AuthError",(()=>sQ),(e=>sQ=e)),e(oQ,"NoUserPoolError",(()=>uQ),(e=>uQ=e)),function(e){e.DEFAULT_MSG="Authentication Error",e.EMPTY_EMAIL="Email cannot be empty",e.EMPTY_PHONE="Phone number cannot be empty",e.EMPTY_USERNAME="Username cannot be empty",e.INVALID_USERNAME="The username should either be a string or one of the sign in types",e.EMPTY_PASSWORD="Password cannot be empty",e.EMPTY_CODE="Confirmation code cannot be empty",e.SIGN_UP_ERROR="Error creating account",e.NO_MFA="No valid MFA method provided",e.INVALID_MFA="Invalid MFA type",e.EMPTY_CHALLENGE="Challenge response cannot be empty",e.NO_USER_SESSION="Failed to get the session because the user is empty",e.NETWORK_ERROR="Network Error",e.DEVICE_CONFIG="Device tracking has not been configured in this User Pool"}(GJ||(GJ={}));var iQ=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),aQ=new(0,k$.ConsoleLogger)("AuthError"),sQ=function(e){function t(n){var r=this,o=cQ[n],i=o.message,a=o.log;return(r=e.call(this,i)||this).constructor=t,Object.setPrototypeOf(r,t.prototype),r.name="AuthError",r.log=a||i,aQ.error(r.log),r}return iQ(t,e),t}(Error),uQ=function(e){function t(n){var r=e.call(this,n)||this;return r.constructor=t,Object.setPrototypeOf(r,t.prototype),r.name="NoUserPoolError",r}return iQ(t,e),t}(sQ),cQ={noConfig:{message:GJ.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly.\n            This error is typically caused by one of the following scenarios:\n\n            1. Make sure you're passing the awsconfig object to Amplify.configure() in your app's entry point\n                See https://aws-amplify.github.io/docs/js/authentication#configure-your-app for more information\n            \n            2. There might be multiple conflicting versions of amplify packages in your node_modules.\n\t\t\t\tRefer to our docs site for help upgrading Amplify packages (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js)\n        "},missingAuthConfig:{message:GJ.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly. \n            The configuration object is missing required auth properties.\n            This error is typically caused by one of the following scenarios:\n\n            1. Did you run `amplify push` after adding auth via `amplify add auth`?\n                See https://aws-amplify.github.io/docs/js/authentication#amplify-project-setup for more information\n\n            2. This could also be caused by multiple conflicting versions of amplify packages, see (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js) for help upgrading Amplify packages.\n        "},emptyUsername:{message:GJ.EMPTY_USERNAME},invalidUsername:{message:GJ.INVALID_USERNAME},emptyPassword:{message:GJ.EMPTY_PASSWORD},emptyCode:{message:GJ.EMPTY_CODE},signUpError:{message:GJ.SIGN_UP_ERROR,log:"The first parameter should either be non-null string or object"},noMFA:{message:GJ.NO_MFA},invalidMFA:{message:GJ.INVALID_MFA},emptyChallengeResponse:{message:GJ.EMPTY_CHALLENGE},noUserSession:{message:GJ.NO_USER_SESSION},deviceConfig:{message:GJ.DEVICE_CONFIG},networkError:{message:GJ.NETWORK_ERROR},default:{message:GJ.DEFAULT_MSG}},lQ=function(){return lQ=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},lQ.apply(this,arguments)},dQ=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},fQ=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},hQ=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},pQ=new(0,k$.ConsoleLogger)("AuthClass"),vQ="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",gQ=function(e,t,n){F$.Hub.dispatch("auth",{event:e,data:t,message:n},"Auth",vQ)},mQ=function(){function e(e){var t=this;this.userPool=null,this.user=null,this.oAuthFlowInProgress=!1,this.Credentials=aJ.Credentials,this.wrapRefreshSessionCallback=function(e){return function(t,n){return n?gQ("tokenRefresh",void 0,"New token retrieved"):gQ("tokenRefresh_failure",t,"Failed to retrieve new token"),e(t,n)}},this.configure(e),this.currentCredentials=this.currentCredentials.bind(this),this.currentUserCredentials=this.currentUserCredentials.bind(this),F$.Hub.listen("auth",(function(e){switch(e.payload.event){case"signIn":t._storage.setItem("amplify-signin-with-hostedUI","false");break;case"signOut":t._storage.removeItem("amplify-signin-with-hostedUI");break;case"cognitoHostedUI":t._storage.setItem("amplify-signin-with-hostedUI","true")}}))}return e.prototype.getModuleName=function(){return"Auth"},e.prototype.configure=function(e){var t=this;if(!e)return this._config||{};pQ.debug("configure Auth");var n=Object.assign({},this._config,YY.Parser.parseMobilehubConfig(e).Auth,e);this._config=n;var r=this._config,o=r.userPoolId,i=r.userPoolWebClientId,a=r.cookieStorage,s=r.oauth,u=r.region,c=r.identityPoolId,l=r.mandatorySignIn,d=r.refreshHandlers,f=r.identityPoolRegion,h=r.clientMetadata,p=r.endpoint;if(this._config.storage){if(!this._isValidAuthStorage(this._config.storage))throw pQ.error("The storage in the Auth config is not valid!"),new Error("Empty storage object");this._storage=this._config.storage}else this._storage=a?new jW(a):e.ssr?new NJ:(new cJ).getStorage();if(this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),o){var v={UserPoolId:o,ClientId:i,endpoint:p};v.Storage=this._storage,this.userPool=new PW(v,this.wrapRefreshSessionCallback)}this.Credentials.configure({mandatorySignIn:l,region:f||u,userPoolId:o,identityPoolId:c,refreshHandlers:d,storage:this._storage});var g=s?KJ(this._config.oauth)?s:s.awsCognito:void 0;if(g){var m=Object.assign({cognitoClientId:i,UserPoolId:o,domain:g.domain,scopes:g.scope,redirectSignIn:g.redirectSignIn,redirectSignOut:g.redirectSignOut,responseType:g.responseType,Storage:this._storage,urlOpener:g.urlOpener,clientMetadata:h},g.options);this._oAuthHandler=new(0,HJ.default)({scopes:m.scopes,config:m,cognitoClientId:m.cognitoClientId});var y={};rQ((function(e){var n=e.url;y[n]||(y[n]=!0,t._handleAuthResponse(n))}))}return gQ("configured",null,"The Auth category has been configured successfully"),this._config},e.prototype.signUp=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(!this.userPool)return this.rejectNoUserPool();var o,i=null,a=null,s=[],u=null;if(e&&"string"==typeof e){i=e,a=n?n[0]:null;var c=n?n[1]:null,l=n?n[2]:null;c&&s.push(new hW({Name:"email",Value:c})),l&&s.push(new hW({Name:"phone_number",Value:l}))}else{if(!e||"object"!=typeof e)return this.rejectAuthError(FJ.SignUpError);i=e.username,a=e.password,e&&e.clientMetadata?o=e.clientMetadata:this._config.clientMetadata&&(o=this._config.clientMetadata);var d=e.attributes;d&&Object.keys(d).map((function(e){s.push(new hW({Name:e,Value:d[e]}))}));var f=e.validationData;f&&(u=[],Object.keys(f).map((function(e){u.push(new hW({Name:e,Value:f[e]}))})))}return i?a?(pQ.debug("signUp attrs:",s),pQ.debug("signUp validation data:",u),new Promise((function(e,n){t.userPool.signUp(i,a,s,u,(function(t,r){t?(gQ("signUp_failure",t,i+" failed to signup"),n(t)):(gQ("signUp",r,i+" has signed up successfully"),e(r))}),o)}))):this.rejectAuthError(FJ.EmptyPassword):this.rejectAuthError(FJ.EmptyUsername)},e.prototype.confirmSignUp=function(e,t,n){if(!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(FJ.EmptyUsername);if(!t)return this.rejectAuthError(FJ.EmptyCode);var r,o=this.createCognitoUser(e),i=!n||"boolean"!=typeof n.forceAliasCreation||n.forceAliasCreation;return n&&n.clientMetadata?r=n.clientMetadata:this._config.clientMetadata&&(r=this._config.clientMetadata),new Promise((function(e,n){o.confirmRegistration(t,i,(function(t,r){t?n(t):e(r)}),r)}))},e.prototype.resendSignUp=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(FJ.EmptyUsername);var n=this.createCognitoUser(e);return new Promise((function(e,r){n.resendConfirmationCode((function(t,n){t?r(t):e(n)}),t)}))},e.prototype.signIn=function(e,t,n){if(void 0===n&&(n=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();var r=null,o=null,i={};if("string"==typeof e)r=e,o=t;else{if(!e.username)return this.rejectAuthError(FJ.InvalidUsername);void 0!==t&&pQ.warn("The password should be defined under the first parameter object!"),r=e.username,o=e.password,i=e.validationData}if(!r)return this.rejectAuthError(FJ.EmptyUsername);var a=new LG({Username:r,Password:o,ValidationData:i,ClientMetadata:n});return o?this.signInWithPassword(a):this.signInWithoutPassword(a)},e.prototype.authCallbacks=function(e,t,n){var r=this,o=this;return{onSuccess:function(i){return dQ(r,void 0,void 0,(function(){var r,a,s,u;return fQ(this,(function(c){switch(c.label){case 0:pQ.debug(i),delete e.challengeName,delete e.challengeParam,c.label=1;case 1:return c.trys.push([1,4,5,9]),[4,this.Credentials.clear()];case 2:return c.sent(),[4,this.Credentials.set(i,"session")];case 3:return r=c.sent(),pQ.debug("succeed to get cognito credentials",r),[3,9];case 4:return a=c.sent(),pQ.debug("cannot get cognito credentials",a),[3,9];case 5:return c.trys.push([5,7,,8]),[4,this.currentUserPoolUser()];case 6:return s=c.sent(),o.user=s,gQ("signIn",s,"A user "+e.getUsername()+" has been signed in"),t(s),[3,8];case 7:return u=c.sent(),pQ.error("Failed to get the signed in user",u),n(u),[3,8];case 8:return[7];case 9:return[2]}}))}))},onFailure:function(t){pQ.debug("signIn failure",t),gQ("signIn_failure",t,e.getUsername()+" failed to signin"),n(t)},customChallenge:function(n){pQ.debug("signIn custom challenge answer required"),e.challengeName="CUSTOM_CHALLENGE",e.challengeParam=n,t(e)},mfaRequired:function(n,r){pQ.debug("signIn MFA required"),e.challengeName=n,e.challengeParam=r,t(e)},mfaSetup:function(n,r){pQ.debug("signIn mfa setup",n),e.challengeName=n,e.challengeParam=r,t(e)},newPasswordRequired:function(n,r){pQ.debug("signIn new password"),e.challengeName="NEW_PASSWORD_REQUIRED",e.challengeParam={userAttributes:n,requiredAttributes:r},t(e)},totpRequired:function(n,r){pQ.debug("signIn totpRequired"),e.challengeName=n,e.challengeParam=r,t(e)},selectMFAType:function(n,r){pQ.debug("signIn selectMFAType",n),e.challengeName=n,e.challengeParam=r,t(e)}}},e.prototype.signInWithPassword=function(e){var t=this;if(this.pendingSignIn)throw new Error("Pending sign-in attempt already in progress");var n=this.createCognitoUser(e.getUsername());return this.pendingSignIn=new Promise((function(r,o){n.authenticateUser(e,t.authCallbacks(n,(function(e){t.pendingSignIn=null,r(e)}),(function(e){t.pendingSignIn=null,o(e)})))})),this.pendingSignIn},e.prototype.signInWithoutPassword=function(e){var t=this,n=this.createCognitoUser(e.getUsername());return n.setAuthenticationFlowType("CUSTOM_AUTH"),new Promise((function(r,o){n.initiateAuth(e,t.authCallbacks(n,r,o))}))},e.prototype.getMFAOptions=function(e){return new Promise((function(t,n){e.getMFAOptions((function(e,r){if(e)return pQ.debug("get MFA Options failed",e),void n(e);pQ.debug("get MFA options success",r),t(r)}))}))},e.prototype.getPreferredMFA=function(e,t){var n=this,r=this;return new Promise((function(o,i){var a=n._config.clientMetadata,s=!!t&&t.bypassCache;e.getUserData((function(t,a){return dQ(n,void 0,void 0,(function(){var n,s;return fQ(this,(function(u){switch(u.label){case 0:if(!t)return[3,5];if(pQ.debug("getting preferred mfa failed",t),!this.isSessionInvalid(t))return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return u.sent(),[3,4];case 3:return n=u.sent(),i(new Error("Session is invalid due to: "+t.message+" and failed to clean up invalid session: "+n.message)),[2];case 4:return i(t),[2];case 5:return(s=r._getMfaTypeFromUserData(a))?(o(s),[2]):(i("invalid MFA Type"),[2])}}))}))}),{bypassCache:s,clientMetadata:a})}))},e.prototype._getMfaTypeFromUserData=function(e){var t=null,n=e.PreferredMfaSetting;if(n)t=n;else{var r=e.UserMFASettingList;if(r)0===r.length?t="NOMFA":pQ.debug("invalid case for getPreferredMFA",e);else t=e.MFAOptions?"SMS_MFA":"NOMFA"}return t},e.prototype._getUserData=function(e,t){var n=this;return new Promise((function(r,o){e.getUserData((function(t,i){return dQ(n,void 0,void 0,(function(){var n;return fQ(this,(function(a){switch(a.label){case 0:if(!t)return[3,5];if(pQ.debug("getting user data failed",t),!this.isSessionInvalid(t))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return a.sent(),[3,4];case 3:return n=a.sent(),o(new Error("Session is invalid due to: "+t.message+" and failed to clean up invalid session: "+n.message)),[2];case 4:return o(t),[2];case 5:r(i),a.label=6;case 6:return[2]}}))}))}),t)}))},e.prototype.setPreferredMFA=function(e,t){return dQ(this,void 0,void 0,(function(){var n,r,o,i,a,s,u=this;return fQ(this,(function(c){switch(c.label){case 0:return n=this._config.clientMetadata,[4,this._getUserData(e,{bypassCache:!0,clientMetadata:n})];case 1:switch(r=c.sent(),o=null,i=null,t){case"TOTP":case"SOFTWARE_TOKEN_MFA":return[3,2];case"SMS":case"SMS_MFA":return[3,3];case"NOMFA":return[3,4]}return[3,6];case 2:return i={PreferredMfa:!0,Enabled:!0},[3,7];case 3:return o={PreferredMfa:!0,Enabled:!0},[3,7];case 4:return a=r.UserMFASettingList,[4,this._getMfaTypeFromUserData(r)];case 5:if("NOMFA"===(s=c.sent()))return[2,Promise.resolve("No change for mfa type")];if("SMS_MFA"===s)o={PreferredMfa:!1,Enabled:!1};else{if("SOFTWARE_TOKEN_MFA"!==s)return[2,this.rejectAuthError(FJ.InvalidMFA)];i={PreferredMfa:!1,Enabled:!1}}return a&&0!==a.length&&a.forEach((function(e){"SMS_MFA"===e?o={PreferredMfa:!1,Enabled:!1}:"SOFTWARE_TOKEN_MFA"===e&&(i={PreferredMfa:!1,Enabled:!1})})),[3,7];case 6:return pQ.debug("no validmfa method provided"),[2,this.rejectAuthError(FJ.NoMFA)];case 7:return this,[2,new Promise((function(t,r){e.setUserMfaPreference(o,i,(function(o,i){if(o)return pQ.debug("Set user mfa preference error",o),r(o);pQ.debug("Set user mfa success",i),pQ.debug("Caching the latest user data into local"),e.getUserData((function(n,o){return dQ(u,void 0,void 0,(function(){var o;return fQ(this,(function(a){switch(a.label){case 0:if(!n)return[3,5];if(pQ.debug("getting user data failed",n),!this.isSessionInvalid(n))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return a.sent(),[3,4];case 3:return o=a.sent(),r(new Error("Session is invalid due to: "+n.message+" and failed to clean up invalid session: "+o.message)),[2];case 4:return[2,r(n)];case 5:return[2,t(i)]}}))}))}),{bypassCache:!0,clientMetadata:n})}))}))]}}))}))},e.prototype.disableSMS=function(e){return new Promise((function(t,n){e.disableMFA((function(e,r){if(e)return pQ.debug("disable mfa failed",e),void n(e);pQ.debug("disable mfa succeed",r),t(r)}))}))},e.prototype.enableSMS=function(e){return new Promise((function(t,n){e.enableMFA((function(e,r){if(e)return pQ.debug("enable mfa failed",e),void n(e);pQ.debug("enable mfa succeed",r),t(r)}))}))},e.prototype.setupTOTP=function(e){return new Promise((function(t,n){e.associateSoftwareToken({onFailure:function(e){pQ.debug("associateSoftwareToken failed",e),n(e)},associateSecretCode:function(e){pQ.debug("associateSoftwareToken sucess",e),t(e)}})}))},e.prototype.verifyTotpToken=function(e,t){return pQ.debug("verification totp token",e,t),new Promise((function(n,r){e.verifySoftwareToken(t,"My TOTP device",{onFailure:function(e){pQ.debug("verifyTotpToken failed",e),r(e)},onSuccess:function(t){gQ("signIn",e,"A user "+e.getUsername()+" has been signed in"),pQ.debug("verifyTotpToken success",t),n(t)}})}))},e.prototype.confirmSignIn=function(e,t,n,r){var o=this;if(void 0===r&&(r=this._config.clientMetadata),!t)return this.rejectAuthError(FJ.EmptyCode);var i=this;return new Promise((function(a,s){e.sendMFACode(t,{onSuccess:function(t){return dQ(o,void 0,void 0,(function(){var n,r;return fQ(this,(function(o){switch(o.label){case 0:pQ.debug(t),o.label=1;case 1:return o.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return o.sent(),[4,this.Credentials.set(t,"session")];case 3:return n=o.sent(),pQ.debug("succeed to get cognito credentials",n),[3,6];case 4:return r=o.sent(),pQ.debug("cannot get cognito credentials",r),[3,6];case 5:return i.user=e,gQ("signIn",e,"A user "+e.getUsername()+" has been signed in"),a(e),[7];case 6:return[2]}}))}))},onFailure:function(e){pQ.debug("confirm signIn failure",e),s(e)}},n,r)}))},e.prototype.completeNewPassword=function(e,t,n,r){var o=this;if(void 0===n&&(n={}),void 0===r&&(r=this._config.clientMetadata),!t)return this.rejectAuthError(FJ.EmptyPassword);var i=this;return new Promise((function(a,s){e.completeNewPasswordChallenge(t,n,{onSuccess:function(t){return dQ(o,void 0,void 0,(function(){var n,r;return fQ(this,(function(o){switch(o.label){case 0:pQ.debug(t),o.label=1;case 1:return o.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return o.sent(),[4,this.Credentials.set(t,"session")];case 3:return n=o.sent(),pQ.debug("succeed to get cognito credentials",n),[3,6];case 4:return r=o.sent(),pQ.debug("cannot get cognito credentials",r),[3,6];case 5:return i.user=e,gQ("signIn",e,"A user "+e.getUsername()+" has been signed in"),a(e),[7];case 6:return[2]}}))}))},onFailure:function(e){pQ.debug("completeNewPassword failure",e),gQ("completeNewPassword_failure",e,o.user+" failed to complete the new password flow"),s(e)},mfaRequired:function(t,n){pQ.debug("signIn MFA required"),e.challengeName=t,e.challengeParam=n,a(e)},mfaSetup:function(t,n){pQ.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=n,a(e)},totpRequired:function(t,n){pQ.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=n,a(e)}},r)}))},e.prototype.sendCustomChallengeAnswer=function(e,t,n){var r=this;if(void 0===n&&(n=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!t)return this.rejectAuthError(FJ.EmptyChallengeResponse);return new Promise((function(o,i){e.sendCustomChallengeAnswer(t,r.authCallbacks(e,o,i),n)}))},e.prototype.deleteUserAttributes=function(e,t){var n=this;return new Promise((function(r,o){n.userSession(e).then((function(n){e.deleteAttributes(t,(function(e,t){return e?o(e):r(t)}))}))}))},e.prototype.deleteUser=function(){return dQ(this,void 0,void 0,(function(){var e,t,n=this;return fQ(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this._storageSync];case 1:return r.sent(),[3,3];case 2:throw e=r.sent(),pQ.debug("Failed to sync cache info into memory",e),new Error(e);case 3:return t=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise((function(e,r){return dQ(n,void 0,void 0,(function(){var n,o=this;return fQ(this,(function(i){if(this.userPool){if(!(n=this.userPool.getCurrentUser()))return pQ.debug("Failed to get user from user pool"),[2,r(new Error("No current user."))];n.getSession((function(i,a){return dQ(o,void 0,void 0,(function(){var o,a=this;return fQ(this,(function(s){switch(s.label){case 0:if(!i)return[3,5];if(pQ.debug("Failed to get the user session",i),!this.isSessionInvalid(i))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(n)];case 2:return s.sent(),[3,4];case 3:return o=s.sent(),r(new Error("Session is invalid due to: "+i.message+" and failed to clean up invalid session: "+o.message)),[2];case 4:return[2,r(i)];case 5:n.deleteUser((function(o,i){if(o)r(o);else{gQ("userDeleted",i,"The authenticated user has been deleted."),n.signOut(),a.user=null;try{a.cleanCachedItems()}catch(e){pQ.debug("failed to clear cached items")}t?a.oAuthSignOutRedirect(e,r):(gQ("signOut",a.user,"A user has been signed out"),e(i))}})),s.label=6;case 6:return[2]}}))}))}))}else pQ.debug("no Congito User pool"),r(new Error("Cognito User pool does not exist"));return[2]}))}))}))]}}))}))},e.prototype.updateUserAttributes=function(e,t,n){void 0===n&&(n=this._config.clientMetadata);var r=[],o=this;return new Promise((function(i,a){o.userSession(e).then((function(o){for(var s in t)if("sub"!==s&&s.indexOf("_verified")<0){var u={Name:s,Value:t[s]};r.push(u)}e.updateAttributes(r,(function(e,t){return e?a(e):i(t)}),n)}))}))},e.prototype.userAttributes=function(e){var t=this;return new Promise((function(n,r){t.userSession(e).then((function(t){e.getUserAttributes((function(e,t){e?r(e):n(t)}))}))}))},e.prototype.verifiedContact=function(e){var t=this;return this.userAttributes(e).then((function(e){var n=t.attributesToObject(e),r={},o={};return n.email&&(n.email_verified?o.email=n.email:r.email=n.email),n.phone_number&&(n.phone_number_verified?o.phone_number=n.phone_number:r.phone_number=n.phone_number),{verified:o,unverified:r}}))},e.prototype.isErrorWithMessage=function(e){return"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"message")},e.prototype.isTokenRevokedError=function(e){return this.isErrorWithMessage(e)&&"Access Token has been revoked"===e.message},e.prototype.isRefreshTokenRevokedError=function(e){return this.isErrorWithMessage(e)&&"Refresh Token has been revoked"===e.message},e.prototype.isUserDisabledError=function(e){return this.isErrorWithMessage(e)&&"User is disabled."===e.message},e.prototype.isUserDoesNotExistError=function(e){return this.isErrorWithMessage(e)&&"User does not exist."===e.message},e.prototype.isRefreshTokenExpiredError=function(e){return this.isErrorWithMessage(e)&&"Refresh Token has expired"===e.message},e.prototype.isSignedInHostedUI=function(){return this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI")},e.prototype.isSessionInvalid=function(e){return this.isUserDisabledError(e)||this.isUserDoesNotExistError(e)||this.isTokenRevokedError(e)||this.isRefreshTokenRevokedError(e)||this.isRefreshTokenExpiredError(e)},e.prototype.cleanUpInvalidSession=function(e){return dQ(this,void 0,void 0,(function(){var t=this;return fQ(this,(function(n){switch(n.label){case 0:e.signOut(),this.user=null,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.cleanCachedItems()];case 2:return n.sent(),[3,4];case 3:return n.sent(),pQ.debug("failed to clear cached items"),[3,4];case 4:return this.isSignedInHostedUI()?[2,new Promise((function(e,n){t.oAuthSignOutRedirect(e,n)}))]:(gQ("signOut",this.user,"A user has been signed out"),[2])}}))}))},e.prototype.currentUserPoolUser=function(e){var t=this;return this.userPool?new Promise((function(n,r){t._storageSync.then((function(){return dQ(t,void 0,void 0,(function(){var t,o,i=this;return fQ(this,(function(a){switch(a.label){case 0:return this.isOAuthInProgress()?(pQ.debug("OAuth signIn in progress, waiting for resolution..."),[4,new Promise((function(e){var t=setTimeout((function(){pQ.debug("OAuth signIn in progress timeout"),F$.Hub.remove("auth",n),e()}),1e4);function n(r){var o=r.payload.event;"cognitoHostedUI"!==o&&"cognitoHostedUI_failure"!==o||(pQ.debug("OAuth signIn resolved: "+o),clearTimeout(t),F$.Hub.remove("auth",n),e())}F$.Hub.listen("auth",n)}))]):[3,2];case 1:a.sent(),a.label=2;case 2:return(t=this.userPool.getCurrentUser())?(o=this._config.clientMetadata,t.getSession((function(o,a){return dQ(i,void 0,void 0,(function(){var i,s,u,c,l=this;return fQ(this,(function(d){switch(d.label){case 0:if(!o)return[3,5];if(pQ.debug("Failed to get the user session",o),!this.isSessionInvalid(o))return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return d.sent(),[3,4];case 3:return i=d.sent(),r(new Error("Session is invalid due to: "+o.message+" and failed to clean up invalid session: "+i.message)),[2];case 4:return r(o),[2];case 5:return(s=!!e&&e.bypassCache)?[4,this.Credentials.clear()]:[3,7];case 6:d.sent(),d.label=7;case 7:return u=this._config.clientMetadata,c=a.getAccessToken().decodePayload().scope,(void 0===c?"":c).split(" ").includes("aws.cognito.signin.user.admin")?(t.getUserData((function(e,o){return dQ(l,void 0,void 0,(function(){var i,a,s,u,c,l,d;return fQ(this,(function(f){switch(f.label){case 0:if(!e)return[3,7];if(pQ.debug("getting user data failed",e),!this.isSessionInvalid(e))return[3,5];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return f.sent(),[3,4];case 3:return i=f.sent(),r(new Error("Session is invalid due to: "+e.message+" and failed to clean up invalid session: "+i.message)),[2];case 4:return r(e),[3,6];case 5:n(t),f.label=6;case 6:return[2];case 7:for(a=o.PreferredMfaSetting||"NOMFA",s=[],u=0;u<o.UserAttributes.length;u++)c={Name:o.UserAttributes[u].Name,Value:o.UserAttributes[u].Value},l=new hW(c),s.push(l);return d=this.attributesToObject(s),Object.assign(t,{attributes:d,preferredMFA:a}),[2,n(t)]}}))}))}),{bypassCache:s,clientMetadata:u}),[2]):(pQ.debug("Unable to get the user data because the aws.cognito.signin.user.admin is not in the scopes of the access token"),[2,n(t)])}}))}))}),{clientMetadata:o}),[2]):(pQ.debug("Failed to get user from user pool"),r("No current user"),[2])}}))}))})).catch((function(e){return pQ.debug("Failed to sync cache info into memory",e),r(e)}))})):this.rejectNoUserPool()},e.prototype.isOAuthInProgress=function(){return this.oAuthFlowInProgress},e.prototype.currentAuthenticatedUser=function(e){return dQ(this,void 0,void 0,(function(){var t,n,r,o,i;return fQ(this,(function(a){switch(a.label){case 0:pQ.debug("getting current authenticated user"),t=null,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this._storageSync];case 2:return a.sent(),[3,4];case 3:throw n=a.sent(),pQ.debug("Failed to sync cache info into memory",n),n;case 4:try{(r=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")))&&(t=lQ(lQ({},r.user),{token:r.token}))}catch(e){pQ.debug("cannot load federated user from auth storage")}return t?(this.user=t,pQ.debug("get current authenticated federated user",this.user),[2,this.user]):[3,5];case 5:pQ.debug("get current authenticated userpool user"),o=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,this.currentUserPoolUser(e)];case 7:return o=a.sent(),[3,9];case 8:return"No userPool"===(i=a.sent())&&pQ.error("Cannot get the current user because the user pool is missing. Please make sure the Auth module is configured with a valid Cognito User Pool ID"),pQ.debug("The user is not authenticated by the error",i),[2,Promise.reject("The user is not authenticated")];case 9:return this.user=o,[2,this.user]}}))}))},e.prototype.currentSession=function(){var e=this;return pQ.debug("Getting current session"),this.userPool?new Promise((function(t,n){e.currentUserPoolUser().then((function(r){e.userSession(r).then((function(e){t(e)})).catch((function(e){pQ.debug("Failed to get the current session",e),n(e)}))})).catch((function(e){pQ.debug("Failed to get the current user",e),n(e)}))})):this.rejectNoUserPool()},e.prototype.userSession=function(e){var t=this;if(!e)return pQ.debug("the user is null"),this.rejectAuthError(FJ.NoUserSession);var n=this._config.clientMetadata;return new Promise((function(r,o){pQ.debug("Getting the session from this user:",e),e.getSession((function(n,i){return dQ(t,void 0,void 0,(function(){var t;return fQ(this,(function(a){switch(a.label){case 0:if(!n)return[3,5];if(pQ.debug("Failed to get the session from user",e),!this.isSessionInvalid(n))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return a.sent(),[3,4];case 3:return t=a.sent(),o(new Error("Session is invalid due to: "+n.message+" and failed to clean up invalid session: "+t.message)),[2];case 4:return o(n),[2];case 5:return pQ.debug("Succeed to get the user session",i),r(i),[2]}}))}))}),{clientMetadata:n})}))},e.prototype.currentUserCredentials=function(){return dQ(this,void 0,void 0,(function(){var e,t,n=this;return fQ(this,(function(r){switch(r.label){case 0:pQ.debug("Getting current user credentials"),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._storageSync];case 2:return r.sent(),[3,4];case 3:throw e=r.sent(),pQ.debug("Failed to sync cache info into memory",e),e;case 4:t=null;try{t=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo"))}catch(e){pQ.debug("failed to get or parse item aws-amplify-federatedInfo",e)}return t?[2,this.Credentials.refreshFederatedToken(t)]:[2,this.currentSession().then((function(e){return pQ.debug("getting session success",e),n.Credentials.set(e,"session")})).catch((function(){return pQ.debug("getting guest credentials"),n.Credentials.set(null,"guest")}))]}}))}))},e.prototype.currentCredentials=function(){return pQ.debug("getting current credentials"),this.Credentials.get()},e.prototype.verifyUserAttribute=function(e,t,n){return void 0===n&&(n=this._config.clientMetadata),new Promise((function(r,o){e.getAttributeVerificationCode(t,{onSuccess:function(e){return r(e)},onFailure:function(e){return o(e)}},n)}))},e.prototype.verifyUserAttributeSubmit=function(e,t,n){return n?new Promise((function(r,o){e.verifyAttribute(t,n,{onSuccess:function(e){r(e)},onFailure:function(e){o(e)}})})):this.rejectAuthError(FJ.EmptyCode)},e.prototype.verifyCurrentUserAttribute=function(e){var t=this;return t.currentUserPoolUser().then((function(n){return t.verifyUserAttribute(n,e)}))},e.prototype.verifyCurrentUserAttributeSubmit=function(e,t){var n=this;return n.currentUserPoolUser().then((function(r){return n.verifyUserAttributeSubmit(r,e,t)}))},e.prototype.cognitoIdentitySignOut=function(e,t){return dQ(this,void 0,void 0,(function(){var n,r,o=this;return fQ(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this._storageSync];case 1:return i.sent(),[3,3];case 2:throw n=i.sent(),pQ.debug("Failed to sync cache info into memory",n),n;case 3:return r=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise((function(n,i){if(e&&e.global){pQ.debug("user global sign out",t);var a=o._config.clientMetadata;t.getSession((function(e,a){return dQ(o,void 0,void 0,(function(){var o,a=this;return fQ(this,(function(s){switch(s.label){case 0:if(!e)return[3,5];if(pQ.debug("failed to get the user session",e),!this.isSessionInvalid(e))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return s.sent(),[3,4];case 3:return o=s.sent(),i(new Error("Session is invalid due to: "+e.message+" and failed to clean up invalid session: "+o.message)),[2];case 4:return[2,i(e)];case 5:return t.globalSignOut({onSuccess:function(e){if(pQ.debug("global sign out success"),!r)return n();a.oAuthSignOutRedirect(n,i)},onFailure:function(e){return pQ.debug("global sign out failed",e),i(e)}}),[2]}}))}))}),{clientMetadata:a})}else pQ.debug("user sign out",t),t.signOut((function(){if(!r)return n();o.oAuthSignOutRedirect(n,i)}))}))]}}))}))},e.prototype.oAuthSignOutRedirect=function(e,t){uY().isBrowser?this.oAuthSignOutRedirectOrReject(t):this.oAuthSignOutAndResolve(e)},e.prototype.oAuthSignOutAndResolve=function(e){this._oAuthHandler.signOut(),e()},e.prototype.oAuthSignOutRedirectOrReject=function(e){this._oAuthHandler.signOut(),setTimeout((function(){return e(Error("Signout timeout fail"))}),3e3)},e.prototype.signOut=function(e){return dQ(this,void 0,void 0,(function(){var t;return fQ(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.cleanCachedItems()];case 1:return n.sent(),[3,3];case 2:return n.sent(),pQ.debug("failed to clear cached items"),[3,3];case 3:return this.userPool?(t=this.userPool.getCurrentUser())?[4,this.cognitoIdentitySignOut(e,t)]:[3,5]:[3,7];case 4:return n.sent(),[3,6];case 5:pQ.debug("no current Cognito user"),n.label=6;case 6:return[3,8];case 7:pQ.debug("no Cognito User pool"),n.label=8;case 8:return gQ("signOut",this.user,"A user has been signed out"),this.user=null,[2]}}))}))},e.prototype.cleanCachedItems=function(){return dQ(this,void 0,void 0,(function(){return fQ(this,(function(e){switch(e.label){case 0:return[4,this.Credentials.clear()];case 1:return e.sent(),[2]}}))}))},e.prototype.changePassword=function(e,t,n,r){var o=this;return void 0===r&&(r=this._config.clientMetadata),new Promise((function(i,a){o.userSession(e).then((function(o){e.changePassword(t,n,(function(e,t){return e?(pQ.debug("change password failure",e),a(e)):i(t)}),r)}))}))},e.prototype.forgotPassword=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(FJ.EmptyUsername);var n=this.createCognitoUser(e);return new Promise((function(r,o){n.forgotPassword({onSuccess:function(){r()},onFailure:function(t){pQ.debug("forgot password failure",t),gQ("forgotPassword_failure",t,e+" forgotPassword failed"),o(t)},inputVerificationCode:function(t){gQ("forgotPassword",n,e+" has initiated forgot password flow"),r(t)}},t)}))},e.prototype.forgotPasswordSubmit=function(e,t,n,r){if(void 0===r&&(r=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(FJ.EmptyUsername);if(!t)return this.rejectAuthError(FJ.EmptyCode);if(!n)return this.rejectAuthError(FJ.EmptyPassword);var o=this.createCognitoUser(e);return new Promise((function(i,a){o.confirmPassword(t,n,{onSuccess:function(t){gQ("forgotPasswordSubmit",o,e+" forgotPasswordSubmit successful"),i(t)},onFailure:function(t){gQ("forgotPasswordSubmit_failure",t,e+" forgotPasswordSubmit failed"),a(t)}},r)}))},e.prototype.currentUserInfo=function(){return dQ(this,void 0,void 0,(function(){var e,t,n,r,o,i,a;return fQ(this,(function(s){switch(s.label){case 0:return(e=this.Credentials.getCredSource())&&"aws"!==e&&"userPool"!==e?[3,9]:[4,this.currentUserPoolUser().catch((function(e){return pQ.error(e)}))];case 1:if(!(a=s.sent()))return[2,null];s.label=2;case 2:return s.trys.push([2,8,,9]),[4,this.userAttributes(a)];case 3:t=s.sent(),n=this.attributesToObject(t),r=null,s.label=4;case 4:return s.trys.push([4,6,,7]),[4,this.currentCredentials()];case 5:return r=s.sent(),[3,7];case 6:return o=s.sent(),pQ.debug("Failed to retrieve credentials while getting current user info",o),[3,7];case 7:return[2,{id:r?r.identityId:void 0,username:a.getUsername(),attributes:n}];case 8:return i=s.sent(),pQ.error("currentUserInfo error",i),[2,{}];case 9:return"federated"===e?[2,(a=this.user)||{}]:[2]}}))}))},e.prototype.federatedSignIn=function(e,t,n){return dQ(this,void 0,void 0,(function(){var r,o,i,a,s,u,c,l,d,f,h;return fQ(this,(function(p){switch(p.label){case 0:if(!this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation requires either a User Pool or Identity Pool in config");if(void 0===e&&this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation with Identity Pools requires tokens passed as arguments");return VJ(e)||(v=e)&&["customProvider"].find((function(e){return v.hasOwnProperty(e)}))||qJ(e)||void 0===e?(r=e||{provider:DJ.Cognito},s=VJ(r)?r.provider:r.customProvider,VJ(r),o=r.customState,this._config.userPoolId&&(i=KJ(this._config.oauth)?this._config.userPoolWebClientId:this._config.oauth.clientID,a=KJ(this._config.oauth)?this._config.oauth.redirectSignIn:this._config.oauth.redirectUri,this._oAuthHandler.oauthSignIn(this._config.oauth.responseType,this._config.oauth.domain,a,i,s,o)),[3,4]):[3,1];case 1:s=e;try{(u=JSON.stringify(JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")).user))&&pQ.warn("There is already a signed in user: "+u+" in your app.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tYou should not call Auth.federatedSignIn method again as it may cause unexpected behavior.")}catch(e){}return c=t.token,l=t.identity_id,d=t.expires_at,[4,this.Credentials.set({provider:s,token:c,identity_id:l,user:n,expires_at:d},"federation")];case 2:return f=p.sent(),[4,this.currentAuthenticatedUser()];case 3:return h=p.sent(),gQ("signIn",h,"A user "+h.username+" has been signed in"),pQ.debug("federated sign in credentials",f),[2,f];case 4:return[2]}var v}))}))},e.prototype._handleAuthResponse=function(e){return dQ(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,u,c,l,d,f,h,p;return fQ(this,(function(v){switch(v.label){case 0:if(this.oAuthFlowInProgress)return pQ.debug("Skipping URL "+e+" current flow in progress"),[2];v.label=1;case 1:if(v.trys.push([1,,8,9]),this.oAuthFlowInProgress=!0,!this._config.userPoolId)throw new Error("OAuth responses require a User Pool defined in config");if(gQ("parsingCallbackUrl",{url:e},"The callback url is being parsed"),t=e||(uY().isBrowser?window.location.href:""),n=!!(_e(t).query||"").split("&").map((function(e){return e.split("=")})).find((function(e){var t=hQ(e,1)[0];return"code"===t||"error"===t})),r=!!(_e(t).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).find((function(e){var t=hQ(e,1)[0];return"access_token"===t||"error"===t})),!n&&!r)return[3,7];this._storage.setItem("amplify-redirected-from-hosted-ui","true"),v.label=2;case 2:return v.trys.push([2,6,,7]),[4,this._oAuthHandler.handleAuthResponse(t)];case 3:return o=v.sent(),i=o.accessToken,a=o.idToken,s=o.refreshToken,u=o.state,c=new cW({IdToken:new sW({IdToken:a}),RefreshToken:new uW({RefreshToken:s}),AccessToken:new iW({AccessToken:i})}),l=void 0,this._config.identityPoolId?[4,this.Credentials.set(c,"session")]:[3,5];case 4:l=v.sent(),pQ.debug("AWS credentials",l),v.label=5;case 5:return d=/-/.test(u),(f=this.createCognitoUser(c.getIdToken().decodePayload()["cognito:username"])).setSignInUserSession(c),window&&void 0!==window.history&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),gQ("signIn",f,"A user "+f.getUsername()+" has been signed in"),gQ("cognitoHostedUI",f,"A user "+f.getUsername()+" has been signed in via Cognito Hosted UI"),d&&(h=u.split("-").splice(1).join("-"),gQ("customOAuthState",MY(h),"State for user "+f.getUsername())),[2,l];case 6:return p=v.sent(),pQ.debug("Error in cognito hosted auth response",p),window&&void 0!==window.history&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),gQ("signIn_failure",p,"The OAuth response flow failed"),gQ("cognitoHostedUI_failure",p,"A failure occurred when returning to the Cognito Hosted UI"),gQ("customState_failure",p,"A failure occurred when returning state"),[3,7];case 7:return[3,9];case 8:return this.oAuthFlowInProgress=!1,[7];case 9:return[2]}}))}))},e.prototype.essentialCredentials=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e.prototype.attributesToObject=function(e){var t=this,n={};return e&&e.map((function(e){"email_verified"===e.Name||"phone_number_verified"===e.Name?n[e.Name]=t.isTruthyString(e.Value)||!0===e.Value:n[e.Name]=e.Value})),n},e.prototype.isTruthyString=function(e){return"function"==typeof e.toLowerCase&&"true"===e.toLowerCase()},e.prototype.createCognitoUser=function(e){var t={Username:e,Pool:this.userPool};t.Storage=this._storage;var n=this._config.authenticationFlowType,r=new yW(t);return n&&r.setAuthenticationFlowType(n),r},e.prototype._isValidAuthStorage=function(e){return!!e&&"function"==typeof e.getItem&&"function"==typeof e.setItem&&"function"==typeof e.removeItem&&"function"==typeof e.clear},e.prototype.noUserPoolErrorHandler=function(e){return!e||e.userPoolId&&e.identityPoolId?FJ.NoConfig:FJ.MissingAuthConfig},e.prototype.rejectAuthError=function(e){return Promise.reject(new(0,oQ.AuthError)(e))},e.prototype.rejectNoUserPool=function(){var e=this.noUserPoolErrorHandler(this._config);return Promise.reject(new(0,oQ.NoUserPoolError)(e))},e.prototype.rememberDevice=function(){return dQ(this,void 0,void 0,(function(){var e,t;return fQ(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:return t=n.sent(),pQ.debug("The user is not authenticated by the error",t),[2,Promise.reject("The user is not authenticated")];case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise((function(t,n){e.setDeviceStatusRemembered({onSuccess:function(e){t(e)},onFailure:function(e){"InvalidParameterException"===e.code?n(new(0,oQ.AuthError)(FJ.DeviceConfig)):"NetworkError"===e.code?n(new(0,oQ.AuthError)(FJ.NetworkError)):n(e)}})}))]}}))}))},e.prototype.forgetDevice=function(){return dQ(this,void 0,void 0,(function(){var e,t;return fQ(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:return t=n.sent(),pQ.debug("The user is not authenticated by the error",t),[2,Promise.reject("The user is not authenticated")];case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise((function(t,n){e.forgetDevice({onSuccess:function(e){t(e)},onFailure:function(e){"InvalidParameterException"===e.code?n(new(0,oQ.AuthError)(FJ.DeviceConfig)):"NetworkError"===e.code?n(new(0,oQ.AuthError)(FJ.NetworkError)):n(e)}})}))]}}))}))},e.prototype.fetchDevices=function(){return dQ(this,void 0,void 0,(function(){var e,t;return fQ(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:throw t=n.sent(),pQ.debug("The user is not authenticated by the error",t),new Error("The user is not authenticated");case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise((function(t,n){var r={onSuccess:function(e){var n=e.Devices.map((function(e){var t=e.DeviceAttributes.find((function(e){return"device_name"===e.Name}))||{};return{id:e.DeviceKey,name:t.Value}}));t(n)},onFailure:function(e){"InvalidParameterException"===e.code?n(new(0,oQ.AuthError)(FJ.DeviceConfig)):"NetworkError"===e.code?n(new(0,oQ.AuthError)(FJ.NetworkError)):n(e)}};e.listDevices(60,null,r)}))]}}))}))},e}(),yQ=new mQ(null);C$.Amplify.register(yQ);var bQ=zJ.Auth,wQ={};n(wQ),e(wQ,"GraphQLAuthError",(()=>IZ)),e(wQ,"GRAPHQL_AUTH_MODE",(()=>BJ)),e(wQ,"GraphQLAPIClass",(()=>SQ.GraphQLAPIClass)),e(wQ,"GraphQLAuthError",(()=>IZ)),e(wQ,"GRAPHQL_AUTH_MODE",(()=>BJ));var SQ={};e(SQ,"GraphQLAPIClass",(()=>XZ),(e=>XZ=e)),e(SQ,"GraphQLAPI",(()=>eX),(e=>eX=e));var xQ={};e(xQ,"PubSub",(()=>TZ),(e=>TZ=e));var _Q={},EQ={};e(EQ,"AbstractPubSubProvider",(()=>AQ),(e=>AQ=e));var CQ=function(){return CQ=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},CQ.apply(this,arguments)},kQ=new(0,k$.ConsoleLogger)("AbstractPubSubProvider"),AQ=function(){function e(e){void 0===e&&(e={}),this._config=e}return e.prototype.configure=function(e){return void 0===e&&(e={}),this._config=CQ(CQ({},e),this._config),kQ.debug("configure "+this.getProviderName(),this._config),this.options},e.prototype.getCategory=function(){return"PubSub"},Object.defineProperty(e.prototype,"options",{get:function(){return CQ({},this._config)},enumerable:!0,configurable:!0}),e}(),TQ={};e(TQ,"AWSAppSyncProvider",(()=>GQ),(e=>GQ=e));var IQ={};e(IQ,"MqttOverWSProvider",(()=>DQ),(e=>DQ=e));var NQ=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),OQ=function(){return OQ=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},OQ.apply(this,arguments)},PQ=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},jQ=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},RQ=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},MQ=new(0,k$.ConsoleLogger)("MqttOverWSProvider");var UQ=function(){function e(){this.promises=new Map}return e.prototype.get=function(e,t){return PQ(this,void 0,void 0,(function(){var n,r;return jQ(this,(function(o){return(n=this.promises.get(e))?[2,n]:t?(r=t(e),this.promises.set(e,r),[2,r]):[2,void 0]}))}))},Object.defineProperty(e.prototype,"allClients",{get:function(){return Array.from(this.promises.keys())},enumerable:!0,configurable:!0}),e.prototype.remove=function(e){this.promises.delete(e)},e}(),LQ="undefined"!=typeof Symbol?Symbol("topic"):"@@topic",DQ=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,OQ(OQ({},t),{clientId:t.clientId||(0,VK.v4)()}))||this;return n._clientsQueue=new UQ,n._topicObservers=new Map,n._clientIdObservers=new Map,n}return NQ(t,e),Object.defineProperty(t.prototype,"clientId",{get:function(){return this.options.clientId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endpoint",{get:function(){return this.options.aws_pubsub_endpoint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clientsQueue",{get:function(){return this._clientsQueue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSSLEnabled",{get:function(){return!this.options.aws_appsync_dangerously_connect_to_http_endpoint_for_testing},enumerable:!0,configurable:!0}),t.prototype.getTopicForValue=function(e){return"object"==typeof e&&e[LQ]},t.prototype.getProviderName=function(){return"MqttOverWSProvider"},t.prototype.onDisconnect=function(e){var t=this,n=e.clientId,r=e.errorCode,o=RQ(e,["clientId","errorCode"]);if(0!==r){MQ.warn(n,JSON.stringify(OQ({errorCode:r},o),null,2));var i=[];if(!n)return;var a=this._clientIdObservers.get(n);if(!a)return;a.forEach((function(e){e.error("Disconnected, error code: "+r),t._topicObservers.forEach((function(t,n){t.delete(e),0===t.size&&i.push(n)}))})),this._clientIdObservers.delete(n),i.forEach((function(e){t._topicObservers.delete(e)}))}},t.prototype.newClient=function(e){var t=e.url,n=e.clientId;return PQ(this,void 0,void 0,(function(){var e,r=this;return jQ(this,(function(o){switch(o.label){case 0:return MQ.debug("Creating new MQTT client",n),(e=new Ck.Client(t,n)).onMessageArrived=function(e){var t=e.destinationName,n=e.payloadString;r._onMessage(t,n)},e.onConnectionLost=function(e){var t=e.errorCode,o=RQ(e,["errorCode"]);r.onDisconnect(OQ({clientId:n,errorCode:t},o))},[4,new Promise((function(t,n){e.connect({useSSL:r.isSSLEnabled,mqttVersion:3,onSuccess:function(){return t(e)},onFailure:n})}))];case 1:return o.sent(),[2,e]}}))}))},t.prototype.connect=function(e,t){return void 0===t&&(t={}),PQ(this,void 0,void 0,(function(){var n=this;return jQ(this,(function(r){switch(r.label){case 0:return[4,this.clientsQueue.get(e,(function(e){return n.newClient(OQ(OQ({},t),{clientId:e}))}))];case 1:return[2,r.sent()]}}))}))},t.prototype.disconnect=function(e){return PQ(this,void 0,void 0,(function(){var t;return jQ(this,(function(n){switch(n.label){case 0:return[4,this.clientsQueue.get(e)];case 1:return(t=n.sent())&&t.isConnected()&&t.disconnect(),this.clientsQueue.remove(e),[2]}}))}))},t.prototype.publish=function(e,t){return PQ(this,void 0,void 0,(function(){var n,r,o,i;return jQ(this,(function(a){switch(a.label){case 0:return n=[].concat(e),r=JSON.stringify(t),[4,this.endpoint];case 1:return o=a.sent(),[4,this.connect(this.clientId,{url:o})];case 2:return i=a.sent(),MQ.debug("Publishing to topic(s)",n.join(","),r),n.forEach((function(e){return i.send(e,r)})),[2]}}))}))},t.prototype._onMessage=function(e,t){try{var n=[];this._topicObservers.forEach((function(t,r){(function(e,t){for(var n=e.split("/"),r=n.length,o=t.split("/"),i=0;i<r;++i){var a=n[i],s=o[i];if("#"===a)return o.length>=r;if("+"!==a&&a!==s)return!1}return r===o.length})(r,e)&&n.push(t)}));var r=JSON.parse(t);"object"==typeof r&&(r[LQ]=e),n.forEach((function(e){e.forEach((function(e){return e.next(r)}))}))}catch(e){MQ.warn("Error handling message",e,t)}},t.prototype.subscribe=function(e,t){var n=this;void 0===t&&(t={});var r=[].concat(e);return MQ.debug("Subscribing to topic(s)",r.join(",")),new gk((function(e){var o;r.forEach((function(t){var r=n._topicObservers.get(t);r||(r=new Set,n._topicObservers.set(t,r)),r.add(e)}));var i=t.clientId,a=void 0===i?n.clientId:i,s=n._clientIdObservers.get(a);return s||(s=new Set),s.add(e),n._clientIdObservers.set(a,s),PQ(n,void 0,void 0,(function(){var n,i,s,u;return jQ(this,(function(c){switch(c.label){case 0:return void 0!==(n=t.url)?[3,2]:[4,this.endpoint];case 1:return s=c.sent(),[3,3];case 2:s=n,c.label=3;case 3:i=s,c.label=4;case 4:return c.trys.push([4,6,,7]),[4,this.connect(a,{url:i})];case 5:return o=c.sent(),r.forEach((function(e){o.subscribe(e)})),[3,7];case 6:return u=c.sent(),e.error(u),[3,7];case 7:return[2]}}))})),function(){var t,i;return MQ.debug("Unsubscribing from topic(s)",r.join(",")),o&&(null===(t=n._clientIdObservers.get(a))||void 0===t||t.delete(e),0===(null===(i=n._clientIdObservers.get(a))||void 0===i?void 0:i.size)&&(n.disconnect(a),n._clientIdObservers.delete(a)),r.forEach((function(t){var r=n._topicObservers.get(t)||new Set;r.delete(e),0===r.size&&(n._topicObservers.delete(t),o.isConnected()&&o.unsubscribe(t))}))),null}}))},t}(EQ.AbstractPubSubProvider),FQ=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),BQ=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},zQ=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},VQ=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},qQ=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},KQ=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(qQ(arguments[t]));return e},HQ=new(0,k$.ConsoleLogger)("AWSAppSyncProvider"),GQ=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._topicClient=new Map,t._topicAlias=new Map,t}return FQ(t,e),Object.defineProperty(t.prototype,"endpoint",{get:function(){throw new Error("Not supported")},enumerable:!0,configurable:!0}),t.prototype.getProviderName=function(){return"AWSAppSyncProvider"},t.prototype.publish=function(e,t,n){return BQ(this,void 0,void 0,(function(){return zQ(this,(function(e){throw new Error("Operation not supported")}))}))},t.prototype._cleanUp=function(e){var t=this;Array.from(this._topicClient.entries()).filter((function(t){return qQ(t,2)[1].clientId===e})).map((function(e){return qQ(e,1)[0]})).forEach((function(e){return t._cleanUpForTopic(e)}))},t.prototype._cleanUpForTopic=function(e){this._topicClient.delete(e),this._topicAlias.delete(e)},t.prototype.onDisconnect=function(e){var t=this,n=e.clientId,r=e.errorCode,o=VQ(e,["clientId","errorCode"]);0!==r&&(Array.from(this._topicClient.entries()).filter((function(e){return qQ(e,2)[1].clientId===n})).map((function(e){return qQ(e,1)[0]})).forEach((function(e){t._topicObservers.has(e)&&(t._topicObservers.get(e).forEach((function(e){e.closed||e.error(o)})),t._topicObservers.delete(e))})),this._cleanUp(n))},t.prototype.disconnect=function(t){return BQ(this,void 0,void 0,(function(){return zQ(this,(function(n){switch(n.label){case 0:return[4,this.clientsQueue.get(t,(function(){return null}))];case 1:return n.sent(),[4,e.prototype.disconnect.call(this,t)];case 2:return n.sent(),this._cleanUp(t),[2]}}))}))},t.prototype.subscribe=function(e,t){var n=this;void 0===t&&(t={});var r=new gk((function(r){var o=[].concat(e);return HQ.debug("Subscribing to topic(s)",o.join(",")),BQ(n,void 0,void 0,(function(){var e,n,i,a,s,u=this;return zQ(this,(function(c){switch(c.label){case 0:return o.forEach((function(e){u._topicObservers.has(e)||u._topicObservers.set(e,new Set),u._topicObservers.get(e).add(r)})),e=t.mqttConnections,n=void 0===e?[]:e,i=t.newSubscriptions,a=Object.entries(i).map((function(e){var t=qQ(e,2),n=t[0];return[t[1].topic,n]})),this._topicAlias=new Map(KQ(Array.from(this._topicAlias.entries()),a)),s=Object.entries(o.reduce((function(e,t){var r=n.find((function(e){return e.topics.indexOf(t)>-1}));if(r){var o=r.client,i=r.url;e[o]||(e[o]={url:i,topics:new Set}),e[o].topics.add(t)}return e}),{})),[4,Promise.all(s.map((function(e){var t=qQ(e,2),n=t[0],o=t[1],i=o.url,a=o.topics;return BQ(u,void 0,void 0,(function(){var e,t,o=this;return zQ(this,(function(s){switch(s.label){case 0:e=null,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.connect(n,{clientId:n,url:i})];case 2:return e=s.sent(),[3,4];case 3:return t=s.sent(),r.error({message:"Failed to connect",error:t}),r.complete(),[2,void 0];case 4:return a.forEach((function(t){e.isConnected()&&(e.subscribe(t),o._topicClient.set(t,e))})),[2,e]}}))}))})))];case 1:return c.sent(),[2]}}))})),function(){HQ.debug("Unsubscribing from topic(s)",o.join(",")),o.forEach((function(e){var t=n._topicClient.get(e);t&&t.isConnected()&&(t.unsubscribe(e),n._topicClient.delete(e),Array.from(n._topicClient.values()).some((function(e){return e===t}))||n.disconnect(t.clientId)),n._topicObservers.delete(e)}))}}));return gk.from(r).map((function(e){var t=n.getTopicForValue(e),r=n._topicAlias.get(t);return e.data=Object.entries(e.data).reduce((function(e,t){var n=qQ(t,2),o=n[0],i=n[1];return e[r||o]=i,e}),{}),e}))},t}(IQ.MqttOverWSProvider),WQ={};e(WQ,"AWSAppSyncRealTimeProvider",(()=>bZ),(e=>bZ=e));zd=s("awmEs");var $Q={};e($Q,"BrowserStorageCache",(()=>oZ),(e=>oZ=e));var YQ={keyPrefix:"aws-amplify-cache",capacityInBytes:1048576,itemMaxSize:21e4,defaultTTL:2592e5,defaultPriority:5,warningThreshold:.8,storage:(new cJ).getStorage()};function JQ(e){var t=0;t=e.length;for(var n=e.length;n>=0;n-=1){var r=e.charCodeAt(n);r>127&&r<=2047?t+=1:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&(n-=1)}return t}function QQ(){return(new Date).getTime()}function ZQ(e){return Number.isInteger?Number.isInteger(e):function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}(e)}var XQ={},eZ=(function(){function e(){}e.clear=function(){XQ={}},e.getItem=function(e){return XQ[e]||null},e.setItem=function(e,t){XQ[e]=t},e.removeItem=function(e){delete XQ[e]}}(),new(0,k$.ConsoleLogger)("StorageCache")),tZ=function(){function e(e){this.config=Object.assign({},e),this.cacheCurSizeKey=this.config.keyPrefix+"CurSize",this.checkConfig()}return e.prototype.getModuleName=function(){return"Cache"},e.prototype.checkConfig=function(){ZQ(this.config.capacityInBytes)||(eZ.error("Invalid parameter: capacityInBytes. It should be an Integer. Setting back to default."),this.config.capacityInBytes=YQ.capacityInBytes),ZQ(this.config.itemMaxSize)||(eZ.error("Invalid parameter: itemMaxSize. It should be an Integer. Setting back to default."),this.config.itemMaxSize=YQ.itemMaxSize),ZQ(this.config.defaultTTL)||(eZ.error("Invalid parameter: defaultTTL. It should be an Integer. Setting back to default."),this.config.defaultTTL=YQ.defaultTTL),ZQ(this.config.defaultPriority)||(eZ.error("Invalid parameter: defaultPriority. It should be an Integer. Setting back to default."),this.config.defaultPriority=YQ.defaultPriority),this.config.itemMaxSize>this.config.capacityInBytes&&(eZ.error("Invalid parameter: itemMaxSize. It should be smaller than capacityInBytes. Setting back to default."),this.config.itemMaxSize=YQ.itemMaxSize),(this.config.defaultPriority>5||this.config.defaultPriority<1)&&(eZ.error("Invalid parameter: defaultPriority. It should be between 1 and 5. Setting back to default."),this.config.defaultPriority=YQ.defaultPriority),(Number(this.config.warningThreshold)>1||Number(this.config.warningThreshold)<0)&&(eZ.error("Invalid parameter: warningThreshold. It should be between 0 and 1. Setting back to default."),this.config.warningThreshold=YQ.warningThreshold);this.config.capacityInBytes>5242880&&(eZ.error("Cache Capacity should be less than 5MB. Setting back to default. Setting back to default."),this.config.capacityInBytes=YQ.capacityInBytes)},e.prototype.fillCacheItem=function(e,t,n){var r={key:e,data:t,timestamp:QQ(),visitedTime:QQ(),priority:n.priority,expires:n.expires,type:typeof t,byteSize:0};return r.byteSize=JQ(JSON.stringify(r)),r.byteSize=JQ(JSON.stringify(r)),r},e.prototype.configure=function(e){return e?(e.keyPrefix&&eZ.warn("Don't try to configure keyPrefix!"),this.config=Object.assign({},this.config,e,e.Cache),this.checkConfig(),this.config):this.config},e}(),nZ=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rZ=new(0,k$.ConsoleLogger)("Cache"),oZ=new(function(e){function t(t){var n=this,r=t?Object.assign({},YQ,t):YQ;return(n=e.call(this,r)||this).config.storage=r.storage,n.getItem=n.getItem.bind(n),n.setItem=n.setItem.bind(n),n.removeItem=n.removeItem.bind(n),n}return nZ(t,e),t.prototype._decreaseCurSizeInBytes=function(e){var t=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(t-e).toString())},t.prototype._increaseCurSizeInBytes=function(e){var t=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(t+e).toString())},t.prototype._refreshItem=function(e,t){return e.visitedTime=QQ(),this.config.storage.setItem(t,JSON.stringify(e)),e},t.prototype._isExpired=function(e){var t=this.config.storage.getItem(e),n=JSON.parse(t);return QQ()>=n.expires},t.prototype._removeItem=function(e,t){var n=t||JSON.parse(this.config.storage.getItem(e)).byteSize;this._decreaseCurSizeInBytes(n),this.config.storage.removeItem(e)},t.prototype._setItem=function(e,t){this._increaseCurSizeInBytes(t.byteSize);try{this.config.storage.setItem(e,JSON.stringify(t))}catch(e){this._decreaseCurSizeInBytes(t.byteSize),rZ.error("Failed to set item "+e)}},t.prototype._sizeToPop=function(e){var t=this.getCacheCurSize()+e-this.config.capacityInBytes,n=(1-this.config.warningThreshold)*this.config.capacityInBytes;return t>n?t:n},t.prototype._isCacheFull=function(e){return e+this.getCacheCurSize()>this.config.capacityInBytes},t.prototype._findValidKeys=function(){for(var e=[],t=[],n=0;n<this.config.storage.length;n+=1)t.push(this.config.storage.key(n));for(n=0;n<t.length;n+=1){var r=t[n];0===r.indexOf(this.config.keyPrefix)&&r!==this.cacheCurSizeKey&&(this._isExpired(r)?this._removeItem(r):e.push(r))}return e},t.prototype._popOutItems=function(e,t){for(var n=[],r=t,o=0;o<e.length;o+=1){var i=this.config.storage.getItem(e[o]);if(null!=i){var a=JSON.parse(i);n.push(a)}}n.sort((function(e,t){return e.priority>t.priority?-1:e.priority<t.priority?1:e.visitedTime<t.visitedTime?-1:1}));for(o=0;o<n.length;o+=1)if(this._removeItem(n[o].key,n[o].byteSize),(r-=n[o].byteSize)<=0)return},t.prototype.setItem=function(e,t,n){rZ.log("Set item: key is "+e+", value is "+t+" with options: "+n);var r=this.config.keyPrefix+e;if(r!==this.config.keyPrefix&&r!==this.cacheCurSizeKey)if(void 0!==t){var o={priority:n&&void 0!==n.priority?n.priority:this.config.defaultPriority,expires:n&&void 0!==n.expires?n.expires:this.config.defaultTTL+QQ()};if(o.priority<1||o.priority>5)rZ.warn("Invalid parameter: priority due to out or range. It should be within 1 and 5.");else{var i=this.fillCacheItem(r,t,o);if(i.byteSize>this.config.itemMaxSize)rZ.warn("Item with key: "+e+" you are trying to put into is too big!");else try{var a=this.config.storage.getItem(r);if(a&&this._removeItem(r,JSON.parse(a).byteSize),this._isCacheFull(i.byteSize)){var s=this._findValidKeys();if(this._isCacheFull(i.byteSize)){var u=this._sizeToPop(i.byteSize);this._popOutItems(s,u)}}this._setItem(r,i)}catch(e){rZ.warn("setItem failed! "+e)}}}else rZ.warn("The value of item should not be undefined!");else rZ.warn("Invalid key: should not be empty or 'CurSize'")},t.prototype.getItem=function(e,t){rZ.log("Get item: key is "+e+" with options "+t);var n=null,r=this.config.keyPrefix+e;if(r===this.config.keyPrefix||r===this.cacheCurSizeKey)return rZ.warn("Invalid key: should not be empty or 'CurSize'"),null;try{if(null!=(n=this.config.storage.getItem(r))){if(!this._isExpired(r)){var o=JSON.parse(n);return(o=this._refreshItem(o,r)).data}this._removeItem(r,JSON.parse(n).byteSize),n=null}if(t&&void 0!==t.callback){var i=t.callback();return null!==i&&this.setItem(e,i,t),i}return null}catch(e){return rZ.warn("getItem failed! "+e),null}},t.prototype.removeItem=function(e){rZ.log("Remove item: key is "+e);var t=this.config.keyPrefix+e;if(t!==this.config.keyPrefix&&t!==this.cacheCurSizeKey)try{var n=this.config.storage.getItem(t);n&&this._removeItem(t,JSON.parse(n).byteSize)}catch(e){rZ.warn("removeItem failed! "+e)}},t.prototype.clear=function(){rZ.log("Clear Cache");for(var e=[],t=0;t<this.config.storage.length;t+=1){var n=this.config.storage.key(t);0===n.indexOf(this.config.keyPrefix)&&e.push(n)}try{for(t=0;t<e.length;t+=1)this.config.storage.removeItem(e[t])}catch(e){rZ.warn("clear failed! "+e)}},t.prototype.getAllKeys=function(){for(var e=[],t=0;t<this.config.storage.length;t+=1){var n=this.config.storage.key(t);0===n.indexOf(this.config.keyPrefix)&&n!==this.cacheCurSizeKey&&e.push(n.substring(this.config.keyPrefix.length))}return e},t.prototype.getCacheCurSize=function(){var e=this.config.storage.getItem(this.cacheCurSizeKey);return e||(this.config.storage.setItem(this.cacheCurSizeKey,"0"),e="0"),Number(e)},t.prototype.createInstance=function(e){return e.keyPrefix&&e.keyPrefix!==YQ.keyPrefix||(rZ.error("invalid keyPrefix, setting keyPrefix with timeStamp"),e.keyPrefix=QQ.toString()),new t(e)},t}(tZ)),iZ=$Q.BrowserStorageCache;C$.Amplify.register($Q.BrowserStorageCache);var aZ,sZ,uZ,cZ=[400,401,403];!function(e){e.GQL_CONNECTION_INIT="connection_init",e.GQL_CONNECTION_ERROR="connection_error",e.GQL_CONNECTION_ACK="connection_ack",e.GQL_START="start",e.GQL_START_ACK="start_ack",e.GQL_DATA="data",e.GQL_CONNECTION_KEEP_ALIVE="ka",e.GQL_STOP="stop",e.GQL_COMPLETE="complete",e.GQL_ERROR="error"}(aZ||(aZ={})),function(e){e[e.PENDING=0]="PENDING",e[e.CONNECTED=1]="CONNECTED",e[e.FAILED=2]="FAILED"}(sZ||(sZ={})),function(e){e[e.CLOSED=0]="CLOSED",e[e.READY=1]="READY",e[e.CONNECTING=2]="CONNECTING"}(uZ||(uZ={}));var lZ="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",dZ={accept:"application/json, text/javascript","content-encoding":"amz-1.0","content-type":"application/json; charset=UTF-8"},fZ=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hZ=function(){return hZ=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},hZ.apply(this,arguments)},pZ=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},vZ=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},gZ=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},mZ=new(0,k$.ConsoleLogger)("AWSAppSyncRealTimeProvider"),yZ=/^https:\/\/\w{26}\.appsync\-api\.\w{2}(?:(?:\-\w{2,})+)\-\d\.amazonaws.com\/graphql$/i,bZ=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.socketStatus=uZ.CLOSED,t.keepAliveTimeout=3e5,t.subscriptionObserverMap=new Map,t.promiseArray=[],t}return fZ(t,e),t.prototype.getNewWebSocket=function(e,t){return new WebSocket(e,t)},t.prototype.getProviderName=function(){return"AWSAppSyncRealTimeProvider"},t.prototype.newClient=function(){throw new Error("Not used here")},t.prototype.publish=function(e,t,n){return pZ(this,void 0,void 0,(function(){return vZ(this,(function(e){throw new Error("Operation not supported")}))}))},t.prototype.isCustomDomain=function(e){return null===e.match(yZ)},t.prototype.subscribe=function(e,t){var n=this,r=null==t?void 0:t.appSyncGraphqlEndpoint;return new gk((function(e){if(t&&r){var o=(0,VK.v4)();return n._startSubscriptionWithAWSAppSyncRealTime({options:t,observer:e,subscriptionId:o}).catch((function(t){e.error({errors:[hZ({},new yC(_Z.REALTIME_SUBSCRIPTION_INIT_ERROR+": "+t))]}),e.complete()})),function(){return pZ(n,void 0,void 0,(function(){var e,t;return vZ(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,3,4]),[4,this._waitForSubscriptionToBeConnected(o)];case 1:if(n.sent(),!(e=(this.subscriptionObserverMap.get(o)||{}).subscriptionState))return[2];if(e!==sZ.CONNECTED)throw new Error("Subscription never connected");return this._sendUnsubscriptionMessage(o),[3,4];case 2:return t=n.sent(),mZ.debug("Error while unsubscribing "+t),[3,4];case 3:return this._removeSubscriptionObserver(o),[7];case 4:return[2]}}))}))}}e.error({errors:[hZ({},new yC("Subscribe only available for AWS AppSync endpoint"))]}),e.complete()}))},Object.defineProperty(t.prototype,"isSSLEnabled",{get:function(){return!this.options.aws_appsync_dangerously_connect_to_http_endpoint_for_testing},enumerable:!0,configurable:!0}),t.prototype._startSubscriptionWithAWSAppSyncRealTime=function(e){var t,n,r=e.options,o=e.observer,i=e.subscriptionId;return pZ(this,void 0,void 0,(function(){var e,a,s,u,c,l,d,f,h,p,v,g,m,y,b,w,S,x,_,E,C,k,A,T,I,N=this;return vZ(this,(function(O){switch(O.label){case 0:return e=r.appSyncGraphqlEndpoint,a=r.authenticationType,s=r.query,u=r.variables,c=r.apiKey,l=r.region,d=r.graphql_headers,f=void 0===d?function(){return{}}:d,h=r.additionalHeaders,p=void 0===h?{}:h,v=sZ.PENDING,g={query:s,variables:u},this.subscriptionObserverMap.set(i,{observer:o,query:null!=s?s:"",variables:null!=u?u:{},subscriptionState:v,startAckTimeoutId:void 0}),m=JSON.stringify(g),b=[{}],[4,this._awsRealTimeHeaderBasedAuth({apiKey:c,appSyncGraphqlEndpoint:e,authenticationType:a,payload:m,canonicalUri:"",region:l,additionalHeaders:p})];case 1:return w=[hZ.apply(void 0,b.concat([O.sent()]))],[4,f()];case 2:y=hZ.apply(void 0,[hZ.apply(void 0,[hZ.apply(void 0,w.concat([O.sent()])),p]),(I={},I[RJ]=MJ.userAgent,I)]),S={id:i,payload:{data:m,extensions:{authorization:hZ({},y)}},type:aZ.GQL_START},x=JSON.stringify(S),O.label=3;case 3:return O.trys.push([3,5,,6]),[4,this._initializeWebSocketConnection({apiKey:c,appSyncGraphqlEndpoint:e,authenticationType:a,region:l,additionalHeaders:p})];case 4:return O.sent(),[3,6];case 5:return _=O.sent(),mZ.debug({err:_}),E=null!==(t=_.message)&&void 0!==t?t:"",o.error({errors:[hZ({},new yC(_Z.CONNECTION_FAILED+": "+E))]}),o.complete(),"function"==typeof(C=(this.subscriptionObserverMap.get(i)||{}).subscriptionFailedCallback)&&C(),[2];case 6:return k=null!==(n=this.subscriptionObserverMap.get(i))&&void 0!==n?n:{},A=k.subscriptionFailedCallback,T=k.subscriptionReadyCallback,this.subscriptionObserverMap.set(i,{observer:o,subscriptionState:v,query:null!=s?s:"",variables:null!=u?u:{},subscriptionReadyCallback:T,subscriptionFailedCallback:A,startAckTimeoutId:setTimeout((function(){N._timeoutStartSubscriptionAck.call(N,i)}),15e3)}),this.awsRealTimeSocket&&this.awsRealTimeSocket.send(x),[2]}}))}))},t.prototype._waitForSubscriptionToBeConnected=function(e){return pZ(this,void 0,void 0,(function(){var t,n=this;return vZ(this,(function(r){return(t=this.subscriptionObserverMap.get(e))&&t.subscriptionState===sZ.PENDING?[2,new Promise((function(r,o){var i=t.observer,a=t.subscriptionState,s=t.variables,u=t.query;n.subscriptionObserverMap.set(e,{observer:i,subscriptionState:a,variables:s,query:u,subscriptionReadyCallback:r,subscriptionFailedCallback:o})}))]:[2]}))}))},t.prototype._sendUnsubscriptionMessage=function(e){try{if(this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.socketStatus===uZ.READY){var t={id:e,type:aZ.GQL_STOP},n=JSON.stringify(t);this.awsRealTimeSocket.send(n)}}catch(e){mZ.debug({err:e})}},t.prototype._removeSubscriptionObserver=function(e){this.subscriptionObserverMap.delete(e),setTimeout(this._closeSocketIfRequired.bind(this),1e3)},t.prototype._closeSocketIfRequired=function(){if(!(this.subscriptionObserverMap.size>0))if(this.awsRealTimeSocket)if(this.awsRealTimeSocket.bufferedAmount>0)setTimeout(this._closeSocketIfRequired.bind(this),1e3);else{mZ.debug("closing WebSocket..."),this.keepAliveTimeoutId&&clearTimeout(this.keepAliveTimeoutId);var e=this.awsRealTimeSocket;e.onclose=null,e.onerror=null,e.close(1e3),this.awsRealTimeSocket=void 0,this.socketStatus=uZ.CLOSED}else this.socketStatus=uZ.CLOSED},t.prototype._handleIncomingSubscriptionMessage=function(e){mZ.debug("subscription message from AWS AppSync RealTime: "+e.data);var t=JSON.parse(e.data),n=t.id,r=void 0===n?"":n,o=t.payload,i=t.type,a=this.subscriptionObserverMap.get(r)||{},s=a.observer,u=void 0===s?null:s,c=a.query,l=void 0===c?"":c,d=a.variables,f=void 0===d?{}:d,h=a.startAckTimeoutId,p=a.subscriptionReadyCallback,v=a.subscriptionFailedCallback;if(mZ.debug({id:r,observer:u,query:l,variables:f}),i===aZ.GQL_DATA&&o&&o.data)u?u.next(o):mZ.debug("observer not found for id: "+r);else if(i!==aZ.GQL_START_ACK){if(i===aZ.GQL_CONNECTION_KEEP_ALIVE)return this.keepAliveTimeoutId&&clearTimeout(this.keepAliveTimeoutId),void(this.keepAliveTimeoutId=setTimeout(this._errorDisconnect.bind(this,_Z.TIMEOUT_DISCONNECT),this.keepAliveTimeout));if(i===aZ.GQL_ERROR){g=sZ.FAILED;u&&(this.subscriptionObserverMap.set(r,{observer:u,query:l,variables:f,startAckTimeoutId:h,subscriptionReadyCallback:p,subscriptionFailedCallback:v,subscriptionState:g}),u.error({errors:[hZ({},new yC(_Z.CONNECTION_FAILED+": "+JSON.stringify(o)))]}),h&&clearTimeout(h),u.complete(),"function"==typeof v&&v())}}else{mZ.debug("subscription ready for "+JSON.stringify({query:l,variables:f})),"function"==typeof p&&p(),h&&clearTimeout(h),function(e,t,n){F$.Hub.dispatch("api",{event:e,data:t,message:n},"PubSub",lZ)}(_Z.SUBSCRIPTION_ACK,{query:l,variables:f},"Connection established for subscription");var g=sZ.CONNECTED;u&&this.subscriptionObserverMap.set(r,{observer:u,query:l,variables:f,startAckTimeoutId:void 0,subscriptionState:g,subscriptionReadyCallback:p,subscriptionFailedCallback:v})}},t.prototype._errorDisconnect=function(e){mZ.debug("Disconnect error: "+e),this.subscriptionObserverMap.forEach((function(t){var n=t.observer;n&&!n.closed&&n.error({errors:[hZ({},new yC(e))]})})),this.subscriptionObserverMap.clear(),this.awsRealTimeSocket&&this.awsRealTimeSocket.close(),this.socketStatus=uZ.CLOSED},t.prototype._timeoutStartSubscriptionAck=function(e){var t=this.subscriptionObserverMap.get(e);if(t){var n=t.observer,r=t.query,o=t.variables;if(!n)return;this.subscriptionObserverMap.set(e,{observer:n,query:r,variables:o,subscriptionState:sZ.FAILED}),n&&!n.closed&&(n.error({errors:[hZ({},new yC("Subscription timeout "+JSON.stringify({query:r,variables:o})))]}),n.complete()),mZ.debug("timeoutStartSubscription",JSON.stringify({query:r,variables:o}))}},t.prototype._initializeWebSocketConnection=function(e){var t=this,n=e.appSyncGraphqlEndpoint,r=e.authenticationType,o=e.apiKey,i=e.region,a=e.additionalHeaders;if(this.socketStatus!==uZ.READY)return new Promise((function(e,s){return pZ(t,void 0,void 0,(function(){var t,u,c,l,d,f,h,p,v,g;return vZ(this,(function(m){switch(m.label){case 0:if(this.promiseArray.push({res:e,rej:s}),this.socketStatus!==uZ.CLOSED)return[3,5];m.label=1;case 1:return m.trys.push([1,4,,5]),this.socketStatus=uZ.CONNECTING,t="{}",l=(c=JSON).stringify,[4,this._awsRealTimeHeaderBasedAuth({authenticationType:r,payload:t,canonicalUri:"/connect",apiKey:o,appSyncGraphqlEndpoint:n,region:i,additionalHeaders:a})];case 2:return u=l.apply(c,[m.sent()]),d=zd.Buffer.from(u).toString("base64"),f=zd.Buffer.from(t).toString("base64"),h=null!=n?n:"",h=this.isCustomDomain(h)?h.concat("/realtime"):h.replace("appsync-api","appsync-realtime-api").replace("gogi-beta","grt-beta"),p=this.isSSLEnabled?"wss://":"ws://",h=h.replace("https://",p).replace("http://",p),v=h+"?header="+d+"&payload="+f,[4,this._initializeRetryableHandshake(v)];case 3:return m.sent(),this.promiseArray.forEach((function(e){var t=e.res;mZ.debug("Notifying connection successful"),t()})),this.socketStatus=uZ.READY,this.promiseArray=[],[3,5];case 4:return g=m.sent(),this.promiseArray.forEach((function(e){return(0,e.rej)(g)})),this.promiseArray=[],this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.awsRealTimeSocket.close(3001),this.awsRealTimeSocket=void 0,this.socketStatus=uZ.CLOSED,[3,5];case 5:return[2]}}))}))}))},t.prototype._initializeRetryableHandshake=function(e){return pZ(this,void 0,void 0,(function(){return vZ(this,(function(t){switch(t.label){case 0:return mZ.debug("Initializaling retryable Handshake"),[4,(0,vY.jitteredExponentialRetry)(this._initializeHandshake.bind(this),[e],5e3)];case 1:return t.sent(),[2]}}))}))},t.prototype._initializeHandshake=function(e){return pZ(this,void 0,void 0,(function(){var t,n,r,o,i=this;return vZ(this,(function(a){switch(a.label){case 0:mZ.debug("Initializing handshake "+e),a.label=1;case 1:return a.trys.push([1,4,,5]),[4,new Promise((function(t,n){var r=i.getNewWebSocket(e,"graphql-ws");r.onerror=function(){mZ.debug("WebSocket connection error")},r.onclose=function(){n(new Error("Connection handshake error"))},r.onopen=function(){return i.awsRealTimeSocket=r,t()}}))];case 2:return a.sent(),[4,new Promise((function(e,t){if(i.awsRealTimeSocket){var n=!1;i.awsRealTimeSocket.onerror=function(e){mZ.debug("WebSocket error "+JSON.stringify(e))},i.awsRealTimeSocket.onclose=function(e){mZ.debug("WebSocket closed "+e.reason),t(new Error(JSON.stringify(e)))},i.awsRealTimeSocket.onmessage=function(r){mZ.debug("subscription message from AWS AppSyncRealTime: "+r.data+" ");var o=JSON.parse(r.data),a=o.type,s=o.payload,u=(void 0===s?{}:s).connectionTimeoutMs,c=void 0===u?3e5:u;if(a===aZ.GQL_CONNECTION_ACK)return n=!0,i.awsRealTimeSocket&&(i.keepAliveTimeout=c,i.awsRealTimeSocket.onmessage=i._handleIncomingSubscriptionMessage.bind(i),i.awsRealTimeSocket.onerror=function(e){mZ.debug(e),i._errorDisconnect(_Z.CONNECTION_CLOSED)},i.awsRealTimeSocket.onclose=function(e){mZ.debug("WebSocket closed "+e.reason),i._errorDisconnect(_Z.CONNECTION_CLOSED)}),void e("Cool, connected to AWS AppSyncRealTime");if(a===aZ.GQL_CONNECTION_ERROR){var l=o.payload,d=(void 0===l?{}:l).errors,f=gZ(void 0===d?[]:d,1)[0],h=void 0===f?{}:f,p=h.errorType,v=void 0===p?"":p,g=h.errorCode;t({errorType:v,errorCode:void 0===g?0:g})}};var r={type:aZ.GQL_CONNECTION_INIT};i.awsRealTimeSocket.send(JSON.stringify(r)),setTimeout(function(e){e||t(new Error("Connection timeout: ack from AWSRealTime was not received on 15000 ms"))}.bind(i,n),15e3)}}))];case 3:return a.sent(),[3,5];case 4:throw t=a.sent(),r=(n=t).errorType,o=n.errorCode,cZ.includes(o)?new(0,vY.NonRetryableError)(r):r?new Error(r):t;case 5:return[2]}}))}))},t.prototype._awsRealTimeHeaderBasedAuth=function(e){var t=e.authenticationType,n=e.payload,r=e.canonicalUri,o=e.appSyncGraphqlEndpoint,i=e.apiKey,a=e.region,s=e.additionalHeaders;return pZ(this,void 0,void 0,(function(){var e,u,c;return vZ(this,(function(l){switch(l.label){case 0:return e={API_KEY:this._awsRealTimeApiKeyHeader.bind(this),AWS_IAM:this._awsRealTimeIAMHeader.bind(this),OPENID_CONNECT:this._awsRealTimeOPENIDHeader.bind(this),AMAZON_COGNITO_USER_POOLS:this._awsRealTimeCUPHeader.bind(this),AWS_LAMBDA:this._customAuthHeader},t&&e[t]?[3,1]:(mZ.debug("Authentication type "+t+" not supported"),[2,""]);case 1:return u=e[t],c=_e(null!=o?o:"").host,mZ.debug("Authenticating with "+t),[4,u({payload:n,canonicalUri:r,appSyncGraphqlEndpoint:o,apiKey:i,region:a,host:c,additionalHeaders:s})];case 2:return[2,l.sent()]}}))}))},t.prototype._awsRealTimeCUPHeader=function(e){var t=e.host;return pZ(this,void 0,void 0,(function(){return vZ(this,(function(e){switch(e.label){case 0:return[4,bQ.currentSession()];case 1:return[2,{Authorization:e.sent().getAccessToken().getJwtToken(),host:t}]}}))}))},t.prototype._awsRealTimeOPENIDHeader=function(e){var t=e.host;return pZ(this,void 0,void 0,(function(){var e,n,r;return vZ(this,(function(o){switch(o.label){case 0:return[4,iZ.getItem("federatedInfo")];case 1:return(n=o.sent())?(e=n.token,[3,4]):[3,2];case 2:return[4,bQ.currentAuthenticatedUser()];case 3:(r=o.sent())&&(e=r.token),o.label=4;case 4:if(!e)throw new Error("No federated jwt");return[2,{Authorization:e,host:t}]}}))}))},t.prototype._awsRealTimeApiKeyHeader=function(e){var t=e.apiKey,n=e.host;return pZ(this,void 0,void 0,(function(){var e,r;return vZ(this,(function(o){return e=new Date,r=e.toISOString().replace(/[:\-]|\.\d{3}/g,""),[2,{host:n,"x-amz-date":r,"x-api-key":t}]}))}))},t.prototype._awsRealTimeIAMHeader=function(e){var t=e.payload,n=e.canonicalUri,r=e.appSyncGraphqlEndpoint,o=e.region;return pZ(this,void 0,void 0,(function(){var e,i,a;return vZ(this,(function(s){switch(s.label){case 0:return e={region:o,service:"appsync"},[4,this._ensureCredentials()];case 1:if(!s.sent())throw new Error("No credentials");return[4,aJ.Credentials.get().then((function(e){var t=e;return{secret_key:t.secretAccessKey,access_key:t.accessKeyId,session_token:t.sessionToken}}))];case 2:return i=s.sent(),a={url:""+r+n,data:t,method:"POST",headers:hZ({},dZ)},[2,hY.Signer.sign(a,i,e).headers]}}))}))},t.prototype._customAuthHeader=function(e){var t=e.host,n=e.additionalHeaders;if(!n||!n.Authorization)throw new Error("No auth token specified");return{Authorization:n.Authorization,host:t}},t.prototype._ensureCredentials=function(){return aJ.Credentials.get().then((function(e){if(!e)return!1;var t=aJ.Credentials.shear(e);return mZ.debug("set credentials for AWSAppSyncRealTimeProvider",t),!0})).catch((function(e){return mZ.warn("ensure credentials error",e),!1}))},t}(EQ.AbstractPubSubProvider),wZ=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),SZ=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},xZ=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};!function(e){function t(t){return void 0===t&&(t={}),e.call(this,t)||this}wZ(t,e),Object.defineProperty(t.prototype,"region",{get:function(){return this.options.aws_pubsub_region},enumerable:!0,configurable:!0}),t.prototype.getProviderName=function(){return"AWSIoTProvider"},Object.defineProperty(t.prototype,"endpoint",{get:function(){return SZ(this,void 0,void 0,(function(){var e,t,n,r,o,i;return xZ(this,(function(a){switch(a.label){case 0:return e=this.options.aws_pubsub_endpoint,t={service:"iotdevicegateway",region:this.region},[4,aJ.Credentials.get()];case 1:return n=a.sent(),r=n.accessKeyId,o=n.secretAccessKey,i=n.sessionToken,[2,hY.Signer.signUrl(e,{access_key:r,secret_key:o,session_token:i},t)]}}))}))},enumerable:!0,configurable:!0})}(IQ.MqttOverWSProvider);o(_Q,EQ),o(_Q,TQ),o(_Q,WQ),o(_Q,{}),o(_Q,IQ);var _Z,EZ=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},CZ=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},kZ=uY().isNode,AZ=new(0,k$.ConsoleLogger)("PubSub"),TZ=new(function(){function e(e){this._options=null!=e?e:{},AZ.debug("PubSub Options",this._options),this._pluggables=[],this.subscribe=this.subscribe.bind(this)}return Object.defineProperty(e.prototype,"awsAppSyncProvider",{get:function(){return this._awsAppSyncProvider||(this._awsAppSyncProvider=new(0,TQ.AWSAppSyncProvider)(this._options)),this._awsAppSyncProvider},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"awsAppSyncRealTimeProvider",{get:function(){return this._awsAppSyncRealTimeProvider||(this._awsAppSyncRealTimeProvider=new(0,WQ.AWSAppSyncRealTimeProvider)(this._options)),this._awsAppSyncRealTimeProvider},enumerable:!0,configurable:!0}),e.prototype.getModuleName=function(){return"PubSub"},e.prototype.configure=function(e){var t=this,n=e?e.PubSub||e:{};return AZ.debug("configure PubSub",{opt:n}),this._options=Object.assign({},this._options,n),this._pluggables.map((function(e){return e.configure(t._options)})),this._options},e.prototype.addPluggable=function(e){return EZ(this,void 0,void 0,(function(){return CZ(this,(function(t){return e&&"PubSub"===e.getCategory()?(this._pluggables.push(e),[2,e.configure(this._options)]):[2]}))}))},e.prototype.removePluggable=function(e){this._pluggables=this._pluggables.filter((function(t){return t.getProviderName()!==e}))},e.prototype.getProviderByName=function(e){return e===PJ?this.awsAppSyncProvider:e===jJ?this.awsAppSyncRealTimeProvider:this._pluggables.find((function(t){return t.getProviderName()===e}))},e.prototype.getProviders=function(e){void 0===e&&(e={});var t=e.provider;if(!t)return this._pluggables;var n=this.getProviderByName(t);if(!n)throw new Error("Could not find provider named "+t);return[n]},e.prototype.publish=function(e,t,n){return EZ(this,void 0,void 0,(function(){return CZ(this,(function(r){return[2,Promise.all(this.getProviders(n).map((function(r){return r.publish(e,t,n)})))]}))}))},e.prototype.subscribe=function(e,t){if(kZ&&this._options&&this._options.ssr)throw new Error("Subscriptions are not supported for Server-Side Rendering (SSR)");AZ.debug("subscribe options",t);var n=this.getProviders(t);return new gk((function(r){var o=n.map((function(n){return{provider:n,observable:n.subscribe(e,t)}})).map((function(e){var t=e.provider;return e.observable.subscribe({start:console.error,next:function(e){return r.next({provider:t,value:e})},error:function(e){return r.error({provider:t,error:e})}})}));return function(){return o.forEach((function(e){return e.unsubscribe()}))}}))},e}());C$.Amplify.register(TZ),function(e){e.CONNECTION_CLOSED="Connection closed",e.CONNECTION_FAILED="Connection failed",e.REALTIME_SUBSCRIPTION_INIT_ERROR="AppSync Realtime subscription init error",e.SUBSCRIPTION_ACK="Subscription ack",e.TIMEOUT_DISCONNECT="Timeout disconnect"}(_Z||(_Z={}));var IZ,NZ=xQ.PubSub;!function(e){e.NO_API_KEY="No api-key configured",e.NO_CURRENT_USER="No current user",e.NO_CREDENTIALS="No credentials",e.NO_FEDERATED_JWT="No federated jwt",e.NO_AUTH_TOKEN="No auth token specified"}(IZ||(IZ={}));var OZ={};e(OZ,"RestAPIClass",(()=>HZ),(e=>HZ=e)),e(OZ,"RestAPI",(()=>GZ),(e=>GZ=e));var PZ={};e(PZ,"RestClient",(()=>FZ),(e=>FZ=e));var jZ;jZ=s("98jrQ");var RZ=function(){return RZ=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},RZ.apply(this,arguments)},MZ=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},UZ=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},LZ=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},DZ=new(0,k$.ConsoleLogger)("RestClient"),FZ=function(){function e(e){this._region="us-east-1",this._service="execute-api",this._custom_header=void 0,this._cancelTokenMap=null,this.Credentials=aJ.Credentials,this._options=e,DZ.debug("API Options",this._options),null==this._cancelTokenMap&&(this._cancelTokenMap=new WeakMap)}return e.prototype.ajax=function(e,t,n){return MZ(this,void 0,void 0,(function(){var r,o,i,a,s,u,c,l,d,f,h,p,v,g,m=this;return UZ(this,(function(y){switch(y.label){case 0:return DZ.debug(t,e),i="us-east-1",a="execute-api",s=void 0,"string"==typeof e?(r=this._parseUrl(e),o=e):(o=e.endpoint,s=e.custom_header,i=e.region,a=e.service,r=this._parseUrl(e.endpoint)),u={method:t,url:o,host:r.host,path:r.path,headers:{},data:null,responseType:"json",timeout:0,cancelToken:null},c={},L$.isReactNative&&(l=L$.userAgent||"aws-amplify/0.1.x",c={"User-Agent":l}),d=Object.assign({},n),f=d.response,d.body&&("function"==typeof FormData&&d.body instanceof FormData?(c["Content-Type"]="multipart/form-data",u.data=d.body):(c["Content-Type"]="application/json; charset=UTF-8",u.data=JSON.stringify(d.body))),d.responseType&&(u.responseType=d.responseType),d.withCredentials&&(u.withCredentials=d.withCredentials),d.timeout&&(u.timeout=d.timeout),d.cancellableToken&&(u.cancelToken=d.cancellableToken.token),u.signerServiceInfo=d.signerServiceInfo,"function"!=typeof s?[3,2]:[4,s()];case 1:return p=y.sent(),[3,3];case 2:p=void 0,y.label=3;case 3:return h=p,u.headers=RZ(RZ(RZ({},c),h),d.headers),v=_e(o,!0,!0),v.search,g=LZ(v,["search"]),u.url=Ee(RZ(RZ({},g),{query:RZ(RZ({},g.query),d.queryStringParameters||{})})),void 0!==u.headers.Authorization?(u.headers=Object.keys(u.headers).reduce((function(e,t){return u.headers[t]&&(e[t]=u.headers[t]),e}),{}),[2,this._request(u,f)]):[2,this.Credentials.get().then((function(r){return m._signed(RZ({},u),r,f,{region:i,service:a}).catch((function(r){if(OY.DateUtils.isClockSkewError(r)){var o=r.response.headers,i=o&&(o.date||o.Date),a=new Date(i),s=OY.DateUtils.getDateFromHeaderString(u.headers["x-amz-date"]);if(OY.DateUtils.isClockSkewed(a))return OY.DateUtils.setClockOffset(a.getTime()-s.getTime()),m.ajax(e,t,n)}throw r}))}),(function(e){return DZ.debug("No credentials available, the request will be unsigned"),m._request(u,f)}))]}}))}))},e.prototype.get=function(e,t){return this.ajax(e,"GET",t)},e.prototype.put=function(e,t){return this.ajax(e,"PUT",t)},e.prototype.patch=function(e,t){return this.ajax(e,"PATCH",t)},e.prototype.post=function(e,t){return this.ajax(e,"POST",t)},e.prototype.del=function(e,t){return this.ajax(e,"DELETE",t)},e.prototype.head=function(e,t){return this.ajax(e,"HEAD",t)},e.prototype.cancel=function(e,t){var n=this._cancelTokenMap.get(e);return!!n&&(n.cancel(t),!0)},e.prototype.hasCancelToken=function(e){return this._cancelTokenMap.has(e)},e.prototype.isCancel=function(e){return r(jZ).isCancel(e)},e.prototype.getCancellableToken=function(){return r(jZ).CancelToken.source()},e.prototype.updateRequestToBeCancellable=function(e,t){this._cancelTokenMap.set(e,t)},e.prototype.endpoint=function(e){var t=this,n=this._options.endpoints,r="";return Array.isArray(n)?(n.forEach((function(n){n.name===e&&(r=n.endpoint,"string"==typeof n.region?t._region=n.region:"string"==typeof t._options.region&&(t._region=t._options.region),"string"==typeof n.service?t._service=n.service||"execute-api":t._service="execute-api","function"==typeof n.custom_header?t._custom_header=n.custom_header:t._custom_header=void 0)})),r):r},e.prototype._signed=function(e,t,n,o){var i=o.service,a=o.region,s=e.signerServiceInfo,u=LZ(e,["signerServiceInfo"]),c=a||this._region||this._options.region,l=i||this._service||this._options.service,d={secret_key:t.secretAccessKey,access_key:t.accessKeyId,session_token:t.sessionToken},f={region:c,service:l},h=Object.assign(f,s),p=hY.Signer.sign(u,d,h);return p.data&&(p.body=p.data),DZ.debug("Signed Request: ",p),delete p.headers.host,r(jZ)(p).then((function(e){return n?e:e.data})).catch((function(e){throw DZ.debug(e),e}))},e.prototype._request=function(e,t){return void 0===t&&(t=!1),r(jZ)(e).then((function(e){return t?e:e.data})).catch((function(e){throw DZ.debug(e),e}))},e.prototype._parseUrl=function(e){var t=e.split("/");return{host:t[2],path:"/"+t.slice(3).join("/")}},e}(),BZ=function(){return BZ=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},BZ.apply(this,arguments)},zZ=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},VZ=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},qZ=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},KZ=new(0,k$.ConsoleLogger)("RestAPI"),HZ=function(){function e(e){this._api=null,this.Credentials=aJ.Credentials,this._options=e,KZ.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"RestAPI"},e.prototype.configure=function(e){var t=e||{},n=t.API,r=void 0===n?{}:n,o=qZ(t,["API"]),i=BZ(BZ({},o),r);if(KZ.debug("configure Rest API",{opt:i}),i.aws_project_region){if(i.aws_cloud_logic_custom){var a=i.aws_cloud_logic_custom;i.endpoints="string"==typeof a?JSON.parse(a):a}i=Object.assign({},i,{region:i.aws_project_region,header:{}})}return Array.isArray(i.endpoints)?i.endpoints.forEach((function(e){void 0!==e.custom_header&&"function"!=typeof e.custom_header&&(KZ.warn("Rest API "+e.name+", custom_header should be a function"),e.custom_header=void 0)})):this._options&&Array.isArray(this._options.endpoints)?i.endpoints=this._options.endpoints:i.endpoints=[],this._options=Object.assign({},this._options,i),this.createInstance(),this._options},e.prototype.createInstance=function(){return KZ.debug("create Rest API instance"),this._api=new(0,PZ.RestClient)(this._options),this._api.Credentials=this.Credentials,!0},e.prototype.get=function(e,t,n){try{var r=this.getEndpointInfo(e,t),o=this._api.getCancellableToken(),i=Object.assign({},n);i.cancellableToken=o;var a=this._api.get(r,i);return this._api.updateRequestToBeCancellable(a,o),a}catch(e){return Promise.reject(e.message)}},e.prototype.post=function(e,t,n){try{var r=this.getEndpointInfo(e,t),o=this._api.getCancellableToken(),i=Object.assign({},n);i.cancellableToken=o;var a=this._api.post(r,i);return this._api.updateRequestToBeCancellable(a,o),a}catch(e){return Promise.reject(e.message)}},e.prototype.put=function(e,t,n){try{var r=this.getEndpointInfo(e,t),o=this._api.getCancellableToken(),i=Object.assign({},n);i.cancellableToken=o;var a=this._api.put(r,i);return this._api.updateRequestToBeCancellable(a,o),a}catch(e){return Promise.reject(e.message)}},e.prototype.patch=function(e,t,n){try{var r=this.getEndpointInfo(e,t),o=this._api.getCancellableToken(),i=Object.assign({},n);i.cancellableToken=o;var a=this._api.patch(r,i);return this._api.updateRequestToBeCancellable(a,o),a}catch(e){return Promise.reject(e.message)}},e.prototype.del=function(e,t,n){try{var r=this.getEndpointInfo(e,t),o=this._api.getCancellableToken(),i=Object.assign({},n);i.cancellableToken=o;var a=this._api.del(r,i);return this._api.updateRequestToBeCancellable(a,o),a}catch(e){return Promise.reject(e.message)}},e.prototype.head=function(e,t,n){try{var r=this.getEndpointInfo(e,t),o=this._api.getCancellableToken(),i=Object.assign({},n);i.cancellableToken=o;var a=this._api.head(r,i);return this._api.updateRequestToBeCancellable(a,o),a}catch(e){return Promise.reject(e.message)}},e.prototype.isCancel=function(e){return this._api.isCancel(e)},e.prototype.cancel=function(e,t){return this._api.cancel(e,t)},e.prototype.hasCancelToken=function(e){return this._api.hasCancelToken(e)},e.prototype.endpoint=function(e){return zZ(this,void 0,void 0,(function(){return VZ(this,(function(t){return[2,this._api.endpoint(e)]}))}))},e.prototype.getEndpointInfo=function(e,t){var n=this._options.endpoints;if(!Array.isArray(n))throw new Error("API category not configured");var r=n.find((function(t){return t.name===e}));if(!r)throw new Error("API "+e+" does not exist");var o={endpoint:r.endpoint+t};return"string"==typeof r.region?o.region=r.region:"string"==typeof this._options.region&&(o.region=this._options.region),"string"==typeof r.service?o.service=r.service||"execute-api":o.service="execute-api","function"==typeof r.custom_header?o.custom_header=r.custom_header:o.custom_header=void 0,o},e}(),GZ=new HZ(null);C$.Amplify.register(GZ);var WZ=function(){return WZ=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},WZ.apply(this,arguments)},$Z=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},YZ=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},JZ=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},QZ=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},ZZ=new(0,k$.ConsoleLogger)("GraphQLAPI"),XZ=function(){function e(e){this._api=null,this.Auth=bQ,this.Cache=iZ,this.Credentials=aJ.Credentials,this._options=e,ZZ.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"GraphQLAPI"},e.prototype.configure=function(e){var t=e||{},n=t.API,r=void 0===n?{}:n,o=JZ(t,["API"]),i=WZ(WZ({},o),r);return ZZ.debug("configure GraphQL API",{opt:i}),i.aws_project_region&&(i=Object.assign({},i,{region:i.aws_project_region,header:{}})),void 0!==i.graphql_headers&&"function"!=typeof i.graphql_headers&&(ZZ.warn("graphql_headers should be a function"),i.graphql_headers=void 0),this._options=Object.assign({},this._options,i),this.createInstance(),this._options},e.prototype.createInstance=function(){return ZZ.debug("create Rest instance"),this._options?(this._api=new(0,PZ.RestClient)(this._options),this._api.Credentials=this.Credentials,!0):Promise.reject("API not configured")},e.prototype._headerBasedAuth=function(e,t){return void 0===t&&(t={}),$Z(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c;return YZ(this,(function(l){switch(l.label){case 0:switch(n=this._options,r=n.aws_appsync_authenticationType,o=n.aws_appsync_apiKey,i={},e||r||"AWS_IAM"){case"API_KEY":return[3,1];case"AWS_IAM":return[3,2];case"OPENID_CONNECT":return[3,4];case"AMAZON_COGNITO_USER_POOLS":return[3,11];case"AWS_LAMBDA":return[3,15]}return[3,16];case 1:if(!o)throw new Error(IZ.NO_API_KEY);return i={Authorization:null,"X-Api-Key":o},[3,17];case 2:return[4,this._ensureCredentials()];case 3:if(!l.sent())throw new Error(IZ.NO_CREDENTIALS);return[3,17];case 4:return l.trys.push([4,9,,10]),a=void 0,[4,iZ.getItem("federatedInfo")];case 5:return(s=l.sent())?(a=s.token,[3,8]):[3,6];case 6:return[4,bQ.currentAuthenticatedUser()];case 7:(u=l.sent())&&(a=u.token),l.label=8;case 8:if(!a)throw new Error(IZ.NO_FEDERATED_JWT);return i={Authorization:a},[3,10];case 9:throw l.sent(),new Error(IZ.NO_CURRENT_USER);case 10:return[3,17];case 11:return l.trys.push([11,13,,14]),[4,this.Auth.currentSession()];case 12:return c=l.sent(),i={Authorization:c.getAccessToken().getJwtToken()},[3,14];case 13:throw l.sent(),new Error(IZ.NO_CURRENT_USER);case 14:return[3,17];case 15:if(!t.Authorization)throw new Error(IZ.NO_AUTH_TOKEN);return i={Authorization:t.Authorization},[3,17];case 16:return i={Authorization:null},[3,17];case 17:return[2,i]}}))}))},e.prototype.getGraphqlOperationType=function(e){var t=ZC(e).definitions;return QZ(t,1)[0].operation},e.prototype.graphql=function(e,t){var n=e.query,r=e.variables,o=void 0===r?{}:r,i=e.authMode,a=e.authToken,s=ZC("string"==typeof n?n:ak(n)),u=QZ(s.definitions.filter((function(e){return"OperationDefinition"===e.kind})),1)[0],c=(void 0===u?{}:u).operation,l=t||{};switch(a&&(l.Authorization=a),c){case"query":case"mutation":var d=this._api.getCancellableToken(),f={cancellableToken:d},h=this._graphql({query:s,variables:o,authMode:i},l,f);return this._api.updateRequestToBeCancellable(h,d),h;case"subscription":return this._graphqlSubscribe({query:s,variables:o,authMode:i},l);default:throw new Error("invalid operation type: "+c)}},e.prototype._graphql=function(e,t,n){var r=e.query,o=e.variables,i=e.authMode;return void 0===t&&(t={}),void 0===n&&(n={}),$Z(this,void 0,void 0,(function(){var e,a,s,u,c,l,d,f,h,p,v,g,m,y,b,w,S,x,_,E,C;return YZ(this,(function(k){switch(k.label){case 0:return this._api?[3,2]:[4,this.createInstance()];case 1:k.sent(),k.label=2;case 2:return e=this._options,a=e.aws_appsync_region,s=e.aws_appsync_graphqlEndpoint,u=e.graphql_headers,c=void 0===u?function(){return{}}:u,l=e.graphql_endpoint,d=e.graphql_endpoint_iam_region,h=[{}],(p=!l)?[4,this._headerBasedAuth(i,t)]:[3,4];case 3:p=k.sent(),k.label=4;case 4:return v=[WZ.apply(void 0,h.concat([p]))],(g=l)?d?[4,this._headerBasedAuth(i,t)]:[3,6]:[3,8];case 5:return m=k.sent(),[3,7];case 6:m={Authorization:null},k.label=7;case 7:g=m,k.label=8;case 8:return y=[WZ.apply(void 0,v.concat([g]))],[4,c({query:r,variables:o})];case 9:if(f=WZ.apply(void 0,[WZ.apply(void 0,[WZ.apply(void 0,y.concat([k.sent()])),t]),!l&&(C={},C["x-amz-user-agent"]=MJ.userAgent,C)]),b={query:ak(r),variables:o},w=Object.assign({headers:f,body:b,signerServiceInfo:{service:l?"execute-api":"appsync",region:l?d:a}},n),!(S=l||s))throw{data:{},errors:[new yC("No graphql endpoint provided.")]};k.label=10;case 10:return k.trys.push([10,12,,13]),[4,this._api.post(S,w)];case 11:return x=k.sent(),[3,13];case 12:if(_=k.sent(),this._api.isCancel(_))throw _;return x={data:{},errors:[new yC(_.message,null,null,null,null,_)]},[3,13];case 13:if((E=x.errors)&&E.length)throw x;return[2,x]}}))}))},e.prototype.isCancel=function(e){return this._api.isCancel(e)},e.prototype.cancel=function(e,t){return this._api.cancel(e,t)},e.prototype.hasCancelToken=function(e){return this._api.hasCancelToken(e)},e.prototype._graphqlSubscribe=function(e,t){var n=e.query,r=e.variables,o=e.authMode,i=e.authToken;void 0===t&&(t={});var a=this._options,s=a.aws_appsync_region,u=a.aws_appsync_graphqlEndpoint,c=a.aws_appsync_authenticationType,l=a.aws_appsync_apiKey,d=a.graphql_headers,f=void 0===d?function(){return{}}:d,h=o||c||"AWS_IAM";if(NZ&&"function"==typeof NZ.subscribe)return NZ.subscribe("",{provider:jJ,appSyncGraphqlEndpoint:u,authenticationType:h,apiKey:l,query:ak(n),region:s,variables:r,graphql_headers:f,additionalHeaders:t,authToken:i});throw ZZ.debug("No pubsub module applied for subscription"),new Error("No pubsub module applied for subscription")},e.prototype._ensureCredentials=function(){var e=this;return this.Credentials.get().then((function(t){if(!t)return!1;var n=e.Credentials.shear(t);return ZZ.debug("set credentials for api",n),!0})).catch((function(e){return ZZ.warn("ensure credentials error",e),!1}))},e}(),eX=new XZ(null);C$.Amplify.register(eX);SQ.GraphQLAPI;var tX=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},nX=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},rX=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},oX=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(rX(arguments[t]));return e};function iX(e){return"private"!==e.allow||e.provider?"public"!==e.allow||e.provider?e.provider:rG.ModelAttributeAuthProvider.API_KEY:rG.ModelAttributeAuthProvider.USER_POOLS}function aX(e){var t=e.rules,n=e.currentUser,r=new Set;return t.forEach((function(e){switch(e.allow){case rG.ModelAttributeAuthAllow.CUSTOM:e.provider&&e.provider!==rG.ModelAttributeAuthProvider.FUNCTION||r.add(BJ.AWS_LAMBDA);break;case rG.ModelAttributeAuthAllow.GROUPS:case rG.ModelAttributeAuthAllow.OWNER:n&&(e.provider===rG.ModelAttributeAuthProvider.USER_POOLS?r.add(BJ.AMAZON_COGNITO_USER_POOLS):e.provider===rG.ModelAttributeAuthProvider.OIDC&&r.add(BJ.OPENID_CONNECT));break;case rG.ModelAttributeAuthAllow.PRIVATE:n&&(e.provider&&e.provider!==rG.ModelAttributeAuthProvider.USER_POOLS?e.provider===rG.ModelAttributeAuthProvider.IAM&&r.add(BJ.AWS_IAM):r.add(BJ.AMAZON_COGNITO_USER_POOLS));break;case rG.ModelAttributeAuthAllow.PUBLIC:e.provider===rG.ModelAttributeAuthProvider.IAM?r.add(BJ.AWS_IAM):e.provider&&e.provider!==rG.ModelAttributeAuthProvider.API_KEY||r.add(BJ.API_KEY)}})),Array.from(r)}var sX=function(e){var t=e.schema,n=e.modelName;return tX(void 0,void 0,void 0,(function(){var e,r,o,i;return nX(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,bQ.currentAuthenticatedUser()];case 1:return e=a.sent(),[3,3];case 2:return a.sent(),[3,3];case 3:return(r=t.namespaces.user.models[n].attributes)&&(o=r.find((function(e){return"auth"===e.type}))).properties&&o.properties.rules?(s=o.properties.rules,u=[rG.ModelAttributeAuthAllow.CUSTOM,rG.ModelAttributeAuthAllow.OWNER,rG.ModelAttributeAuthAllow.GROUPS,rG.ModelAttributeAuthAllow.PRIVATE,rG.ModelAttributeAuthAllow.PUBLIC],c=[rG.ModelAttributeAuthProvider.FUNCTION,rG.ModelAttributeAuthProvider.USER_POOLS,rG.ModelAttributeAuthProvider.OIDC,rG.ModelAttributeAuthProvider.IAM,rG.ModelAttributeAuthProvider.API_KEY],i=oX(s).sort((function(e,t){return e.allow===t.allow?c.indexOf(iX(e))-c.indexOf(iX(t)):u.indexOf(e.allow)-u.indexOf(t.allow)})),[2,aX({currentUser:e,rules:i})]):[2,[]]}var s,u,c}))}))},uX=function(){function e(){}return e.createPredicateBuilder=function(t){var n=t.name,r=new Set(Object.keys(t.fields)),o=new Proxy({},{get:function(t,o,i){var a=o;if(!r.has(a))throw new Error("Invalid field for model. field: "+a+", model: "+n);return function(t){return e.sortPredicateGroupsMap.get(i).push({field:a,sortDirection:t}),i}}});return e.sortPredicateGroupsMap.set(o,[]),o},e.isValidPredicate=function(t){return e.sortPredicateGroupsMap.has(t)},e.getPredicates=function(t,n){if(void 0===n&&(n=!0),n&&!e.isValidPredicate(t))throw new Error("The predicate is not valid");return e.sortPredicateGroupsMap.get(t)},e.createFromExisting=function(t,n){if(n&&t)return n(e.createPredicateBuilder(t))},e.sortPredicateGroupsMap=new WeakMap,e}(),cX=new WeakSet;function lX(e){return cX.has(e)}Symbol("A predicate that matches all records"),function(){function e(){}Object.defineProperty(e,"ALL",{get:function(){var e=function(e){return e};return cX.add(e),e},enumerable:!0,configurable:!0})}();var dX=function(){function e(){}return e.createPredicateBuilder=function(t){var n,r=t.name,o=new Set(Object.keys(t.fields)),i=new Proxy({},n={get:function(t,i,a){var s=i;switch(s){case"and":case"or":case"not":return function(t){var r={type:s,predicates:[]},o=new Proxy({},n);return e.predicateGroupsMap.set(o,r),t(o),e.predicateGroupsMap.get(a).predicates.push(r),a};default:(0,OK.exhaustiveCheck)(s,!1)}var u=i;if(!o.has(u))throw new Error("Invalid field for model. field: "+u+", model: "+r);return function(t,n){return e.predicateGroupsMap.get(a).predicates.push({field:u,operator:t,operand:n}),a}}});return e.predicateGroupsMap.set(i,{type:"and",predicates:[]}),i},e.isValidPredicate=function(t){return e.predicateGroupsMap.has(t)},e.getPredicates=function(t,n){if(void 0===n&&(n=!0),n&&!e.isValidPredicate(t))throw new Error("The predicate is not valid");return e.predicateGroupsMap.get(t)},e.createFromExisting=function(t,n){if(n&&t)return n(e.createPredicateBuilder(t))},e.createForId=function(t,n){return e.createPredicateBuilder(t).id("eq",n)},e.predicateGroupsMap=new WeakMap,e}(),fX={};e(fX,"ExclusiveStorage",(()=>k0),(e=>k0=e));var hX,pX,vX,gX={};function mX(e,t,n){if(e._observer)yX(e._observer,t,n);else if(e._observers){var r=[];e._observers.forEach((function(e){r.push(e)})),r.forEach((function(e){yX(e,t,n)}))}}function yX(e,t,n){if(!e.closed)switch(t){case"next":return e.next(n);case"error":return e.error(n);case"complete":return e.complete(n)}}function bX(e){return e._observer||e._observers&&e._observers.size>0}function wX(e){var t=this;this._observer=null,this._observers=null,this._observable=new gX((function(n){return function(e,t){!bX(e)&&t&&t.start&&t.start()}(t,e),function(e,t){e._observers?e._observers.add(t):e._observer?(e._observers=new Set,e._observers.add(e._observer),e._observers.add(t),e._observer=null):e._observer=t}(t,n),function(){!function(e,t){e._observers?e._observers.delete(t):e._observer===t&&(e._observer=null)}(t,n),function(e,t){!bX(e)&&t&&t.pause&&t.pause()}(t,e)}}))}gX=s("5u9Vj").Observable,pX=wX.prototype,vX={get observable(){return this._observable},get observed(){return bX(this)},next:function(e){mX(this,"next",e)},error:function(e){mX(this,"error",e)},complete:function(e){mX(this,"complete",e)}},Object.keys(vX).forEach((function(e){var t=Object.getOwnPropertyDescriptor(vX,e);t.enumerable=!1,Object.defineProperty(pX,e,t)})),hX=wX;var SX={};e(SX,"default",(()=>YX),(e=>YX=e));let xX,_X;const EX=new WeakMap,CX=new WeakMap,kX=new WeakMap,AX=new WeakMap,TX=new WeakMap;let IX={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return CX.get(e);if("objectStoreNames"===t)return e.objectStoreNames||kX.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return PX(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function NX(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(_X||(_X=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(jX(this),t),PX(EX.get(this))}:function(...t){return PX(e.apply(jX(this),t))}:function(t,...n){const r=e.call(jX(this),t,...n);return kX.set(r,t.sort?t.sort():[t]),PX(r)}}function OX(e){return"function"==typeof e?NX(e):(e instanceof IDBTransaction&&function(e){if(CX.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",i),e.removeEventListener("abort",i)},o=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",i),e.addEventListener("abort",i)}));CX.set(e,t)}(e),t=e,(xX||(xX=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,IX):e);var t}function PX(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",i)},o=()=>{t(PX(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",i)}));return t.then((t=>{t instanceof IDBCursor&&EX.set(t,e)})).catch((()=>{})),TX.set(t,e),t}(e);if(AX.has(e))return AX.get(e);const t=OX(e);return t!==e&&(AX.set(e,t),TX.set(t,e)),t}const jX=e=>TX.get(e);function RX(e,t,{blocked:n,upgrade:r,blocking:o,terminated:i}={}){const a=indexedDB.open(e,t),s=PX(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(PX(a.result),e.oldVersion,e.newVersion,PX(a.transaction))})),n&&a.addEventListener("blocked",(()=>n())),s.then((e=>{i&&e.addEventListener("close",(()=>i())),o&&e.addEventListener("versionchange",(()=>o()))})).catch((()=>{})),s}function MX(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",(()=>t())),PX(n).then((()=>{}))}const UX=["get","getKey","getAll","getAllKeys","count"],LX=["put","add","delete","clear"],DX=new Map;function FX(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(DX.get(t))return DX.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=LX.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!UX.includes(n))return;const i=async function(e,...t){const i=this.transaction(e,o?"readwrite":"readonly");let a=i.store;r&&(a=a.index(t.shift()));const s=await a[n](...t);return o&&await i.done,s};return DX.set(t,i),i}var BX;BX=e=>({...e,get:(t,n,r)=>FX(t,n)||e.get(t,n,r),has:(t,n)=>!!FX(t,n)||e.has(t,n)}),IX=BX(IX);var zX=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},VX=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},qX=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof KX?KX(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}},KX=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},HX=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},GX=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(HX(arguments[t]));return e},WX=new(0,k$.ConsoleLogger)("DataStore"),$X=function(){function e(){this.dbName="amplify-datastore"}return e.prototype.checkPrivate=function(){return zX(this,void 0,void 0,(function(){return VX(this,(function(e){switch(e.label){case 0:return[4,(0,OK.isPrivateMode)().then((function(e){return e}))];case 1:return e.sent()?(WX.error("IndexedDB not supported in this browser's private mode"),[2,Promise.reject("IndexedDB not supported in this browser's private mode")]):[2,Promise.resolve()]}}))}))},e.prototype.getStorenameForModel=function(e){var t=this.namespaceResolver(e),n=e.name;return this.getStorename(t,n)},e.prototype.getStorename=function(e,t){return e+"_"+t},e.prototype.setUp=function(e,t,n,r,o){return zX(this,void 0,void 0,(function(){var i,a,s=this;return VX(this,(function(u){switch(u.label){case 0:return[4,this.checkPrivate()];case 1:return u.sent(),this.initPromise?[3,2]:(this.initPromise=new Promise((function(e,t){s.resolve=e,s.reject=t})),[3,4]);case 2:return[4,this.initPromise];case 3:u.sent(),u.label=4;case 4:o&&(this.dbName="amplify-datastore-"+o),this.schema=e,this.namespaceResolver=t,this.modelInstanceCreator=n,this.getModelConstructorByModelName=r,u.label=5;case 5:return u.trys.push([5,8,,9]),this.db?[3,7]:(2,i=this,[4,RX(this.dbName,2,{upgrade:function(t,n,r,o){return zX(s,void 0,void 0,(function(){var i,a,s,u,c,l,d,f,h,p,v,g,m=this;return VX(this,(function(y){switch(y.label){case 0:if(0===n)return Object.keys(e.namespaces).forEach((function(n){var r=e.namespaces[n];Object.keys(r.models).forEach((function(e){var r=m.getStorename(n,e);m.createObjectStoreForModel(t,n,r,e)}))})),[2];if(1!==n||2!==r)return[3,16];y.label=1;case 1:y.trys.push([1,14,,15]),y.label=2;case 2:y.trys.push([2,11,12,13]),i=KX(o.objectStoreNames),a=i.next(),y.label=3;case 3:return a.done?[3,10]:(s=a.value,u=o.objectStore(s),c="tmp_"+s,u.name=c,(l=t.createObjectStore(s,{keyPath:void 0,autoIncrement:!0})).createIndex("byId","id",{unique:!0}),[4,u.openCursor()]);case 4:d=y.sent(),f=0,y.label=5;case 5:return d&&d.value?[4,l.put(d.value)]:[3,8];case 6:return y.sent(),[4,d.continue()];case 7:return d=y.sent(),f++,[3,5];case 8:t.deleteObjectStore(c),WX.debug(f+" "+s+" records migrated"),y.label=9;case 9:return a=i.next(),[3,3];case 10:return[3,13];case 11:return h=y.sent(),v={error:h},[3,13];case 12:try{a&&!a.done&&(g=i.return)&&g.call(i)}finally{if(v)throw v.error}return[7];case 13:return Object.keys(e.namespaces).forEach((function(n){var r=e.namespaces[n],i=new Set(o.objectStoreNames);Object.keys(r.models).map((function(e){return[e,m.getStorename(n,e)]})).filter((function(e){var t=HX(e,2)[1];return!i.has(t)})).forEach((function(e){var r=HX(e,2),o=r[0],i=r[1];m.createObjectStoreForModel(t,n,i,o)}))})),[3,15];case 14:throw p=y.sent(),WX.error("Error migrating IndexedDB data",p),o.abort(),p;case 15:case 16:return[2]}}))}))}})]);case 6:i.db=u.sent(),this.resolve(),u.label=7;case 7:return[3,9];case 8:return a=u.sent(),this.reject(a),[3,9];case 9:return[2]}}))}))},e.prototype._get=function(e,t){return zX(this,void 0,void 0,(function(){var n,r;return VX(this,(function(o){switch(o.label){case 0:return"string"==typeof e?(r=e,n=this.db.transaction(r,"readonly").store.index("byId")):n=e.index("byId"),[4,n.get(t)];case 1:return[2,o.sent()]}}))}))},e.prototype.save=function(e,t){var n,r;return zX(this,void 0,void 0,(function(){var o,i,a,s,u,c,l,d,f,h,p,v,g,m,y,b,w,S,x,_,E,C,k,A,T,I,N=this;return VX(this,(function(O){switch(O.label){case 0:return[4,this.checkPrivate()];case 1:return O.sent(),o=Object.getPrototypeOf(e).constructor,i=this.getStorenameForModel(o),a=(0,OK.traverseModel)(o.name,e,this.schema.namespaces[this.namespaceResolver(o)],this.modelInstanceCreator,this.getModelConstructorByModelName),s=this.namespaceResolver(o),u=new Set,c=Object.values(a).map((function(e){var t=e.modelName,n=e.item,r=e.instance,o=N.getStorename(s,t);return u.add(o),{storeName:o,item:n,instance:r}})),l=this.db.transaction(GX([i],Array.from(u.values())),"readwrite"),d=l.objectStore(i),[4,this._get(d,e.id)];case 2:if(f=O.sent(),t&&f&&(h=dX.getPredicates(t),p=h.predicates,v=h.type,!(0,OK.validatePredicate)(f,v,p)))throw g="Conditional update failed",WX.error(g,{model:f,condition:p}),new Error(g);m=[],O.label=3;case 3:O.trys.push([3,11,12,17]),y=qX(c),O.label=4;case 4:return[4,y.next()];case 5:return(b=O.sent()).done?[3,10]:(w=b.value,S=w.storeName,x=w.item,_=w.instance,E=l.objectStore(S),C=x.id,[4,this._get(E,C)]);case 6:return k=O.sent(),A=void 0===k?rG.OpType.INSERT:rG.OpType.UPDATE,C!==e.id&&A!==rG.OpType.INSERT?[3,9]:[4,E.index("byId").getKey(x.id)];case 7:return T=O.sent(),[4,E.put(x,T)];case 8:O.sent(),m.push([_,A]),O.label=9;case 9:return[3,4];case 10:return[3,17];case 11:return I=O.sent(),n={error:I},[3,17];case 12:return O.trys.push([12,,15,16]),b&&!b.done&&(r=y.return)?[4,r.call(y)]:[3,14];case 13:O.sent(),O.label=14;case 14:return[3,16];case 15:if(n)throw n.error;return[7];case 16:return[7];case 17:return[4,l.done];case 18:return O.sent(),[2,m]}}))}))},e.prototype.load=function(e,t,n){var r,o,i,a,s,u,c,l,d,f;return zX(this,void 0,void 0,(function(){var h,p,v,g,m,y,b,w,S,x,_,E,C,k,A,T,I,N,O,P,j=this;return VX(this,(function(R){switch(R.label){case 0:if(h=this.schema.namespaces[e],p=h.relationships[t].relationTypes,v=p.map((function(t){var n=t.modelName;return j.getStorename(e,n)})),g=this.getModelConstructorByModelName(e,t),0===v.length)return[2,n.map((function(e){return j.modelInstanceCreator(g,e)}))];m=this.db.transaction(GX(v),"readonly"),R.label=1;case 1:R.trys.push([1,34,35,40]),y=qX(p),R.label=2;case 2:return[4,y.next()];case 3:if((b=R.sent()).done)return[3,33];switch(w=b.value,S=w.fieldName,x=w.modelName,_=w.targetName,E=this.getStorename(e,x),C=m.objectStore(E),k=this.getModelConstructorByModelName(e,x),w.relationType){case"HAS_ONE":return[3,4];case"BELONGS_TO":return[3,17];case"HAS_MANY":return[3,30]}return[3,31];case 4:R.trys.push([4,10,11,16]),r=qX(n),R.label=5;case 5:return[4,r.next()];case 6:return(o=R.sent()).done?[3,9]:(I=o.value,A=I[_]?_:S,I[A]?[4,this._get(C,I[A])]:[3,9]);case 7:N=R.sent(),I[S]=N&&this.modelInstanceCreator(k,N),R.label=8;case 8:return[3,5];case 9:return[3,16];case 10:return T=R.sent(),c={error:T},[3,16];case 11:return R.trys.push([11,,14,15]),o&&!o.done&&(l=r.return)?[4,l.call(r)]:[3,13];case 12:R.sent(),R.label=13;case 13:return[3,15];case 14:if(c)throw c.error;return[7];case 15:return[7];case 16:return[3,32];case 17:R.trys.push([17,23,24,29]),i=qX(n),R.label=18;case 18:return[4,i.next()];case 19:return(a=R.sent()).done?[3,22]:(I=a.value)[_]?[4,this._get(C,I[_])]:[3,21];case 20:N=R.sent(),I[S]=N&&this.modelInstanceCreator(k,N),delete I[_],R.label=21;case 21:return[3,18];case 22:return[3,29];case 23:return O=R.sent(),d={error:O},[3,29];case 24:return R.trys.push([24,,27,28]),a&&!a.done&&(f=i.return)?[4,f.call(i)]:[3,26];case 25:R.sent(),R.label=26;case 26:return[3,28];case 27:if(d)throw d.error;return[7];case 28:return[7];case 29:case 30:return[3,32];case 31:return(0,OK.exhaustiveCheck)(w.relationType),[3,32];case 32:return[3,2];case 33:return[3,40];case 34:return P=R.sent(),s={error:P},[3,40];case 35:return R.trys.push([35,,38,39]),b&&!b.done&&(u=y.return)?[4,u.call(y)]:[3,37];case 36:R.sent(),R.label=37;case 37:return[3,39];case 38:if(s)throw s.error;return[7];case 39:return[7];case 40:return[2,n.map((function(e){return j.modelInstanceCreator(g,e)}))]}}))}))},e.prototype.query=function(e,t,n){return zX(this,void 0,void 0,(function(){var r,o,i,a,s,u,c,l=this;return VX(this,(function(d){switch(d.label){case 0:return[4,this.checkPrivate()];case 1:return d.sent(),r=this.getStorenameForModel(e),o=this.namespaceResolver(e),i=t&&dX.getPredicates(t),a=i&&this.idFromPredicate(i),s=n&&n.sort,u=n&&n.limit,[4,zX(l,void 0,void 0,(function(){var e,t,o;return VX(this,(function(c){switch(c.label){case 0:return a?[4,this.getById(r,a)]:[3,2];case 1:return[2,(e=c.sent())?[e]:[]];case 2:return i?[4,this.filterOnPredicate(r,i)]:[3,4];case 3:return t=c.sent(),[2,this.inMemoryPagination(t,n)];case 4:return s?[4,this.getAll(r)]:[3,6];case 5:return o=c.sent(),[2,this.inMemoryPagination(o,n)];case 6:return u?[2,this.enginePagination(r,n)]:[2,this.getAll(r)]}}))}))];case 2:return c=d.sent(),[4,this.load(o,e.name,c)];case 3:return[2,d.sent()]}}))}))},e.prototype.getById=function(e,t){return zX(this,void 0,void 0,(function(){return VX(this,(function(n){switch(n.label){case 0:return[4,this._get(e,t)];case 1:return[2,n.sent()]}}))}))},e.prototype.getAll=function(e){return zX(this,void 0,void 0,(function(){return VX(this,(function(t){switch(t.label){case 0:return[4,this.db.getAll(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.idFromPredicate=function(e){var t=e.predicates,n=1===t.length&&t.find((function(e){return(0,rG.isPredicateObj)(e)&&"id"===e.field&&"eq"===e.operator}));return n&&n.operand},e.prototype.filterOnPredicate=function(e,t){return zX(this,void 0,void 0,(function(){var n,r,o;return VX(this,(function(i){switch(i.label){case 0:return n=t.predicates,r=t.type,[4,this.getAll(e)];case 1:return o=i.sent(),[2,n?o.filter((function(e){return(0,OK.validatePredicate)(e,r,n)})):o]}}))}))},e.prototype.inMemoryPagination=function(e,t){if(t&&e.length>1){if(t.sort){var n=uX.getPredicates(t.sort);if(n.length){var r=(0,OK.sortCompareFunction)(n);e.sort(r)}}var o=t.page,i=void 0===o?0:o,a=t.limit,s=void 0===a?0:a,u=Math.max(0,i*s)||0,c=s>0?u+s:e.length;return e.slice(u,c)}return e},e.prototype.enginePagination=function(e,t){return zX(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l;return VX(this,(function(d){switch(d.label){case 0:return t?(r=t.page,o=void 0===r?0:r,i=t.limit,a=void 0===i?0:i,s=Math.max(0,o*a)||0,[4,this.db.transaction(e).objectStore(e).openCursor()]):[3,7];case 1:return(u=d.sent())&&s>0?[4,u.advance(s)]:[3,3];case 2:d.sent(),d.label=3;case 3:c=[],l="number"==typeof a&&a>0,d.label=4;case 4:return u&&u.value?(c.push(u.value),l&&c.length===a?[3,6]:[4,u.continue()]):[3,6];case 5:return u=d.sent(),[3,4];case 6:return n=c,[3,9];case 7:return[4,this.db.getAll(e)];case 8:n=d.sent(),d.label=9;case 9:return[2,n]}}))}))},e.prototype.queryOne=function(e,t){return void 0===t&&(t=rG.QueryOne.FIRST),zX(this,void 0,void 0,(function(){var n,r,o;return VX(this,(function(i){switch(i.label){case 0:return[4,this.checkPrivate()];case 1:return i.sent(),n=this.getStorenameForModel(e),[4,this.db.transaction([n],"readonly").objectStore(n).openCursor(void 0,t===rG.QueryOne.FIRST?"next":"prev")];case 2:return r=i.sent(),[2,(o=r?r.value:void 0)&&this.modelInstanceCreator(e,o)]}}))}))},e.prototype.delete=function(e,t){return zX(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,d,f,h,p,v,g;return VX(this,(function(m){switch(m.label){case 0:return[4,this.checkPrivate()];case 1:return m.sent(),n=[],(0,OK.isModelConstructor)(e)?(i=e,a=this.namespaceResolver(i),s=this.getStorenameForModel(i),[4,this.query(i,t)]):[3,9];case 2:return r=m.sent(),v=this.schema.namespaces[a].relationships[i.name].relationTypes,void 0===t?[3,5]:[4,this.deleteTraverse(v,r,i.name,a,n)];case 3:return m.sent(),[4,this.deleteItem(n)];case 4:return m.sent(),g=n.reduce((function(e,t){var n=t.items;return e.concat(n)}),[]),[2,[r,g]];case 5:return[4,this.deleteTraverse(v,r,i.name,a,n)];case 6:return m.sent(),[4,this.db.transaction([s],"readwrite").objectStore(s).clear()];case 7:return m.sent(),g=n.reduce((function(e,t){var n=t.items;return e.concat(n)}),[]),[2,[r,g]];case 8:return[3,17];case 9:return o=e,i=Object.getPrototypeOf(o).constructor,a=this.namespaceResolver(i),s=this.getStorenameForModel(i),t?(u=this.db.transaction([s],"readwrite"),c=u.objectStore(s),[4,this._get(c,o.id)]):[3,13];case 10:if(void 0===(l=m.sent()))return p="Model instance not found in storage",WX.warn(p,{model:o}),[2,[[o],[]]];if(d=dX.getPredicates(t),f=d.predicates,h=d.type,!(0,OK.validatePredicate)(l,h,f))throw p="Conditional update failed",WX.error(p,{model:l,condition:f}),new Error(p);return[4,u.done];case 11:return m.sent(),v=this.schema.namespaces[a].relationships[i.name].relationTypes,[4,this.deleteTraverse(v,[o],i.name,a,n)];case 12:return m.sent(),[3,15];case 13:return v=this.schema.namespaces[a].relationships[i.name].relationTypes,[4,this.deleteTraverse(v,[o],i.name,a,n)];case 14:m.sent(),m.label=15;case 15:return[4,this.deleteItem(n)];case 16:return m.sent(),g=n.reduce((function(e,t){var n=t.items;return e.concat(n)}),[]),[2,[[o],g]];case 17:return[2]}}))}))},e.prototype.deleteItem=function(e){var t,n,r,o,i,a;return zX(this,void 0,void 0,(function(){var s,u,c,l,d,f,h,p,v,g,m,y;return VX(this,(function(b){switch(b.label){case 0:s=e.map((function(e){return e.storeName})),u=this.db.transaction(GX(s),"readwrite"),b.label=1;case 1:b.trys.push([1,22,23,28]),t=qX(e),b.label=2;case 2:return[4,t.next()];case 3:if((n=b.sent()).done)return[3,21];c=n.value,l=c.storeName,d=c.items,f=u.objectStore(l),b.label=4;case 4:b.trys.push([4,14,15,20]),h=qX(d),b.label=5;case 5:return[4,h.next()];case 6:return(p=b.sent()).done?[3,13]:(v=p.value)?(g=void 0,"object"!=typeof v?[3,8]:[4,f.index("byId").getKey(v.id)]):[3,12];case 7:return g=b.sent(),[3,10];case 8:return[4,f.index("byId").getKey(v.toString())];case 9:g=b.sent(),b.label=10;case 10:return void 0===g?[3,12]:[4,f.delete(g)];case 11:b.sent(),b.label=12;case 12:return[3,5];case 13:return[3,20];case 14:return m=b.sent(),i={error:m},[3,20];case 15:return b.trys.push([15,,18,19]),p&&!p.done&&(a=h.return)?[4,a.call(h)]:[3,17];case 16:b.sent(),b.label=17;case 17:return[3,19];case 18:if(i)throw i.error;return[7];case 19:return[7];case 20:return[3,2];case 21:return[3,28];case 22:return y=b.sent(),r={error:y},[3,28];case 23:return b.trys.push([23,,26,27]),n&&!n.done&&(o=t.return)?[4,o.call(t)]:[3,25];case 24:b.sent(),b.label=25;case 25:return[3,27];case 26:if(r)throw r.error;return[7];case 27:return[7];case 28:return[2]}}))}))},e.prototype.deleteTraverse=function(e,t,n,r,o){var i,a,s,u,c,l,d,f,h,p,v,g;return zX(this,void 0,void 0,(function(){var m,y,b,w,S,x,_,E,C,k,A,T,I,N,O=this;return VX(this,(function(P){switch(P.label){case 0:P.trys.push([0,35,36,41]),i=qX(e),P.label=1;case 1:return[4,i.next()];case 2:if((a=P.sent()).done)return[3,34];switch(m=a.value,y=m.relationType,m.fieldName,b=m.modelName,w=m.targetName,S=this.getStorename(r,b),x=(0,OK.getIndex)(this.schema.namespaces[r].relationships[b].relationTypes,n)||(0,OK.getIndexFromAssociation)(this.schema.namespaces[r].relationships[b].indexes,m.associatedWith),y){case"HAS_ONE":return[3,3];case"HAS_MANY":return[3,17];case"BELONGS_TO":return[3,31]}return[3,32];case 3:P.trys.push([3,10,11,16]),s=qX(t),P.label=4;case 4:return[4,s.next()];case 5:return(u=P.sent()).done?[3,9]:(A=u.value,_=x||"byId",(E=w in A?A[w]:A.id)?[4,this.db.transaction(S,"readwrite").objectStore(S).index(_).get(E)]:[3,9]);case 6:return C=P.sent(),[4,this.deleteTraverse(this.schema.namespaces[r].relationships[b].relationTypes,C?[C]:[],b,r,o)];case 7:P.sent(),P.label=8;case 8:return[3,4];case 9:return[3,16];case 10:return k=P.sent(),h={error:k},[3,16];case 11:return P.trys.push([11,,14,15]),u&&!u.done&&(p=s.return)?[4,p.call(s)]:[3,13];case 12:P.sent(),P.label=13;case 13:return[3,15];case 14:if(h)throw h.error;return[7];case 15:return[7];case 16:return[3,33];case 17:P.trys.push([17,24,25,30]),c=qX(t),P.label=18;case 18:return[4,c.next()];case 19:return(l=P.sent()).done?[3,23]:(A=l.value,[4,this.db.transaction(S,"readwrite").objectStore(S).index(x).getAll(A.id)]);case 20:return T=P.sent(),[4,this.deleteTraverse(this.schema.namespaces[r].relationships[b].relationTypes,T,b,r,o)];case 21:P.sent(),P.label=22;case 22:return[3,18];case 23:return[3,30];case 24:return I=P.sent(),v={error:I},[3,30];case 25:return P.trys.push([25,,28,29]),l&&!l.done&&(g=c.return)?[4,g.call(c)]:[3,27];case 26:P.sent(),P.label=27;case 27:return[3,29];case 28:if(v)throw v.error;return[7];case 29:return[7];case 30:case 31:return[3,33];case 32:return(0,OK.exhaustiveCheck)(y),[3,33];case 33:return[3,1];case 34:return[3,41];case 35:return N=P.sent(),d={error:N},[3,41];case 36:return P.trys.push([36,,39,40]),a&&!a.done&&(f=i.return)?[4,f.call(i)]:[3,38];case 37:P.sent(),P.label=38;case 38:return[3,40];case 39:if(d)throw d.error;return[7];case 40:return[7];case 41:return o.push({storeName:this.getStorename(r,n),items:t.map((function(e){return O.modelInstanceCreator(O.getModelConstructorByModelName(r,n),e)}))}),[2]}}))}))},e.prototype.clear=function(){return zX(this,void 0,void 0,(function(){return VX(this,(function(e){switch(e.label){case 0:return[4,this.checkPrivate()];case 1:return e.sent(),this.db.close(),[4,MX(this.dbName)];case 2:return e.sent(),this.db=void 0,this.initPromise=void 0,[2]}}))}))},e.prototype.batchSave=function(e,t){return zX(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,d,f,h;return VX(this,(function(p){switch(p.label){case 0:return 0===t.length?[2,[]]:[4,this.checkPrivate()];case 1:p.sent(),n=[],r=this.getStorenameForModel(e),o=this.db.transaction(r,"readwrite"),i=o.store,a=function(t){var r,o,a,u,c;return VX(this,(function(l){switch(l.label){case 0:return r=(0,OK.traverseModel)(e.name,s.modelInstanceCreator(e,t),s.schema.namespaces[s.namespaceResolver(e)],s.modelInstanceCreator,s.getModelConstructorByModelName),o=t.id,a=t._deleted,[4,i.index("byId").getKey(o)];case 1:return u=l.sent(),a?[3,3]:(c=r.find((function(e){return e.instance.id===o})).instance,n.push([c,u?rG.OpType.UPDATE:rG.OpType.INSERT]),[4,i.put(c,u)]);case 2:return l.sent(),[3,5];case 3:return n.push([t,rG.OpType.DELETE]),u?[4,i.delete(u)]:[3,5];case 4:l.sent(),l.label=5;case 5:return[2]}}))},s=this,p.label=2;case 2:p.trys.push([2,7,8,9]),u=KX(t),c=u.next(),p.label=3;case 3:return c.done?[3,6]:(l=c.value,[5,a(l)]);case 4:p.sent(),p.label=5;case 5:return c=u.next(),[3,3];case 6:return[3,9];case 7:return d=p.sent(),f={error:d},[3,9];case 8:try{c&&!c.done&&(h=u.return)&&h.call(u)}finally{if(f)throw f.error}return[7];case 9:return[4,o.done];case 10:return p.sent(),[2,n]}}))}))},e.prototype.createObjectStoreForModel=function(e,t,n,r){return zX(this,void 0,void 0,(function(){var o;return VX(this,(function(i){return o=e.createObjectStore(n,{autoIncrement:!0}),this.schema.namespaces[t].relationships[r].indexes.forEach((function(e){return o.createIndex(e,e)})),o.createIndex("byId","id",{unique:!0}),[2]}))}))},e}(),YX=new $X,JX={};e(JX,"AsyncStorageAdapter",(()=>g0),(e=>g0=e)),e(JX,"default",(()=>m0),(e=>m0=e));var QX={};e(QX,"default",(()=>l0),(e=>l0=e));var ZX={};e(ZX,"createInMemoryStore",(()=>r0),(e=>r0=e));var XX=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},e0=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},t0=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},n0=function(){var e=this;this.db=new Map,this.getAllKeys=function(){return XX(e,void 0,void 0,(function(){return e0(this,(function(e){return[2,Array.from(this.db.keys())]}))}))},this.multiGet=function(t){return XX(e,void 0,void 0,(function(){var e=this;return e0(this,(function(n){return[2,t.reduce((function(t,n){return t.push([n,e.db.get(n)]),t}),[])]}))}))},this.multiRemove=function(t,n){return XX(e,void 0,void 0,(function(){var e=this;return e0(this,(function(r){return t.forEach((function(t){return e.db.delete(t)})),"function"==typeof n&&n(),[2]}))}))},this.multiSet=function(t,n){return XX(e,void 0,void 0,(function(){var e=this;return e0(this,(function(r){return t.forEach((function(t){var n=t0(t,2),r=n[0],o=n[1];e.setItem(r,o)})),"function"==typeof n&&n(),[2]}))}))},this.setItem=function(t,n){return XX(e,void 0,void 0,(function(){return e0(this,(function(e){return[2,this.db.set(t,n)]}))}))},this.removeItem=function(t){return XX(e,void 0,void 0,(function(){return e0(this,(function(e){return[2,this.db.delete(t)]}))}))},this.getItem=function(t){return XX(e,void 0,void 0,(function(){return e0(this,(function(e){return[2,this.db.get(t)]}))}))}};function r0(){return new n0}var o0=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i0=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},a0=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s0=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},u0=new Map,c0=function(){function e(){this._collectionInMemoryIndex=new Map,this.storage=(0,ZX.createInMemoryStore)()}return e.prototype.getCollectionIndex=function(e){return this._collectionInMemoryIndex.has(e)||this._collectionInMemoryIndex.set(e,new Map),this._collectionInMemoryIndex.get(e)},e.prototype.getMonotonicFactory=function(e){return u0.has(e)||u0.set(e,(0,OK.monotonicUlidFactory)()),u0.get(e)},e.prototype.init=function(){return o0(this,void 0,void 0,(function(){var e,t,n,r,o,i,a,s,u,c,l,d,f,h,p,v,g,m,y,b;return i0(this,(function(w){switch(w.label){case 0:return this._collectionInMemoryIndex.clear(),[4,this.storage.getAllKeys()];case 1:e=w.sent(),t=[],w.label=2;case 2:w.trys.push([2,12,13,14]),n=a0(e),r=n.next(),w.label=3;case 3:return r.done?[3,11]:(o=r.value,i=s0(o.split("::"),5),a=i[0],s=i[1],u=i[2],c=i[3],l=i[4],"@AmplifyDatastore"!==a?[3,10]:"Data"!==u?[3,9]:(d=void 0,void 0!==l?[3,7]:(f=c,h=this.getMonotonicFactory(s)(),p=this.getLegacyKeyForItem(s,f),v=this.getKeyForItem(s,f,h),[4,this.storage.getItem(p)])));case 4:return g=w.sent(),[4,this.storage.setItem(v,g)];case 5:return w.sent(),[4,this.storage.removeItem(p)];case 6:return w.sent(),d=h,[3,8];case 7:d=c,w.label=8;case 8:return this.getCollectionIndex(s).set(l,d),[3,10];case 9:"Collection"===u&&t.push(o),w.label=10;case 10:return r=n.next(),[3,3];case 11:return[3,14];case 12:return m=w.sent(),y={error:m},[3,14];case 13:try{r&&!r.done&&(b=n.return)&&b.call(n)}finally{if(y)throw y.error}return[7];case 14:return t.length>0?[4,this.storage.multiRemove(t)]:[3,16];case 15:w.sent(),w.label=16;case 16:return[2]}}))}))},e.prototype.save=function(e,t){return o0(this,void 0,void 0,(function(){var n,r;return i0(this,(function(o){switch(o.label){case 0:return n=this.getCollectionIndex(t).get(e.id)||this.getMonotonicFactory(t)(),r=this.getKeyForItem(t,e.id,n),this.getCollectionIndex(t).set(e.id,n),[4,this.storage.setItem(r,JSON.stringify(e))];case 1:return o.sent(),[2]}}))}))},e.prototype.batchSave=function(e,t){return o0(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,d,f,h,p,v,g,m,y,b,w,S,x,_=this;return i0(this,(function(E){switch(E.label){case 0:if(0===t.length)return[2,[]];n=[],r=this.getCollectionIndex(e),o=new Set,i=new Set,a=[],s={};try{for(u=a0(t),c=u.next();!c.done;c=u.next())l=c.value,d=l.id,f=l._deleted,h=r.get(d)||this.getMonotonicFactory(e)(),y=this.getKeyForItem(e,d,h),a.push(y),s[y]={ulid:h,model:l},f?o.add(y):i.add(y)}catch(e){b={error:e}}finally{try{c&&!c.done&&(w=u.return)&&w.call(u)}finally{if(b)throw b.error}}return[4,this.storage.multiGet(a)];case 1:return p=E.sent(),v=p.filter((function(e){return!!s0(e,2)[1]})).reduce((function(e,t){var n=s0(t,1)[0];return e.add(n)}),new Set),[4,new Promise((function(e,t){if(0!==o.size){var n=Array.from(o);n.forEach((function(e){return r.delete(s[e].model.id)})),_.storage.multiRemove(n,(function(n){n&&n.length>0?t(n):e()}))}else e()}))];case 2:return E.sent(),[4,new Promise((function(e,t){if(0!==i.size){var n=Array.from(i).map((function(e){return[e,JSON.stringify(s[e].model)]}));i.forEach((function(e){var t=s[e],n=t.model.id,o=t.ulid;r.set(n,o)})),_.storage.multiSet(n,(function(n){n&&n.length>0?t(n):e()}))}else e()}))];case 3:E.sent();try{for(g=a0(a),m=g.next();!m.done;m=g.next())y=m.value,o.has(y)&&v.has(y)?n.push([s[y].model,rG.OpType.DELETE]):i.has(y)&&n.push([s[y].model,v.has(y)?rG.OpType.UPDATE:rG.OpType.INSERT])}catch(e){S={error:e}}finally{try{m&&!m.done&&(x=g.return)&&x.call(g)}finally{if(S)throw S.error}}return[2,n]}}))}))},e.prototype.get=function(e,t){return o0(this,void 0,void 0,(function(){var n,r,o;return i0(this,(function(i){switch(i.label){case 0:return n=this.getCollectionIndex(t).get(e),r=this.getKeyForItem(t,e,n),[4,this.storage.getItem(r)];case 1:return o=i.sent(),[2,o&&JSON.parse(o)]}}))}))},e.prototype.getOne=function(e,t){return o0(this,void 0,void 0,(function(){var n,r,o,i,a,s,u;return i0(this,(function(c){switch(c.label){case 0:return n=this.getCollectionIndex(t),r=s0(e===rG.QueryOne.FIRST?function(){var e,t,r,o,i;try{for(var a=a0(n),s=a.next();!s.done;s=a.next()){o=(r=s0(s.value,2))[0],i=r[1];break}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return[o,i]}():function(){var e,t,r,o,i;try{for(var a=a0(n),s=a.next();!s.done;s=a.next())o=(r=s0(s.value,2))[0],i=r[1]}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return[o,i]}(),2),o=r[0],i=r[1],a=this.getKeyForItem(t,o,i),(u=a)?[4,this.storage.getItem(a)]:[3,2];case 1:u=c.sent(),c.label=2;case 2:return[2,(s=u)&&JSON.parse(s)||void 0]}}))}))},e.prototype.getAll=function(e,t){return o0(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,d,f,h,p,v,g,m,y,b;return i0(this,(function(w){switch(w.label){case 0:n=this.getCollectionIndex(e),o=(r=t||{}).page,i=void 0===o?0:o,a=r.limit,s=void 0===a?0:a,u=Math.max(0,i*s)||0,c=s>0?u+s:void 0,l=[],d=0;try{for(f=a0(n),h=f.next();!h.done&&(p=s0(h.value,2),v=p[0],g=p[1],++d<=u||(l.push(this.getKeyForItem(e,v,g)),d!==c));h=f.next());}catch(e){y={error:e}}finally{try{h&&!h.done&&(b=f.return)&&b.call(f)}finally{if(y)throw y.error}}return[4,this.storage.multiGet(l)];case 1:return m=w.sent(),[2,m.filter((function(e){return s0(e,2)[1]})).map((function(e){var t=s0(e,2)[1];return JSON.parse(t)}))]}}))}))},e.prototype.delete=function(e,t){return o0(this,void 0,void 0,(function(){var n,r;return i0(this,(function(o){switch(o.label){case 0:return n=this.getCollectionIndex(t).get(e),r=this.getKeyForItem(t,e,n),this.getCollectionIndex(t).delete(e),[4,this.storage.removeItem(r)];case 1:return o.sent(),[2]}}))}))},e.prototype.clear=function(){return o0(this,void 0,void 0,(function(){var e,t;return i0(this,(function(n){switch(n.label){case 0:return[4,this.storage.getAllKeys()];case 1:return e=n.sent(),t=e.filter((function(e){return e.startsWith("@AmplifyDatastore")})),[4,this.storage.multiRemove(t)];case 2:return n.sent(),this._collectionInMemoryIndex.clear(),[2]}}))}))},e.prototype.getKeyForItem=function(e,t,n){return this.getKeyPrefixForStoreItems(e)+"::"+n+"::"+t},e.prototype.getLegacyKeyForItem=function(e,t){return this.getKeyPrefixForStoreItems(e)+"::"+t},e.prototype.getKeyPrefixForStoreItems=function(e){return"@AmplifyDatastore::"+e+"::Data"},e}(),l0=c0,d0=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},f0=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},h0=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof p0?p0(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}},p0=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},v0=new(0,k$.ConsoleLogger)("DataStore"),g0=function(){function e(){}return e.prototype.getStorenameForModel=function(e){var t=this.namespaceResolver(e),n=e.name;return this.getStorename(t,n)},e.prototype.getStorename=function(e,t){return e+"_"+t},e.prototype.setUp=function(e,t,n,r){return d0(this,void 0,void 0,(function(){var o,i=this;return f0(this,(function(a){switch(a.label){case 0:return this.initPromise?[3,1]:(this.initPromise=new Promise((function(e,t){i.resolve=e,i.reject=t})),[3,3]);case 1:return[4,this.initPromise];case 2:return a.sent(),[2];case 3:this.schema=e,this.namespaceResolver=t,this.modelInstanceCreator=n,this.getModelConstructorByModelName=r,a.label=4;case 4:return a.trys.push([4,7,,8]),this.db?[3,6]:(this.db=new(0,QX.default),[4,this.db.init()]);case 5:a.sent(),this.resolve(),a.label=6;case 6:return[3,8];case 7:return o=a.sent(),this.reject(o),[3,8];case 8:return[2]}}))}))},e.prototype.save=function(e,t){var n,r;return d0(this,void 0,void 0,(function(){var o,i,a,s,u,c,l,d,f,h,p,v,g,m,y,b,w,S,x,_,E,C,k=this;return f0(this,(function(A){switch(A.label){case 0:return o=Object.getPrototypeOf(e).constructor,i=this.getStorenameForModel(o),a=(0,OK.traverseModel)(o.name,e,this.schema.namespaces[this.namespaceResolver(o)],this.modelInstanceCreator,this.getModelConstructorByModelName),s=this.namespaceResolver(o),u=new Set,c=Object.values(a).map((function(e){var t=e.modelName,n=e.item,r=e.instance,o=k.getStorename(s,t);return u.add(o),{storeName:o,item:n,instance:r}})),[4,this.db.get(e.id,i)];case 1:if(l=A.sent(),t&&l&&(d=dX.getPredicates(t),f=d.predicates,h=d.type,!(0,OK.validatePredicate)(l,h,f)))throw p="Conditional update failed",v0.error(p,{model:l,condition:f}),new Error(p);v=[],A.label=2;case 2:A.trys.push([2,9,10,15]),g=h0(c),A.label=3;case 3:return[4,g.next()];case 4:return(m=A.sent()).done?[3,8]:(y=m.value,b=y.storeName,w=y.item,S=y.instance,x=w.id,[4,this.db.get(x,b)]);case 5:return _=A.sent(),E=_?rG.OpType.UPDATE:rG.OpType.INSERT,x!==e.id&&E!==rG.OpType.INSERT?[3,7]:[4,this.db.save(w,b)];case 6:A.sent(),v.push([S,E]),A.label=7;case 7:return[3,3];case 8:return[3,15];case 9:return C=A.sent(),n={error:C},[3,15];case 10:return A.trys.push([10,,13,14]),m&&!m.done&&(r=g.return)?[4,r.call(g)]:[3,12];case 11:A.sent(),A.label=12;case 12:return[3,14];case 13:if(n)throw n.error;return[7];case 14:return[7];case 15:return[2,v]}}))}))},e.prototype.load=function(e,t,n){var r,o,i,a,s,u,c,l,d,f;return d0(this,void 0,void 0,(function(){var h,p,v,g,m,y,b,w,S,x,_,E,C,k,A,T,I,N,O,P=this;return f0(this,(function(j){switch(j.label){case 0:if(h=this.schema.namespaces[e],p=h.relationships[t].relationTypes,v=p.map((function(t){var n=t.modelName;return P.getStorename(e,n)})),g=this.getModelConstructorByModelName(e,t),0===v.length)return[2,n.map((function(e){return P.modelInstanceCreator(g,e)}))];j.label=1;case 1:j.trys.push([1,34,35,40]),m=h0(p),j.label=2;case 2:return[4,m.next()];case 3:if((y=j.sent()).done)return[3,33];switch(b=y.value,w=b.fieldName,S=b.modelName,x=b.targetName,_=b.relationType,E=this.getStorename(e,S),C=this.getModelConstructorByModelName(e,S),_){case"HAS_ONE":return[3,4];case"BELONGS_TO":return[3,17];case"HAS_MANY":return[3,30]}return[3,31];case 4:j.trys.push([4,10,11,16]),r=h0(n),j.label=5;case 5:return[4,r.next()];case 6:return(o=j.sent()).done?[3,9]:(T=o.value,k=T[x]?x:w,T[k]?[4,this.db.get(T[k],E)]:[3,9]);case 7:I=j.sent(),T[w]=I&&this.modelInstanceCreator(C,I),j.label=8;case 8:return[3,5];case 9:return[3,16];case 10:return A=j.sent(),c={error:A},[3,16];case 11:return j.trys.push([11,,14,15]),o&&!o.done&&(l=r.return)?[4,l.call(r)]:[3,13];case 12:j.sent(),j.label=13;case 13:return[3,15];case 14:if(c)throw c.error;return[7];case 15:return[7];case 16:return[3,32];case 17:j.trys.push([17,23,24,29]),i=h0(n),j.label=18;case 18:return[4,i.next()];case 19:return(a=j.sent()).done?[3,22]:(T=a.value)[x]?[4,this.db.get(T[x],E)]:[3,21];case 20:I=j.sent(),T[w]=I&&this.modelInstanceCreator(C,I),delete T[x],j.label=21;case 21:return[3,18];case 22:return[3,29];case 23:return N=j.sent(),d={error:N},[3,29];case 24:return j.trys.push([24,,27,28]),a&&!a.done&&(f=i.return)?[4,f.call(i)]:[3,26];case 25:j.sent(),j.label=26;case 26:return[3,28];case 27:if(d)throw d.error;return[7];case 28:return[7];case 29:case 30:return[3,32];case 31:return(0,OK.exhaustiveCheck)(_),[3,32];case 32:return[3,2];case 33:return[3,40];case 34:return O=j.sent(),s={error:O},[3,40];case 35:return j.trys.push([35,,38,39]),y&&!y.done&&(u=m.return)?[4,u.call(m)]:[3,37];case 36:j.sent(),j.label=37;case 37:return[3,39];case 38:if(s)throw s.error;return[7];case 39:return[7];case 40:return[2,n.map((function(e){return P.modelInstanceCreator(g,e)}))]}}))}))},e.prototype.query=function(e,t,n){return d0(this,void 0,void 0,(function(){var r,o,i,a,s,u,c,l=this;return f0(this,(function(d){switch(d.label){case 0:return r=this.getStorenameForModel(e),o=this.namespaceResolver(e),i=t&&dX.getPredicates(t),a=i&&this.idFromPredicate(i),s=n&&n.sort,u=n&&n.limit,[4,d0(l,void 0,void 0,(function(){var e,t,o;return f0(this,(function(c){switch(c.label){case 0:return a?[4,this.getById(r,a)]:[3,2];case 1:return[2,(e=c.sent())?[e]:[]];case 2:return i?[4,this.filterOnPredicate(r,i)]:[3,4];case 3:return t=c.sent(),[2,this.inMemoryPagination(t,n)];case 4:return s||u?[4,this.getAll(r)]:[3,6];case 5:return o=c.sent(),[2,this.inMemoryPagination(o,n)];case 6:return[2,this.getAll(r)]}}))}))];case 1:return c=d.sent(),[4,this.load(o,e.name,c)];case 2:return[2,d.sent()]}}))}))},e.prototype.getById=function(e,t){return d0(this,void 0,void 0,(function(){return f0(this,(function(n){switch(n.label){case 0:return[4,this.db.get(t,e)];case 1:return[2,n.sent()]}}))}))},e.prototype.getAll=function(e){return d0(this,void 0,void 0,(function(){return f0(this,(function(t){switch(t.label){case 0:return[4,this.db.getAll(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.idFromPredicate=function(e){var t=e.predicates,n=1===t.length&&t.find((function(e){return(0,rG.isPredicateObj)(e)&&"id"===e.field&&"eq"===e.operator}));return n&&n.operand},e.prototype.filterOnPredicate=function(e,t){return d0(this,void 0,void 0,(function(){var n,r,o;return f0(this,(function(i){switch(i.label){case 0:return n=t.predicates,r=t.type,[4,this.getAll(e)];case 1:return o=i.sent(),[2,n?o.filter((function(e){return(0,OK.validatePredicate)(e,r,n)})):o]}}))}))},e.prototype.inMemoryPagination=function(e,t){if(t&&e.length>1){if(t.sort){var n=uX.getPredicates(t.sort);if(n.length){var r=(0,OK.sortCompareFunction)(n);e.sort(r)}}var o=t.page,i=void 0===o?0:o,a=t.limit,s=void 0===a?0:a,u=Math.max(0,i*s)||0,c=s>0?u+s:e.length;return e.slice(u,c)}return e},e.prototype.queryOne=function(e,t){return void 0===t&&(t=rG.QueryOne.FIRST),d0(this,void 0,void 0,(function(){var n,r;return f0(this,(function(o){switch(o.label){case 0:return n=this.getStorenameForModel(e),[4,this.db.getOne(t,n)];case 1:return[2,(r=o.sent())&&this.modelInstanceCreator(e,r)]}}))}))},e.prototype.delete=function(e,t){return d0(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,d,f,h,p;return f0(this,(function(v){switch(v.label){case 0:return n=[],(0,OK.isModelConstructor)(e)?(i=e,a=this.namespaceResolver(i),[4,this.query(i,t)]):[3,8];case 1:return r=v.sent(),h=this.schema.namespaces[a].relationships[i.name].relationTypes,void 0===t?[3,4]:[4,this.deleteTraverse(h,r,i.name,a,n)];case 2:return v.sent(),[4,this.deleteItem(n)];case 3:return v.sent(),p=n.reduce((function(e,t){var n=t.items;return e.concat(n)}),[]),[2,[r,p]];case 4:return[4,this.deleteTraverse(h,r,i.name,a,n)];case 5:return v.sent(),[4,this.deleteItem(n)];case 6:return v.sent(),p=n.reduce((function(e,t){var n=t.items;return e.concat(n)}),[]),[2,[r,p]];case 7:return[3,15];case 8:return o=e,i=Object.getPrototypeOf(o).constructor,a=this.namespaceResolver(i),s=this.getStorenameForModel(i),t?[4,this.db.get(o.id,s)]:[3,11];case 9:if(void 0===(u=v.sent()))return f="Model instance not found in storage",v0.warn(f,{model:o}),[2,[[o],[]]];if(c=dX.getPredicates(t),l=c.predicates,d=c.type,!(0,OK.validatePredicate)(u,d,l))throw f="Conditional update failed",v0.error(f,{model:u,condition:l}),new Error(f);return h=this.schema.namespaces[a].relationships[i.name].relationTypes,[4,this.deleteTraverse(h,[o],i.name,a,n)];case 10:return v.sent(),[3,13];case 11:return h=this.schema.namespaces[a].relationships[i.name].relationTypes,[4,this.deleteTraverse(h,[o],i.name,a,n)];case 12:v.sent(),v.label=13;case 13:return[4,this.deleteItem(n)];case 14:return v.sent(),p=n.reduce((function(e,t){var n=t.items;return e.concat(n)}),[]),[2,[[o],p]];case 15:return[2]}}))}))},e.prototype.deleteItem=function(e){var t,n,r,o,i,a;return d0(this,void 0,void 0,(function(){var s,u,c,l,d,f,h,p,v;return f0(this,(function(g){switch(g.label){case 0:g.trys.push([0,17,18,23]),t=h0(e),g.label=1;case 1:return[4,t.next()];case 2:if((n=g.sent()).done)return[3,16];s=n.value,u=s.storeName,c=s.items,g.label=3;case 3:g.trys.push([3,9,10,15]),l=h0(c),g.label=4;case 4:return[4,l.next()];case 5:return(d=g.sent()).done?[3,8]:(f=d.value)?"object"!=typeof f?[3,7]:(h=f.id,[4,this.db.delete(h,u)]):[3,7];case 6:g.sent(),g.label=7;case 7:return[3,4];case 8:return[3,15];case 9:return p=g.sent(),i={error:p},[3,15];case 10:return g.trys.push([10,,13,14]),d&&!d.done&&(a=l.return)?[4,a.call(l)]:[3,12];case 11:g.sent(),g.label=12;case 12:return[3,14];case 13:if(i)throw i.error;return[7];case 14:return[7];case 15:return[3,1];case 16:return[3,23];case 17:return v=g.sent(),r={error:v},[3,23];case 18:return g.trys.push([18,,21,22]),n&&!n.done&&(o=t.return)?[4,o.call(t)]:[3,20];case 19:g.sent(),g.label=20;case 20:return[3,22];case 21:if(r)throw r.error;return[7];case 22:return[7];case 23:return[2]}}))}))},e.prototype.deleteTraverse=function(e,t,n,r,o){var i,a,s,u,c,l,d,f,h,p,v,g;return d0(this,void 0,void 0,(function(){var m,y,b,w,S,x,_,E,C,k,A,T,I,N,O,P=this;return f0(this,(function(j){switch(j.label){case 0:j.trys.push([0,35,36,41]),i=h0(e),j.label=1;case 1:return[4,i.next()];case 2:if((a=j.sent()).done)return[3,34];switch(m=a.value,y=m.relationType,b=m.modelName,w=m.targetName,S=this.getStorename(r,b),x=(0,OK.getIndex)(this.schema.namespaces[r].relationships[b].relationTypes,n)||(0,OK.getIndexFromAssociation)(this.schema.namespaces[r].relationships[b].indexes,m.associatedWith),y){case"HAS_ONE":return[3,3];case"HAS_MANY":return[3,17];case"BELONGS_TO":return[3,31]}return[3,32];case 3:j.trys.push([3,10,11,16]),s=h0(t),j.label=4;case 4:return[4,s.next()];case 5:return(u=j.sent()).done?[3,9]:(A=u.value,_=x||"byId",(E=w in A?A[w]:A.id)?[4,this.db.getAll(S)]:[3,9]);case 6:return T=j.sent(),C=T.filter((function(e){return e[_]===E})),[4,this.deleteTraverse(this.schema.namespaces[r].relationships[b].relationTypes,C,b,r,o)];case 7:j.sent(),j.label=8;case 8:return[3,4];case 9:return[3,16];case 10:return k=j.sent(),h={error:k},[3,16];case 11:return j.trys.push([11,,14,15]),u&&!u.done&&(p=s.return)?[4,p.call(s)]:[3,13];case 12:j.sent(),j.label=13;case 13:return[3,15];case 14:if(h)throw h.error;return[7];case 15:return[7];case 16:return[3,33];case 17:j.trys.push([17,24,25,30]),c=h0(t),j.label=18;case 18:return[4,c.next()];case 19:return(l=j.sent()).done?[3,23]:(A=l.value,[4,this.db.getAll(S)]);case 20:return T=j.sent(),I=T.filter((function(e){return e[x]===A.id})),[4,this.deleteTraverse(this.schema.namespaces[r].relationships[b].relationTypes,I,b,r,o)];case 21:j.sent(),j.label=22;case 22:return[3,18];case 23:return[3,30];case 24:return N=j.sent(),v={error:N},[3,30];case 25:return j.trys.push([25,,28,29]),l&&!l.done&&(g=c.return)?[4,g.call(c)]:[3,27];case 26:j.sent(),j.label=27;case 27:return[3,29];case 28:if(v)throw v.error;return[7];case 29:return[7];case 30:case 31:return[3,33];case 32:return(0,OK.exhaustiveCheck)(y),[3,33];case 33:return[3,1];case 34:return[3,41];case 35:return O=j.sent(),d={error:O},[3,41];case 36:return j.trys.push([36,,39,40]),a&&!a.done&&(f=i.return)?[4,f.call(i)]:[3,38];case 37:j.sent(),j.label=38;case 38:return[3,40];case 39:if(d)throw d.error;return[7];case 40:return[7];case 41:return o.push({storeName:this.getStorename(r,n),items:t.map((function(e){return P.modelInstanceCreator(P.getModelConstructorByModelName(r,n),e)}))}),[2]}}))}))},e.prototype.clear=function(){return d0(this,void 0,void 0,(function(){return f0(this,(function(e){switch(e.label){case 0:return[4,this.db.clear()];case 1:return e.sent(),this.db=void 0,this.initPromise=void 0,[2]}}))}))},e.prototype.batchSave=function(e,t){return d0(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,d,f;return f0(this,(function(h){switch(h.label){case 0:n=e.name,r=this.namespaceResolver(e),o=this.getStorename(r,n),i=[],a=function(t){var n=t.id,r=(0,OK.traverseModel)(e.name,s.modelInstanceCreator(e,t),s.schema.namespaces[s.namespaceResolver(e)],s.modelInstanceCreator,s.getModelConstructorByModelName).find((function(e){return e.instance.id===n})).instance;i.push(r)},s=this;try{for(u=p0(t),c=u.next();!c.done;c=u.next())l=c.value,a(l)}catch(e){d={error:e}}finally{try{c&&!c.done&&(f=u.return)&&f.call(u)}finally{if(d)throw d.error}}return[4,this.db.batchSave(o,i)];case 1:return[2,h.sent()]}}))}))},e}(),m0=new g0,y0=function(){return y0=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},y0.apply(this,arguments)},b0=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},w0=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},S0=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},x0=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},_0=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},E0=new(0,k$.ConsoleLogger)("DataStore"),C0=function(){function e(e,t,n,o,i,a){this.schema=e,this.namespaceResolver=t,this.getModelConstructorByModelName=n,this.modelInstanceCreator=o,this.adapter=i,this.sessionId=a,this.adapter=this.adapter||(uY().isBrowser&&window.indexedDB||sY()&&self.indexedDB?SX.default:JX.default),this.pushStream=new(r(hX))}return e.getNamespace=function(){return{name:OK.STORAGE,relationships:{},enums:{},models:{},nonModels:{}}},e.prototype.init=function(){return b0(this,void 0,void 0,(function(){var e,t;return w0(this,(function(n){switch(n.label){case 0:return void 0===this.initialized?[3,2]:[4,this.initialized];case 1:case 3:return n.sent(),[2];case 2:return E0.debug("Starting Storage"),this.initialized=new Promise((function(n,r){e=n,t=r})),this.adapter.setUp(this.schema,this.namespaceResolver,this.modelInstanceCreator,this.getModelConstructorByModelName,this.sessionId).then(e,t),[4,this.initialized]}}))}))},e.prototype.save=function(e,t,n,r){return b0(this,void 0,void 0,(function(){var o,i=this;return w0(this,(function(a){switch(a.label){case 0:return[4,this.init()];case 1:return a.sent(),[4,this.adapter.save(e,t)];case 2:return(o=a.sent()).forEach((function(a){var s,u=x0(a,2),c=u[0],l=u[1],d=!!n;if(l===rG.OpType.UPDATE&&!d&&null===(s=i.getUpdateMutationInput(e,c,r)))return o;var f=s||c,h=Object.getPrototypeOf(c).constructor;i.pushStream.next({model:h,opType:l,element:f,mutator:n,condition:dX.getPredicates(t,!1),savedElement:c})})),[2,o]}}))}))},e.prototype.delete=function(e,t,n){return b0(this,void 0,void 0,(function(){var r,o,i,a,s=this;return w0(this,(function(u){switch(u.label){case 0:return[4,this.init()];case 1:return u.sent(),[4,this.adapter.delete(e,t)];case 2:return a=x0.apply(void 0,[u.sent(),2]),o=a[0],r=a[1],i=new Set(o.map((function(e){return e.id}))),(0,OK.isModelConstructor)(e)||Array.isArray(r)||(r=[r]),r.forEach((function(r){var o,a=Object.getPrototypeOf(r).constructor;(0,OK.isModelConstructor)(e)||(o=i.has(r.id)?dX.getPredicates(t,!1):void 0),s.pushStream.next({model:a,opType:rG.OpType.DELETE,element:r,mutator:n,condition:o})})),[2,[o,r]]}}))}))},e.prototype.query=function(e,t,n){return b0(this,void 0,void 0,(function(){return w0(this,(function(r){switch(r.label){case 0:return[4,this.init()];case 1:return r.sent(),[4,this.adapter.query(e,t,n)];case 2:return[2,r.sent()]}}))}))},e.prototype.queryOne=function(e,t){return void 0===t&&(t=rG.QueryOne.FIRST),b0(this,void 0,void 0,(function(){return w0(this,(function(n){switch(n.label){case 0:return[4,this.init()];case 1:return n.sent(),[4,this.adapter.queryOne(e,t)];case 2:return[2,n.sent()]}}))}))},e.prototype.observe=function(e,t,n){var r=!e,o=dX.getPredicates(t,!1)||{},i=o.predicates,a=o.type,s=!!i,u=this.pushStream.observable.filter((function(e){var t=e.mutator;return!n||t!==n})).map((function(e){e.mutator;return S0(e,["mutator"])}));return r||(u=u.filter((function(t){var n=t.model,r=t.element;return e===n&&(!s||(0,OK.validatePredicate)(r,a,i))}))),u},e.prototype.clear=function(e){return void 0===e&&(e=!0),b0(this,void 0,void 0,(function(){return w0(this,(function(t){switch(t.label){case 0:return this.initialized=void 0,[4,this.adapter.clear()];case 1:return t.sent(),e&&this.pushStream.complete(),[2]}}))}))},e.prototype.batchSave=function(e,t,n){return b0(this,void 0,void 0,(function(){var r,o=this;return w0(this,(function(i){switch(i.label){case 0:return[4,this.init()];case 1:return i.sent(),[4,this.adapter.batchSave(e,t)];case 2:return(r=i.sent()).forEach((function(t){var r=x0(t,2),i=r[0],a=r[1];o.pushStream.next({model:e,opType:a,element:i,mutator:n,condition:void 0})})),[2,r]}}))}))},e.prototype.getUpdateMutationInput=function(e,t,n){var r,o;if(!(n&&n.length))return null;var i=x0(n,2),a=i[0],s=i[1],u={},c=a.map((function(e){return e.path&&e.path[0]})),l=Object.getPrototypeOf(e).constructor,d=this.namespaceResolver(l),f=this.schema.namespaces[d].models[l.name].fields,h=this.schema.namespaces[d].keys[l.name],p=h.primaryKey,v=h.compositeKeys,g=void 0===v?[]:v;if(c.forEach((function(e){var n,r,o,i,a,c=(0,rG.isTargetNameAssociation)(null===(a=f[e])||void 0===a?void 0:a.association)||e;if(!(0,OK.valuesEqual)(s[c],t[c])){u[c]=void 0===t[c]?null:t[c];try{for(var l=_0(g),d=l.next();!d.done;d=l.next()){var h=d.value;if(h.has(c))try{for(var p=(o=void 0,_0(h)),v=p.next();!v.done;v=p.next()){var m=v.value;u[m]=t[m]}}catch(e){o={error:e}}finally{try{v&&!v.done&&(i=p.return)&&i.call(p)}finally{if(o)throw o.error}}}}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}})),p&&p.length)try{for(var m=_0(p),y=m.next();!y.done;y=m.next()){var b=y.value;u[b]=t[b]}}catch(e){r={error:e}}finally{try{y&&!y.done&&(o=m.return)&&o.call(m)}finally{if(r)throw r.error}}if(0===Object.keys(u).length)return null;var w=t.id,S=t._version,x=t._lastChangedAt,_=t._deleted;return y0(y0({},u),{id:w,_version:S,_lastChangedAt:x,_deleted:_})},e}(),k0=function(){function e(e,t,n,r,o,i){this.mutex=new AY,this.storage=new C0(e,t,n,r,o,i)}return e.prototype.runExclusive=function(e){return this.mutex.runExclusive(e.bind(this,this.storage))},e.prototype.save=function(e,t,n,r){return b0(this,void 0,void 0,(function(){return w0(this,(function(o){return[2,this.runExclusive((function(o){return o.save(e,t,n,r)}))]}))}))},e.prototype.delete=function(e,t,n){return b0(this,void 0,void 0,(function(){return w0(this,(function(r){return[2,this.runExclusive((function(r){if((0,OK.isModelConstructor)(e)){var o=e;return r.delete(o,t,n)}var i=e;return r.delete(i,t,n)}))]}))}))},e.prototype.query=function(e,t,n){return b0(this,void 0,void 0,(function(){return w0(this,(function(r){return[2,this.runExclusive((function(r){return r.query(e,t,n)}))]}))}))},e.prototype.queryOne=function(e,t){return void 0===t&&(t=rG.QueryOne.FIRST),b0(this,void 0,void 0,(function(){return w0(this,(function(n){return[2,this.runExclusive((function(n){return n.queryOne(e,t)}))]}))}))},e.getNamespace=function(){return C0.getNamespace()},e.prototype.observe=function(e,t,n){return this.storage.observe(e,t,n)},e.prototype.clear=function(){return b0(this,void 0,void 0,(function(){return w0(this,(function(e){switch(e.label){case 0:return[4,this.storage.clear()];case 1:return e.sent(),[2]}}))}))},e.prototype.batchSave=function(e,t){return this.storage.batchSave(e,t)},e.prototype.init=function(){return b0(this,void 0,void 0,(function(){return w0(this,(function(e){return[2,this.storage.init()]}))}))},e}(),A0={};e(A0,"ControlMessage",(()=>s2),(e=>s2=e)),e(A0,"SyncEngine",(()=>C2),(e=>C2=e));var T0={};e(T0,"default",(()=>O0),(e=>O0=e));var I0=(new(0,TY.default)).networkMonitor(),N0=function(){return N0=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},N0.apply(this,arguments)},O0=(new(0,k$.ConsoleLogger)("DataStore"),function(){function e(){this.connectionStatus={online:!1}}return e.prototype.status=function(){var e=this;if(this.observer)throw new Error("Subscriber already exists");return new gk((function(t){return e.observer=t,e.subscription=I0.subscribe((function(n){var r=n.online;e.connectionStatus.online=r;var o=N0({},e.connectionStatus);t.next(o)})),function(){clearTimeout(e.timeout),e.unsubscribe()}}))},e.prototype.unsubscribe=function(){this.subscription&&(clearTimeout(this.timeout),this.subscription.unsubscribe())},e.prototype.socketDisconnected=function(){var e=this;this.observer&&"function"==typeof this.observer.next&&(this.observer.next({online:!1}),this.timeout=setTimeout((function(){var t=N0({},e.connectionStatus);e.observer.next(t)}),5e3))},e}()),P0={};e(P0,"ModelMerger",(()=>D0),(e=>D0=e));var j0=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},R0=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},M0=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},U0=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},L0=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(M0(arguments[t]));return e},D0=function(){function e(e,t){this.outbox=e,this.ownSymbol=t}return e.prototype.merge=function(e,t){return j0(this,void 0,void 0,(function(){var n,r,o,i,a;return R0(this,(function(s){switch(s.label){case 0:return[4,this.outbox.getForModel(e,t)];case 1:return r=s.sent(),o=t._deleted,0!==r.length?[3,5]:o?(n=rG.OpType.DELETE,[4,e.delete(t,void 0,this.ownSymbol)]):[3,3];case 2:return s.sent(),[3,5];case 3:return[4,e.save(t,void 0,this.ownSymbol)];case 4:i=M0.apply(void 0,[s.sent(),1]),a=M0(i[0],2),n=a[1],s.label=5;case 5:return[2,n]}}))}))},e.prototype.mergePage=function(e,t,n){return j0(this,void 0,void 0,(function(){var r,o,i,a,s,u,c;return R0(this,(function(l){switch(l.label){case 0:r=new Map;try{for(o=U0(n),i=o.next();!i.done;i=o.next())a=i.value,r.set(a.id,a)}catch(e){u={error:e}}finally{try{i&&!i.done&&(c=o.return)&&c.call(o)}finally{if(u)throw u.error}}return s=L0(r.values()),[4,e.batchSave(t,s,this.ownSymbol)];case 1:return[2,l.sent()]}}))}))},e}(),F0={};e(F0,"MutationEventOutbox",(()=>x1),(e=>x1=e));var B0={};e(B0,"TransformerMutationType",(()=>Y0),(e=>Y0=e)),e(B0,"getAuthorizationRules",(()=>a1),(e=>a1=e)),e(B0,"buildSubscriptionGraphQLOperation",(()=>s1),(e=>s1=e)),e(B0,"buildGraphQLOperation",(()=>u1),(e=>u1=e)),e(B0,"createMutationInstanceFromModelOperation",(()=>c1),(e=>c1=e)),e(B0,"predicateToGraphQLCondition",(()=>l1),(e=>l1=e)),e(B0,"predicateToGraphQLFilter",(()=>d1),(e=>d1=e)),e(B0,"getUserGroupsFromToken",(()=>f1),(e=>f1=e)),e(B0,"getModelAuthModes",(()=>h1),(e=>h1=e)),e(B0,"getForbiddenError",(()=>p1),(e=>p1=e)),e(B0,"getClientSideAuthError",(()=>v1),(e=>v1=e)),e(B0,"getTokenForCustomAuth",(()=>g1),(e=>g1=e));var z0={};e(z0,"API",(()=>G0),(e=>G0=e));var V0=function(){return V0=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},V0.apply(this,arguments)},q0=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},K0=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},H0=new(0,k$.ConsoleLogger)("API"),G0=new(function(){function e(e){this.Auth=zJ.Auth,this.Cache=iZ,this.Credentials=aJ.Credentials,this._options=e,this._restApi=new(0,OZ.RestAPIClass)(e),this._graphqlApi=new(0,SQ.GraphQLAPIClass)(e),H0.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"API"},e.prototype.configure=function(e){this._options=Object.assign({},this._options,e),this._restApi.Credentials=this.Credentials,this._graphqlApi.Auth=this.Auth,this._graphqlApi.Cache=this.Cache,this._graphqlApi.Credentials=this.Credentials;var t=this._restApi.configure(this._options),n=this._graphqlApi.configure(this._options);return V0(V0({},t),n)},e.prototype.get=function(e,t,n){return this._restApi.get(e,t,n)},e.prototype.post=function(e,t,n){return this._restApi.post(e,t,n)},e.prototype.put=function(e,t,n){return this._restApi.put(e,t,n)},e.prototype.patch=function(e,t,n){return this._restApi.patch(e,t,n)},e.prototype.del=function(e,t,n){return this._restApi.del(e,t,n)},e.prototype.head=function(e,t,n){return this._restApi.head(e,t,n)},e.prototype.isCancel=function(e){return this._restApi.isCancel(e)},e.prototype.cancel=function(e,t){return this._restApi.hasCancelToken(e)?this._restApi.cancel(e,t):!!this._graphqlApi.hasCancelToken(e)&&this._graphqlApi.cancel(e,t)},e.prototype.endpoint=function(e){return q0(this,void 0,void 0,(function(){return K0(this,(function(t){return[2,this._restApi.endpoint(e)]}))}))},e.prototype.getGraphqlOperationType=function(e){return this._graphqlApi.getGraphqlOperationType(e)},e.prototype.graphql=function(e,t){return this._graphqlApi.graphql(e,t)},e}())(null);C$.Amplify.register(G0);var W0,$0,Y0,J0,Q0=z0.API,Z0=function(){return Z0=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Z0.apply(this,arguments)},X0=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},e1=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},t1=new(0,k$.ConsoleLogger)("DataStore");($0=W0||(W0={})).LIST="query",$0.CREATE="mutation",$0.UPDATE="mutation",$0.DELETE="mutation",$0.GET="query",(J0=Y0||(Y0={})).CREATE="Create",J0.UPDATE="Update",J0.DELETE="Delete",J0.GET="Get";var n1={_version:void 0,_lastChangedAt:void 0,_deleted:void 0},r1=Object.keys(n1);function o1(e,t){var n=i1(t),r=function(e,t){var n=[];return Object.values(t.fields).forEach((function(t){var r=t.name,o=t.type;if((0,rG.isNonModelFieldType)(o)){var i=e.nonModels[o.nonModel],a=Object.values(i1(i)).map((function(e){return e.name})),s=[];Object.values(i.fields).forEach((function(t){var n=t.type,r=t.name;if((0,rG.isNonModelFieldType)(n)){var o=e.nonModels[n.nonModel];s.push(r+" { "+o1(e,o)+" }")}})),n.push(r+" { "+a.join(" ")+" "+s.join(" ")+" }")}})),n}(e,t),o=function(e,t){var n=function(e){var t=[];(0,rG.isSchemaModel)(e)&&e.attributes&&e.attributes.forEach((function(e){if(e.properties&&e.properties.rules){var n=e.properties.rules.find((function(e){return"owner"===e.allow}));n&&n.ownerField&&t.push(n.ownerField)}}));return t}(e);return!t.owner&&n.includes("owner")?["owner"]:[]}(t,n),i=Object.values(n).map((function(e){return e.name})).concat(o).concat(r);return(0,rG.isSchemaModel)(t)&&(i=i.concat(r1).concat(function(e){var t=[];return Object.values(e.fields).filter((function(e){var t=e.association;return t&&Object.keys(t).length})).forEach((function(e){var n=e.name,r=e.association,o=r.connectionType;switch(o){case"HAS_ONE":case"HAS_MANY":break;case"BELONGS_TO":(0,rG.isTargetNameAssociation)(r)&&t.push(n+" { id _deleted }");break;default:(0,OK.exhaustiveCheck)(o)}})),t}(t))),i.join("\n")}function i1(e){var t=e.fields;return Object.values(t).filter((function(e){return!(!(0,rG.isGraphQLScalarType)(e.type)&&!(0,rG.isEnumFieldType)(e.type))})).reduce((function(e,t){return e[t.name]=t,e}),{})}function a1(e){var t=([].concat(e.attributes).find((function(e){return e&&"auth"===e.type}))||{}).properties,n=(void 0===t?{}:t).rules,r=[];return(void 0===n?[]:n).forEach((function(t){var n=t.identityClaim,o=void 0===n?"cognito:username":n,i=t.ownerField,a=void 0===i?"owner":i,s=t.operations,u=void 0===s?["create","update","delete","read"]:s,c=t.provider,l=void 0===c?"userPools":c,d=t.groupClaim,f=void 0===d?"cognito:groups":d,h=t.allow,p=void 0===h?"iam":h,v=t.groups,g=void 0===v?[]:v,m="owner"===p;if(u.includes("read")||m){var y={identityClaim:o,ownerField:a,provider:l,groupClaim:f,authStrategy:p,groups:g,areSubscriptionsPublic:!1};if(m){var b=([].concat(e.attributes).find((function(e){return e&&"model"===e.type}))||{}).properties,w=(void 0===b?{}:b).subscriptions,S=(void 0===w?{}:w).level,x=void 0===S?"on":S;y.areSubscriptionsPublic=!u.includes("read")||"public"===x}m?r.push(y):r.unshift(y)}})),r}function s1(e,t,n,r,o){var i=o1(e,t),a=t.name,s=(t.pluralName,"on"+n+a),u="",c="";return r&&(u="($"+o+": String!)",c="("+o+": $"+o+")"),[n,s,"subscription operation"+u+"{\n\t\t\t"+s+c+"{\n\t\t\t\t"+i+"\n\t\t\t}\n\t\t}"]}function u1(e,t,n){var r,o,i=o1(e,t),a=t.name,s=t.pluralName,u=" ",c=" ";switch(n){case"LIST":r="sync"+s,u="($limit: Int, $nextToken: String, $lastSync: AWSTimestamp, $filter: Model"+a+"FilterInput)",c="(limit: $limit, nextToken: $nextToken, lastSync: $lastSync, filter: $filter)",i="items {\n\t\t\t\t\t\t\t"+i+"\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnextToken\n\t\t\t\t\t\tstartedAt";break;case"CREATE":r="create"+a,u="($input: Create"+a+"Input!)",c="(input: $input)",o=Y0.CREATE;break;case"UPDATE":r="update"+a,u="($input: Update"+a+"Input!, $condition: Model"+a+"ConditionInput)",c="(input: $input, condition: $condition)",o=Y0.UPDATE;break;case"DELETE":r="delete"+a,u="($input: Delete"+a+"Input!, $condition: Model"+a+"ConditionInput)",c="(input: $input, condition: $condition)",o=Y0.DELETE;break;case"GET":r="get"+a,u="($id: ID!)",c="(id: $id)",o=Y0.GET;break;default:(0,OK.exhaustiveCheck)(n)}return[[o,r,W0[n]+" operation"+u+"{\n\t\t"+r+c+"{\n\t\t\t"+i+"\n\t\t}\n\t}"]]}function c1(e,t,n,r,o,i,a,s,u){var c;switch(n){case rG.OpType.INSERT:c=Y0.CREATE;break;case rG.OpType.UPDATE:c=Y0.UPDATE;break;case rG.OpType.DELETE:c=Y0.DELETE;break;default:(0,OK.exhaustiveCheck)(n)}return s(a,Z0(Z0({},u?{id:u}:{}),{data:JSON.stringify(o,(function(e,n){return e&&null!==n&&"object"==typeof n&&t.fields[e]&&"AWSJSON"===t.fields[e].type?JSON.stringify(n):n})),modelId:o.id,model:r.name,operation:c,condition:JSON.stringify(i)}))}function l1(e){var t={};return e&&Array.isArray(e.predicates)?(e.predicates.forEach((function(e){var n;if((0,rG.isPredicateObj)(e)){var r=e.field,o=e.operator,i=e.operand;if("id"===r)return;t[r]=((n={})[o]=i,n)}else t[e.type]=l1(e)})),t):t}function d1(e){var t={};if(!e||!Array.isArray(e.predicates))return t;var n=e.type,r=e.predicates,o="and"===n||"or"===n;t[n]=o?[]:{};var i=function(e){return o?t[n].push(e):t[n]=e};return r.forEach((function(e){var t,n;if((0,rG.isPredicateObj)(e)){var r=e.field,o=e.operator,a=e.operand,s=((t={})[r]=((n={})[o]=a,n),t);i(s)}else i(d1(e))})),t}function f1(e,t){var n=e[t.groupClaim]||[];if("string"==typeof n){var r=void 0;try{r=JSON.parse(n)}catch(e){r=n}n=[].concat(r)}return n}function h1(e){var t=e.authModeStrategy,n=e.defaultAuthMode,r=e.modelName,o=e.schema;return X0(this,void 0,void 0,(function(){var e,i,a,s=this;return e1(this,(function(u){switch(u.label){case 0:e=Object.values(rG.ModelOperation),i={CREATE:[],READ:[],UPDATE:[],DELETE:[]},u.label=1;case 1:return u.trys.push([1,3,,4]),[4,Promise.all(e.map((function(e){return X0(s,void 0,void 0,(function(){var a;return e1(this,(function(s){switch(s.label){case 0:return[4,t({schema:o,modelName:r,operation:e})];case 1:return"string"==typeof(a=s.sent())?i[e]=[a]:Array.isArray(a)&&a.length?i[e]=a:i[e]=[n],[2]}}))}))})))];case 2:return u.sent(),[3,4];case 3:return a=u.sent(),t1.debug("Error getting auth modes for model: "+r,a),[3,4];case 4:return[2,i]}}))}))}function p1(e){var t,n=["Request failed with status code 401","Request failed with status code 403"];return e&&e.errors?t=e.errors.find((function(e){return n.includes(e.message)})):e&&e.message&&(t=e),t?t.message:null}function v1(e){var t=Object.values(IZ);return e&&e.message&&t.find((function(t){return e.message.includes(t)}))||null}function g1(e,t){return void 0===t&&(t={}),X0(this,void 0,void 0,(function(){var n,r,o;return e1(this,(function(i){switch(i.label){case 0:if(e!==BJ.AWS_LAMBDA)return[3,6];if(n=t.authProviders,!(r=(void 0===n?{functionAuthProvider:null}:n).functionAuthProvider)||"function"!=typeof r)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,r()];case 2:return[2,i.sent().token];case 3:throw o=i.sent(),new Error("Error retrieving token from `functionAuthProvider`: "+o);case 4:return[3,6];case 5:throw new Error("You must provide a `functionAuthProvider` function to `DataStore.configure` when using "+BJ.AWS_LAMBDA);case 6:return[2]}}))}))}var m1=function(){return m1=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},m1.apply(this,arguments)},y1=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},b1=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},w1=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},S1=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},x1=function(){function e(e,t,n,r){this.schema=e,this.MutationEvent=t,this.modelInstanceCreator=n,this.ownSymbol=r}return e.prototype.enqueue=function(e,t){return y1(this,void 0,void 0,(function(){var n=this;return b1(this,(function(r){return e.runExclusive((function(e){return y1(n,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,d=this;return b1(this,(function(f){switch(f.label){case 0:return n=this.schema.namespaces[OK.SYNC].models.MutationEvent,r=dX.createFromExisting(n,(function(e){return e.modelId("eq",t.modelId).id("ne",d.inProgressMutationEventId)})),[4,e.query(this.MutationEvent,r)];case 1:return o=S1.apply(void 0,[f.sent(),1]),void 0!==(i=o[0])?[3,3]:[4,e.save(t,void 0,this.ownSymbol)];case 2:return f.sent(),[2];case 3:return a=t.operation,i.operation!==B0.TransformerMutationType.CREATE?[3,8]:a!==B0.TransformerMutationType.DELETE?[3,5]:[4,e.delete(this.MutationEvent,r)];case 4:return f.sent(),[3,7];case 5:return s=this.mergeUserFields(i,t),[4,e.save(this.MutationEvent.copyOf(i,(function(e){e.data=s.data})),void 0,this.ownSymbol)];case 6:f.sent(),f.label=7;case 7:return[3,12];case 8:return u=t.condition,c=JSON.parse(u),l=void 0,0!==Object.keys(c).length?[3,10]:(l=this.mergeUserFields(i,t),[4,e.delete(this.MutationEvent,r)]);case 9:f.sent(),f.label=10;case 10:return l=l||t,[4,e.save(l,void 0,this.ownSymbol)];case 11:f.sent(),f.label=12;case 12:return[2]}}))}))})),[2]}))}))},e.prototype.dequeue=function(e,t,n){return y1(this,void 0,void 0,(function(){var r;return b1(this,(function(o){switch(o.label){case 0:return[4,this.peek(e)];case 1:return r=o.sent(),t?[4,this.syncOutboxVersionsOnDequeue(e,t,r,n)]:[3,3];case 2:o.sent(),o.label=3;case 3:return[4,e.delete(r)];case 4:return o.sent(),this.inProgressMutationEventId=void 0,[2,r]}}))}))},e.prototype.peek=function(e){return y1(this,void 0,void 0,(function(){var t;return b1(this,(function(n){switch(n.label){case 0:return[4,e.queryOne(this.MutationEvent,rG.QueryOne.FIRST)];case 1:return t=n.sent(),this.inProgressMutationEventId=t?t.id:void 0,[2,t]}}))}))},e.prototype.getForModel=function(e,t){return y1(this,void 0,void 0,(function(){var n;return b1(this,(function(r){switch(r.label){case 0:return n=this.schema.namespaces[OK.SYNC].models.MutationEvent,[4,e.query(this.MutationEvent,dX.createFromExisting(n,(function(e){return e.modelId("eq",t.id)})))];case 1:return[2,r.sent()]}}))}))},e.prototype.getModelIds=function(e){return y1(this,void 0,void 0,(function(){var t,n;return b1(this,(function(r){switch(r.label){case 0:return[4,e.query(this.MutationEvent)];case 1:return t=r.sent(),n=new Set,t.forEach((function(e){var t=e.modelId;return n.add(t)})),[2,n]}}))}))},e.prototype.syncOutboxVersionsOnDequeue=function(e,t,n,r){return y1(this,void 0,void 0,(function(){var o,i,a,s,u,c,l,d,f,h,p,v=this;return b1(this,(function(g){switch(g.label){case 0:return n.operation!==r?[2]:(o=t._version,i=t._lastChangedAt,t._deleted,a=w1(t,["_version","_lastChangedAt","_deleted"]),s=this.removeTimestampFields(n.model,a),(u=JSON.parse(n.data))?(u._version,u._lastChangedAt,u._deleted,c=w1(u,["_version","_lastChangedAt","_deleted"]),l=this.removeTimestampFields(n.model,c),(0,OK.valuesEqual)(s,l,!0)?(d=this.schema.namespaces[OK.SYNC].models.MutationEvent,f=dX.createFromExisting(d,(function(e){return e.modelId("eq",t.id).id("ne",v.inProgressMutationEventId)})),[4,e.query(this.MutationEvent,f)]):[2]):[2]);case 1:return(h=g.sent()).length?(p=h.map((function(e){var t=JSON.parse(e.data),n=m1(m1({},t),{_version:o,_lastChangedAt:i});return v.MutationEvent.copyOf(e,(function(e){e.data=JSON.stringify(n)}))})),[4,e.delete(this.MutationEvent,f)]):[2];case 2:return g.sent(),[4,Promise.all(p.map((function(t){return y1(v,void 0,void 0,(function(){return b1(this,(function(n){switch(n.label){case 0:return[4,e.save(t,void 0,this.ownSymbol)];case 1:return[2,n.sent()]}}))}))})))];case 3:return g.sent(),[2]}}))}))},e.prototype.mergeUserFields=function(e,t){var n=JSON.parse(e.data),r=n._version,o=n.id,i=n._lastChangedAt,a=n._deleted,s=w1(n,["_version","id","_lastChangedAt","_deleted"]),u=JSON.parse(t.data),c=(u.id,u._version,u._lastChangedAt,u._deleted,w1(u,["id","_version","_lastChangedAt","_deleted"])),l=JSON.stringify(m1(m1({id:o,_version:r,_lastChangedAt:i,_deleted:a},s),c));return this.modelInstanceCreator(this.MutationEvent,m1(m1({},t),{data:l}))},e.prototype.removeTimestampFields=function(e,t){var n,r,o="createdAt",i="updatedAt",a=o,s=i,u=null===(n=this.schema.namespaces[OK.USER].models[e].attributes)||void 0===n?void 0:n.find((function(e){return"model"===e.type})),c=null===(r=null==u?void 0:u.properties)||void 0===r?void 0:r.timestamps;return c&&(a=c.createdAt,s=c.updatedAt),delete t[a],delete t[s],t},e}(),_1={};e(_1,"MutationProcessor",(()=>H1),(e=>H1=e));var E1={};e(E1,"getMutationErrorType",(()=>R1),(e=>R1=e)),e(E1,"getSubscriptionErrorType",(()=>M1),(e=>M1=e)),e(E1,"getSyncErrorType",(()=>U1),(e=>U1=e));var C1=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},k1=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(C1(arguments[t]));return e},A1=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},T1=function(e){return/^Connection failed: Connection Timeout/.test(e.message)},I1=function(e){return/^Error: Request failed with status code 5\d\d/.test(e.message)},N1={BadModel:function(){return!1},BadRecord:function(e){var t=e.message;return/^Cannot return \w+ for [\w-_]+ type/.test(t)||/^Variable '.+' has coerced Null value for NonNull type/.test(t)},ConfigError:function(){return!1},Transient:function(e){return T1(e)||I1(e)},Unauthorized:function(e){return/^Request failed with status code 401/.test(e.message)}},O1={BadModel:function(){return!1},BadRecord:function(){return!1},ConfigError:function(){return!1},Transient:function(e){var t=j1(e);return T1(t)||I1(t)},Unauthorized:function(e){var t=j1(e);return/Connection failed.+Unauthorized/.test(t.message)}},P1={BadModel:function(){return!1},BadRecord:function(e){return/^Cannot return \w+ for [\w-_]+ type/.test(e.message)},ConfigError:function(){return!1},Transient:function(e){return T1(e)||I1(e)},Unauthorized:function(){return!1}};function j1(e){var t=e.error;return C1((void 0===t?{errors:[]}:t).errors,1)[0]}function R1(e){return L1(N1,e)}function M1(e){return L1(O1,e)}function U1(e){return L1(P1,e)}function L1(e,t){var n,r,o=k1(Object.keys(e));try{for(var i=A1(o),a=i.next();!a.done;a=i.next()){var s=a.value;if((0,e[s])(t))return s}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return"Unknown"}var D1=function(){return D1=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},D1.apply(this,arguments)},F1=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},B1=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},z1=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},V1=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},q1=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},K1=new(0,k$.ConsoleLogger)("DataStore"),H1=function(){function e(e,t,n,r,o,i,a,s,u,c){void 0===a&&(a={}),this.schema=e,this.storage=t,this.userClasses=n,this.outbox=r,this.modelInstanceCreator=o,this.MutationEvent=i,this.amplifyConfig=a,this.authModeStrategy=s,this.errorHandler=u,this.conflictHandler=c,this.typeQuery=new WeakMap,this.processing=!1,this.generateQueries()}return e.prototype.generateQueries=function(){var e=this;Object.values(this.schema.namespaces).forEach((function(t){Object.values(t.models).filter((function(e){return e.syncable})).forEach((function(n){var r=V1((0,B0.buildGraphQLOperation)(t,n,"CREATE"),1)[0],o=V1((0,B0.buildGraphQLOperation)(t,n,"UPDATE"),1)[0],i=V1((0,B0.buildGraphQLOperation)(t,n,"DELETE"),1)[0];e.typeQuery.set(n,[r,o,i])}))}))},e.prototype.isReady=function(){return void 0!==this.observer},e.prototype.start=function(){var e=this;return new gk((function(t){return e.observer=t,e.resume(),function(){e.pause()}}))},e.prototype.resume=function(){return F1(this,void 0,void 0,(function(){var e,t,n,r,o,i=this;return B1(this,(function(a){switch(a.label){case 0:if(this.processing||!this.isReady())return[2];this.processing=!0,t=OK.USER,n=function(){var n,o,a,s,u,c,l,d,f,h,p,v,g,m,y,b;return B1(this,(function(w){switch(w.label){case 0:n=e.model,o=e.operation,a=e.data,s=e.condition,u=r.userClasses[n],c=void 0,l=void 0,d=void 0,w.label=1;case 1:return w.trys.push([1,4,,5]),[4,(0,B0.getModelAuthModes)({authModeStrategy:r.authModeStrategy,defaultAuthMode:r.amplifyConfig.aws_appsync_authenticationType,modelName:n,schema:r.schema})];case 2:return f=w.sent(),h=f[o.toUpperCase()],p=0,[4,(v=function(){return F1(i,void 0,void 0,(function(){var r,i;return B1(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,4]),K1.debug("Attempting mutation with authMode: "+h[p]),[4,this.jitteredRetry(t,n,o,a,s,u,this.MutationEvent,e,h[p])];case 1:return r=c.sent(),K1.debug("Mutation sent successfully with authMode: "+h[p]),[2,r];case 2:if(i=c.sent(),++p>=h.length)throw K1.debug("Mutation failed with authMode: "+h[p-1]),i;return K1.debug("Mutation failed with authMode: "+h[p-1]+". Retrying with authMode: "+h[p]),[4,v()];case 3:return[2,c.sent()];case 4:return[2]}}))}))})()];case 3:return b=V1.apply(void 0,[w.sent(),3]),c=b[0],l=b[1],d=b[2],[3,5];case 4:return"Offline"===(g=w.sent()).message||"RetryMutation"===g.message?[2,"continue"]:[3,5];case 5:return void 0!==c?[3,7]:(K1.debug("done retrying"),[4,r.storage.runExclusive((function(e){return F1(i,void 0,void 0,(function(){return B1(this,(function(t){switch(t.label){case 0:return[4,this.outbox.dequeue(e)];case 1:return t.sent(),[2]}}))}))}))]);case 6:return w.sent(),[2,"continue"];case 7:return m=c.data[l],y=!1,[4,r.storage.runExclusive((function(e){return F1(i,void 0,void 0,(function(){return B1(this,(function(t){switch(t.label){case 0:return[4,this.outbox.dequeue(e,m,o)];case 1:return t.sent(),[4,this.outbox.peek(e)];case 2:return y=void 0!==t.sent(),[2]}}))}))}))];case 8:return w.sent(),r.observer.next({operation:o,modelDefinition:d,model:m,hasMore:y}),[2]}}))},r=this,a.label=1;case 1:return(o=this.processing)?[4,this.outbox.peek(this.storage)]:[3,3];case 2:o=void 0!==(e=a.sent()),a.label=3;case 3:return o?[5,n()]:[3,5];case 4:return a.sent(),[3,1];case 5:return this.pause(),[2]}}))}))},e.prototype.jitteredRetry=function(e,t,n,r,o,i,a,s,u){return F1(this,void 0,void 0,(function(){var c=this;return B1(this,(function(l){switch(l.label){case 0:return[4,(0,vY.retry)((function(t,n,r,o,i,a,s){return F1(c,void 0,void 0,(function(){var c,l,d,f,h,p,v,g,m,y,b,w,S,x,_,E,C,k,A,T,I,N,O,P,j,R,M;return B1(this,(function(U){switch(U.label){case 0:return c=V1(this.createQueryVariables(e,t,n,r,o),5),l=c[0],d=c[1],f=c[2],h=c[3],p=c[4],[4,(0,B0.getTokenForCustomAuth)(u,this.amplifyConfig)];case 1:v=U.sent(),g={query:l,variables:d,authMode:u,authToken:v},m=0,y=this.opTypeFromTransformerOperation(n),U.label=2;case 2:return U.trys.push([2,4,,20]),[4,Q0.graphql(g)];case 3:return[2,[U.sent(),h,p]];case 4:if(!((b=U.sent()).errors&&b.errors.length>0))return[3,18];if(w=V1(b.errors,1),S=w[0],x=S.originalError,_=(void 0===x?{}:x).code,E=void 0===_?null:_,"Unauthorized"===S.errorType)throw new(0,vY.NonRetryableError)("Unauthorized");if("Network Error"===S.message||"ECONNABORTED"===E){if(!this.processing)throw new(0,vY.NonRetryableError)("Offline");throw new Error("Network Error")}return"ConflictUnhandled"!==S.errorType?[3,13]:(m++,C=void 0,m>10?(C=rG.DISCARD,[3,8]):[3,5]);case 5:return U.trys.push([5,7,,8]),[4,this.conflictHandler({modelConstructor:i,localModel:this.modelInstanceCreator(i,d.input),remoteModel:this.modelInstanceCreator(i,S.data),operation:y,attempts:m})];case 6:return C=U.sent(),[3,8];case 7:return k=U.sent(),K1.warn("conflict trycatch",k),[3,20];case 8:return C!==rG.DISCARD?[3,11]:(A=V1((0,B0.buildGraphQLOperation)(this.schema.namespaces[e],p,"GET"),1),T=V1(A[0],3),I=T[1],N=T[2],[4,(0,B0.getTokenForCustomAuth)(u,this.amplifyConfig)]);case 9:return O=U.sent(),[4,Q0.graphql({query:N,variables:{id:d.input.id},authMode:u,authToken:O})];case 10:return[2,[U.sent(),I,p]];case 11:return P=this.schema.namespaces[e],j=(0,B0.createMutationInstanceFromModelOperation)(P.relationships,p,y,i,C,f,a,this.modelInstanceCreator,s.id),[4,this.storage.save(j)];case 12:throw U.sent(),new(0,vY.NonRetryableError)("RetryMutation");case 13:return U.trys.push([13,15,16,17]),[4,this.errorHandler({recoverySuggestion:"Ensure app code is up to date, auth directives exist and are correct on each model, and that server-side data has not been invalidated by a schema change. If the problem persists, search for or create an issue: https://github.com/aws-amplify/amplify-js/issues",localModel:d.input,message:S.message,operation:n,errorType:(0,E1.getMutationErrorType)(S),errorInfo:S.errorInfo,process:rG.ProcessName.mutate,cause:S,remoteModel:S.data?this.modelInstanceCreator(i,S.data):null})];case 14:return U.sent(),[3,17];case 15:return R=U.sent(),K1.warn("Mutation error handler failed with:",R),[3,17];case 16:return[2,S.data?[{data:(M={},M[h]=S.data,M)},h,p]:[]];case 17:return[3,19];case 18:throw new(0,vY.NonRetryableError)(b);case 19:return[3,20];case 20:if(g)return[3,2];U.label=21;case 21:return[2]}}))}))}),[t,n,r,o,i,a,s],W1)];case 1:return[2,l.sent()]}}))}))},e.prototype.createQueryVariables=function(e,t,n,r,o){var i,a,s=this.schema.namespaces[e].models[t],u=this.schema.namespaces[e].keys[t].primaryKey,c=this.typeQuery.get(s),l=V1(c.find((function(e){return V1(e,1)[0]===n})),3),d=l[1],f=l[2],h=JSON.parse(r),p=h._version,v=z1(h,["_version"]),g={};if(u&&u.length)try{for(var m=q1(u),y=m.next();!y.done;y=m.next()){var b=y.value;g[b]=v[b]}}catch(e){i={error:e}}finally{try{y&&!y.done&&(a=m.return)&&a.call(m)}finally{if(i)throw i.error}}else g.id=v.id;var w=n===B0.TransformerMutationType.DELETE?g:Object.values(s.fields).filter((function(e){var t=e.name,r=e.type,o=e.association;return(0,rG.isModelFieldType)(r)?!(!(0,rG.isTargetNameAssociation)(o)||"BELONGS_TO"!==o.connectionType):n!==B0.TransformerMutationType.UPDATE||v.hasOwnProperty(t)})).map((function(e){var t=e.name,n=e.type,r=e.association,o=t,i=v[t];return(0,rG.isModelFieldType)(n)&&(0,rG.isTargetNameAssociation)(r)&&(o=r.targetName,i=v[o]),[o,i]})).reduce((function(e,t){var n=V1(t,2),r=n[0],o=n[1];return e[r]=o,e}),{}),S=D1(D1({},w),{_version:p}),x=JSON.parse(o);return[f,D1({input:S},n===B0.TransformerMutationType.CREATE?{}:{condition:Object.keys(x).length>0?x:null}),x,d,s]},e.prototype.opTypeFromTransformerOperation=function(e){switch(e){case B0.TransformerMutationType.CREATE:return rG.OpType.INSERT;case B0.TransformerMutationType.DELETE:return rG.OpType.DELETE;case B0.TransformerMutationType.UPDATE:return rG.OpType.UPDATE;case B0.TransformerMutationType.GET:break;default:(0,OK.exhaustiveCheck)(e)}},e.prototype.pause=function(){this.processing=!1},e}(),G1=(0,vY.jitteredBackoff)(3e5),W1=function(e,t,n){var r=G1(e);return!1===r&&"Network Error"===(null==n?void 0:n.message)?3e5:r},$1={};e($1,"CONTROL_MSG",(()=>Y1),(e=>Y1=e)),e($1,"SubscriptionProcessor",(()=>i2),(e=>i2=e));var Y1,J1,Q1,Z1=(zd=s("awmEs")).Buffer,X1=function(){return X1=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},X1.apply(this,arguments)},e2=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},t2=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},n2=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},r2=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n2(arguments[t]));return e},o2=new(0,k$.ConsoleLogger)("DataStore");(Y1||(Y1={})).CONNECTED="CONNECTED",(Q1=J1||(J1={}))[Q1.none=0]="none",Q1[Q1.unauth=1]="unauth",Q1[Q1.auth=2]="auth";var i2=function(){function e(e,t,n,r,o){void 0===n&&(n={}),this.schema=e,this.syncPredicates=t,this.amplifyConfig=n,this.authModeStrategy=r,this.errorHandler=o,this.typeQuery=new WeakMap,this.buffer=[]}return e.prototype.buildSubscription=function(e,t,n,r,o,i,a){var s=this.amplifyConfig.aws_appsync_authenticationType,u=this.getAuthorizationInfo(t,r,s,o,i,a)||{},c=u.isOwner,l=u.ownerField,d=u.ownerValue,f=n2((0,B0.buildSubscriptionGraphQLOperation)(e,t,n,c,l),3);return{authMode:a,opType:f[0],opName:f[1],query:f[2],isOwner:c,ownerField:l,ownerValue:d}},e.prototype.getAuthorizationInfo=function(e,t,n,r,o,i){void 0===r&&(r={}),void 0===o&&(o={});var a=(0,B0.getAuthorizationRules)(e);if(i===BJ.AWS_IAM&&a.find((function(e){return"private"===e.authStrategy&&"iam"===e.provider}))&&t===J1.unauth)return null;var s,u=a.filter((function(e){return"groups"===e.authStrategy&&["userPools","oidc"].includes(e.provider)}));return i!==BJ.AMAZON_COGNITO_USER_POOLS&&i!==BJ.OPENID_CONNECT||!u.find((function(e){var t=(0,B0.getUserGroupsFromToken)(r,e),n=(0,B0.getUserGroupsFromToken)(o,e);return r2(t,n).find((function(t){return e.groups.find((function(e){return e===t}))}))}))?((i===BJ.AMAZON_COGNITO_USER_POOLS?a.filter((function(e){return"owner"===e.authStrategy&&"userPools"===e.provider})):[]).forEach((function(e){var t=r[e.identityClaim];t&&(s={authMode:BJ.AMAZON_COGNITO_USER_POOLS,isOwner:!e.areSubscriptionsPublic,ownerField:e.ownerField,ownerValue:t})})),s||((i===BJ.OPENID_CONNECT?a.filter((function(e){return"owner"===e.authStrategy&&"oidc"===e.provider})):[]).forEach((function(e){var t=o[e.identityClaim];t&&(s={authMode:BJ.OPENID_CONNECT,isOwner:!e.areSubscriptionsPublic,ownerField:e.ownerField,ownerValue:t})})),s||{authMode:i||n,isOwner:!1})):{authMode:i,isOwner:!1}},e.prototype.hubQueryCompletionListener=function(e,t){t.payload.event===_Z.SUBSCRIPTION_ACK&&e()},e.prototype.start=function(){var e=this;return[new gk((function(t){var n,r,o=[],i={},a=J1.none;return e2(e,void 0,void 0,(function(){var e,s,u,c,l,d,f,h,p,v,g=this;return t2(this,(function(m){switch(m.label){case 0:return m.trys.push([0,2,,3]),[4,bQ.currentCredentials()];case 1:return e=m.sent(),a=e.authenticated?J1.auth:J1.unauth,[3,3];case 2:return m.sent(),[3,3];case 3:return m.trys.push([3,5,,6]),[4,bQ.currentSession()];case 4:return s=m.sent(),n=s.getIdToken().decodePayload(),[3,6];case 5:return m.sent(),[3,6];case 6:if(m.trys.push([6,11,,12]),u=this.amplifyConfig,c=u.aws_cognito_region,l=u.Auth,!c||l&&!l.region)throw"Auth is not configured";return d=void 0,[4,iZ.getItem("federatedInfo")];case 7:return(f=m.sent())?(d=f.token,[3,10]):[3,8];case 8:return[4,bQ.currentAuthenticatedUser()];case 9:(h=m.sent())&&(d=h.token),m.label=10;case 10:return d&&(p=d.split(".")[1],r=JSON.parse(Z1.from(p,"base64").toString("utf8"))),[3,12];case 11:return v=m.sent(),o2.debug("error getting OIDC JWT",v),[3,12];case 12:return Object.values(this.schema.namespaces).forEach((function(e){Object.values(e.models).filter((function(e){return e.syncable})).forEach((function(s){return e2(g,void 0,void 0,(function(){var u,c,l,d,f,h,p,v,g=this;return t2(this,(function(m){switch(m.label){case 0:return[4,(0,B0.getModelAuthModes)({authModeStrategy:this.authModeStrategy,defaultAuthMode:this.amplifyConfig.aws_appsync_authenticationType,modelName:s.name,schema:this.schema})];case 1:return u=m.sent(),c=u.READ,i=X1(X1({},i),((h={})[s.name]=((p={})[B0.TransformerMutationType.CREATE]=[],p[B0.TransformerMutationType.UPDATE]=[],p[B0.TransformerMutationType.DELETE]=[],p),h)),l=[B0.TransformerMutationType.CREATE,B0.TransformerMutationType.UPDATE,B0.TransformerMutationType.DELETE],(v={})[B0.TransformerMutationType.CREATE]=0,v[B0.TransformerMutationType.UPDATE]=0,v[B0.TransformerMutationType.DELETE]=0,d=v,f=function(u){return e2(g,void 0,void 0,(function(){var l,h,p,v,g,m,y,b,w,S,x,_,E=this;return t2(this,(function(C){switch(C.label){case 0:return l=this.buildSubscription(e,s,u,a,n,r,c[d[u]]),h=l.opType,p=l.opName,v=l.query,g=l.isOwner,m=l.ownerField,y=l.ownerValue,b=l.authMode,[4,(0,B0.getTokenForCustomAuth)(b,this.amplifyConfig)];case 1:if(w=C.sent(),S={},g){if(!y)return t.error("Owner field required, sign in is needed in order to perform this operation"),[2];S[m]=y}return o2.debug("Attempting "+u+" subscription with authMode: "+c[d[u]]),x=Q0.graphql(X1(X1({query:v,variables:S},{authMode:b}),{authToken:w})),i[s.name][h].push(x.map((function(e){return e.value})).subscribe({next:function(e){var t=e.data,n=e.errors;if(Array.isArray(n)&&n.length>0){var r=n.map((function(e){return e.message}));return o2.warn("Skipping incoming subscription. Messages: "+r.join("\n")),void E.drainBuffer()}var o=dX.getPredicates(E.syncPredicates.get(s),!1),i=t[p];E.passesPredicateValidation(i,o)&&E.pushToBuffer(h,s,i),E.drainBuffer()},error:function(e){return e2(E,void 0,void 0,(function(){var n,r,o,a,l,p;return t2(this,(function(v){switch(v.label){case 0:if(n=e.error,r=n2((void 0===n?{errors:[]}:n).errors,1),o=r[0],a=(void 0===o?{}:o).message,(l=void 0===a?"":a).includes(_Z.REALTIME_SUBSCRIPTION_INIT_ERROR)||l.includes(_Z.CONNECTION_FAILED)){if(i[s.name][h].forEach((function(e){return e.unsubscribe()})),i[s.name][h]=[],d[u]++,!(d[u]>=c.length))return o2.debug(u+" subscription failed with authMode: "+c[d[u]-1]+". Retrying with authMode: "+c[d[u]]),f(u),[2];o2.debug(u+" subscription failed with authMode: "+c[d[u]-1])}o2.warn("subscriptionError",l),v.label=1;case 1:return v.trys.push([1,3,,4]),[4,this.errorHandler({recoverySuggestion:"Ensure app code is up to date, auth directives exist and are correct on each model, and that server-side data has not been invalidated by a schema change. If the problem persists, search for or create an issue: https://github.com/aws-amplify/amplify-js/issues",localModel:null,message:l,model:s.name,operation:u,errorType:(0,E1.getSubscriptionErrorType)(e),process:rG.ProcessName.subscribe,remoteModel:null,cause:e})];case 2:return v.sent(),[3,4];case 3:return p=v.sent(),o2.error("Subscription error handler failed with:",p),[3,4];case 4:return"function"==typeof _&&_(),l.includes('"errorType":"Unauthorized"')||l.includes('"errorType":"OperationDisabled"')||t.error(l),[2]}}))}))}})),o.push(e2(E,void 0,void 0,(function(){var e,t=this;return t2(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(n){_=n,e=t.hubQueryCompletionListener.bind(t,n),F$.Hub.listen("api",e)}))];case 1:return n.sent(),F$.Hub.remove("api",e),[2]}}))}))),[2]}}))}))},l.forEach((function(e){return f(e)})),[2]}}))}))}))})),Promise.all(o).then((function(){return t.next(Y1.CONNECTED)})),[2]}}))})),function(){Object.keys(i).forEach((function(e){i[e][B0.TransformerMutationType.CREATE].forEach((function(e){return e.unsubscribe()})),i[e][B0.TransformerMutationType.UPDATE].forEach((function(e){return e.unsubscribe()})),i[e][B0.TransformerMutationType.DELETE].forEach((function(e){return e.unsubscribe()}))}))}})),new gk((function(t){return e.dataObserver=t,e.drainBuffer(),function(){e.dataObserver=null}}))]},e.prototype.passesPredicateValidation=function(e,t){if(!t)return!0;var n=t.predicates,r=t.type;return(0,OK.validatePredicate)(e,r,n)},e.prototype.pushToBuffer=function(e,t,n){this.buffer.push([e,t,n])},e.prototype.drainBuffer=function(){var e=this;this.dataObserver&&(this.buffer.forEach((function(t){return e.dataObserver.next(t)})),this.buffer=[])},e}(),a2={};e(a2,"SyncProcessor",(()=>g2),(e=>g2=e));var s2,u2,c2=function(){return c2=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},c2.apply(this,arguments)},l2=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},d2=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},f2=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},h2=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},p2={items:[],nextToken:null,startedAt:null},v2=new(0,k$.ConsoleLogger)("DataStore"),g2=function(){function e(e,t,n,r,o,i){void 0===n&&(n={}),this.schema=e,this.syncPredicates=t,this.amplifyConfig=n,this.authModeStrategy=r,this.errorHandler=o,this.modelInstanceCreator=i,this.typeQuery=new WeakMap,this.generateQueries()}return e.prototype.generateQueries=function(){var e=this;Object.values(this.schema.namespaces).forEach((function(t){Object.values(t.models).filter((function(e){return e.syncable})).forEach((function(n){var r=f2((0,B0.buildGraphQLOperation)(t,n,"LIST"),1),o=f2(r[0]).slice(1);e.typeQuery.set(n,o)}))}))},e.prototype.graphqlFilterFromPredicate=function(e){if(!this.syncPredicates)return null;var t=dX.getPredicates(this.syncPredicates.get(e),!1);return t?(0,B0.predicateToGraphQLFilter)(t):null},e.prototype.retrievePage=function(e,t,n,r,o){return void 0===r&&(r=null),l2(this,void 0,void 0,(function(){var i,a,s,u,c,l,d,f,h,p,v,g,m,y=this;return d2(this,(function(b){switch(b.label){case 0:return i=f2(this.typeQuery.get(e),2),a=i[0],s=i[1],u={limit:r,nextToken:n,lastSync:t,filter:o},[4,(0,B0.getModelAuthModes)({authModeStrategy:this.authModeStrategy,defaultAuthMode:this.amplifyConfig.aws_appsync_authenticationType,modelName:e.name,schema:this.schema})];case 1:return c=b.sent(),l=c.READ,d=0,[4,(f=function(){return l2(y,void 0,void 0,(function(){var t,n,r,o;return d2(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,4]),v2.debug("Attempting sync with authMode: "+l[d]),[4,this.jitteredRetry({query:s,variables:u,opName:a,modelDefinition:e,authMode:l[d]})];case 1:return t=i.sent(),v2.debug("Sync successful with authMode: "+l[d]),[2,t];case 2:if(n=i.sent(),++d>=l.length){if(r=l[d-1],v2.debug("Sync failed with authMode: "+r,n),(0,B0.getClientSideAuthError)(n)||(0,B0.getForbiddenError)(n))return v2.warn("User is unauthorized to query "+a+" with auth mode "+r+". No data could be returned."),[2,{data:(o={},o[a]=p2,o)}];throw n}return v2.debug("Sync failed with authMode: "+l[d-1]+". Retrying with authMode: "+l[d]),[4,f()];case 3:return[2,i.sent()];case 4:return[2]}}))}))})()];case 2:return h=b.sent().data,p=h[a],v=p.items,g=p.nextToken,m=p.startedAt,[2,{nextToken:g,startedAt:m,items:v}]}}))}))},e.prototype.partialDataFeatureFlagEnabled=function(){try{var e=sessionStorage.getItem("datastorePartialData");return Boolean(e)}catch(e){return!1}},e.prototype.jitteredRetry=function(e){var t=e.query,n=e.variables,r=e.opName,o=e.modelDefinition,i=e.authMode;return l2(this,void 0,void 0,(function(){var e=this;return d2(this,(function(a){switch(a.label){case 0:return[4,(0,vY.jitteredExponentialRetry)((function(t,n){return l2(e,void 0,void 0,(function(){var e,a,s,u,c,l=this;return d2(this,(function(d){switch(d.label){case 0:return d.trys.push([0,3,,8]),[4,(0,B0.getTokenForCustomAuth)(i,this.amplifyConfig)];case 1:return e=d.sent(),[4,Q0.graphql({query:t,variables:n,authMode:i,authToken:e})];case 2:return[2,d.sent()];case 3:if(a=d.sent(),s=(0,B0.getClientSideAuthError)(a)||(0,B0.getForbiddenError)(a))throw new(0,vY.NonRetryableError)(s);return u=Boolean(a&&a.data&&a.data[r]&&a.data[r].items),this.partialDataFeatureFlagEnabled()?u?((c=a).data[r].items=c.data[r].items.filter((function(e){return null!==e})),a.errors?[4,Promise.all(a.errors.map((function(e){return l2(l,void 0,void 0,(function(){var t;return d2(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.errorHandler({recoverySuggestion:"Ensure app code is up to date, auth directives exist and are correct on each model, and that server-side data has not been invalidated by a schema change. If the problem persists, search for or create an issue: https://github.com/aws-amplify/amplify-js/issues",localModel:null,message:e.message,model:o.name,operation:r,errorType:(0,E1.getSyncErrorType)(e),process:rG.ProcessName.sync,remoteModel:null,cause:e})];case 1:return n.sent(),[3,3];case 2:return t=n.sent(),v2.error("Sync error handler failed with:",t),[3,3];case 3:return[2]}}))}))})))]:[3,5]):[3,6]:[3,7];case 4:d.sent(),F$.Hub.dispatch("datastore",{event:"syncQueriesPartialSyncError",data:{errors:a.errors,modelName:o.name}}),d.label=5;case 5:return[2,c];case 6:throw a;case 7:if(a&&a.errors&&a.errors.some((function(e){return"Unauthorized"===e.errorType})))return c=a,u?c.data[r].items=c.data[r].items.filter((function(e){return null!==e})):c.data[r]=c2(c2({},p2),c.data[r]),v2.warn("queryError","User is unauthorized to query "+r+", some items could not be returned."),[2,c];throw a;case 8:return[2]}}))}))}),[t,n])];case 1:return[2,a.sent()]}}))}))},e.prototype.start=function(e){var t=this,n=!0,r=this.amplifyConfig,o=r.maxRecordsToSync,i=r.syncPageSize,a=new Map;return new gk((function(r){var s=Object.values(t.schema.namespaces).reduce((function(t,n){var r,o;try{for(var i=h2(Array.from(n.modelTopologicalOrdering.keys())),a=i.next();!a.done;a=i.next()){var s=a.value,u=e.get(n.models[s]);t.set(n.models[s],u)}}catch(e){r={error:e}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return t}),new Map),u=Array.from(s.entries()).filter((function(e){return f2(e,1)[0].syncable})).map((function(e){var s=f2(e,2),u=s[0],c=f2(s[1],2),l=c[0],d=c[1];return l2(t,void 0,void 0,(function(){var e,t,s,c,f,h,p,v,g,m=this;return d2(this,(function(y){switch(y.label){case 0:return e=!1,t=null,s=null,c=null,f=0,h=this.graphqlFilterFromPredicate(u),p=this.schema.namespaces[l].modelTopologicalOrdering.get(u.name),v=p.map((function(e){return a.get(l+"_"+e)})),g=new Promise((function(a){return l2(m,void 0,void 0,(function(){var p,g;return d2(this,(function(m){switch(m.label){case 0:return[4,Promise.all(v)];case 1:m.sent(),m.label=2;case 2:return n?(p=Math.min(o-f,i),[4,this.retrievePage(u,d,t,p,h)]):[2];case 3:g=m.sent(),c=g.items,t=g.nextToken,s=g.startedAt,f+=c.length,e=null===t||f>=o,r.next({namespace:l,modelDefinition:u,items:c,done:e,startedAt:s,isFullSync:!d}),m.label=4;case 4:if(!e)return[3,2];m.label=5;case 5:return a(),[2]}}))}))})),a.set(l+"_"+u.name,g),[4,g];case 1:return y.sent(),[2]}}))}))}));return Promise.all(u).then((function(){r.complete()})),function(){n=!1}}))},e}(),m2=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},y2=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},b2=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},w2=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},S2=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(b2(arguments[t]));return e},x2=uY().isNode,_2=new(0,k$.ConsoleLogger)("DataStore"),E2=Symbol("sync");(u2=s2||(s2={})).SYNC_ENGINE_STORAGE_SUBSCRIBED="storageSubscribed",u2.SYNC_ENGINE_SUBSCRIPTIONS_ESTABLISHED="subscriptionsEstablished",u2.SYNC_ENGINE_SYNC_QUERIES_STARTED="syncQueriesStarted",u2.SYNC_ENGINE_SYNC_QUERIES_READY="syncQueriesReady",u2.SYNC_ENGINE_MODEL_SYNCED="modelSynced",u2.SYNC_ENGINE_OUTBOX_MUTATION_ENQUEUED="outboxMutationEnqueued",u2.SYNC_ENGINE_OUTBOX_MUTATION_PROCESSED="outboxMutationProcessed",u2.SYNC_ENGINE_OUTBOX_STATUS="outboxStatus",u2.SYNC_ENGINE_NETWORK_STATUS="networkStatus",u2.SYNC_ENGINE_READY="ready";var C2=function(){function e(e,t,n,r,o,i,a,s,u,c,l){void 0===c&&(c={}),this.schema=e,this.namespaceResolver=t,this.modelClasses=n,this.userModelClasses=r,this.storage=o,this.modelInstanceCreator=i,this.syncPredicates=u,this.amplifyConfig=c,this.authModeStrategy=l,this.online=!1,this.modelSyncedStatus=new WeakMap;var d=this.modelClasses.MutationEvent;this.outbox=new(0,F0.MutationEventOutbox)(this.schema,d,i,E2),this.modelMerger=new(0,P0.ModelMerger)(this.outbox,E2),this.syncQueriesProcessor=new(0,a2.SyncProcessor)(this.schema,this.syncPredicates,this.amplifyConfig,this.authModeStrategy,s),this.subscriptionsProcessor=new(0,$1.SubscriptionProcessor)(this.schema,this.syncPredicates,this.amplifyConfig,this.authModeStrategy,s),this.mutationsProcessor=new(0,_1.MutationProcessor)(this.schema,this.storage,this.userModelClasses,this.outbox,this.modelInstanceCreator,d,this.amplifyConfig,this.authModeStrategy,s,a),this.datastoreConnectivity=new(0,T0.default)}return e.prototype.getModelSyncedStatus=function(e){return this.modelSyncedStatus.get(e)},e.prototype.start=function(e){var t=this;return new gk((function(n){_2.log("starting sync engine...");var r=[];return m2(t,void 0,void 0,(function(){var t,o,i,a=this;return y2(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this.setupModels(e)];case 1:return s.sent(),[3,3];case 2:return t=s.sent(),n.error(t),[2];case 3:return o=new Promise((function(e){a.datastoreConnectivity.status().subscribe((function(t){var o=t.online;return m2(a,void 0,void 0,(function(){var t,i,a,s,u,c=this;return y2(this,(function(l){switch(l.label){case 0:return!o||this.online?[3,10]:(this.online=o,n.next({type:s2.SYNC_ENGINE_NETWORK_STATUS,data:{active:this.online}}),i=void 0,x2?(_2.warn("Realtime disabled when in a server-side environment"),[3,6]):[3,1]);case 1:u=b2(this.subscriptionsProcessor.start(),2),t=u[0],i=u[1],l.label=2;case 2:return l.trys.push([2,4,,5]),[4,new Promise((function(e,n){var o=t.subscribe({next:function(t){t===$1.CONTROL_MSG.CONNECTED&&e()},error:function(e){n(e),c.disconnectionHandler()(e)}});r.push(o)}))];case 3:return l.sent(),[3,5];case 4:return a=l.sent(),n.error(a),[2];case 5:_2.log("Realtime ready"),n.next({type:s2.SYNC_ENGINE_SUBSCRIPTIONS_ESTABLISHED}),l.label=6;case 6:return l.trys.push([6,8,,9]),[4,new Promise((function(e,t){var o=c.syncQueriesObservable().subscribe({next:function(t){t.type===s2.SYNC_ENGINE_SYNC_QUERIES_READY&&e(),n.next(t)},complete:function(){e()},error:function(e){t(e)}});o&&r.push(o)}))];case 7:return l.sent(),[3,9];case 8:return s=l.sent(),n.error(s),[2];case 9:return r.push(this.mutationsProcessor.start().subscribe((function(e){var t=e.modelDefinition,r=e.model,o=e.hasMore,i=c.userModelClasses[t.name],a=c.modelInstanceCreator(i,r);c.storage.runExclusive((function(e){return c.modelMerger.merge(e,a)})),n.next({type:s2.SYNC_ENGINE_OUTBOX_MUTATION_PROCESSED,data:{model:i,element:a}}),n.next({type:s2.SYNC_ENGINE_OUTBOX_STATUS,data:{isEmpty:!o}})}))),x2||r.push(i.subscribe((function(e){var t=b2(e,3),n=(t[0],t[1]),r=t[2],o=c.userModelClasses[n.name],i=c.modelInstanceCreator(o,r);c.storage.runExclusive((function(e){return c.modelMerger.merge(e,i)}))}))),[3,11];case 10:o||(this.online=o,n.next({type:s2.SYNC_ENGINE_NETWORK_STATUS,data:{active:this.online}}),r.forEach((function(e){return e.unsubscribe()})),r=[]),l.label=11;case 11:return e(),[2]}}))}))}))})),this.storage.observe(null,null,E2).filter((function(e){var t=e.model;return!0===a.getModelDefinition(t).syncable})).subscribe({next:function(e){var t=e.opType,r=e.model,i=e.element,s=e.condition;return m2(a,void 0,void 0,(function(){var e,a,u,c;return y2(this,(function(l){switch(l.label){case 0:return e=this.schema.namespaces[this.namespaceResolver(r)],a=this.modelClasses.MutationEvent,u=(0,B0.predicateToGraphQLCondition)(s),c=(0,B0.createMutationInstanceFromModelOperation)(e.relationships,this.getModelDefinition(r),t,r,i,u,a,this.modelInstanceCreator),[4,this.outbox.enqueue(this.storage,c)];case 1:return l.sent(),n.next({type:s2.SYNC_ENGINE_OUTBOX_MUTATION_ENQUEUED,data:{model:r,element:i}}),n.next({type:s2.SYNC_ENGINE_OUTBOX_STATUS,data:{isEmpty:!1}}),[4,o];case 2:return l.sent(),this.online&&this.mutationsProcessor.resume(),[2]}}))}))}}),n.next({type:s2.SYNC_ENGINE_STORAGE_SUBSCRIBED}),[4,this.outbox.peek(this.storage)];case 4:return i=void 0===s.sent(),n.next({type:s2.SYNC_ENGINE_OUTBOX_STATUS,data:{isEmpty:i}}),[4,o];case 5:return s.sent(),n.next({type:s2.SYNC_ENGINE_READY}),[2]}}))})),function(){r.forEach((function(e){return e.unsubscribe()}))}}))},e.prototype.getModelsMetadataWithNextFullSync=function(e){return m2(this,void 0,void 0,(function(){var t,n=this;return y2(this,(function(r){switch(r.label){case 0:return t=Map.bind,[4,this.getModelsMetadata()];case 1:return[2,new(t.apply(Map,[void 0,r.sent().map((function(t){var r=t.namespace,o=t.model,i=t.lastSync,a=t.lastFullSync,s=t.fullSyncInterval,u=(t.lastSyncPredicate,!a||a+s<e?0:i);return[n.schema.namespaces[r].models[o],[r,u]]}))]))]}}))}))},e.prototype.syncQueriesObservable=function(){var e=this;return this.online?new gk((function(t){var n,r;return m2(e,void 0,void 0,(function(){var e,o,i=this;return y2(this,(function(a){switch(a.label){case 0:e=function(){var e,a,s,u,c,l,d,f,h;return y2(this,(function(p){switch(p.label){case 0:return e=new WeakMap,[4,o.getModelsMetadataWithNextFullSync(Date.now())];case 1:return a=p.sent(),s=new Set(a.keys()),[4,new Promise((function(r){n=i.syncQueriesProcessor.start(a).subscribe({next:function(o){var a=o.namespace,h=o.modelDefinition,p=o.items,v=o.done,g=o.startedAt,m=o.isFullSync;return m2(i,void 0,void 0,(function(){var o,i,y,b,w,S,x=this;return y2(this,(function(_){switch(_.label){case 0:return o=this.userModelClasses[h.name],e.has(o)||(e.set(o,{new:0,updated:0,deleted:0}),l=(0,OK.getNow)(),f=void 0===f?g:Math.max(f,g)),[4,this.storage.runExclusive((function(t){return m2(x,void 0,void 0,(function(){var n,r,i,a,s,u,c,l,d,f,h,v,g,m,y;return y2(this,(function(b){switch(b.label){case 0:return[4,this.outbox.getModelIds(t)];case 1:n=b.sent(),r=[],i=p.filter((function(e){return!n.has(e.id)||(r.push(e),!1)})),a=[],b.label=2;case 2:b.trys.push([2,7,8,9]),s=w2(r),u=s.next(),b.label=3;case 3:return u.done?[3,6]:(c=u.value,[4,this.modelMerger.merge(t,c)]);case 4:void 0!==(l=b.sent())&&a.push([c,l]),b.label=5;case 5:return u=s.next(),[3,3];case 6:return[3,9];case 7:return d=b.sent(),m={error:d},[3,9];case 8:try{u&&!u.done&&(y=s.return)&&y.call(s)}finally{if(m)throw m.error}return[7];case 9:return h=(f=a.push).apply,v=[a],[4,this.modelMerger.mergePage(t,o,i)];case 10:return h.apply(f,v.concat([S2.apply(void 0,[b.sent()])])),g=e.get(o),a.forEach((function(e){var t=b2(e,2)[1];switch(t){case rG.OpType.INSERT:g.new++;break;case rG.OpType.UPDATE:g.updated++;break;case rG.OpType.DELETE:g.deleted++;break;default:(0,OK.exhaustiveCheck)(t)}})),[2]}}))}))}))];case 1:return _.sent(),v?(i=h.name,[4,this.getModelMetadata(a,i)]):[3,4];case 2:return y=_.sent(),b=y.lastFullSync,w=y.fullSyncInterval,c=w,u=void 0===u?b:Math.max(u,m?g:b),y=this.modelClasses.ModelMetadata.copyOf(y,(function(e){e.lastSync=g,e.lastFullSync=m?g:y.lastFullSync})),[4,this.storage.save(y,void 0,E2)];case 3:_.sent(),S=e.get(o),this.modelSyncedStatus.set(o,!0),t.next({type:s2.SYNC_ENGINE_MODEL_SYNCED,data:{model:o,isFullSync:m,isDeltaSync:!m,counts:S}}),s.delete(h),0===s.size&&(d=(0,OK.getNow)()-l,r(),t.next({type:s2.SYNC_ENGINE_SYNC_QUERIES_READY}),n.unsubscribe()),_.label=4;case 4:return[2]}}))}))},error:function(e){t.error(e)}}),t.next({type:s2.SYNC_ENGINE_SYNC_QUERIES_STARTED,data:{models:Array.from(s).map((function(e){return e.name}))}})}))];case 2:return p.sent(),h=u+c-(f+d),_2.debug("Next fullSync in "+h/1e3+" seconds. ("+new Date(Date.now()+h)+")"),[4,new Promise((function(e){r=setTimeout(e,h)}))];case 3:return p.sent(),[2]}}))},o=this,a.label=1;case 1:return t.closed?[3,3]:[5,e()];case 2:return a.sent(),[3,1];case 3:return[2]}}))})),function(){n&&n.unsubscribe(),r&&clearTimeout(r)}})):gk.of()},e.prototype.disconnectionHandler=function(){var e=this;return function(t){_Z.CONNECTION_CLOSED!==t&&_Z.TIMEOUT_DISCONNECT!==t||e.datastoreConnectivity.socketDisconnected()}},e.prototype.unsubscribeConnectivity=function(){this.datastoreConnectivity.unsubscribe()},e.prototype.setupModels=function(e){return m2(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,u,c,l,d,f,h,p=this;return y2(this,(function(v){switch(v.label){case 0:t=e.fullSyncInterval,n=this.modelClasses.ModelMetadata,r=[],Object.values(this.schema.namespaces).forEach((function(e){Object.values(e.models).filter((function(e){return e.syncable})).forEach((function(t){if(r.push([e.name,t]),e.name===OK.USER){var n=p.userModelClasses[t.name];p.modelSyncedStatus.set(n,!1)}}))})),i=r.map((function(e){var r=b2(e,2),i=r[0],a=r[1];return m2(p,void 0,void 0,(function(){var e,r,s,u,c,l,d,f,h;return y2(this,(function(p){switch(p.label){case 0:return[4,this.getModelMetadata(i,a.name)];case 1:return e=p.sent(),r=dX.getPredicates(this.syncPredicates.get(a),!1),s=r?JSON.stringify(r):null,void 0!==e?[3,3]:[4,this.storage.save(this.modelInstanceCreator(n,{model:a.name,namespace:i,lastSync:null,fullSyncInterval:t,lastFullSync:null,lastSyncPredicate:s}),void 0,E2)];case 2:return l=b2.apply(void 0,[p.sent(),1]),d=b2(l[0],1),o=d[0],[3,5];case 3:return u=e.lastSyncPredicate?e.lastSyncPredicate:null,c=u!==s,[4,this.storage.save(this.modelClasses.ModelMetadata.copyOf(e,(function(e){e.fullSyncInterval=t,c&&(e.lastSync=null,e.lastFullSync=null,e.lastSyncPredicate=s)})))];case 4:f=b2.apply(void 0,[p.sent(),1]),h=b2(f[0],1),o=h[0],p.label=5;case 5:return[2,o]}}))}))})),a={},v.label=1;case 1:return v.trys.push([1,6,7,8]),[4,Promise.all(i)];case 2:s=w2.apply(void 0,[v.sent()]),u=s.next(),v.label=3;case 3:if(u.done)return[3,5];c=u.value,l=c.model,a[l]=c,v.label=4;case 4:return u=s.next(),[3,3];case 5:return[3,8];case 6:return d=v.sent(),f={error:d},[3,8];case 7:try{u&&!u.done&&(h=s.return)&&h.call(s)}finally{if(f)throw f.error}return[7];case 8:return[2,a]}}))}))},e.prototype.getModelsMetadata=function(){return m2(this,void 0,void 0,(function(){var e;return y2(this,(function(t){switch(t.label){case 0:return e=this.modelClasses.ModelMetadata,[4,this.storage.query(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.getModelMetadata=function(e,t){return m2(this,void 0,void 0,(function(){var n,r,o;return y2(this,(function(i){switch(i.label){case 0:return n=this.modelClasses.ModelMetadata,r=dX.createFromExisting(this.schema.namespaces[OK.SYNC].models[n.name],(function(n){return n.namespace("eq",e).model("eq",t)})),[4,this.storage.query(n,r,{page:0,limit:1})];case 1:return o=b2.apply(void 0,[i.sent(),1]),[2,o[0]]}}))}))},e.prototype.getModelDefinition=function(e){var t=this.namespaceResolver(e);return this.schema.namespaces[t].models[e.name]},e.getNamespace=function(){return{name:OK.SYNC,relationships:{},enums:{OperationType:{name:"OperationType",values:["CREATE","UPDATE","DELETE"]}},nonModels:{},models:{MutationEvent:{name:"MutationEvent",pluralName:"MutationEvents",syncable:!1,fields:{id:{name:"id",type:"ID",isRequired:!0,isArray:!1},model:{name:"model",type:"String",isRequired:!0,isArray:!1},data:{name:"data",type:"String",isRequired:!0,isArray:!1},modelId:{name:"modelId",type:"String",isRequired:!0,isArray:!1},operation:{name:"operation",type:{enum:"Operationtype"},isArray:!1,isRequired:!0},condition:{name:"condition",type:"String",isArray:!1,isRequired:!0}}},ModelMetadata:{name:"ModelMetadata",pluralName:"ModelsMetadata",syncable:!1,fields:{id:{name:"id",type:"ID",isRequired:!0,isArray:!1},namespace:{name:"namespace",type:"String",isRequired:!0,isArray:!1},model:{name:"model",type:"String",isRequired:!0,isArray:!1},lastSync:{name:"lastSync",type:"Int",isRequired:!1,isArray:!1},lastFullSync:{name:"lastFullSync",type:"Int",isRequired:!1,isArray:!1},fullSyncInterval:{name:"fullSyncInterval",type:"Int",isRequired:!0,isArray:!1},lastSyncPredicate:{name:"lastSyncPredicate",type:"String",isRequired:!1,isArray:!1}}}}}},e}(),k2=function(){return k2=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},k2.apply(this,arguments)},A2=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},T2=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},I2=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},N2=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},O2=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},P2=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(N2(arguments[t]));return e};tG(!0),LH();var j2,R2,M2,U2,L2,D2=new(0,k$.ConsoleLogger)("DataStore"),F2=(0,OK.monotonicUlidFactory)(Date.now()),B2=fY.browserOrNode().isNode,z2=new WeakMap,V2=new WeakMap,q2=function(e){var t=z2.get(e);return j2.namespaces[t].models[e.name]},K2=function(e){return(0,OK.isModelConstructor)(e)&&z2.has(e)},H2=function(e){return z2.get(e)},G2=function(e){var t;if(void 0!==j2)return console.warn("The schema has already been initialized"),M2;D2.log("validating schema",{schema:e});var n=k2({name:OK.USER},e);D2.log("DataStore","Init models"),M2=$2(n),D2.log("DataStore","Models initialized");var r={name:OK.DATASTORE,relationships:{},enums:{},nonModels:{},models:{Setting:{name:"Setting",pluralName:"Settings",syncable:!1,fields:{id:{name:"id",type:"ID",isRequired:!0,isArray:!1},key:{name:"key",type:"String",isRequired:!0,isArray:!1},value:{name:"value",type:"String",isRequired:!0,isArray:!1}}}}},o=fX.ExclusiveStorage.getNamespace(),i=A0.SyncEngine.getNamespace();return U2=$2(r),L2=$2(o),R2=$2(i),j2={namespaces:(t={},t[r.name]=r,t[n.name]=n,t[o.name]=o,t[i.name]=i,t),version:e.version},Object.keys(j2.namespaces).forEach((function(e){var t,n,r=N2((0,OK.establishRelationAndKeys)(j2.namespaces[e]),2),o=r[0],i=r[1];j2.namespaces[e].relationships=o,j2.namespaces[e].keys=i;var a=new Map;Object.values(j2.namespaces[e].models).forEach((function(e){var t=[];Object.values(e.fields).filter((function(t){return t.association&&"BELONGS_TO"===t.association.connectionType&&t.type.model!==e.name})).forEach((function(e){return t.push(e.type.model)})),a.set(e.name,t)}));for(var s=new Map,u=1e3;u>0&&0!==a.size;){if(0===--u)throw new Error("Models are not topologically sortable. Please verify your schema.");try{for(var c=(t=void 0,O2(Array.from(a.keys()))),l=c.next();!l.done;l=c.next()){var d=l.value,f=a.get(d);f.every((function(e){return s.has(e)}))&&s.set(d,f)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}Array.from(s.keys()).forEach((function(e){return a.delete(e)}))}j2.namespaces[e].modelTopologicalOrdering=s})),M2},W2=function(){if(void 0===j2){var e="Schema is not initialized. DataStore will not function as expected. This could happen if you have multiple versions of DataStore installed. Please see https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js/#check-for-duplicate-versions";throw D2.error(e),new Error(e)}},$2=function(e){var t={};return Object.entries(e.models).forEach((function(n){var r=N2(n,2),o=r[0],i=r[1],a=t3(i);t[o]=a,z2.set(a,e.name)})),Object.entries(e.nonModels||{}).forEach((function(e){var n=N2(e,2),r=n[0],o=n[1],i=o3(o);t[r]=i})),t},Y2=new WeakSet;function J2(e,t){return Y2.add(t),new e(t)}var Q2,Z2=function(e){return function(t,n){var r=e.fields[t];if(void 0!==r){var o=r.type,i=r.isRequired,a=r.isArrayNullable,s=r.name,u=r.isArray;if((!u&&i||u&&!a)&&null==n)throw new Error("Field "+s+" is required");if((0,rG.isGraphQLScalarType)(o)){var c=rG.GraphQLScalarType.getJSType(o),l=rG.GraphQLScalarType.getValidationFunction(o);if("AWSJSON"===o){if(typeof n===c)return;if("string"==typeof n)try{return void JSON.parse(n)}catch(e){throw new Error("Field "+s+" is an invalid JSON object. "+n)}}if(u){var d=c;if(i||(d=c+" | null | undefined"),!Array.isArray(n)&&!a)throw new Error("Field "+s+" should be of type ["+d+"], "+typeof n+" received. "+n);if(!(0,OK.isNullOrUndefined)(n)&&n.some((function(e){return(0,OK.isNullOrUndefined)(e)?i:typeof e!==c}))){var f=n.map((function(e){return null===e?"null":typeof e})).join(",");throw new Error("All elements in the "+s+" array should be of type "+d+", ["+f+"] received. "+n)}if(l&&!(0,OK.isNullOrUndefined)(n))if(!n.map((function(e){return(0,OK.isNullOrUndefined)(e)?!(!(0,OK.isNullOrUndefined)(e)||i):l(e)})).every((function(e){return e})))throw new Error("All elements in the "+s+" array should be of type "+o+", validation failed for one or more elements. "+n)}else{if(!i&&void 0===n)return;if(typeof n!==c&&null!==n)throw new Error("Field "+s+" should be of type "+c+", "+typeof n+" received. "+n);if(!(0,OK.isNullOrUndefined)(n)&&l&&!l(n))throw new Error("Field "+s+" should be of type "+o+", validation failed. "+n)}}}}},X2=function(e,t,n){var r=e.fields[t]||{},o=r.isArray,i=r.type;if("string"==typeof n&&(o||"AWSJSON"===i||(0,rG.isNonModelFieldType)(i)||(0,rG.isModelFieldType)(i)))try{return JSON.parse(n)}catch(e){}return"number"==typeof n&&"Boolean"===i?Boolean(n):n},e3=function(e,t,n){var r=Z2(t);Object.entries(e).forEach((function(e){var o=N2(e,2),i=o[0],a=o[1],s=X2(t,i,a);r(i,s),n[i]=s}))},t3=function(e){var t=function(){function n(t){return eG(this,(function(n){e3(t,e,n);var r=Y2.has(t)?t:{},o=r.id,i=r._version,a=r._lastChangedAt,s=r._deleted,u=null!=o,c=u?o:e.syncable?(0,VK.v4)():F2();u||n3(n,e),n.id=c,e.syncable&&(n._version=i,n._lastChangedAt=a,n._deleted=s)}))}return n.copyOf=function(t,n){var r,o=Object.getPrototypeOf(t||{}).constructor;if(!K2(o)){var i="The source object is not a valid model";throw D2.error(i,{source:t}),new Error(i)}var a=eG(t,(function(r){n(r),r.id=t.id;var o=Z2(e);Object.entries(r).forEach((function(t){var n=N2(t,2),r=n[0],i=n[1],a=X2(e,r,i);o(r,a)}))}),(function(e){return r=e})),s=V2.has(t);if(r.length||s)if(s){var u=N2(V2.get(t),2),c=u[0],l=u[1],d=(0,OK.mergePatches)(l,c,r);V2.set(a,[d,l]),r3(d,e)}else V2.set(a,[r,t]),r3(r,e);return a},n.fromJSON=function(n){var r=this;if(Array.isArray(n))return n.map((function(e){return r.fromJSON(e)}));var o=J2(t,n),i=Z2(e);return Object.entries(o).forEach((function(e){var t=N2(e,2),n=t[0],r=t[1];i(n,r)})),o},n}();return t[HH]=!0,Object.defineProperty(t,"name",{value:e.name}),t},n3=function(e,t){var n=Object.keys(e),r=t.fields;n.forEach((function(e){if(r[e]&&r[e].isReadOnly)throw new Error(e+" is read-only.")}))},r3=function(e,t){var n=e.map((function(e){return[e.path[0],e.value]})),r=t.fields;n.forEach((function(e){var t=N2(e,2),n=t[0];if(t[1]&&r[n]&&r[n].isReadOnly)throw new Error(n+" is read-only.")}))},o3=function(e){var t=function(t){return eG(this,(function(n){e3(t,e,n)}))};return t[HH]=!0,Object.defineProperty(t,"name",{value:e.name}),(0,OK.registerNonModelClass)(t),t};function i3(e){return"string"==typeof e}function a3(e){var t=e.localModel,n=e.modelConstructor,r=e.remoteModel._version;return J2(n,k2(k2({},t),{_version:r}))}function s3(e){D2.warn(e)}function u3(e,t){var n;switch(e){case OK.DATASTORE:n=U2[t];break;case OK.USER:n=M2[t];break;case OK.SYNC:n=R2[t];break;case OK.STORAGE:n=L2[t];break;default:(0,OK.exhaustiveCheck)(e)}if(K2(n))return n;var r="Model name is not valid for namespace. modelName: "+t+", namespace: "+e;throw D2.error(r),new Error(r)}function c3(e,t){return A2(this,void 0,void 0,(function(){var n,r,o=this;return T2(this,(function(i){switch(i.label){case 0:return n=U2.Setting,r=j2.namespaces[OK.DATASTORE].models.Setting,[4,e.runExclusive((function(e){return A2(o,void 0,void 0,(function(){var o,i;return T2(this,(function(a){switch(a.label){case 0:return[4,e.query(n,dX.createFromExisting(r,(function(e){return e.key("eq","schemaVersion")})),{page:0,limit:1})];case 1:return o=N2.apply(void 0,[a.sent(),1]),void 0===(i=o[0])||void 0===i.value?[3,4]:JSON.parse(i.value)===t?[3,3]:[4,e.clear(!1)];case 2:a.sent(),a.label=3;case 3:return[3,6];case 4:return[4,e.save(J2(n,{key:"schemaVersion",value:JSON.stringify(t)}))];case 5:a.sent(),a.label=6;case 6:return[2]}}))}))}))];case 1:return i.sent(),[2]}}))}))}var l3=function(){function e(){var e=this;this.amplifyConfig={},this.syncPredicates=new WeakMap,this.start=function(){return A2(e,void 0,void 0,(function(){var e,t,n,r=this;return T2(this,(function(o){switch(o.label){case 0:return void 0!==this.initialized?[3,1]:(D2.debug("Starting DataStore"),this.initialized=new Promise((function(e,t){r.initResolve=e,r.initReject=t})),[3,3]);case 1:return[4,this.initialized];case 2:return o.sent(),[2];case 3:return this.storage=new(0,fX.ExclusiveStorage)(j2,H2,u3,J2,this.storageAdapter,this.sessionId),[4,this.storage.init()];case 4:return o.sent(),W2(),[4,c3(this.storage,j2.version)];case 5:return o.sent(),(e=this.amplifyConfig.aws_appsync_graphqlEndpoint)?(D2.debug("GraphQL endpoint available",e),t=this,[4,this.processSyncExpressions()]):[3,7];case 6:return t.syncPredicates=o.sent(),this.sync=new(0,A0.SyncEngine)(j2,H2,R2,M2,this.storage,J2,this.conflictHandler,this.errorHandler,this.syncPredicates,this.amplifyConfig,this.authModeStrategy),n=6e4*this.fullSyncInterval,Q2=this.sync.start({fullSyncInterval:n}).subscribe({next:function(e){var t=e.type,n=e.data;t===(B2?A0.ControlMessage.SYNC_ENGINE_SYNC_QUERIES_READY:A0.ControlMessage.SYNC_ENGINE_STORAGE_SUBSCRIBED)&&r.initResolve(),F$.Hub.dispatch("datastore",{event:t,data:n})},error:function(e){D2.warn("Sync error",e),r.initReject()}}),[3,8];case 7:D2.warn("Data won't be synchronized. No GraphQL endpoint configured. Did you forget `Amplify.configure(awsconfig)`?",{config:this.amplifyConfig}),this.initResolve(),o.label=8;case 8:return[4,this.initialized];case 9:return o.sent(),[2]}}))}))},this.query=function(t,n,r){return A2(e,void 0,void 0,(function(){var e,o,i,a,s;return T2(this,(function(u){switch(u.label){case 0:return[4,this.start()];case 1:if(u.sent(),!K2(t))throw e="Constructor is not for a valid model",D2.error(e,{modelConstructor:t}),new Error(e);return"string"==typeof n&&void 0!==r&&D2.warn("Pagination is ignored when querying by id"),o=q2(t),i=i3(n)?dX.createForId(o,n):lX(n)?void 0:dX.createFromExisting(o,n),a=this.processPagination(o,r),D2.debug("params ready",{modelConstructor:t,predicate:dX.getPredicates(i,!1),pagination:k2(k2({},a),{sort:uX.getPredicates(a&&a.sort,!1)})}),[4,this.storage.query(t,i,a)];case 2:return s=u.sent(),[2,i3(n)?s[0]:s]}}))}))},this.save=function(t,n){return A2(e,void 0,void 0,(function(){var e,r,o,i,a,s,u=this;return T2(this,(function(c){switch(c.label){case 0:return[4,this.start()];case 1:if(c.sent(),e=V2.get(t),r=t?t.constructor:void 0,!K2(r))throw o="Object is not an instance of a valid model",D2.error(o,{model:t}),new Error(o);return i=q2(r),a=dX.createFromExisting(i,n),[4,this.storage.runExclusive((function(n){return A2(u,void 0,void 0,(function(){return T2(this,(function(o){switch(o.label){case 0:return[4,n.save(t,a,void 0,e)];case 1:return o.sent(),[2,n.query(r,dX.createForId(i,t.id))]}}))}))}))];case 2:return s=N2.apply(void 0,[c.sent(),1]),[2,s[0]]}}))}))},this.setConflictHandler=function(t){var n=t.DataStore;return n&&n.conflictHandler?n.conflictHandler:e.conflictHandler===a3&&t.conflictHandler?t.conflictHandler:e.conflictHandler||a3},this.setErrorHandler=function(t){var n=t.DataStore;return n&&n.errorHandler?n.errorHandler:e.errorHandler===s3&&t.errorHandler?t.errorHandler:e.errorHandler||s3},this.delete=function(t,n){return A2(e,void 0,void 0,(function(){var e,r,o,i,a,s,u,c,l;return T2(this,(function(d){switch(d.label){case 0:return[4,this.start()];case 1:if(d.sent(),!t)throw u="Model or Model Constructor required",D2.error(u,{modelOrConstructor:t}),new Error(u);if(!K2(t))return[3,3];if(i=t,!n)throw u="Id to delete or criteria required. Do you want to delete all? Pass Predicates.ALL",D2.error(u,{idOrCriteria:n}),new Error(u);if("string"==typeof n)e=dX.createForId(q2(i),n);else if(!(e=dX.createFromExisting(q2(i),n))||!dX.isValidPredicate(e))throw u="Criteria required. Do you want to delete all? Pass Predicates.ALL",D2.error(u,{condition:e}),new Error(u);return[4,this.storage.delete(i,e)];case 2:return r=N2.apply(void 0,[d.sent(),1]),[2,r[0]];case 3:if(o=t,i=Object.getPrototypeOf(o||{}).constructor,!K2(i))throw u="Object is not an instance of a valid model",D2.error(u,{model:o}),new Error(u);if(a=q2(i),s=dX.createForId(a,o.id),n){if("function"!=typeof n)throw u="Invalid criteria",D2.error(u,{idOrCriteria:n}),new Error(u);e=n(s)}else e=s;return[4,this.storage.delete(o,e)];case 4:return c=N2.apply(void 0,[d.sent(),1]),l=N2(c[0],1),[2,l[0]]}}))}))},this.observe=function(t,n){var r,o=t&&K2(t)?t:void 0;if(t&&void 0===o){var i=t,a=i&&Object.getPrototypeOf(i).constructor;if(K2(a))return n&&D2.warn("idOrCriteria is ignored when using a model instance",{model:i,idOrCriteria:n}),e.observe(a,i.id);var s="The model is not an instance of a PersistentModelConstructor";throw D2.error(s,{model:i}),new Error(s)}if(void 0!==n&&void 0===o){s="Cannot provide criteria without a modelConstructor";throw D2.error(s,n),new Error(s)}if(o&&!K2(o)){s="Constructor is not for a valid model";throw D2.error(s,{modelConstructor:o}),new Error(s)}return r="string"==typeof n?dX.createForId(q2(o),n):o&&dX.createFromExisting(q2(o),n),new gk((function(t){var n;return A2(e,void 0,void 0,(function(){var e=this;return T2(this,(function(i){switch(i.label){case 0:return[4,this.start()];case 1:return i.sent(),n=this.storage.observe(o,r).filter((function(e){var t=e.model;return H2(t)===OK.USER})).subscribe({next:function(n){return A2(e,void 0,void 0,(function(){var e,r;return T2(this,(function(o){switch(o.label){case 0:return e=n,"DELETE"===n.opType?[3,2]:[4,this.query(n.model,n.element.id)];case 1:r=o.sent(),e=k2(k2({},e),{element:r}),o.label=2;case 2:return t.next(e),[2]}}))}))},error:function(e){return t.error(e)},complete:function(){return t.complete()}}),[2]}}))})),function(){n&&n.unsubscribe()}}))},this.observeQuery=function(t,n,r){return new gk((function(o){var i,a,s=new Map,u=new Map,c=[],l=function(){var e=b();w(e)},d=new(0,OK.DeferredCallbackResolver)({callback:l,errorHandler:o.error,maxInterval:2e3}),f=(r||{}).sort,h=f?{sort:f}:void 0,p=q2(t);a=i3(n)?dX.createForId(p,n):lX(n)?void 0:dX.createFromExisting(p,n);var v=dX.getPredicates(a,!1)||{},g=v.predicates,m=v.type,y=!!g;A2(e,void 0,void 0,(function(){var e,r=this;return T2(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.query(t,n,h)];case 1:return a.sent().forEach((function(e){return s.set(e.id,e)})),i=this.observe(t).subscribe((function(e){var t,n,o=e.element,i=e.model,a=e.opType;if(y&&!(0,OK.validatePredicate)(o,m,g)){if("UPDATE"!==a||!s.has(o.id)&&!u.has(o.id))return;c.push(o.id)}"DELETE"===a?c.push(o.id):u.set(o.id,o);var l=null!==(n=null===(t=r.sync)||void 0===t?void 0:t.getModelSyncedStatus(i))&&void 0!==n&&n;(u.size-c.length>=r.syncPageSize||l)&&d.resolve(),d.start()})),l(),[3,3];case 2:return e=a.sent(),o.error(e),[3,3];case 3:return[2]}}))}));var b=function(){var n,o,i=null!==(o=null===(n=e.sync)||void 0===n?void 0:n.getModelSyncedStatus(t))&&void 0!==o&&o,a=P2(Array.from(s.values()),Array.from(u.values()));return(null==r?void 0:r.sort)&&S(a),s.clear(),a.forEach((function(e){return s.set(e.id,e)})),c.forEach((function(e){return s.delete(e)})),{items:Array.from(s.values()),isSynced:i}},w=function(e){o.next(e),u.clear(),c=[]},S=function(n){var o=q2(t),i=e.processPagination(o,r),a=uX.getPredicates(i.sort);if(a.length){var s=(0,OK.sortCompareFunction)(a);n.sort(s)}},x=function(e){var n,r=e.payload,o=r.event,i=r.data;o===A0.ControlMessage.SYNC_ENGINE_MODEL_SYNCED&&(null===(n=null==i?void 0:i.model)||void 0===n?void 0:n.name)===t.name&&(l(),F$.Hub.remove("api",x))};return F$.Hub.listen("datastore",x),function(){i&&i.unsubscribe()}}))},this.configure=function(t){void 0===t&&(t={});var n=t.DataStore,r=t.authModeStrategyType,o=(t.conflictHandler,t.errorHandler,t.maxRecordsToSync),i=t.syncPageSize,a=t.fullSyncInterval,s=t.syncExpressions,u=t.authProviders,c=t.storageAdapter,l=I2(t,["DataStore","authModeStrategyType","conflictHandler","errorHandler","maxRecordsToSync","syncPageSize","fullSyncInterval","syncExpressions","authProviders","storageAdapter"]);switch(e.amplifyConfig=k2(k2({},l),e.amplifyConfig),e.conflictHandler=e.setConflictHandler(t),e.errorHandler=e.setErrorHandler(t),n&&n.authModeStrategyType||r||rG.AuthModeStrategyType.DEFAULT){case rG.AuthModeStrategyType.MULTI_AUTH:e.authModeStrategy=LJ.multiAuthStrategy;break;case rG.AuthModeStrategyType.DEFAULT:default:e.authModeStrategy=UJ}e.amplifyConfig.authProviders=n&&n.authProviders||u,e.syncExpressions=n&&n.syncExpressions||s||e.syncExpressions,e.maxRecordsToSync=n&&n.maxRecordsToSync||o||e.maxRecordsToSync||1e4,e.amplifyConfig.maxRecordsToSync=e.maxRecordsToSync,e.syncPageSize=n&&n.syncPageSize||i||e.syncPageSize||1e3,e.amplifyConfig.syncPageSize=e.syncPageSize,e.fullSyncInterval=n&&n.fullSyncInterval||a||e.fullSyncInterval||1440,e.storageAdapter=n&&n.storageAdapter||c||e.storageAdapter||void 0,e.sessionId=e.retrieveSessionId()},this.clear=function(){return A2(this,void 0,void 0,(function(){return T2(this,(function(e){switch(e.label){case 0:return W2(),void 0!==this.storage?[3,2]:(this.storage=new(0,fX.ExclusiveStorage)(j2,H2,u3,J2,this.storageAdapter,this.sessionId),[4,this.storage.init()]);case 1:e.sent(),e.label=2;case 2:return Q2&&!Q2.closed&&Q2.unsubscribe(),[4,this.storage.clear()];case 3:return e.sent(),this.sync&&this.sync.unsubscribeConnectivity(),this.initialized=void 0,this.storage=void 0,this.sync=void 0,this.syncPredicates=new WeakMap,[2]}}))}))},this.stop=function(){return A2(this,void 0,void 0,(function(){return T2(this,(function(e){switch(e.label){case 0:return void 0===this.initialized?[3,2]:[4,this.start()];case 1:e.sent(),e.label=2;case 2:return Q2&&!Q2.closed&&Q2.unsubscribe(),this.sync&&this.sync.unsubscribeConnectivity(),this.initialized=void 0,this.sync=void 0,[2]}}))}))}}return e.prototype.getModuleName=function(){return"DataStore"},e.prototype.processPagination=function(e,t){var n,r=t||{},o=r.limit,i=r.page,a=r.sort;if(void 0!==o||void 0!==i||void 0!==a){if(void 0!==i&&void 0===o)throw new Error("Limit is required when requesting a page");if(void 0!==i){if("number"!=typeof i)throw new Error("Page should be a number");if(i<0)throw new Error("Page can't be negative")}if(void 0!==o){if("number"!=typeof o)throw new Error("Limit should be a number");if(o<0)throw new Error("Limit can't be negative")}return a&&(n=uX.createFromExisting(e,t.sort)),{limit:o,page:i,sort:n}}},e.prototype.processSyncExpressions=function(){return A2(this,void 0,void 0,(function(){var e,t=this;return T2(this,(function(n){switch(n.label){case 0:return this.syncExpressions&&this.syncExpressions.length?[4,Promise.all(this.syncExpressions.map((function(e){return A2(t,void 0,void 0,(function(){var t,n,r,o,i,a;return T2(this,(function(s){switch(s.label){case 0:return[4,e];case 1:return t=s.sent(),n=t.modelConstructor,r=t.conditionProducer,o=q2(n),[4,this.unwrapPromise(r)];case 2:return lX(i=s.sent())?[2,[o,null]]:(a=this.createFromCondition(o,i),[2,[o,a]])}}))}))})))]:[2,new WeakMap];case 1:return e=n.sent(),[2,this.weakMapFromEntries(e)]}}))}))},e.prototype.createFromCondition=function(e,t){try{return dX.createFromExisting(e,t)}catch(e){throw D2.error("Error creating Sync Predicate"),e}},e.prototype.unwrapPromise=function(e){return A2(this,void 0,void 0,(function(){var t;return T2(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e()];case 1:return[2,n.sent()];case 2:if((t=n.sent())instanceof TypeError)return[2,e];throw t;case 3:return[2]}}))}))},e.prototype.weakMapFromEntries=function(e){return e.reduce((function(e,t){var n=N2(t,2),r=n[0],o=n[1];if(e.has(r)){var i=r.name;return D2.warn("You can only utilize one Sync Expression per model.\n          Subsequent sync expressions for the "+i+" model will be ignored."),e}return o&&e.set(r,o),e}),new WeakMap)},e.prototype.retrieveSessionId=function(){try{var e=sessionStorage.getItem("datastoreSessionId");if(e){var t=this.amplifyConfig.aws_appsync_graphqlEndpoint.split("/")[2];return e+"-"+N2(t.split("."),1)[0]}}catch(e){return}},e}(),d3=new l3;C$.Amplify.register(d3);const{Organization:f3}=(0,_$.initSchema)({models:{Organization:{name:"Organization",fields:{id:{name:"id",isArray:!1,type:"ID",isRequired:!0,attributes:[]},name:{name:"name",isArray:!1,type:"String",isRequired:!0,attributes:[]},ein:{name:"ein",isArray:!1,type:"String",isRequired:!0,attributes:[]},aisId:{name:"aisId",isArray:!1,type:"String",isRequired:!1,attributes:[]},aisProvider:{name:"aisProvider",isArray:!1,type:"String",isRequired:!1,attributes:[]},createdAt:{name:"createdAt",isArray:!1,type:"AWSDateTime",isRequired:!1,attributes:[],isReadOnly:!0},updatedAt:{name:"updatedAt",isArray:!1,type:"AWSDateTime",isRequired:!1,attributes:[],isReadOnly:!0}},syncable:!0,pluralName:"Organizations",attributes:[{type:"model",properties:{}},{type:"auth",properties:{rules:[{allow:"public",operations:["create","update","delete","read"]}]}}]}},enums:{},nonModels:{},version:"af998dcc9253d922592b8234f489cd1d"}),h3=async(e,t,n,r)=>{await _$.DataStore.save(new f3({name:e,ein:t,aisId:n,aisProvider:r}))};function p3({signOut:e,user:t}){let[n,r]=(0,v.useState)(""),[o,i]=(0,v.useState)(""),[a,s]=TK(),[c,l]=(0,v.useState)(!1);return(0,u.jsxs)("div",{children:[(0,u.jsx)("h1",{children:"Welcome to Flare!"}),(0,u.jsxs)("nav",{children:[(0,u.jsx)(AK,{to:"/",children:"Home"})," |",(0,u.jsx)(AK,{to:"profile",children:"Profile"})," |",(0,u.jsx)(AK,{to:"signup",children:"Sign Up"})," | ",(0,u.jsx)(AK,{to:"signup/user-form",children:"User Sign Up"})," |",(0,u.jsx)(AK,{to:"cards",children:"Cards"}),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("h1",{children:["Hello ",t.name]}),(0,u.jsx)("button",{onClick:e,children:"Sign out"})]})]}),"This is your user object: ",JSON.stringify(t,null,2),"console.log(`This is the attributes of user $",t["custom:organization_id"],"`)",(0,u.jsx)("h1",{children:"Create Organization"}),(0,u.jsx)("input",{type:"text",placeholder:"Organization Name",value:n,onChange:e=>{r(e.target.value)}}),(0,u.jsx)("input",{type:"text",placeholder:"Organization Eid",value:o,onChange:e=>{i(e.target.value)}}),(0,u.jsx)("button",{onClick:()=>{try{h3(n,o)}catch(e){console.log(e)}},children:"Create"}),(0,u.jsx)("hr",{}),"These are the url parameters",JSON.stringify(a,null,4),(0,u.jsx)("hr",{}),(0,u.jsx)("h1",{children:"Connect to QuickBooks"}),(0,u.jsx)("button",{onClick:async()=>{l(!0),console.log("Connecting to Quickbooks. Please hold...");let e=await LE.API.post("devflarerest","/quickbooks",{});console.log(JSON.stringify(e,null,4)),e.statusCode&&window.open(e.body.authUri)},children:"Connect to QuickBooks"}),"You QuickBooks code is ",a.get("code")]})}v=s("fYo6y");function v3(){return(0,v.useEffect)((()=>{const e=window.location.href;window.opener&&(window.opener.postMessage(e),window.close())}),[]),(0,u.jsx)("p",{className:"flex mx-auto justify-center items-center vh-screen",children:"Please wait..."})}v=s("fYo6y");function g3(){let e=(0,v.useContext)(Qte);console.log(`This is the user on the profile page ${JSON.stringify(e,null,4)}`);let[t,n]=(0,v.useState)(e.firstName||""),[r,o]=(0,v.useState)(e.lastName||""),[i,a]=(0,v.useState)(e.orgId||"");return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("label",{children:["First Name",(0,u.jsx)("input",{value:t,onChange:e=>n(e.target.value),type:"text"})]}),(0,u.jsx)("br",{}),(0,u.jsxs)("label",{children:["Last Name",(0,u.jsx)("input",{value:r,onChange:e=>o(e.target.value),type:"text"})]}),(0,u.jsx)("br",{}),(0,u.jsxs)("label",{children:["Organization Id",(0,u.jsx)("input",{value:i,onChange:e=>a(e.target.value),type:"text"})]}),(0,u.jsx)("br",{}),(0,u.jsx)("button",{onClick:()=>{Ud.Auth.updateUserAttributes(e.congitoUser,{given_name:t,family_name:r,"custom:organization_id":i})},children:"Update"})]})}function m3(){return(0,u.jsx)("h1",{children:"This is the sign in page"})}var y3=(v=s("fYo6y")).forwardRef((function(e,t){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"}))})),b3=(v=s("fYo6y"),e=>"checkbox"===e.type),w3=e=>e instanceof Date,S3=e=>null==e;const x3=e=>"object"==typeof e;var _3=e=>!S3(e)&&!Array.isArray(e)&&x3(e)&&!w3(e),E3=e=>_3(e)&&e.target?b3(e.target)?e.target.checked:e.target.value:e,C3=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),k3=e=>Array.isArray(e)?e.filter(Boolean):[],A3=e=>void 0===e,T3=(e,t,n)=>{if(!t||!_3(e))return n;const r=k3(t.split(/[,[\].]+?/)).reduce(((e,t)=>S3(e)?e:e[t]),e);return A3(r)||r===e?A3(e[t])?n:e[t]:r};const I3="blur",N3="focusout",O3="onBlur",P3="onChange",j3="onSubmit",R3="onTouched",M3="all",U3="max",L3="min",D3="maxLength",F3="minLength",B3="pattern",z3="required",V3="validate";r(v).createContext(null);var q3=(e,t,n,r=!0)=>{const o={};for(const i in e)Object.defineProperty(o,i,{get:()=>{const o=i;return t[o]!==M3&&(t[o]=!r||M3),n&&(n[o]=!0),e[o]}});return o},K3=e=>_3(e)&&!Object.keys(e).length,H3=(e,t,n)=>{const{name:r,...o}=e;return K3(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find((e=>t[e]===(!n||M3)))},G3=e=>Array.isArray(e)?e:[e];function W3(e){const t=r(v).useRef(e);t.current=e,r(v).useEffect((()=>{const n=!e.disabled&&t.current.subject.subscribe({next:t.current.callback});return()=>{var e;(e=n)&&e.unsubscribe()}}),[e.disabled])}var $3=e=>"string"==typeof e,Y3=(e,t,n,r)=>{const o=Array.isArray(e);return $3(e)?(r&&t.watch.add(e),T3(n,e)):o?e.map((e=>(r&&t.watch.add(e),T3(n,e)))):(r&&(t.watchAll=!0),n)},J3=e=>"function"==typeof e,Q3=e=>{for(const t in e)if(J3(e[t]))return!0;return!1};var Z3=(e,t,n,r,o)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:o||!0}}:{},X3=e=>/^\w*$/.test(e),e4=e=>k3(e.replace(/["|']|\]/g,"").split(/\.|\[/));function t4(e,t,n){let r=-1;const o=X3(t)?[t]:e4(t),i=o.length,a=i-1;for(;++r<i;){const t=o[r];let i=n;if(r!==a){const n=e[t];i=_3(n)||Array.isArray(n)?n:isNaN(+o[r+1])?{}:[]}e[t]=i,e=e[t]}return e}const n4=(e,t,n)=>{for(const r of n||Object.keys(e)){const n=T3(e,r);if(n){const{_f:e,...r}=n;if(e&&t(e.name)){if(e.ref.focus&&A3(e.ref.focus()))break;if(e.refs){e.refs[0].focus();break}}else _3(r)&&n4(r,t)}}};var r4=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some((t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length)))));var o4="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function i4(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(o4&&(e instanceof Blob||e instanceof FileList)||!n&&!_3(e))return e;t=n?[]:{};for(const n in e){if(J3(e[n])){t=e;break}t[n]=i4(e[n])}}return t}function a4(e,t){const n=X3(t)?[t]:e4(t),r=1==n.length?e:function(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=A3(e)?r++:e[t[r++]];return e}(e,n),o=n[n.length-1];let i;r&&delete r[o];for(let t=0;t<n.slice(0,-1).length;t++){let r,o=-1;const a=n.slice(0,-(t+1)),s=a.length-1;for(t>0&&(i=e);++o<a.length;){const t=a[o];r=r?r[t]:e[t],s===o&&(_3(r)&&K3(r)||Array.isArray(r)&&!r.filter((e=>!A3(e))).length)&&(i?delete i[t]:delete e[t]),i=r}}return e}function s4(){let e=[];return{get observers(){return e},next:t=>{for(const n of e)n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter((e=>e!==t))}}),unsubscribe:()=>{e=[]}}}var u4=e=>S3(e)||!x3(e);function c4(e,t){if(u4(e)||u4(t))return e===t;if(w3(e)&&w3(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const o of n){const n=e[o];if(!r.includes(o))return!1;if("ref"!==o){const e=t[o];if(w3(n)&&w3(e)||_3(n)&&_3(e)||Array.isArray(n)&&Array.isArray(e)?!c4(n,e):n!==e)return!1}}return!0}var l4=e=>({isOnSubmit:!e||e===j3,isOnBlur:e===O3,isOnChange:e===P3,isOnAll:e===M3,isOnTouch:e===R3}),d4=e=>"boolean"==typeof e,f4=e=>"file"===e.type,h4=e=>{const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},p4=e=>"select-multiple"===e.type,v4=e=>"radio"===e.type,g4=e=>h4(e)&&e.isConnected;function m4(e,t={}){const n=Array.isArray(e);if(_3(e)||n)for(const n in e)Array.isArray(e[n])||_3(e[n])&&!Q3(e[n])?(t[n]=Array.isArray(e[n])?[]:{},m4(e[n],t[n])):S3(e[n])||(t[n]=!0);return t}function y4(e,t,n){const r=Array.isArray(e);if(_3(e)||r)for(const r in e)Array.isArray(e[r])||_3(e[r])&&!Q3(e[r])?A3(t)||u4(n[r])?n[r]=Array.isArray(e[r])?m4(e[r],[]):{...m4(e[r])}:y4(e[r],S3(t)?{}:t[r],n[r]):n[r]=!c4(e[r],t[r]);return n}var b4=(e,t)=>y4(e,t,m4(t));const w4={value:!1,isValid:!1},S4={value:!0,isValid:!0};var x4=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!A3(e[0].attributes.value)?A3(e[0].value)||""===e[0].value?S4:{value:e[0].value,isValid:!0}:S4:w4}return w4},_4=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>A3(e)?e:t?""===e||S3(e)?NaN:+e:n&&$3(e)?new Date(e):r?r(e):e;const E4={isValid:!1,value:null};var C4=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),E4):E4;function k4(e){const t=e.ref;if(!(e.refs?e.refs.every((e=>e.disabled)):t.disabled))return f4(t)?t.files:v4(t)?C4(e.refs).value:p4(t)?[...t.selectedOptions].map((({value:e})=>e)):b3(t)?x4(e.refs).value:_4(A3(t.value)?e.ref.value:t.value,e)}var A4=e=>e instanceof RegExp,T4=e=>A3(e)?void 0:A4(e)?e.source:_3(e)?A4(e.value)?e.value.source:e.value:e;function I4(e,t,n){const r=T3(e,n);if(r||X3(n))return{error:r,name:n};const o=n.split(".");for(;o.length;){const r=o.join("."),i=T3(t,r),a=T3(e,r);if(i&&!Array.isArray(i)&&n!==r)return{name:n};if(a&&a.type)return{name:r,error:a};o.pop()}return{name:n}}var N4=e=>$3(e)||r(v).isValidElement(e);function O4(e,t,n="validate"){if(N4(e)||Array.isArray(e)&&e.every(N4)||d4(e)&&!e)return{type:n,message:N4(e)?e:"",ref:t}}var P4=e=>_3(e)&&!A4(e)?e:{value:e,message:""},j4=async(e,t,n,r)=>{const{ref:o,refs:i,required:a,maxLength:s,minLength:u,min:c,max:l,pattern:d,validate:f,name:h,valueAsNumber:p,mount:v,disabled:g}=e._f;if(!v||g)return{};const m=i?i[0]:o,y=e=>{r&&m.reportValidity&&(m.setCustomValidity(d4(e)?"":e||" "),m.reportValidity())},b={},w=v4(o),S=b3(o),x=w||S,_=(p||f4(o))&&!o.value||""===t||Array.isArray(t)&&!t.length,E=Z3.bind(null,h,n,b),C=(e,t,n,r=D3,i=F3)=>{const a=e?t:n;b[h]={type:e?r:i,message:a,ref:o,...E(e?r:i,a)}};if(a&&(!x&&(_||S3(t))||d4(t)&&!t||S&&!x4(i).isValid||w&&!C4(i).isValid)){const{value:e,message:t}=N4(a)?{value:!!a,message:a}:P4(a);if(e&&(b[h]={type:z3,message:t,ref:m,...E(z3,t)},!n))return y(t),b}if(!(_||S3(c)&&S3(l))){let e,r;const i=P4(l),a=P4(c);if(S3(t)||isNaN(t)){const n=o.valueAsDate||new Date(t);$3(i.value)&&(e=n>new Date(i.value)),$3(a.value)&&(r=n<new Date(a.value))}else{const n=o.valueAsNumber||+t;S3(i.value)||(e=n>i.value),S3(a.value)||(r=n<a.value)}if((e||r)&&(C(!!e,i.message,a.message,U3,L3),!n))return y(b[h].message),b}if((s||u)&&!_&&$3(t)){const e=P4(s),r=P4(u),o=!S3(e.value)&&t.length>e.value,i=!S3(r.value)&&t.length<r.value;if((o||i)&&(C(o,e.message,r.message),!n))return y(b[h].message),b}if(d&&!_&&$3(t)){const{value:e,message:r}=P4(d);if(A4(e)&&!t.match(e)&&(b[h]={type:B3,message:r,ref:o,...E(B3,r)},!n))return y(r),b}if(f)if(J3(f)){const e=O4(await f(t),m);if(e&&(b[h]={...e,...E(V3,e.message)},!n))return y(e.message),b}else if(_3(f)){let e={};for(const r in f){if(!K3(e)&&!n)break;const o=O4(await f[r](t),m,r);o&&(e={...o,...E(r,o.message)},y(o.message),n&&(b[h]=e))}if(!K3(e)&&(b[h]={ref:m,...e},!n))return b}return y(!0),b};const R4={mode:j3,reValidateMode:P3,shouldFocusError:!0};function M4(e={}){let t,n={...R4,...e},r={isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}},o={},i=i4(n.defaultValues)||{},a=n.shouldUnregister?{}:i4(i),s={action:!1,mount:!1,watch:!1},u={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c=0,l={};const d={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={watch:s4(),array:s4(),state:s4()},h=l4(n.mode),p=l4(n.reValidateMode),v=n.criteriaMode===M3,g=async e=>{let t=!1;return d.isValid&&(t=n.resolver?K3((await w()).errors):await S(o,!0),e||t===r.isValid||(r.isValid=t,f.state.next({isValid:t}))),t},m=(e,t,n,r)=>{const u=T3(o,e);if(u){const o=T3(a,e,A3(n)?T3(i,e):n);A3(o)||r&&r.defaultChecked||t?t4(a,e,t?o:k4(u._f)):E(e,o),s.mount&&g()}},y=(e,t,n,o,a)=>{let s=!1;const u={name:e},c=T3(r.touchedFields,e);if(d.isDirty){const e=r.isDirty;r.isDirty=u.isDirty=x(),s=e!==u.isDirty}if(d.dirtyFields&&(!n||o)){const n=T3(r.dirtyFields,e);c4(T3(i,e),t)?a4(r.dirtyFields,e):t4(r.dirtyFields,e,!0),u.dirtyFields=r.dirtyFields,s=s||n!==T3(r.dirtyFields,e)}return n&&!c&&(t4(r.touchedFields,e,n),u.touchedFields=r.touchedFields,s=s||d.touchedFields&&c!==n),s&&a&&f.state.next(u),s?u:{}},b=async(n,o,i,a)=>{const s=T3(r.errors,n),u=d.isValid&&r.isValid!==o;if(e.delayError&&i?(t=(e=>t=>{clearTimeout(c),c=window.setTimeout(e,t)})((()=>((e,t)=>{t4(r.errors,e,t),f.state.next({errors:r.errors})})(n,i))),t(e.delayError)):(clearTimeout(c),t=null,i?t4(r.errors,n,i):a4(r.errors,n)),(i?!c4(s,i):s)||!K3(a)||u){const e={...a,...u?{isValid:o}:{},errors:r.errors,name:n};r={...r,...e},f.state.next(e)}l[n]--,d.isValidating&&!Object.values(l).some((e=>e))&&(f.state.next({isValidating:!1}),l={})},w=async e=>n.resolver?await n.resolver({...a},n.context,((e,t,n,r)=>{const o={};for(const n of e){const e=T3(t,n);e&&t4(o,n,e._f)}return{criteriaMode:n,names:[...e],fields:o,shouldUseNativeValidation:r}})(e||u.mount,o,n.criteriaMode,n.shouldUseNativeValidation)):{},S=async(e,t,o={valid:!0})=>{for(const i in e){const s=e[i];if(s){const{_f:e,...i}=s;if(e){const i=await j4(s,T3(a,e.name),v,n.shouldUseNativeValidation);if(i[e.name]&&(o.valid=!1,t))break;t||(i[e.name]?t4(r.errors,e.name,i[e.name]):a4(r.errors,e.name))}i&&await S(i,t,o)}}return o.valid},x=(e,t)=>(e&&t&&t4(a,e,t),!c4(I(),i)),_=(e,t,n)=>{const r={...s.mount?a:A3(t)?i:$3(e)?{[e]:t}:t};return Y3(e,u,r,n)},E=(e,t,n={})=>{const r=T3(o,e);let i=t;if(r){const n=r._f;n&&(!n.disabled&&t4(a,e,_4(t,n)),i=o4&&h4(n.ref)&&S3(t)?"":t,p4(n.ref)?[...n.ref.options].forEach((e=>e.selected=i.includes(e.value))):n.refs?b3(n.ref)?n.refs.length>1?n.refs.forEach((e=>!e.disabled&&(e.checked=Array.isArray(i)?!!i.find((t=>t===e.value)):i===e.value))):n.refs[0]&&(n.refs[0].checked=!!i):n.refs.forEach((e=>e.checked=e.value===i)):f4(n.ref)?n.ref.value="":(n.ref.value=i,n.ref.type||f.watch.next({name:e})))}(n.shouldDirty||n.shouldTouch)&&y(e,i,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&T(e)},C=(e,t,n)=>{for(const r in t){const i=t[r],a=`${e}.${r}`,s=T3(o,a);!u.array.has(e)&&u4(i)&&(!s||s._f)||w3(i)?E(a,i,n):C(a,i,n)}},k=(e,t,n={})=>{const s=T3(o,e),c=u.array.has(e),l=i4(t);t4(a,e,l),c?(f.array.next({name:e,values:a}),(d.isDirty||d.dirtyFields)&&n.shouldDirty&&(r.dirtyFields=b4(i,a),f.state.next({name:e,dirtyFields:r.dirtyFields,isDirty:x(e,l)}))):!s||s._f||S3(l)?E(e,l,n):C(e,l,n),r4(e,u)&&f.state.next({}),f.watch.next({name:e})},A=async e=>{const i=e.target;let s=i.name;const c=T3(o,s);if(c){let m,S;const x=i.type?k4(c._f):E3(e),_=e.type===I3||e.type===N3,E=!((d=c._f).mount&&(d.required||d.min||d.max||d.maxLength||d.minLength||d.pattern||d.validate)||n.resolver||T3(r.errors,s)||c._f.deps)||((e,t,n,r,o)=>!o.isOnAll&&(!n&&o.isOnTouch?!(t||e):(n?r.isOnBlur:o.isOnBlur)?!e:!(n?r.isOnChange:o.isOnChange)||e))(_,T3(r.touchedFields,s),r.isSubmitted,p,h),C=r4(s,u,_);t4(a,s,x),_?(c._f.onBlur&&c._f.onBlur(e),t&&t(0)):c._f.onChange&&c._f.onChange(e);const k=y(s,x,_,!1),A=!K3(k)||C;if(!_&&f.watch.next({name:s,type:e.type}),E)return A&&f.state.next({name:s,...C?{}:k});if(!_&&C&&f.state.next({}),l[s]=(l[s],1),f.state.next({isValidating:!0}),n.resolver){const{errors:e}=await w([s]),t=I4(r.errors,o,s),n=I4(e,o,t.name||s);m=n.error,s=n.name,S=K3(e)}else m=(await j4(c,T3(a,s),v,n.shouldUseNativeValidation))[s],S=await g(!0);c._f.deps&&T(c._f.deps),b(s,S,m,k)}var d},T=async(e,t={})=>{let i,a;const s=G3(e);if(f.state.next({isValidating:!0}),n.resolver){const t=await(async e=>{const{errors:t}=await w();if(e)for(const n of e){const e=T3(t,n);e?t4(r.errors,n,e):a4(r.errors,n)}else r.errors=t;return t})(A3(e)?e:s);i=K3(t),a=e?!s.some((e=>T3(t,e))):i}else e?(a=(await Promise.all(s.map((async e=>{const t=T3(o,e);return await S(t&&t._f?{[e]:t}:t)})))).every(Boolean),(a||r.isValid)&&g()):a=i=await S(o);return f.state.next({...!$3(e)||d.isValid&&i!==r.isValid?{}:{name:e},...n.resolver?{isValid:i}:{},errors:r.errors,isValidating:!1}),t.shouldFocus&&!a&&n4(o,(e=>T3(r.errors,e)),e?s:u.mount),a},I=e=>{const t={...i,...s.mount?a:{}};return A3(e)?t:$3(e)?T3(t,e):e.map((e=>T3(t,e)))},N=(e,t)=>({invalid:!!T3((t||r).errors,e),isDirty:!!T3((t||r).dirtyFields,e),isTouched:!!T3((t||r).touchedFields,e),error:T3((t||r).errors,e)}),O=(e,t={})=>{for(const s of e?G3(e):u.mount)u.mount.delete(s),u.array.delete(s),T3(o,s)&&(t.keepValue||(a4(o,s),a4(a,s)),!t.keepError&&a4(r.errors,s),!t.keepDirty&&a4(r.dirtyFields,s),!t.keepTouched&&a4(r.touchedFields,s),!n.shouldUnregister&&!t.keepDefaultValue&&a4(i,s));f.watch.next({}),f.state.next({...r,...t.keepDirty?{isDirty:x()}:{}}),!t.keepIsValid&&g()},P=(e,t={})=>{let r=T3(o,e);const c=d4(t.disabled);return t4(o,e,{_f:{...r&&r._f?r._f:{ref:{name:e}},name:e,mount:!0,...t}}),u.mount.add(e),r?c&&t4(a,e,t.disabled?void 0:T3(a,e,k4(r._f))):m(e,!0,t.value),{...c?{disabled:t.disabled}:{},...n.shouldUseNativeValidation?{required:!!t.required,min:T4(t.min),max:T4(t.max),minLength:T4(t.minLength),maxLength:T4(t.maxLength),pattern:T4(t.pattern)}:{},name:e,onChange:A,onBlur:A,ref:a=>{if(a){P(e,t),r=T3(o,e);const n=A3(a.value)&&a.querySelectorAll&&a.querySelectorAll("input,select,textarea")[0]||a,s=(e=>v4(e)||b3(e))(n),u=r._f.refs||[];if(s?u.find((e=>e===n)):n===r._f.ref)return;t4(o,e,{_f:{...r._f,...s?{refs:[...u.filter(g4),n,...Array.isArray(T3(i,e))?[{}]:[]],ref:{type:n.type,name:e}}:{ref:n}}}),m(e,!1,void 0,n)}else r=T3(o,e,{}),r._f&&(r._f.mount=!1),(n.shouldUnregister||t.shouldUnregister)&&(!C3(u.array,e)||!s.action)&&u.unMount.add(e)}}};return{control:{register:P,unregister:O,getFieldState:N,_executeSchema:w,_getWatch:_,_getDirty:x,_updateValid:g,_removeUnmounted:()=>{for(const e of u.unMount){const t=T3(o,e);t&&(t._f.refs?t._f.refs.every((e=>!g4(e))):!g4(t._f.ref))&&O(e)}u.unMount=new Set},_updateFieldArray:(e,t=[],n,u,c=!0,l=!0)=>{if(u&&n){if(s.action=!0,l&&Array.isArray(T3(o,e))){const t=n(T3(o,e),u.argA,u.argB);c&&t4(o,e,t)}if(d.errors&&l&&Array.isArray(T3(r.errors,e))){const t=n(T3(r.errors,e),u.argA,u.argB);c&&t4(r.errors,e,t),((e,t)=>{!k3(T3(e,t)).length&&a4(e,t)})(r.errors,e)}if(d.touchedFields&&l&&Array.isArray(T3(r.touchedFields,e))){const t=n(T3(r.touchedFields,e),u.argA,u.argB);c&&t4(r.touchedFields,e,t)}d.dirtyFields&&(r.dirtyFields=b4(i,a)),f.state.next({isDirty:x(e,t),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else t4(a,e,t)},_getFieldArray:t=>k3(T3(s.mount?a:i,t,e.shouldUnregister?T3(i,t,[]):[])),_subjects:f,_proxyFormState:d,get _fields(){return o},get _formValues(){return a},get _stateFlags(){return s},set _stateFlags(e){s=e},get _defaultValues(){return i},get _names(){return u},set _names(e){u=e},get _formState(){return r},set _formState(e){r=e},get _options(){return n},set _options(e){n={...n,...e}}},trigger:T,register:P,handleSubmit:(e,t)=>async i=>{i&&(i.preventDefault&&i.preventDefault(),i.persist&&i.persist());let s=!0,c=i4(a);f.state.next({isSubmitting:!0});try{if(n.resolver){const{errors:e,values:t}=await w();r.errors=e,c=t}else await S(o);K3(r.errors)?(f.state.next({errors:{},isSubmitting:!0}),await e(c,i)):(t&&await t({...r.errors},i),n.shouldFocusError&&n4(o,(e=>T3(r.errors,e)),u.mount))}catch(e){throw s=!1,e}finally{r.isSubmitted=!0,f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:K3(r.errors)&&s,submitCount:r.submitCount+1,errors:r.errors})}},watch:(e,t)=>J3(e)?f.watch.subscribe({next:n=>e(_(void 0,t),n)}):_(e,t,!0),setValue:k,getValues:I,reset:(t,n={})=>{const c=t||i,l=i4(c),h=t&&!K3(t)?l:i;if(n.keepDefaultValues||(i=c),!n.keepValues){if(n.keepDirtyValues)for(const e of u.mount)T3(r.dirtyFields,e)?t4(h,e,T3(a,e)):k(e,T3(h,e));else{if(o4&&A3(t))for(const e of u.mount){const t=T3(o,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;try{h4(e)&&e.closest("form").reset();break}catch(e){}}}o={}}a=e.shouldUnregister?n.keepDefaultValues?i4(i):{}:l,f.array.next({values:h}),f.watch.next({values:h})}u={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!d.isValid||!!n.keepIsValid,s.watch=!!e.shouldUnregister,f.state.next({submitCount:n.keepSubmitCount?r.submitCount:0,isDirty:n.keepDirty||n.keepDirtyValues?r.isDirty:!(!n.keepDefaultValues||c4(t,i)),isSubmitted:!!n.keepIsSubmitted&&r.isSubmitted,dirtyFields:n.keepDirty||n.keepDirtyValues?r.dirtyFields:n.keepDefaultValues&&t?b4(i,t):{},touchedFields:n.keepTouched?r.touchedFields:{},errors:n.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},resetField:(e,t={})=>{T3(o,e)&&(A3(t.defaultValue)?k(e,T3(i,e)):(k(e,t.defaultValue),t4(i,e,t.defaultValue)),t.keepTouched||a4(r.touchedFields,e),t.keepDirty||(a4(r.dirtyFields,e),r.isDirty=t.defaultValue?x(e,T3(i,e)):x()),t.keepError||(a4(r.errors,e),d.isValid&&g()),f.state.next({...r}))},clearErrors:e=>{e?G3(e).forEach((e=>a4(r.errors,e))):r.errors={},f.state.next({errors:r.errors})},unregister:O,setError:(e,t,n)=>{const i=(T3(o,e,{_f:{}})._f||{}).ref;t4(r.errors,e,{...t,ref:i}),f.state.next({name:e,errors:r.errors,isValid:!1}),n&&n.shouldFocus&&i&&i.focus&&i.focus()},setFocus:(e,t={})=>{const n=T3(o,e)._f,r=n.refs?n.refs[0]:n.ref;t.shouldSelect?r.select():r.focus()},getFieldState:N}}function U4(e={}){const t=r(v).useRef(),[n,o]=r(v).useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}});t.current?t.current.control._options=e:t.current={...M4(e),formState:n};const i=t.current.control,a=r(v).useCallback((e=>{H3(e,i._proxyFormState,!0)&&(i._formState={...i._formState,...e},o({...i._formState}))}),[i]);return W3({subject:i._subjects.state,callback:a}),r(v).useEffect((()=>{i._stateFlags.mount||(i._proxyFormState.isValid&&i._updateValid(),i._stateFlags.mount=!0),i._stateFlags.watch&&(i._stateFlags.watch=!1,i._subjects.state.next({})),i._removeUnmounted()})),t.current.formState=q3(n,i._proxyFormState),t.current}var L4=function(e,t,n){if(e&&"reportValidity"in e){var r=T3(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},D4=function(e,t){var n=function(n){var r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?L4(r.ref,n,e):r.refs&&r.refs.forEach((function(t){return L4(t,n,e)}))};for(var r in t.fields)n(r)},F4=function(e,t){t.shouldUseNativeValidation&&D4(e,t);var n={};for(var r in e){var o=T3(t.fields,r);t4(n,r,Object.assign(e[r],{ref:o&&o.ref}))}return n};const B4=({id:e,className:t,schema:n,children:r,onSubmit:o})=>{var i,a,s;const c=U4({resolver:n&&(i=n,void 0===a&&(a={}),void 0===s&&(s={}),function(e,t,n){try{return Promise.resolve(function(r,o){try{var u=(a.context,Promise.resolve(i["sync"===s.mode?"validateSync":"validate"](e,Object.assign({abortEarly:!1},a,{context:t}))).then((function(t){return n.shouldUseNativeValidation&&D4({},n),{values:s.rawValues?e:t,errors:{}}})))}catch(e){return o(e)}return u&&u.then?u.then(void 0,o):u}(0,(function(e){if(!e.inner)throw e;var t,r;return{values:{},errors:F4((t=e,r=!n.shouldUseNativeValidation&&"all"===n.criteriaMode,(t.inner||[]).reduce((function(e,t){if(e[t.path]||(e[t.path]={message:t.message,type:t.type}),r){var n=e[t.path].types,o=n&&n[t.type];e[t.path]=Z3(t.path,r,e,t.type,o?[].concat(o,t.message):t.message)}return e}),{})),n)}})))}catch(e){return Promise.reject(e)}})});return(0,u.jsx)("form",{id:e,className:t,onSubmit:c.handleSubmit(o),children:r(c)})};function z4(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=z4(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var V4=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=z4(e))&&(r&&(r+=" "),r+=t);return r};v=s("fYo6y");const q4=({classNameWrapper:e,label:t,children:n,error:r})=>(0,u.jsxs)("div",{className:V4("flex flex-col gap-1",e),children:[(0,u.jsx)("label",{className:"block text-dark text-xs",children:t}),n,r?(0,u.jsx)("p",{className:"text-xs text-red-600",children:r.message}):null]}),K4=r(v).forwardRef((({label:e,className:t,classNameWrapper:n,icon:r,alignIcon:o="left",registration:i,error:a,...s},c)=>(0,u.jsx)(q4,{label:e,classNameWrapper:n,error:a,children:(0,u.jsxs)("div",{className:"relative group",children:[r&&(0,u.jsx)("span",{className:V4("absolute w-4 h-4 top-1/3 text-gray-500 group-focus-within:text-black","left"===o?"left-3":"right-3"),children:r}),(0,u.jsx)("input",{ref:c,className:V4("px-4 py-3 rounded shadow w-full placeholder-dark/30 placeholder:text-sm outline-none appearance-none",r&&"left"===o?"pl-10":"pr-10",a&&"outline outline-red-400 shadow-none",t),...i,...s})]})})));var H4,G4;try{H4=Map}catch(e){}try{G4=Set}catch(e){}function W4(e,t,n){if(!e||"object"!=typeof e||"function"==typeof e)return e;if(e.nodeType&&"cloneNode"in e)return e.cloneNode(!0);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);if(Array.isArray(e))return e.map($4);if(H4&&e instanceof H4)return new Map(Array.from(e.entries()));if(G4&&e instanceof G4)return new Set(Array.from(e.values()));if(e instanceof Object){t.push(e);var r=Object.create(e);for(var o in n.push(r),e){var i=t.findIndex((function(t){return t===e[o]}));r[o]=i>-1?n[i]:W4(e[o],t,n)}return r}return e}function $4(e){return W4(e,[],[])}const Y4=Object.prototype.toString,J4=Error.prototype.toString,Q4=RegExp.prototype.toString,Z4="undefined"!=typeof Symbol?Symbol.prototype.toString:()=>"",X4=/^Symbol\((.*)\)(.*)$/;function e5(e,t=!1){if(null==e||!0===e||!1===e)return""+e;const n=typeof e;if("number"===n)return function(e){return e!=+e?"NaN":0===e&&1/e<0?"-0":""+e}(e);if("string"===n)return t?`"${e}"`:e;if("function"===n)return"[Function "+(e.name||"anonymous")+"]";if("symbol"===n)return Z4.call(e).replace(X4,"Symbol($1)");const r=Y4.call(e).slice(8,-1);return"Date"===r?isNaN(e.getTime())?""+e:e.toISOString(e):"Error"===r||e instanceof Error?"["+J4.call(e)+"]":"RegExp"===r?Q4.call(e):null}function t5(e,t){let n=e5(e,t);return null!==n?n:JSON.stringify(e,(function(e,n){let r=e5(this[e],t);return null!==r?r:n}),2)}let n5={default:"${path} is invalid",required:"${path} is a required field",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:n,originalValue:r})=>{let o=null!=r&&r!==n,i=`${e} must be a \`${t}\` type, but the final value was: \`${t5(n,!0)}\``+(o?` (cast from the value \`${t5(r,!0)}\`).`:".");return null===n&&(i+='\n If "null" is intended as an empty value be sure to mark the schema as `.nullable()`'),i},defined:"${path} must be defined"},r5={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},o5={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},i5={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},a5={isValue:"${path} field must be ${value}"},s5={noUnknown:"${path} field has unspecified keys: ${unknown}"},u5={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"};Object.assign(Object.create(null),{mixed:n5,string:r5,number:o5,date:i5,object:s5,array:u5,boolean:a5});var c5,l5,d5=Object.prototype.hasOwnProperty;l5=function(e,t){return null!=e&&d5.call(e,t)},c5=function(e,t){return null!=e&&YU(e,t,l5)};var f5=e=>e&&e.__isYupSchema__;var h5=class{constructor(e,t){if(this.fn=void 0,this.refs=e,this.refs=e,"function"==typeof t)return void(this.fn=t);if(!r(c5)(t,"is"))throw new TypeError("`is:` is required for `when()` conditions");if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:o,otherwise:i}=t,a="function"==typeof n?n:(...e)=>e.every((e=>e===n));this.fn=function(...e){let t=e.pop(),n=e.pop(),r=a(...e)?o:i;if(r)return"function"==typeof r?r(n):n.concat(r.resolve(t))}}resolve(e,t){let n=this.refs.map((e=>e.getValue(null==t?void 0:t.value,null==t?void 0:t.parent,null==t?void 0:t.context))),r=this.fn.apply(e,n.concat(e,t));if(void 0===r||r===e)return e;if(!f5(r))throw new TypeError("conditions must return a schema object");return r.resolve(t)}};function p5(e){return null==e?[]:[].concat(e)}function v5(){return v5=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v5.apply(this,arguments)}let g5=/\$\{\s*(\w+)\s*\}/g;class m5 extends Error{static formatError(e,t){const n=t.label||t.path||"this";return n!==t.path&&(t=v5({},t,{path:n})),"string"==typeof e?e.replace(g5,((e,n)=>t5(t[n]))):"function"==typeof e?e(t):e}static isError(e){return e&&"ValidationError"===e.name}constructor(e,t,n,r){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this.name="ValidationError",this.value=t,this.path=n,this.type=r,this.errors=[],this.inner=[],p5(e).forEach((e=>{m5.isError(e)?(this.errors.push(...e.errors),this.inner=this.inner.concat(e.inner.length?e.inner:e)):this.errors.push(e)})),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],Error.captureStackTrace&&Error.captureStackTrace(this,m5)}}function y5(e,t){let{endEarly:n,tests:r,args:o,value:i,errors:a,sort:s,path:u}=e,c=(e=>{let t=!1;return(...n)=>{t||(t=!0,e(...n))}})(t),l=r.length;const d=[];if(a=a||[],!l)return a.length?c(new m5(a,i,u)):c(null,i);for(let e=0;e<r.length;e++){(0,r[e])(o,(function(e){if(e){if(!m5.isError(e))return c(e,i);if(n)return e.value=i,c(e,i);d.push(e)}if(--l<=0){if(d.length&&(s&&d.sort(s),a.length&&d.push(...a),a=d),a.length)return void c(new m5(a,i,u),i);c(null,i)}}))}}var b5,w5={};w5=function(e,t){return e&&GM(e,t,jT)},b5=function(e,t){var n={};return t=EU(t,3),w5(e,(function(e,r,o){hN(n,r,t(e,r,o))})),n};var S5;function x5(e){this._maxSize=e,this.clear()}x5.prototype.clear=function(){this._size=0,this._values=Object.create(null)},x5.prototype.get=function(e){return this._values[e]},x5.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var _5=/[^.^\]^[]+|(?=\[\]|\.\.)/g,E5=/^\d+$/,C5=/^\d/,k5=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,A5=/^\s*(['"]?)(.*?)(\1)\s*$/,T5=new x5(512),I5=new x5(512),N5=new x5(512);function O5(e){return T5.get(e)||T5.set(e,P5(e).map((function(e){return e.replace(A5,"$2")})))}function P5(e){return e.match(_5)||[""]}function j5(e){return"string"==typeof e&&e&&-1!==["'",'"'].indexOf(e.charAt(0))}function R5(e){return!j5(e)&&(function(e){return e.match(C5)&&!e.match(E5)}(e)||function(e){return k5.test(e)}(e))}S5={Cache:x5,split:P5,normalizePath:O5,setter:function(e){var t=O5(e);return I5.get(e)||I5.set(e,(function(e,n){for(var r=0,o=t.length,i=e;r<o-1;){var a=t[r];if("__proto__"===a||"constructor"===a||"prototype"===a)return e;i=i[t[r++]]}i[t[r]]=n}))},getter:function(e,t){var n=O5(e);return N5.get(e)||N5.set(e,(function(e){for(var r=0,o=n.length;r<o;){if(null==e&&t)return;e=e[n[r++]]}return e}))},join:function(e){return e.reduce((function(e,t){return e+(j5(t)||E5.test(t)?"["+t+"]":(e?".":"")+t)}),"")},forEach:function(e,t,n){!function(e,t,n){var r,o,i,a,s=e.length;for(o=0;o<s;o++)(r=e[o])&&(R5(r)&&(r='"'+r+'"'),i=!(a=j5(r))&&/^\d+$/.test(r),t.call(n,r,a,i,o,e))}(Array.isArray(e)?e:P5(e),t,n)}};const M5="$",U5=".";class L5{constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,"string"!=typeof e)throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),""===e)throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===M5,this.isValue=this.key[0]===U5,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?M5:this.isValue?U5:"";this.path=this.key.slice(n.length),this.getter=this.path&&(0,S5.getter)(this.path,!0),this.map=t.map}getValue(e,t,n){let r=this.isContext?n:this.isValue?e:t;return this.getter&&(r=this.getter(r||{})),this.map&&(r=this.map(r)),r}cast(e,t){return this.getValue(e,null==t?void 0:t.parent,null==t?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}function D5(){return D5=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D5.apply(this,arguments)}function F5(e){function t(t,n){let{value:o,path:i="",label:a,options:s,originalValue:u,sync:c}=t,l=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,["value","path","label","options","originalValue","sync"]);const{name:d,test:f,params:h,message:p}=e;let{parent:v,context:g}=s;function m(e){return L5.isRef(e)?e.getValue(o,v,g):e}function y(e={}){const t=r(b5)(D5({value:o,originalValue:u,label:a,path:e.path||i},h,e.params),m),n=new m5(m5.formatError(e.message||p,t),o,t.path,e.type||d);return n.params=t,n}let b,w=D5({path:i,parent:v,type:d,createError:y,resolve:m,options:s,originalValue:u},l);if(c){try{var S;if(b=f.call(w,o,w),"function"==typeof(null==(S=b)?void 0:S.then))throw new Error(`Validation test of type: "${w.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`)}catch(e){return void n(e)}m5.isError(b)?n(b):b?n(null,b):n(y())}else try{Promise.resolve(f.call(w,o,w)).then((e=>{m5.isError(e)?n(e):e?n(null,e):n(y())})).catch(n)}catch(e){n(e)}}return t.OPTIONS=e,t}L5.prototype.__isYupRef=!0;function B5(e,t,n,r=n){let o,i,a;return t?((0,S5.forEach)(t,((s,u,c)=>{let l=u?(e=>e.substr(0,e.length-1).substr(1))(s):s;if((e=e.resolve({context:r,parent:o,value:n})).innerType){let r=c?parseInt(l,10):0;if(n&&r>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${s}, in the path: ${t}. because there is no value at that index. `);o=n,n=n&&n[r],e=e.innerType}if(!c){if(!e.fields||!e.fields[l])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${a} which is a type: "${e._type}")`);o=n,n=n&&n[l],e=e.fields[l]}i=l,a=u?"["+s+"]":"."+s})),{schema:e,parent:o,parentPath:i}):{parent:o,parentPath:t,schema:e}}class z5{constructor(){this.list=void 0,this.refs=void 0,this.list=new Set,this.refs=new Map}get size(){return this.list.size+this.refs.size}describe(){const e=[];for(const t of this.list)e.push(t);for(const[,t]of this.refs)e.push(t.describe());return e}toArray(){return Array.from(this.list).concat(Array.from(this.refs.values()))}resolveAll(e){return this.toArray().reduce(((t,n)=>t.concat(L5.isRef(n)?e(n):n)),[])}add(e){L5.isRef(e)?this.refs.set(e.key,e):this.list.add(e)}delete(e){L5.isRef(e)?this.refs.delete(e.key):this.list.delete(e)}clone(){const e=new z5;return e.list=new Set(this.list),e.refs=new Map(this.refs),e}merge(e,t){const n=this.clone();return e.list.forEach((e=>n.add(e))),e.refs.forEach((e=>n.add(e))),t.list.forEach((e=>n.delete(e))),t.refs.forEach((e=>n.delete(e))),n}}function V5(){return V5=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V5.apply(this,arguments)}class q5{constructor(e){this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this._typeError=void 0,this._whitelist=new z5,this._blacklist=new z5,this.exclusiveTests=Object.create(null),this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation((()=>{this.typeError(n5.notType)})),this.type=(null==e?void 0:e.type)||"mixed",this.spec=V5({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,presence:"optional"},null==e?void 0:e.spec)}get _type(){return this.type}_typeCheck(e){return!0}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeError=this._typeError,t._whitelistError=this._whitelistError,t._blacklistError=this._blacklistError,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.exclusiveTests=V5({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=$4(V5({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(0===e.length)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let n=e(this);return this._mutate=t,n}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&"mixed"!==this.type)throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,n=e.clone();const r=V5({},t.spec,n.spec);return n.spec=r,n._typeError||(n._typeError=t._typeError),n._whitelistError||(n._whitelistError=t._whitelistError),n._blacklistError||(n._blacklistError=t._blacklistError),n._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),n.tests=t.tests,n.exclusiveTests=t.exclusiveTests,n.withMutation((t=>{e.tests.forEach((e=>{t.test(e.OPTIONS)}))})),n.transforms=[...t.transforms,...n.transforms],n}isType(e){return!(!this.spec.nullable||null!==e)||this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let n=t.conditions;t=t.clone(),t.conditions=[],t=n.reduce(((t,n)=>n.resolve(t,e)),t),t=t.resolve(e)}return t}cast(e,t={}){let n=this.resolve(V5({value:e},t)),r=n._cast(e,t);if(void 0!==e&&!1!==t.assert&&!0!==n.isType(r)){let o=t5(e),i=t5(r);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${n._type}". \n\nattempted value: ${o} \n`+(i!==o?`result of cast: ${i}`:""))}return r}_cast(e,t){let n=void 0===e?e:this.transforms.reduce(((t,n)=>n.call(this,t,e,this)),e);return void 0===n&&(n=this.getDefault()),n}_validate(e,t={},n){let{sync:r,path:o,from:i=[],originalValue:a=e,strict:s=this.spec.strict,abortEarly:u=this.spec.abortEarly}=t,c=e;s||(c=this._cast(c,V5({assert:!1},t)));let l={value:c,path:o,options:t,originalValue:a,schema:this,label:this.spec.label,sync:r,from:i},d=[];this._typeError&&d.push(this._typeError);let f=[];this._whitelistError&&f.push(this._whitelistError),this._blacklistError&&f.push(this._blacklistError),y5({args:l,value:c,path:o,sync:r,tests:d,endEarly:u},(e=>{e?n(e,c):y5({tests:this.tests.concat(f),args:l,path:o,sync:r,value:c,endEarly:u},n)}))}validate(e,t,n){let r=this.resolve(V5({},t,{value:e}));return"function"==typeof n?r._validate(e,t,n):new Promise(((n,o)=>r._validate(e,t,((e,t)=>{e?o(e):n(t)}))))}validateSync(e,t){let n;return this.resolve(V5({},t,{value:e}))._validate(e,V5({},t,{sync:!0}),((e,t)=>{if(e)throw e;n=t})),n}isValid(e,t){return this.validate(e,t).then((()=>!0),(e=>{if(m5.isError(e))return!1;throw e}))}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(e){if(m5.isError(e))return!1;throw e}}_getDefault(){let e=this.spec.default;return null==e?e:"function"==typeof e?e.call(this):$4(e)}getDefault(e){return this.resolve(e||{})._getDefault()}default(e){if(0===arguments.length)return this._getDefault();return this.clone({default:e})}strict(e=!0){let t=this.clone();return t.spec.strict=e,t}_isPresent(e){return null!=e}defined(e=n5.defined){return this.test({message:e,name:"defined",exclusive:!0,test:e=>void 0!==e})}required(e=n5.required){return this.clone({presence:"required"}).withMutation((t=>t.test({message:e,name:"required",exclusive:!0,test(e){return this.schema._isPresent(e)}})))}notRequired(){let e=this.clone({presence:"optional"});return e.tests=e.tests.filter((e=>"required"!==e.OPTIONS.name)),e}nullable(e=!0){return this.clone({nullable:!1!==e})}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(t=1===e.length?"function"==typeof e[0]?{test:e[0]}:e[0]:2===e.length?{name:e[0],test:e[1]}:{name:e[0],message:e[1],test:e[2]},void 0===t.message&&(t.message=n5.default),"function"!=typeof t.test)throw new TypeError("`test` is a required parameters");let n=this.clone(),r=F5(t),o=t.exclusive||t.name&&!0===n.exclusiveTests[t.name];if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(n.exclusiveTests[t.name]=!!t.exclusive),n.tests=n.tests.filter((e=>{if(e.OPTIONS.name===t.name){if(o)return!1;if(e.OPTIONS.test===r.OPTIONS.test)return!1}return!0})),n.tests.push(r),n}when(e,t){Array.isArray(e)||"string"==typeof e||(t=e,e=".");let n=this.clone(),r=p5(e).map((e=>new L5(e)));return r.forEach((e=>{e.isSibling&&n.deps.push(e.key)})),n.conditions.push(new h5(r,t)),n}typeError(e){let t=this.clone();return t._typeError=F5({message:e,name:"typeError",test(e){return!(void 0!==e&&!this.schema.isType(e))||this.createError({params:{type:this.schema._type}})}}),t}oneOf(e,t=n5.oneOf){let n=this.clone();return e.forEach((e=>{n._whitelist.add(e),n._blacklist.delete(e)})),n._whitelistError=F5({message:t,name:"oneOf",test(e){if(void 0===e)return!0;let t=this.schema._whitelist,n=t.resolveAll(this.resolve);return!!n.includes(e)||this.createError({params:{values:t.toArray().join(", "),resolved:n}})}}),n}notOneOf(e,t=n5.notOneOf){let n=this.clone();return e.forEach((e=>{n._blacklist.add(e),n._whitelist.delete(e)})),n._blacklistError=F5({message:t,name:"notOneOf",test(e){let t=this.schema._blacklist,n=t.resolveAll(this.resolve);return!n.includes(e)||this.createError({params:{values:t.toArray().join(", "),resolved:n}})}}),n}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(){const e=this.clone(),{label:t,meta:n}=e.spec;return{meta:n,label:t,type:e.type,oneOf:e._whitelist.describe(),notOneOf:e._blacklist.describe(),tests:e.tests.map((e=>({name:e.OPTIONS.name,params:e.OPTIONS.params}))).filter(((e,t,n)=>n.findIndex((t=>t.name===e.name))===t))}}}q5.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])q5.prototype[`${e}At`]=function(t,n,r={}){const{parent:o,parentPath:i,schema:a}=B5(this,t,n,r.context);return a[e](o&&o[i],V5({},r,{parent:o,path:t}))};for(const e of["equals","is"])q5.prototype[e]=q5.prototype.oneOf;for(const e of["not","nope"])q5.prototype[e]=q5.prototype.notOneOf;q5.prototype.optional=q5.prototype.notRequired;const K5=q5;K5.prototype;var H5=e=>null==e;let G5=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,W5=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,$5=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Y5=e=>H5(e)||e===e.trim(),J5={}.toString();function Q5(){return new Z5}class Z5 extends q5{constructor(){super({type:"string"}),this.withMutation((()=>{this.transform((function(e){if(this.isType(e))return e;if(Array.isArray(e))return e;const t=null!=e&&e.toString?e.toString():e;return t===J5?e:t}))}))}_typeCheck(e){return e instanceof String&&(e=e.valueOf()),"string"==typeof e}_isPresent(e){return super._isPresent(e)&&!!e.length}length(e,t=r5.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},test(t){return H5(t)||t.length===this.resolve(e)}})}min(e,t=r5.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test(t){return H5(t)||t.length>=this.resolve(e)}})}max(e,t=r5.max){return this.test({name:"max",exclusive:!0,message:t,params:{max:e},test(t){return H5(t)||t.length<=this.resolve(e)}})}matches(e,t){let n,r,o=!1;return t&&("object"==typeof t?({excludeEmptyString:o=!1,message:n,name:r}=t):n=t),this.test({name:r||"matches",message:n||r5.matches,params:{regex:e},test:t=>H5(t)||""===t&&o||-1!==t.search(e)})}email(e=r5.email){return this.matches(G5,{name:"email",message:e,excludeEmptyString:!0})}url(e=r5.url){return this.matches(W5,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=r5.uuid){return this.matches($5,{name:"uuid",message:e,excludeEmptyString:!1})}ensure(){return this.default("").transform((e=>null===e?"":e))}trim(e=r5.trim){return this.transform((e=>null!=e?e.trim():e)).test({message:e,name:"trim",test:Y5})}lowercase(e=r5.lowercase){return this.transform((e=>H5(e)?e:e.toLowerCase())).test({message:e,name:"string_case",exclusive:!0,test:e=>H5(e)||e===e.toLowerCase()})}uppercase(e=r5.uppercase){return this.transform((e=>H5(e)?e:e.toUpperCase())).test({message:e,name:"string_case",exclusive:!0,test:e=>H5(e)||e===e.toUpperCase()})}}Q5.prototype=Z5.prototype;var X5=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;function e6(e){var t,n,r=[1,4,5,6,7,10,11],o=0;if(n=X5.exec(e)){for(var i,a=0;i=r[a];++a)n[i]=+n[i]||0;n[2]=(+n[2]||1)-1,n[3]=+n[3]||1,n[7]=n[7]?String(n[7]).substr(0,3):0,void 0!==n[8]&&""!==n[8]||void 0!==n[9]&&""!==n[9]?("Z"!==n[8]&&void 0!==n[9]&&(o=60*n[10]+n[11],"+"===n[9]&&(o=0-o)),t=Date.UTC(n[1],n[2],n[3],n[4],n[5]+o,n[6],n[7])):t=+new Date(n[1],n[2],n[3],n[4],n[5],n[6],n[7])}else t=Date.parse?Date.parse(e):NaN;return t}let t6=new Date("");function n6(){return new r6}class r6 extends q5{constructor(){super({type:"date"}),this.withMutation((()=>{this.transform((function(e){return this.isType(e)?e:(e=e6(e),isNaN(e)?t6:new Date(e))}))}))}_typeCheck(e){return t=e,"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(e.getTime());var t}prepareParam(e,t){let n;if(L5.isRef(e))n=e;else{let r=this.cast(e);if(!this._typeCheck(r))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);n=r}return n}min(e,t=i5.min){let n=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test(e){return H5(e)||e>=this.resolve(n)}})}max(e,t=i5.max){let n=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},test(e){return H5(e)||e<=this.resolve(n)}})}}r6.INVALID_DATE=t6,n6.prototype=r6.prototype,n6.INVALID_DATE=t6;var o6,i6=_L((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));o6=i6;var a6,s6={},u6={},c6={},l6={};l6=function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i},c6=function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:l6(e,t,n)};var d6={},f6=RegExp("[\\u200d\ud800-\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");d6=function(e){return f6.test(e)};var h6={},p6={};p6=function(e){return e.split("")};var v6={},g6="[\ud800-\udfff]",m6="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",y6="[^\ud800-\udfff]",b6="(?:\ud83c[\udde6-\uddff]){2}",w6="[\ud800-\udbff][\udc00-\udfff]",S6="(?:"+m6+"|\ud83c[\udffb-\udfff])"+"?",x6="[\\ufe0e\\ufe0f]?"+S6+("(?:\\u200d(?:"+[y6,b6,w6].join("|")+")[\\ufe0e\\ufe0f]?"+S6+")*"),_6="(?:"+[y6+m6+"?",m6,b6,w6,g6].join("|")+")",E6=RegExp("\ud83c[\udffb-\udfff](?=\ud83c[\udffb-\udfff])|"+_6+x6,"g");v6=function(e){return e.match(E6)||[]},h6=function(e){return d6(e)?v6(e):p6(e)};var C6=function(e){return function(t){t=PM(t);var n=d6(t)?h6(t):void 0,r=n?n[0]:t.charAt(0),o=n?c6(n,1).join(""):t.slice(1);return r[e]()+o}}("toUpperCase");u6=C6,s6=function(e){return u6(PM(e).toLowerCase())};var k6=_L((function(e,t,n){return t=t.toLowerCase(),e+(n?s6(t):t)}));a6=k6;var A6;A6=function(e,t){var n={};return t=EU(t,3),w5(e,(function(e,r,o){hN(n,t(e,r,o),e)})),n};var T6;function I6(e,t){var n=e.length,r=new Array(n),o={},i=n,a=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++){var o=e[n];t.has(o[0])||t.set(o[0],new Set),t.has(o[1])||t.set(o[1],new Set),t.get(o[0]).add(o[1])}return t}(t),s=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++)t.set(e[n],n);return t}(e);for(t.forEach((function(e){if(!s.has(e[0])||!s.has(e[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")}));i--;)o[i]||u(e[i],i,new Set);return r;function u(e,t,i){if(i.has(e)){var c;try{c=", node was:"+JSON.stringify(e)}catch(e){c=""}throw new Error("Cyclic dependency"+c)}if(!s.has(e))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(e));if(!o[t]){o[t]=!0;var l=a.get(e)||new Set;if(t=(l=Array.from(l)).length){i.add(e);do{var d=l[--t];u(d,s.get(d),i)}while(t);i.delete(e)}r[--n]=e}}}function N6(e,t=[]){let n=[],o=new Set,i=new Set(t.map((([e,t])=>`${e}-${t}`)));function a(e,t){let r=(0,S5.split)(e)[0];o.add(r),i.has(`${t}-${r}`)||n.push([t,r])}for(const t in e)if(r(c5)(e,t)){let n=e[t];o.add(t),L5.isRef(n)&&n.isSibling?a(n.path,t):f5(n)&&"deps"in n&&n.deps.forEach((e=>a(e,t)))}return r(T6).array(Array.from(o),n).reverse()}function O6(e,t){let n=1/0;return e.some(((e,r)=>{var o;if(-1!==(null==(o=t.path)?void 0:o.indexOf(e)))return n=r,!0})),n}function P6(e){return(t,n)=>O6(e,t)-O6(e,n)}function j6(){return j6=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j6.apply(this,arguments)}(T6=function(e){return I6(function(e){for(var t=new Set,n=0,r=e.length;n<r;n++){var o=e[n];t.add(o[0]),t.add(o[1])}return Array.from(t)}(e),e)}).array=I6;let R6=e=>"[object Object]"===Object.prototype.toString.call(e);const M6=P6([]);class U6 extends q5{constructor(e){super({type:"object"}),this.fields=Object.create(null),this._sortErrors=M6,this._nodes=[],this._excludedEdges=[],this.withMutation((()=>{this.transform((function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){e=null}return this.isType(e)?e:null})),e&&this.shape(e)}))}_typeCheck(e){return R6(e)||"function"==typeof e}_cast(e,t={}){var n;let o=super._cast(e,t);if(void 0===o)return this.getDefault();if(!this._typeCheck(o))return o;let i=this.fields,a=null!=(n=t.stripUnknown)?n:this.spec.noUnknown,s=this._nodes.concat(Object.keys(o).filter((e=>-1===this._nodes.indexOf(e)))),u={},c=j6({},t,{parent:u,__validating:t.__validating||!1}),l=!1;for(const e of s){let n=i[e],s=r(c5)(o,e);if(n){let r,i=o[e];c.path=(t.path?`${t.path}.`:"")+e,n=n.resolve({value:i,context:t.context,parent:u});let a="spec"in n?n.spec:void 0,s=null==a?void 0:a.strict;if(null==a?void 0:a.strip){l=l||e in o;continue}r=t.__validating&&s?o[e]:n.cast(o[e],c),void 0!==r&&(u[e]=r)}else s&&!a&&(u[e]=o[e]);u[e]!==o[e]&&(l=!0)}return l?u:o}_validate(e,t={},n){let r=[],{sync:o,from:i=[],originalValue:a=e,abortEarly:s=this.spec.abortEarly,recursive:u=this.spec.recursive}=t;i=[{schema:this,value:a},...i],t.__validating=!0,t.originalValue=a,t.from=i,super._validate(e,t,((e,c)=>{if(e){if(!m5.isError(e)||s)return void n(e,c);r.push(e)}if(!u||!R6(c))return void n(r[0]||null,c);a=a||c;let l=this._nodes.map((e=>(n,r)=>{let o=-1===e.indexOf(".")?(t.path?`${t.path}.`:"")+e:`${t.path||""}["${e}"]`,s=this.fields[e];s&&"validate"in s?s.validate(c[e],j6({},t,{path:o,from:i,strict:!0,parent:c,originalValue:a[e]}),r):r(null)}));y5({sync:o,tests:l,value:c,errors:r,endEarly:s,sort:this._sortErrors,path:t.path},n)}))}clone(e){const t=super.clone(e);return t.fields=j6({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),n=t.fields;for(let[e,t]of Object.entries(this.fields)){const r=n[e];void 0===r?n[e]=t:r instanceof q5&&t instanceof q5&&(n[e]=t.concat(r))}return t.withMutation((()=>t.shape(n,this._excludedEdges)))}getDefaultFromShape(){let e={};return this._nodes.forEach((t=>{const n=this.fields[t];e[t]="default"in n?n.getDefault():void 0})),e}_getDefault(){return"default"in this.spec?super._getDefault():this._nodes.length?this.getDefaultFromShape():void 0}shape(e,t=[]){let n=this.clone(),r=Object.assign(n.fields,e);return n.fields=r,n._sortErrors=P6(Object.keys(r)),t.length&&(Array.isArray(t[0])||(t=[t]),n._excludedEdges=[...n._excludedEdges,...t]),n._nodes=N6(r,n._excludedEdges),n}pick(e){const t={};for(const n of e)this.fields[n]&&(t[n]=this.fields[n]);return this.clone().withMutation((e=>(e.fields={},e.shape(t))))}omit(e){const t=this.clone(),n=t.fields;t.fields={};for(const t of e)delete n[t];return t.withMutation((()=>t.shape(n)))}from(e,t,n){let o=(0,S5.getter)(e,!0);return this.transform((i=>{if(null==i)return i;let a=i;return r(c5)(i,e)&&(a=j6({},i),n||delete a[e],a[t]=o(i)),a}))}noUnknown(e=!0,t=s5.noUnknown){"string"==typeof e&&(t=e,e=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:t,test(t){if(null==t)return!0;const n=function(e,t){let n=Object.keys(e.fields);return Object.keys(t).filter((e=>-1===n.indexOf(e)))}(this.schema,t);return!e||0===n.length||this.createError({params:{unknown:n.join(", ")}})}});return n.spec.noUnknown=e,n}unknown(e=!0,t=s5.noUnknown){return this.noUnknown(!e,t)}transformKeys(e){return this.transform((t=>t&&r(A6)(t,((t,n)=>e(n)))))}camelCase(){return this.transformKeys(r(a6))}snakeCase(){return this.transformKeys(r(o6))}constantCase(){return this.transformKeys((e=>r(o6)(e).toUpperCase()))}describe(){let e=super.describe();return e.fields=r(b5)(this.fields,(e=>e.describe())),e}}function L6(e){return new U6(e)}L6.prototype=U6.prototype;const D6=/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/;let F6;var B6;(B6=F6||(F6={}))[B6.AL=0]="AL",B6[B6.AK=1]="AK",B6[B6.AZ=2]="AZ",B6[B6.AR=3]="AR",B6[B6.CA=4]="CA",B6[B6.CO=5]="CO",B6[B6.CT=6]="CT",B6[B6.DE=7]="DE",B6[B6.FL=8]="FL",B6[B6.GA=9]="GA",B6[B6.HI=10]="HI",B6[B6.ID=11]="ID",B6[B6.IL=12]="IL",B6[B6.IN=13]="IN",B6[B6.IA=14]="IA",B6[B6.KS=15]="KS",B6[B6.KY=16]="KY",B6[B6.LA=17]="LA",B6[B6.ME=18]="ME",B6[B6.MD=19]="MD",B6[B6.MA=20]="MA",B6[B6.MI=21]="MI",B6[B6.MN=22]="MN",B6[B6.MS=23]="MS",B6[B6.MO=24]="MO",B6[B6.MT=25]="MT",B6[B6.NE=26]="NE",B6[B6.NV=27]="NV",B6[B6.NH=28]="NH",B6[B6.NJ=29]="NJ",B6[B6.NM=30]="NM",B6[B6.NY=31]="NY",B6[B6.NC=32]="NC",B6[B6.ND=33]="ND",B6[B6.OH=34]="OH",B6[B6.OK=35]="OK",B6[B6.OR=36]="OR",B6[B6.PA=37]="PA",B6[B6.RI=38]="RI",B6[B6.SC=39]="SC",B6[B6.SD=40]="SD",B6[B6.TN=41]="TN",B6[B6.TX=42]="TX",B6[B6.UT=43]="UT",B6[B6.VT=44]="VT",B6[B6.VA=45]="VA",B6[B6.WA=46]="WA",B6[B6.WV=47]="WV",B6[B6.WI=48]="WI",B6[B6.WY=49]="WY";const z6=L6().shape({name:Q5().required("Organization Name is required"),dba:Q5().notRequired(),ein:Q5().required("Please enter your EIN").matches(/^\d{2}-*\d{7}$/,"Invalid EIN"),phone:Q5().required("Please enter your phone number").matches(D6,"Invalid phone number"),address1:Q5().required("Invalid address"),address2:Q5().notRequired(),city:Q5().required("City is required"),state:Q5().required("State is required"),zip:Q5().required("Please enter your zip code").matches(/^\d{5}(-\d{4})?$/,"Invalid zip code")});var V6=()=>{const e=hK().pathname,t="my-auto rounded-full min-w-[24px]\n\t\t\t\t\t   min-h-[24px] mr-2 leading-6 font-barlow\n\t\t\t\t\t   text-sm text-center",n=`${t} text-black bg-dark/10`,r=`${t} text-white bg-[#64C093]`;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"mt-10 mb-5",children:[(0,u.jsxs)("h1",{className:"text-lg font-bold",children:["Welcome ","USER",","]}),(0,u.jsx)("p",{className:"text-sm text-dark/70",children:"You are X steps closer to finishing your sign up"})]}),(0,u.jsxs)("div",{className:"flex mb-6",children:[(0,u.jsxs)("div",{className:"flex",children:[(0,u.jsx)("span",{className:`${r}`,children:e.includes("api-auth")?"✓":"1"}),(0,u.jsx)("h2",{className:`font-semibold text-base ${e?.includes("api-auth")?"text-[#64C093]":null}`,children:"Create your organization"})]}),(0,u.jsx)("hr",{className:"border-dark/30 my-auto mx-3 w-16 h-0"}),(0,u.jsxs)("div",{className:"flex",children:[(0,u.jsx)("span",{className:e.includes("api-auth")?r:n,children:"2"}),(0,u.jsx)("h2",{className:"font-semibold text-base",children:"Connect to Accounting Information System"})]})]})]})};v=s("fYo6y");class q6{async createOrg(e,t){let n;try{n=await LE.API.post("flareapi","/organizations",{body:{userId:e,organization:t}})}catch(e){const t="error saving to the database.";throw console.error(t,e),`${t}: ${e}`}return n}async updateOrg(e){let t;try{t=await LE.API.put("flareapi","/organizations",{body:{organization:e}})}catch(e){const t="error saving to the database.";throw console.error(t,e),`${t}: ${e}`}return t}}const K6=[{name:"name",label:"Organization Name",type:"text",placeholder:"Enter your organization name here"},{name:"dba",label:"DBA (Optional)",type:"text",placeholder:"Enter DBA here"},{name:"ein",label:"EIN",type:"text",placeholder:"Enter EIN Here"},{name:"phone",label:"Company Phone",type:"tel",placeholder:"XXX XXX XXXX"}],H6=[{name:"address1",label:"Address Line 1",type:"text",placeholder:"Enter your address line 1 here",classNameWrapper:"col-span-3"},{name:"address2",label:"Address Line 2",type:"text",placeholder:"Enter your address line 2 here",classNameWrapper:"col-span-3"},{name:"city",label:"City",placeholder:"Enter or choose"},{name:"state",label:"State",placeholder:"Enter or choose",icon:(0,u.jsx)(y3,{})},{name:"zip",label:"Zip Code",type:"text",placeholder:"Enter Zip Code here"}],G6=e=>{const{formState:t,register:n}=e;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h3",{className:"text-xs text-dark/50 mb-3",children:"Organization Info"}),(0,u.jsx)("div",{className:"grid grid-cols-3 gap-4 mb-4",children:K6.map((({name:e,...r})=>(0,u.jsx)(K4,{registration:n(e),error:t.errors[e],...r},e)))})]})},W6=e=>{const{formState:t,register:n}=e;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h3",{className:"text-xs text-dark/50 mb-3",children:"Organization Address"}),(0,u.jsx)("div",{className:"grid grid-cols-3 gap-4 mb-4",children:H6.map((({name:e,...r})=>(0,u.jsx)(K4,{registration:n(e),error:t.errors[e],...r},e)))})]})};var $6,Y6=()=>{const e=(0,v.useContext)(Qte),t=new q6,[n,r]=(0,v.useState)(!1),o=pK();return(0,u.jsxs)("div",{className:"w-3/4 mx-auto",children:[(0,u.jsx)(V6,{}),(0,u.jsxs)("div",{className:"flex flex-col w-full mb-16 bg-white shadow rounded-md",children:[(0,u.jsx)(B4,{className:"p-6",id:"form",schema:z6,onSubmit:n=>(async n=>{if(r(!0),console.log(n),!e?.user?.id)throw new Error("SESSION_USER_ID_NOT_DEFINED");const i=await t.createOrg(e.user.id,n);i&&e.updateOrganizationId(i.id),console.log("New Org",i),r(!1),o("/signup/api-auth-connect",{replace:!0})})(n),children:({formState:e,register:t})=>(0,u.jsxs)(u.Fragment,{children:[G6({formState:e,register:t}),W6({formState:e,register:t})]})}),(0,u.jsx)("hr",{className:"border border-dark/5 mt-11"}),(0,u.jsx)("div",{className:"flex justify-end items-center p-5",children:(0,u.jsx)("button",{form:"form",className:"bg-flare-red text-white py-3 px-12 rounded float-right disabled:bg-flare-red/50",disabled:n,children:n?"Submitting...":"Next"})})]})]})};v=s("fYo6y");$6=new URL(s("dRo73").resolve("aXObF"),import.meta.url).toString();var J6;J6=new URL(s("dRo73").resolve("40NZK"),import.meta.url).toString();const Q6=new class{getQuickbooksAuthUrl=async()=>await LE.API.get("flareapi","/getQuickbooksCode",{});getQuickbooksTokens=async e=>await LE.API.post("flareapi","/getQuickbooksTokens",{body:{url:e}})};let Z6=null,X6="";function e8(){const e=pK(),t=(0,v.useRef)(0);let[n,o]=(0,v.useState)(!1);(0,v.useEffect)((()=>()=>{window.removeEventListener("message",i)}),[]);const i=(0,v.useCallback)((async e=>{t.current+=1,console.log("MESSAGES RECEIVED",t.current),o(!1),console.log("Event",e);const{data:n}=e;console.log("Redirect URL",n);const r=await Q6.getQuickbooksTokens(n);console.log("Tokens",r)}),[]),a=(e,t)=>{window.removeEventListener("message",i);const n="toolbar=no, menubar=no, width=600, height=700, top=100, left=100";null===Z6||Z6.closed?Z6=window.open(e,t,n):X6!==e?(Z6=window.open(e,t,n),Z6?.focus()):Z6.focus(),window.addEventListener("message",i,!1),X6=e};return(0,u.jsxs)("div",{className:"w-3/4 mx-auto",children:[(0,u.jsx)(V6,{}),(0,u.jsxs)("div",{className:"flex flex-col pt-14 bg-white rounded-md shadow",children:[(0,u.jsxs)("div",{className:"flex mx-auto mb-8 gap-5",children:[(0,u.jsx)("img",{id:"qb-logo",style:{width:"62px",height:"62px"},src:r(J6),alt:"qb-logo"}),(0,u.jsxs)("div",{className:"flex flex-col justify-center",children:[(0,u.jsx)("div",{className:"",children:"←"}),(0,u.jsx)("div",{className:"",children:"→"})]}),(0,u.jsx)("img",{id:"flare-logo",style:{width:"90px",height:"53px"},src:r($6),alt:"flare-logo"})]}),(0,u.jsxs)("div",{className:"flex flex-col items-center text-center gap-4 mb-4",children:[(0,u.jsx)("h1",{className:"text-dark text-2xl font-bold w-96",children:"Connect your QuickBooks Online to get started"}),(0,u.jsx)("p",{className:"text-xs w-96",children:"Flare conveniently uses your QuickBooks data so that you can continue to work in your tools while providing importing information to your teams."})]}),(0,u.jsx)("button",{className:"mx-auto w-52 py-3 text-white bg-flare-red rounded",onClick:async()=>{o(!0);const{authUri:e}=await Q6.getQuickbooksAuthUrl();console.log("Quickbooks Auth URL",e),a(e,"Authorize Flare to Use Your Quickbooks")},disabled:n,children:n?"Connecting...":"Connect"}),(0,u.jsx)("hr",{className:"border-dark/5 mt-10 "}),(0,u.jsxs)("div",{className:"flex justify-between items-center p-5",children:[(0,u.jsx)("a",{className:"text-dark/70 text-base cursor-pointer",onClick:()=>e("/signup/org-form"),children:"Back"}),(0,u.jsx)("button",{className:"text-white text-base bg-dark/50 px-10 py-2 rounded",onClick:()=>e("/signup/api-auth-setup"),children:"Next"})]})]})]})}var t8=function(){const e=pK();return(0,u.jsxs)("div",{className:"w-3/4 mx-auto",children:[(0,u.jsx)(V6,{}),(0,u.jsxs)("div",{className:"flex flex-col w-full pt-14 bg-white rounded-md shadow",children:[(0,u.jsxs)("div",{className:"text-dark w-full text-xs mx-auto",children:[(0,u.jsxs)("div",{className:"flex mx-auto justify-center items-center gap-2",children:[(0,u.jsx)("img",{id:"qb-logo",style:{width:"32px",height:"32px"},src:r(J6),alt:"qb-logo"}),(0,u.jsx)("h1",{className:"text-[32px] font-bold",children:"Map Fields from QuickBooks"})]}),(0,u.jsx)("p",{className:"text-dark/70 w-96 mx-auto text-center mt-2 mb-7",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Necessitatibus, quas?"}),(t="FlareFS",n="QuickBooks",o=["Accounts","Programs","Users"],(0,u.jsx)("table",{className:"w-3/5 mx-auto border-collapse",children:(0,u.jsxs)("tbody",{children:[(0,u.jsxs)("tr",{className:"text-dark bg-dark/5 text-left text-xs",children:[(0,u.jsx)("th",{className:"border border-dark/5 py-1 px-4 font-normal",children:t}),(0,u.jsx)("th",{className:"border border-dark/5 py-1 px-4 font-normal",children:n})]}),o.map(((e,t)=>(0,u.jsxs)("tr",{className:"text-dark text-left text-sm leading-6",children:[(0,u.jsx)("th",{className:"border border-dark/5 py-3 px-4 font-normal",children:e}),(0,u.jsx)("td",{className:"border border-dark/5 py-3 px-4",children:(0,u.jsx)("select",{className:"border-none w-full text-dark/30",defaultValue:"none",children:(0,u.jsx)("option",{value:"none",disabled:!0,hidden:!0,children:"Choose"})})})]},t)))]})}))]}),(0,u.jsx)("hr",{className:"border border-dark/5 mt-11"}),(0,u.jsxs)("div",{className:"flex justify-between items-center p-5",children:[(0,u.jsx)("a",{className:"text-dark/70 text-base cursor-pointer",onClick:()=>e("/signup/api-auth-connect"),children:"Back"}),(0,u.jsx)("button",{className:"text-white text-base bg-dark/50 px-10 py-2 rounded",onClick:()=>alert("End of Sign Up Flow"),children:"Finish"})]})]})]});var t,n,o};v=s("fYo6y");class n8{async createUser(e){let t;try{t=await LE.API.post("flareapi","/users",{body:e})}catch(e){let t="error saving to the database.";throw console.error(t,e),`${t}: ${e}`}return t}async getUser(e){let t;try{t=await LE.API.get("flareapi",`/users/${e}`,{})}catch(e){throw console.error("error saving to the database.",e),`There was an error signing up with Cognito: ${e}`}return t}}const r8=L6().shape({firstName:Q5().required("Please enter your first name"),lastName:Q5().required("Please enter your last name"),phone:Q5().trim().required("Please enter your phone number").matches(D6,"Invalid phone number"),department:Q5().required("Please enter your department")}),o8=[{type:"text",label:"First Name",name:"firstName",placeholder:"Enter your first name here"},{type:"text",label:"Last Name",name:"lastName",placeholder:"Enter your last name here"},{type:"tel",label:"Phone Number",name:"phone",placeholder:"Enter your phone here"},{type:"text",label:"Department",name:"department",placeholder:"Enter your department here"}];var i8,a8=()=>{const e=(0,v.useContext)(Qte),t=new n8;let[n,r]=(0,v.useState)(!1);const o=pK();return(0,u.jsxs)("div",{className:"flex flex-col items-center mt-20",children:[(0,u.jsxs)("div",{className:"flex flex-col justify-between items-center py-12 px-24 gap-14 bg-white",children:[(0,u.jsx)("h1",{className:"text-center font-bold text-2xl",children:"Sign up"}),(0,u.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,u.jsx)(B4,{id:"userForm",className:"flex flex-col gap-4",schema:r8,onSubmit:n=>(async n=>{if(r(!0),console.log("Form data",n),!e)throw new Error("SESSION_NOT_DEFINED");let i={...e.user,...n};console.log("User data",i);let a=await t.createUser(i);console.log("New User",a),a&&e.updateUser(a),r(!1),o("/signup/org-form",{replace:!0})})(n),children:({formState:e,register:t})=>o8.map((({name:n,...r})=>(0,u.jsx)(K4,{registration:t(n),error:e.errors[n],...r},n)))}),(0,u.jsx)("button",{form:"userForm",type:"submit",className:V4("w-full text-white flex flex-row justify-center items-center px-6 py-3 mt-5 bg-flare-red disabled:bg-flare-red/50 shadow rounded border-none text-sm"),disabled:n,children:n?"Submitting...":"Continue"}),(0,u.jsx)("div",{className:"flex justify-center text-xs w-full",children:(0,u.jsxs)("p",{className:"text-center w-3/5",children:["By signing up, I agree to FlareFS'"," ",(0,u.jsx)(AK,{className:"text-flare-red hover:underline",to:"",children:"Terms of Service"})," ","and"," ",(0,u.jsx)(AK,{className:"text-flare-red hover:underline",to:"",children:"Privacy Policy"})]})})]})]}),(0,u.jsx)("br",{})]})};v=s("fYo6y");i8=new URL(s("dRo73").resolve("2zcCp"),import.meta.url).toString();var s8=({userStatus:e=!1})=>(0,u.jsxs)("nav",{className:"sticky z-10 top-0 flex items-center justify-between w-full py-2 px-28 bg-white shadow",children:[(0,u.jsx)("img",{src:r(i8)}),e?null:(0,u.jsxs)("p",{className:"text-base",children:["Already have an account?"," ",(0,u.jsx)("span",{className:"text-base text-flare-red hover:underline hover:cursor-pointer",children:"Login here"})]})]});var u8,c8=()=>((0,v.useEffect)((()=>(document.body.classList.add("bg-mint-green"),()=>{document.body.classList.remove("bg-mint-green")})),[]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(s8,{}),(0,u.jsx)(yK,{})]}));v=s("fYo6y");u8=new URL(s("dRo73").resolve("jvYhD"),import.meta.url).toString();var l8=e=>{let t=!(!e||!e.show)&&e.show;return(0,u.jsx)(u.Fragment,{children:t&&(0,u.jsx)("div",{className:"flex justify-center items-center h-screen fixed top-0 left-0 right-0 bottom-0 w-full z-50 overflow-hidden bg-gray-700 opacity-75",children:(0,u.jsx)("div",{className:"spinner-border animate-spin inline-block w-8 h-8 rounded-full text-green-600",role:"status",children:(0,u.jsx)("span",{className:"visually-hidden",children:(0,u.jsxs)("svg",{className:"animate-spin -inline-block w-8 h-8 border-4 rounded-full",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",children:[(0,u.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,u.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})})})})};v=s("fYo6y");var d8=class{getAccountURL=async e=>await LE.API.post("flareapi","/cards",{body:{payload:e}});createBankAccount=async e=>await LE.API.post("flareapi","/cards/createBankAccount",{body:e});verifyDepositAmounts=async e=>await LE.API.post("flareapi","/cards/verifyDepositAmounts",{body:e});addFunds=async e=>await LE.API.post("flareapi","/cards/addFunds",{body:e});retrieveBalance=async e=>await LE.API.post("flareapi","/cards/retrievebalance",{body:e})};const f8=new d8;var h8=()=>{const[e,t]=(0,v.useState)(!1),[n,o]=(0,v.useState)(""),[i,a]=(0,v.useState)(""),s=async e=>{e.preventDefault();try{t(!0);let e=await f8.getAccountURL({email:n,id:i});e&&e.goto_url&&(t(!1),window.location.href=e.goto_url)}catch(e){console.log("exception",e),t(!1)}};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(l8,{show:e}),(0,u.jsxs)("main",{className:"main-content flex flex-col mx-[205px]",children:[(0,u.jsx)("div",{className:"screen-title pt-[28px] pb-[32px]",children:"Cards"}),(0,u.jsxs)("div",{className:"get-started flex flex-col text-center",children:[(0,u.jsx)("div",{className:"card-start-img mb-11 mt-14",children:(0,u.jsx)("img",{className:"mx-auto",src:r(u8),alt:"Get started"})}),(0,u.jsx)("div",{className:"card-start-header mx-auto mb-3",children:"Create Finance account"}),(0,u.jsxs)("div",{className:"card-start-desc mx-auto w-96 mb-6",children:[(0,u.jsx)("p",{children:"Enter Email ID to create an account or Account ID to resume onboarding"}),(0,u.jsxs)("form",{onSubmit:s,className:"w-full max-w-sm",children:[(0,u.jsx)("div",{className:"flex items-center border-y border-teal-500 py-2 mt-2",children:(0,u.jsx)("input",{className:"appearance-none bg-transparent border-none w-full text-gray-700 mr-3 py-1 px-2 leading-tight focus:outline-none",type:"text",placeholder:"Enter Email","aria-label":"Email",value:n,onChange:e=>o(e.target.value),disabled:!!i})}),(0,u.jsx)("div",{className:"flex items-center border-b border-teal-500 py-2",children:(0,u.jsx)("input",{className:"appearance-none bg-transparent border-none w-full text-gray-700 mr-3 py-1 px-2 leading-tight focus:outline-none",type:"text",placeholder:"Enter Account ID","aria-label":"Account ID",value:i,onChange:e=>a(e.target.value),disabled:!!n})})]})]}),(0,u.jsx)("button",{onClick:s,type:"button",className:"mx-auto  mb-20  text-white font-bold py-2 px-4 rounded w-36 "+(n||i?"bg-red-500  hover:bg-red-700 text-white":"bg-gray-500 text-gray-600"),disabled:!(n||i),children:i?"Resume":"Get Started"})]})]})]})};var p8=({userStatus:e=!1})=>(0,u.jsx)("nav",{className:"bg-white shadow-lg",children:(0,u.jsx)("div",{className:"max-w-7xl mx-auto px-[100px] py-[9px]",children:(0,u.jsx)("div",{className:"flex justify-between",children:(0,u.jsxs)("div",{className:"flex",children:[(0,u.jsx)("div",{children:(0,u.jsx)("a",{href:"#",className:"flex items-center",children:(0,u.jsx)("img",{src:r(i8),alt:"Logo",className:""})})}),(0,u.jsx)("div",{className:"flex ml-[200px] py-[9px]",children:(0,u.jsxs)("ul",{className:"text-base text-gray-700 flex justify-between",children:[(0,u.jsxs)("li",{className:"flex items-center px-5",children:[(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2",children:(0,u.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),(0,u.jsx)("a",{className:"ml-1",href:"#",children:"Home"})]}),(0,u.jsxs)("li",{className:"flex items-center px-5",children:[(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2",children:(0,u.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),(0,u.jsx)("a",{className:"ml-1",href:"#",children:"Users"})]}),(0,u.jsxs)("li",{className:"flex items-center px-5",children:[(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2",children:(0,u.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,u.jsx)("a",{className:"ml-1",href:"#",children:"Programs"})]}),(0,u.jsxs)("li",{className:"flex items-center px-5",children:[(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2",children:(0,u.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),(0,u.jsx)("a",{className:"ml-1",href:"#",children:"Cards"})]}),(0,u.jsxs)("li",{className:"flex items-center px-14",children:[(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2",children:(0,u.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),(0,u.jsx)("a",{className:"ml-1",href:"#",children:"Login"})]})]})})]})})})});var v8,g8=()=>((0,v.useEffect)((()=>(document.body.classList.add("bg-mint-green"),()=>{document.body.classList.remove("bg-mint-green")})),[]),(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:"card-section font-sans",children:[(0,u.jsx)(p8,{}),(0,u.jsx)(h8,{}),(0,u.jsx)(yK,{})]})})),m8=(v=s("fYo6y"),v=s("fYo6y"),v=s("fYo6y"),Array.isArray),y8=Object.keys,b8=Object.prototype.hasOwnProperty,w8="undefined"!=typeof Element;function S8(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var n,r,o,i=m8(e),a=m8(t);if(i&&a){if((r=e.length)!=t.length)return!1;for(n=r;0!=n--;)if(!S8(e[n],t[n]))return!1;return!0}if(i!=a)return!1;var s=e instanceof Date,u=t instanceof Date;if(s!=u)return!1;if(s&&u)return e.getTime()==t.getTime();var c=e instanceof RegExp,l=t instanceof RegExp;if(c!=l)return!1;if(c&&l)return e.toString()==t.toString();var d=y8(e);if((r=d.length)!==y8(t).length)return!1;for(n=r;0!=n--;)if(!b8.call(t,d[n]))return!1;if(w8&&e instanceof Element&&t instanceof Element)return e===t;for(n=r;0!=n--;)if(!("_owner"===(o=d[n])&&e.$$typeof||S8(e[o],t[o])))return!1;return!0}return e!=e&&t!=t}v8=function(e,t){try{return S8(e,t)}catch(e){if(e.message&&e.message.match(/stack|recursion/i)||-2146828260===e.number)return console.warn("Warning: react-fast-compare does not handle circular references.",e.name,e.message),!1;throw e}};var x8=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===_8}(e)}(e)};var _8="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function E8(e,t){return!1!==t.clone&&t.isMergeableObject(e)?k8((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function C8(e,t,n){return e.concat(t).map((function(e){return E8(e,n)}))}function k8(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||C8,n.isMergeableObject=n.isMergeableObject||x8;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):function(e,t,n){var r={};return n.isMergeableObject(e)&&Object.keys(e).forEach((function(t){r[t]=E8(e[t],n)})),Object.keys(t).forEach((function(o){n.isMergeableObject(t[o])&&e[o]?r[o]=k8(e[o],t[o],n):r[o]=E8(t[o],n)})),r}(e,t,n):E8(t,n)}k8.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return k8(e,n,t)}),{})};var A8=k8,T8=(x7=s("64PKy")).default.Symbol,I8=Object.prototype,N8=I8.hasOwnProperty,O8=I8.toString,P8=T8?T8.toStringTag:void 0;var j8=function(e){var t=N8.call(e,P8),n=e[P8];try{e[P8]=void 0;var r=!0}catch(e){}var o=O8.call(e);return r&&(t?e[P8]=n:delete e[P8]),o},R8=Object.prototype.toString;var M8=function(e){return R8.call(e)},U8=T8?T8.toStringTag:void 0;var L8=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":U8&&U8 in Object(e)?j8(e):M8(e)};var D8=function(e,t){return function(n){return e(t(n))}},F8=D8(Object.getPrototypeOf,Object);var B8=function(e){return null!=e&&"object"==typeof e},z8=Function.prototype,V8=Object.prototype,q8=z8.toString,K8=V8.hasOwnProperty,H8=q8.call(Object);var G8=function(e){if(!B8(e)||"[object Object]"!=L8(e))return!1;var t=F8(e);if(null===t)return!0;var n=K8.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&q8.call(n)==H8};var W8=function(){this.__data__=[],this.size=0};var $8=function(e,t){return e===t||e!=e&&t!=t};var Y8=function(e,t){for(var n=e.length;n--;)if($8(e[n][0],t))return n;return-1},J8=Array.prototype.splice;var Q8=function(e){var t=this.__data__,n=Y8(t,e);return!(n<0)&&(n==t.length-1?t.pop():J8.call(t,n,1),--this.size,!0)};var Z8=function(e){var t=this.__data__,n=Y8(t,e);return n<0?void 0:t[n][1]};var X8=function(e){return Y8(this.__data__,e)>-1};var e7=function(e,t){var n=this.__data__,r=Y8(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function t7(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}t7.prototype.clear=W8,t7.prototype.delete=Q8,t7.prototype.get=Z8,t7.prototype.has=X8,t7.prototype.set=e7;var n7=t7;var r7=function(){this.__data__=new n7,this.size=0};var o7=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var i7=function(e){return this.__data__.get(e)};var a7=function(e){return this.__data__.has(e)};var s7=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var u7=function(e){if(!s7(e))return!1;var t=L8(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},c7=(x7=s("64PKy")).default["__core-js_shared__"],l7=function(){var e=/[^.]+$/.exec(c7&&c7.keys&&c7.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var d7=Function.prototype.toString;var f7=function(e){if(null!=e){try{return d7.call(e)}catch(e){}try{return e+""}catch(e){}}return""},h7=/^\[object .+?Constructor\]$/,p7=Function.prototype,v7=Object.prototype,g7=p7.toString,m7=v7.hasOwnProperty,y7=RegExp("^"+g7.call(m7).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var b7=function(e){return!(!s7(e)||(t=e,l7&&l7 in t))&&(u7(e)?y7:h7).test(f7(e));var t};var w7=function(e,t){return null==e?void 0:e[t]};var S7=function(e,t){var n=w7(e,t);return b7(n)?n:void 0},x7=s("64PKy"),_7=S7(x7.default,"Map"),E7=S7(Object,"create");var C7=function(){this.__data__=E7?E7(null):{},this.size=0};var k7=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},A7=Object.prototype.hasOwnProperty;var T7=function(e){var t=this.__data__;if(E7){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return A7.call(t,e)?t[e]:void 0},I7=Object.prototype.hasOwnProperty;var N7=function(e){var t=this.__data__;return E7?void 0!==t[e]:I7.call(t,e)};var O7=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=E7&&void 0===t?"__lodash_hash_undefined__":t,this};function P7(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}P7.prototype.clear=C7,P7.prototype.delete=k7,P7.prototype.get=T7,P7.prototype.has=N7,P7.prototype.set=O7;var j7=P7;var R7=function(){this.size=0,this.__data__={hash:new j7,map:new(_7||n7),string:new j7}};var M7=function(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map};var U7=function(e){var t=M7(this,e).delete(e);return this.size-=t?1:0,t};var L7=function(e){return M7(this,e).get(e)};var D7=function(e){return M7(this,e).has(e)};var F7=function(e,t){var n=M7(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function B7(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}B7.prototype.clear=R7,B7.prototype.delete=U7,B7.prototype.get=L7,B7.prototype.has=D7,B7.prototype.set=F7;var z7=B7;var V7=function(e,t){var n=this.__data__;if(n instanceof n7){var r=n.__data__;if(!_7||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new z7(r)}return n.set(e,t),this.size=n.size,this};function q7(e){var t=this.__data__=new n7(e);this.size=t.size}q7.prototype.clear=r7,q7.prototype.delete=o7,q7.prototype.get=i7,q7.prototype.has=a7,q7.prototype.set=V7;var K7=q7;var H7=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},G7=function(){try{var e=S7(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),W7=G7;var $7=function(e,t,n){"__proto__"==t&&W7?W7(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Y7=Object.prototype.hasOwnProperty;var J7=function(e,t,n){var r=e[t];Y7.call(e,t)&&$8(r,n)&&(void 0!==n||t in e)||$7(e,t,n)};var Q7=function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var s=t[i],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),o?$7(n,s,u):J7(n,s,u)}return n};var Z7=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var X7=function(e){return B8(e)&&"[object Arguments]"==L8(e)},e9=Object.prototype,t9=e9.hasOwnProperty,n9=e9.propertyIsEnumerable,r9=X7(function(){return arguments}())?X7:function(e){return B8(e)&&t9.call(e,"callee")&&!n9.call(e,"callee")},o9=Array.isArray,i9=s("6xYci"),a9=/^(?:0|[1-9]\d*)$/;var s9=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&a9.test(e))&&e>-1&&e%1==0&&e<t};var u9=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},c9={};c9["[object Float32Array]"]=c9["[object Float64Array]"]=c9["[object Int8Array]"]=c9["[object Int16Array]"]=c9["[object Int32Array]"]=c9["[object Uint8Array]"]=c9["[object Uint8ClampedArray]"]=c9["[object Uint16Array]"]=c9["[object Uint32Array]"]=!0,c9["[object Arguments]"]=c9["[object Array]"]=c9["[object ArrayBuffer]"]=c9["[object Boolean]"]=c9["[object DataView]"]=c9["[object Date]"]=c9["[object Error]"]=c9["[object Function]"]=c9["[object Map]"]=c9["[object Number]"]=c9["[object Object]"]=c9["[object RegExp]"]=c9["[object Set]"]=c9["[object String]"]=c9["[object WeakMap]"]=!1;var l9=function(e){return B8(e)&&u9(e.length)&&!!c9[L8(e)]};var d9=function(e){return function(t){return e(t)}},f9=(yee=s("jdlov")).default&&yee.default.isTypedArray,h9=f9?d9(f9):l9,p9=Object.prototype.hasOwnProperty;var v9=function(e,t){var n=o9(e),r=!n&&r9(e),o=!n&&!r&&(0,i9.default)(e),i=!n&&!r&&!o&&h9(e),a=n||r||o||i,s=a?Z7(e.length,String):[],u=s.length;for(var c in e)!t&&!p9.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||s9(c,u))||s.push(c);return s},g9=Object.prototype;var m9=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||g9)},y9=D8(Object.keys,Object),b9=Object.prototype.hasOwnProperty;var w9=function(e){if(!m9(e))return y9(e);var t=[];for(var n in Object(e))b9.call(e,n)&&"constructor"!=n&&t.push(n);return t};var S9=function(e){return null!=e&&u9(e.length)&&!u7(e)};var x9=function(e){return S9(e)?v9(e):w9(e)};var _9=function(e,t){return e&&Q7(t,x9(t),e)};var E9=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},C9=Object.prototype.hasOwnProperty;var k9=function(e){if(!s7(e))return E9(e);var t=m9(e),n=[];for(var r in e)("constructor"!=r||!t&&C9.call(e,r))&&n.push(r);return n};var A9=function(e){return S9(e)?v9(e,!0):k9(e)};var T9=function(e,t){return e&&Q7(t,A9(t),e)},I9=s("3SvwC");var N9=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var O9=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i};var P9=function(){return[]},j9=Object.prototype.propertyIsEnumerable,R9=Object.getOwnPropertySymbols,M9=R9?function(e){return null==e?[]:(e=Object(e),O9(R9(e),(function(t){return j9.call(e,t)})))}:P9;var U9=function(e,t){return Q7(e,M9(e),t)};var L9=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e},D9=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)L9(t,M9(e)),e=F8(e);return t}:P9,F9=D9;var B9=function(e,t){return Q7(e,F9(e),t)};var z9=function(e,t,n){var r=t(e);return o9(e)?r:L9(r,n(e))};var V9=function(e){return z9(e,x9,M9)};var q9=function(e){return z9(e,A9,F9)},K9=(x7=s("64PKy"),S7(x7.default,"DataView")),H9=(x7=s("64PKy"),S7(x7.default,"Promise")),G9=(x7=s("64PKy"),S7(x7.default,"Set")),W9=(x7=s("64PKy"),S7(x7.default,"WeakMap")),$9=f7(K9),Y9=f7(_7),J9=f7(H9),Q9=f7(G9),Z9=f7(W9),X9=L8;(K9&&"[object DataView]"!=X9(new K9(new ArrayBuffer(1)))||_7&&"[object Map]"!=X9(new _7)||H9&&"[object Promise]"!=X9(H9.resolve())||G9&&"[object Set]"!=X9(new G9)||W9&&"[object WeakMap]"!=X9(new W9))&&(X9=function(e){var t=L8(e),n="[object Object]"==t?e.constructor:void 0,r=n?f7(n):"";if(r)switch(r){case $9:return"[object DataView]";case Y9:return"[object Map]";case J9:return"[object Promise]";case Q9:return"[object Set]";case Z9:return"[object WeakMap]"}return t});var eee=X9,tee=Object.prototype.hasOwnProperty;var nee=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&tee.call(e,"index")&&(n.index=e.index,n.input=e.input),n},ree=(x7=s("64PKy")).default.Uint8Array;var oee=function(e){var t=new e.constructor(e.byteLength);return new ree(t).set(new ree(e)),t};var iee=function(e,t){var n=t?oee(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},aee=/\w*$/;var see=T8?T8.prototype:void 0,uee=see?see.valueOf:void 0;var cee=function(e,t){var n=t?oee(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var lee=function(e,t,n){var r,o,i,a=e.constructor;switch(t){case"[object ArrayBuffer]":return oee(e);case"[object Boolean]":case"[object Date]":return new a(+e);case"[object DataView]":return iee(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return cee(e,n);case"[object Map]":case"[object Set]":return new a;case"[object Number]":case"[object String]":return new a(e);case"[object RegExp]":return(i=new(o=e).constructor(o.source,aee.exec(o))).lastIndex=o.lastIndex,i;case"[object Symbol]":return r=e,uee?Object(uee.call(r)):{}}},dee=Object.create,fee=function(){function e(){}return function(t){if(!s7(t))return{};if(dee)return dee(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),hee=fee;var pee=function(e){return"function"!=typeof e.constructor||m9(e)?{}:hee(F8(e))};i9=s("6xYci");var vee=function(e){return B8(e)&&"[object Map]"==eee(e)},gee=(yee=s("jdlov")).default&&yee.default.isMap,mee=gee?d9(gee):vee;var yee,bee=function(e){return B8(e)&&"[object Set]"==eee(e)},wee=(yee=s("jdlov")).default&&yee.default.isSet,See=wee?d9(wee):bee,xee={};xee["[object Arguments]"]=xee["[object Array]"]=xee["[object ArrayBuffer]"]=xee["[object DataView]"]=xee["[object Boolean]"]=xee["[object Date]"]=xee["[object Float32Array]"]=xee["[object Float64Array]"]=xee["[object Int8Array]"]=xee["[object Int16Array]"]=xee["[object Int32Array]"]=xee["[object Map]"]=xee["[object Number]"]=xee["[object Object]"]=xee["[object RegExp]"]=xee["[object Set]"]=xee["[object String]"]=xee["[object Symbol]"]=xee["[object Uint8Array]"]=xee["[object Uint8ClampedArray]"]=xee["[object Uint16Array]"]=xee["[object Uint32Array]"]=!0,xee["[object Error]"]=xee["[object Function]"]=xee["[object WeakMap]"]=!1;var _ee=function e(t,n,r,o,i,a){var s,u=1&n,c=2&n,l=4&n;if(r&&(s=i?r(t,o,i,a):r(t)),void 0!==s)return s;if(!s7(t))return t;var d=o9(t);if(d){if(s=nee(t),!u)return N9(t,s)}else{var f=eee(t),h="[object Function]"==f||"[object GeneratorFunction]"==f;if((0,i9.default)(t))return(0,I9.default)(t,u);if("[object Object]"==f||"[object Arguments]"==f||h&&!i){if(s=c||h?{}:pee(t),!u)return c?B9(t,T9(s,t)):U9(t,_9(s,t))}else{if(!xee[f])return i?t:{};s=lee(t,f,u)}}a||(a=new K7);var p=a.get(t);if(p)return p;a.set(t,s),See(t)?t.forEach((function(o){s.add(e(o,n,r,o,t,a))})):mee(t)&&t.forEach((function(o,i){s.set(i,e(o,n,r,i,t,a))}));var v=d?void 0:(l?c?q9:V9:c?A9:x9)(t);return H7(v||t,(function(o,i){v&&(o=t[i=o]),J7(s,i,e(o,n,r,i,t,a))})),s};var Eee=function(e){return _ee(e,4)};var Cee=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o};var kee=function(e){return"symbol"==typeof e||B8(e)&&"[object Symbol]"==L8(e)};function Aee(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Aee.Cache||z7),n}Aee.Cache=z7;var Tee,Iee,Nee,Oee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pee=/\\(\\)?/g,jee=(Tee=function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Oee,(function(e,n,r,o){t.push(r?o.replace(Pee,"$1"):n||e)})),t},Iee=Aee(Tee,(function(e){return 500===Nee.size&&Nee.clear(),e})),Nee=Iee.cache,Iee),Ree=jee;var Mee=function(e){if("string"==typeof e||kee(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t},Uee=T8?T8.prototype:void 0,Lee=Uee?Uee.toString:void 0;var Dee=function e(t){if("string"==typeof t)return t;if(o9(t))return Cee(t,e)+"";if(kee(t))return Lee?Lee.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var Fee=function(e){return null==e?"":Dee(e)};var Bee=function(e){return o9(e)?Cee(e,Mee):kee(e)?[e]:N9(Ree(Fee(e)))};var zee,Vee={};Vee=s("2VfMU");var qee={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Kee={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Hee={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Gee={};function Wee(e){return Vee.isMemo(e)?Hee:Gee[e.$$typeof]||qee}Gee[Vee.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Gee[Vee.Memo]=Hee;var $ee=Object.defineProperty,Yee=Object.getOwnPropertyNames,Jee=Object.getOwnPropertySymbols,Qee=Object.getOwnPropertyDescriptor,Zee=Object.getPrototypeOf,Xee=Object.prototype;zee=function e(t,n,r){if("string"!=typeof n){if(Xee){var o=Zee(n);o&&o!==Xee&&e(t,o,r)}var i=Yee(n);Jee&&(i=i.concat(Jee(n)));for(var a=Wee(t),s=Wee(n),u=0;u<i.length;++u){var c=i[u];if(!(Kee[c]||r&&r[c]||s&&s[c]||a&&a[c])){var l=Qee(n,c);try{$ee(t,c,l)}catch(e){}}}}return t};var ete=function(e){return _ee(e,5)};function tte(){return tte=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tte.apply(this,arguments)}function nte(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function rte(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function ote(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ite=function(e){return Array.isArray(e)&&0===e.length},ate=function(e){return"function"==typeof e},ste=function(e){return null!==e&&"object"==typeof e},ute=function(e){return String(Math.floor(Number(e)))===e},cte=function(e){return"[object String]"===Object.prototype.toString.call(e)},lte=function(e){return 0===v.Children.count(e)},dte=function(e){return ste(e)&&ate(e.then)};function fte(e,t,n,r){void 0===r&&(r=0);for(var o=Bee(t);e&&r<o.length;)e=e[o[r++]];return void 0===e?n:e}function hte(e,t,n){for(var r=Eee(e),o=r,i=0,a=Bee(t);i<a.length-1;i++){var s=a[i],u=fte(e,a.slice(0,i+1));if(u&&(ste(u)||Array.isArray(u)))o=o[s]=Eee(u);else{var c=a[i+1];o=o[s]=ute(c)&&Number(c)>=0?[]:{}}}return(0===i?e:o)[a[i]]===n?e:(void 0===n?delete o[a[i]]:o[a[i]]=n,0===i&&void 0===n&&delete r[a[i]],r)}function pte(e,t,n,r){void 0===n&&(n=new WeakMap),void 0===r&&(r={});for(var o=0,i=Object.keys(e);o<i.length;o++){var a=i[o],s=e[a];ste(s)?n.get(s)||(n.set(s,!0),r[a]=Array.isArray(s)?[]:{},pte(s,t,n,r[a])):r[a]=t}return r}var vte=(0,v.createContext)(void 0);vte.displayName="FormikContext";var gte=vte.Provider,mte=vte.Consumer;function yte(){var e=(0,v.useContext)(vte);return e}function bte(e,t){switch(t.type){case"SET_VALUES":return tte({},e,{values:t.payload});case"SET_TOUCHED":return tte({},e,{touched:t.payload});case"SET_ERRORS":return r(v8)(e.errors,t.payload)?e:tte({},e,{errors:t.payload});case"SET_STATUS":return tte({},e,{status:t.payload});case"SET_ISSUBMITTING":return tte({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return tte({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return tte({},e,{values:hte(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return tte({},e,{touched:hte(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return tte({},e,{errors:hte(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return tte({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return tte({},e,{touched:pte(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":case"SUBMIT_SUCCESS":return tte({},e,{isSubmitting:!1});default:return e}}var wte={},Ste={};function xte(e){var t=e.validateOnChange,n=void 0===t||t,o=e.validateOnBlur,i=void 0===o||o,a=e.validateOnMount,s=void 0!==a&&a,u=e.isInitialValid,c=e.enableReinitialize,l=void 0!==c&&c,d=e.onSubmit,f=rte(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),h=tte({validateOnChange:n,validateOnBlur:i,validateOnMount:s,onSubmit:d},f),p=(0,v.useRef)(h.initialValues),g=(0,v.useRef)(h.initialErrors||wte),m=(0,v.useRef)(h.initialTouched||Ste),y=(0,v.useRef)(h.initialStatus),b=(0,v.useRef)(!1),w=(0,v.useRef)({});(0,v.useEffect)((function(){return b.current=!0,function(){b.current=!1}}),[]);var S=(0,v.useReducer)(bte,{values:h.initialValues,errors:h.initialErrors||wte,touched:h.initialTouched||Ste,status:h.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),x=S[0],_=S[1],E=(0,v.useCallback)((function(e,t){return new Promise((function(n,r){var o=h.validate(e,t);null==o?n(wte):dte(o)?o.then((function(e){n(e||wte)}),(function(e){r(e)})):n(o)}))}),[h.validate]),C=(0,v.useCallback)((function(e,t){var n=h.validationSchema,r=ate(n)?n(t):n,o=t&&r.validateAt?r.validateAt(t,e):function(e,t,n,r){void 0===n&&(n=!1);void 0===r&&(r={});var o=Ete(e);return t[n?"validateSync":"validate"](o,{abortEarly:!1,context:r})}(e,r);return new Promise((function(e,t){o.then((function(){e(wte)}),(function(n){"ValidationError"===n.name?e(function(e){var t={};if(e.inner){if(0===e.inner.length)return hte(t,e.path,e.message);var n=e.inner,r=Array.isArray(n),o=0;for(n=r?n:n[Symbol.iterator]();;){var i;if(r){if(o>=n.length)break;i=n[o++]}else{if((o=n.next()).done)break;i=o.value}var a=i;fte(t,a.path)||(t=hte(t,a.path,a.message))}}return t}(n)):t(n)}))}))}),[h.validationSchema]),k=(0,v.useCallback)((function(e,t){return new Promise((function(n){return n(w.current[e].validate(t))}))}),[]),A=(0,v.useCallback)((function(e){var t=Object.keys(w.current).filter((function(e){return ate(w.current[e].validate)})),n=t.length>0?t.map((function(t){return k(t,fte(e,t))})):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(n).then((function(e){return e.reduce((function(e,n,r){return"DO_NOT_DELETE_YOU_WILL_BE_FIRED"===n||n&&(e=hte(e,t[r],n)),e}),{})}))}),[k]),T=(0,v.useCallback)((function(e){return Promise.all([A(e),h.validationSchema?C(e):{},h.validate?E(e):{}]).then((function(e){var t=e[0],n=e[1],r=e[2];return A8.all([t,n,r],{arrayMerge:Cte})}))}),[h.validate,h.validationSchema,A,E,C]),I=Ate((function(e){return void 0===e&&(e=x.values),_({type:"SET_ISVALIDATING",payload:!0}),T(e).then((function(e){return b.current&&(_({type:"SET_ISVALIDATING",payload:!1}),_({type:"SET_ERRORS",payload:e})),e}))}));(0,v.useEffect)((function(){s&&!0===b.current&&r(v8)(p.current,h.initialValues)&&I(p.current)}),[s,I]);var N=(0,v.useCallback)((function(e){var t=e&&e.values?e.values:p.current,n=e&&e.errors?e.errors:g.current?g.current:h.initialErrors||{},r=e&&e.touched?e.touched:m.current?m.current:h.initialTouched||{},o=e&&e.status?e.status:y.current?y.current:h.initialStatus;p.current=t,g.current=n,m.current=r,y.current=o;var i=function(){_({type:"RESET_FORM",payload:{isSubmitting:!!e&&!!e.isSubmitting,errors:n,touched:r,status:o,values:t,isValidating:!!e&&!!e.isValidating,submitCount:e&&e.submitCount&&"number"==typeof e.submitCount?e.submitCount:0}})};if(h.onReset){var a=h.onReset(x.values,Y);dte(a)?a.then(i):i()}else i()}),[h.initialErrors,h.initialStatus,h.initialTouched]);(0,v.useEffect)((function(){!0!==b.current||r(v8)(p.current,h.initialValues)||(l&&(p.current=h.initialValues,N()),s&&I(p.current))}),[l,h.initialValues,N,s,I]),(0,v.useEffect)((function(){l&&!0===b.current&&!r(v8)(g.current,h.initialErrors)&&(g.current=h.initialErrors||wte,_({type:"SET_ERRORS",payload:h.initialErrors||wte}))}),[l,h.initialErrors]),(0,v.useEffect)((function(){l&&!0===b.current&&!r(v8)(m.current,h.initialTouched)&&(m.current=h.initialTouched||Ste,_({type:"SET_TOUCHED",payload:h.initialTouched||Ste}))}),[l,h.initialTouched]),(0,v.useEffect)((function(){l&&!0===b.current&&!r(v8)(y.current,h.initialStatus)&&(y.current=h.initialStatus,_({type:"SET_STATUS",payload:h.initialStatus}))}),[l,h.initialStatus,h.initialTouched]);var O=Ate((function(e){if(w.current[e]&&ate(w.current[e].validate)){var t=fte(x.values,e),n=w.current[e].validate(t);return dte(n)?(_({type:"SET_ISVALIDATING",payload:!0}),n.then((function(e){return e})).then((function(t){_({type:"SET_FIELD_ERROR",payload:{field:e,value:t}}),_({type:"SET_ISVALIDATING",payload:!1})}))):(_({type:"SET_FIELD_ERROR",payload:{field:e,value:n}}),Promise.resolve(n))}return h.validationSchema?(_({type:"SET_ISVALIDATING",payload:!0}),C(x.values,e).then((function(e){return e})).then((function(t){_({type:"SET_FIELD_ERROR",payload:{field:e,value:t[e]}}),_({type:"SET_ISVALIDATING",payload:!1})}))):Promise.resolve()})),P=(0,v.useCallback)((function(e,t){var n=t.validate;w.current[e]={validate:n}}),[]),j=(0,v.useCallback)((function(e){delete w.current[e]}),[]),R=Ate((function(e,t){return _({type:"SET_TOUCHED",payload:e}),(void 0===t?i:t)?I(x.values):Promise.resolve()})),M=(0,v.useCallback)((function(e){_({type:"SET_ERRORS",payload:e})}),[]),U=Ate((function(e,t){var r=ate(e)?e(x.values):e;return _({type:"SET_VALUES",payload:r}),(void 0===t?n:t)?I(r):Promise.resolve()})),L=(0,v.useCallback)((function(e,t){_({type:"SET_FIELD_ERROR",payload:{field:e,value:t}})}),[]),D=Ate((function(e,t,r){return _({type:"SET_FIELD_VALUE",payload:{field:e,value:t}}),(void 0===r?n:r)?I(hte(x.values,e,t)):Promise.resolve()})),F=(0,v.useCallback)((function(e,t){var n,r=t,o=e;if(!cte(e)){e.persist&&e.persist();var i=e.target?e.target:e.currentTarget,a=i.type,s=i.name,u=i.id,c=i.value,l=i.checked,d=(i.outerHTML,i.options),f=i.multiple;r=t||(s||u),o=/number|range/.test(a)?(n=parseFloat(c),isNaN(n)?"":n):/checkbox/.test(a)?function(e,t,n){if("boolean"==typeof e)return Boolean(t);var r=[],o=!1,i=-1;if(Array.isArray(e))r=e,o=(i=e.indexOf(n))>=0;else if(!n||"true"==n||"false"==n)return Boolean(t);return t&&n&&!o?r.concat(n):o?r.slice(0,i).concat(r.slice(i+1)):r}(fte(x.values,r),l,c):d&&f?function(e){return Array.from(e).filter((function(e){return e.selected})).map((function(e){return e.value}))}(d):c}r&&D(r,o)}),[D,x.values]),B=Ate((function(e){if(cte(e))return function(t){return F(t,e)};F(e)})),z=Ate((function(e,t,n){return void 0===t&&(t=!0),_({type:"SET_FIELD_TOUCHED",payload:{field:e,value:t}}),(void 0===n?i:n)?I(x.values):Promise.resolve()})),V=(0,v.useCallback)((function(e,t){e.persist&&e.persist();var n=e.target,r=n.name,o=n.id;n.outerHTML;z(t||(r||o),!0)}),[z]),q=Ate((function(e){if(cte(e))return function(t){return V(t,e)};V(e)})),K=(0,v.useCallback)((function(e){ate(e)?_({type:"SET_FORMIK_STATE",payload:e}):_({type:"SET_FORMIK_STATE",payload:function(){return e}})}),[]),H=(0,v.useCallback)((function(e){_({type:"SET_STATUS",payload:e})}),[]),G=(0,v.useCallback)((function(e){_({type:"SET_ISSUBMITTING",payload:e})}),[]),W=Ate((function(){return _({type:"SUBMIT_ATTEMPT"}),I().then((function(e){var t=e instanceof Error;if(!t&&0===Object.keys(e).length){var n;try{if(void 0===(n=J()))return}catch(e){throw e}return Promise.resolve(n).then((function(e){return b.current&&_({type:"SUBMIT_SUCCESS"}),e})).catch((function(e){if(b.current)throw _({type:"SUBMIT_FAILURE"}),e}))}if(b.current&&(_({type:"SUBMIT_FAILURE"}),t))throw e}))})),$=Ate((function(e){e&&e.preventDefault&&ate(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&ate(e.stopPropagation)&&e.stopPropagation(),W().catch((function(e){console.warn("Warning: An unhandled error was caught from submitForm()",e)}))})),Y={resetForm:N,validateForm:I,validateField:O,setErrors:M,setFieldError:L,setFieldTouched:z,setFieldValue:D,setStatus:H,setSubmitting:G,setTouched:R,setValues:U,setFormikState:K,submitForm:W},J=Ate((function(){return d(x.values,Y)})),Q=Ate((function(e){e&&e.preventDefault&&ate(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&ate(e.stopPropagation)&&e.stopPropagation(),N()})),Z=(0,v.useCallback)((function(e){return{value:fte(x.values,e),error:fte(x.errors,e),touched:!!fte(x.touched,e),initialValue:fte(p.current,e),initialTouched:!!fte(m.current,e),initialError:fte(g.current,e)}}),[x.errors,x.touched,x.values]),X=(0,v.useCallback)((function(e){return{setValue:function(t,n){return D(e,t,n)},setTouched:function(t,n){return z(e,t,n)},setError:function(t){return L(e,t)}}}),[D,z,L]),ee=(0,v.useCallback)((function(e){var t=ste(e),n=t?e.name:e,r=fte(x.values,n),o={name:n,value:r,onChange:B,onBlur:q};if(t){var i=e.type,a=e.value,s=e.as,u=e.multiple;"checkbox"===i?void 0===a?o.checked=!!r:(o.checked=!(!Array.isArray(r)||!~r.indexOf(a)),o.value=a):"radio"===i?(o.checked=r===a,o.value=a):"select"===s&&u&&(o.value=o.value||[],o.multiple=!0)}return o}),[q,B,x.values]),te=(0,v.useMemo)((function(){return!r(v8)(p.current,x.values)}),[p.current,x.values]),ne=(0,v.useMemo)((function(){return void 0!==u?te?x.errors&&0===Object.keys(x.errors).length:!1!==u&&ate(u)?u(h):u:x.errors&&0===Object.keys(x.errors).length}),[u,te,x.errors,h]);return tte({},x,{initialValues:p.current,initialErrors:g.current,initialTouched:m.current,initialStatus:y.current,handleBlur:q,handleChange:B,handleReset:Q,handleSubmit:$,resetForm:N,setErrors:M,setFormikState:K,setFieldTouched:z,setFieldValue:D,setFieldError:L,setStatus:H,setSubmitting:G,setTouched:R,setValues:U,submitForm:W,validateForm:I,validateField:O,isValid:ne,dirty:te,unregisterField:j,registerField:P,getFieldProps:ee,getFieldMeta:Z,getFieldHelpers:X,validateOnBlur:i,validateOnChange:n,validateOnMount:s})}function _te(e){var t=xte(e),n=e.component,r=e.children,o=e.render,i=e.innerRef;return(0,v.useImperativeHandle)(i,(function(){return t})),(0,v.createElement)(gte,{value:t},n?(0,v.createElement)(n,t):o?o(t):r?ate(r)?r(t):lte(r)?null:v.Children.only(r):null)}function Ete(e){var t=Array.isArray(e)?[]:{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=String(n);!0===Array.isArray(e[r])?t[r]=e[r].map((function(e){return!0===Array.isArray(e)||G8(e)?Ete(e):""!==e?e:void 0})):G8(e[r])?t[r]=Ete(e[r]):t[r]=""!==e[r]?e[r]:void 0}return t}function Cte(e,t,n){var r=e.slice();return t.forEach((function(t,o){if(void 0===r[o]){var i=!1!==n.clone&&n.isMergeableObject(t);r[o]=i?A8(Array.isArray(t)?[]:{},t,n):t}else n.isMergeableObject(t)?r[o]=A8(e[o],t,n):-1===e.indexOf(t)&&r.push(t)})),r}var kte="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?v.useLayoutEffect:v.useEffect;function Ate(e){var t=(0,v.useRef)(e);return kte((function(){t.current=e})),(0,v.useCallback)((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.current.apply(void 0,n)}),[])}var Tte=(0,v.forwardRef)((function(e,t){var n=e.action,r=rte(e,["action"]),o=null!=n?n:"#",i=yte(),a=i.handleReset,s=i.handleSubmit;return(0,v.createElement)("form",Object.assign({onSubmit:s,ref:t,onReset:a,action:o},r))}));function Ite(e){var t=function(t){return(0,v.createElement)(mte,null,(function(n){return(0,v.createElement)(e,Object.assign({},t,{formik:n}))}))},n=e.displayName||e.name||e.constructor&&e.constructor.name||"Component";return t.WrappedComponent=e,t.displayName="FormikConnect("+n+")",r(zee)(t,e)}Tte.displayName="Form";var Nte=function(e,t,n){var r=Ote(e);return r.splice(t,0,n),r},Ote=function(e){if(e){if(Array.isArray(e))return[].concat(e);var t=Object.keys(e).map((function(e){return parseInt(e)})).reduce((function(e,t){return t>e?t:e}),0);return Array.from(tte({},e,{length:t+1}))}return[]},Pte=function(e){function t(t){var n;return(n=e.call(this,t)||this).updateArrayField=function(e,t,r){var o=n.props,i=o.name;(0,o.formik.setFormikState)((function(n){var o="function"==typeof r?r:e,a="function"==typeof t?t:e,s=hte(n.values,i,e(fte(n.values,i))),u=r?o(fte(n.errors,i)):void 0,c=t?a(fte(n.touched,i)):void 0;return ite(u)&&(u=void 0),ite(c)&&(c=void 0),tte({},n,{values:s,errors:r?hte(n.errors,i,u):n.errors,touched:t?hte(n.touched,i,c):n.touched})}))},n.push=function(e){return n.updateArrayField((function(t){return[].concat(Ote(t),[ete(e)])}),!1,!1)},n.handlePush=function(e){return function(){return n.push(e)}},n.swap=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=Ote(e),o=r[t];return r[t]=r[n],r[n]=o,r}(n,e,t)}),!0,!0)},n.handleSwap=function(e,t){return function(){return n.swap(e,t)}},n.move=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=Ote(e),o=r[t];return r.splice(t,1),r.splice(n,0,o),r}(n,e,t)}),!0,!0)},n.handleMove=function(e,t){return function(){return n.move(e,t)}},n.insert=function(e,t){return n.updateArrayField((function(n){return Nte(n,e,t)}),(function(t){return Nte(t,e,null)}),(function(t){return Nte(t,e,null)}))},n.handleInsert=function(e,t){return function(){return n.insert(e,t)}},n.replace=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=Ote(e);return r[t]=n,r}(n,e,t)}),!1,!1)},n.handleReplace=function(e,t){return function(){return n.replace(e,t)}},n.unshift=function(e){var t=-1;return n.updateArrayField((function(n){var r=n?[e].concat(n):[e];return t<0&&(t=r.length),r}),(function(e){var n=e?[null].concat(e):[null];return t<0&&(t=n.length),n}),(function(e){var n=e?[null].concat(e):[null];return t<0&&(t=n.length),n})),t},n.handleUnshift=function(e){return function(){return n.unshift(e)}},n.handleRemove=function(e){return function(){return n.remove(e)}},n.handlePop=function(){return function(){return n.pop()}},n.remove=n.remove.bind(ote(n)),n.pop=n.pop.bind(ote(n)),n}nte(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){this.props.validateOnChange&&this.props.formik.validateOnChange&&!r(v8)(fte(e.formik.values,e.name),fte(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},n.remove=function(e){var t;return this.updateArrayField((function(n){var r=n?Ote(n):[];return t||(t=r[e]),ate(r.splice)&&r.splice(e,1),r}),!0,!0),t},n.pop=function(){var e;return this.updateArrayField((function(t){var n=t;return e||(e=n&&n.pop&&n.pop()),n}),!0,!0),e},n.render=function(){var e={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},t=this.props,n=t.component,r=t.render,o=t.children,i=t.name,a=tte({},e,{form:rte(t.formik,["validate","validationSchema"]),name:i});return n?(0,v.createElement)(n,a):r?r(a):o?"function"==typeof o?o(a):lte(o)?null:v.Children.only(o):null},t}(v.Component);Pte.defaultProps={validateOnChange:!0};v.Component,v.Component;var jte={};!function(e,t){function n(e,t){return e(t={exports:{}},t.exports),t.exports}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";function o(){}function i(){}i.resetWarningCache=o;var a=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n},s=n((function(e){e.exports=a()}));function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){return h(e)||p(e,t)||v(e,t)||m()}function h(e){if(Array.isArray(e))return e}function p(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}function v(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var y=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),n.current},b=function(e){return null!==e&&"object"===l(e)},w=function(e){return b(e)&&"function"==typeof e.then},S=function(e){return b(e)&&"function"==typeof e.elements&&"function"==typeof e.createToken&&"function"==typeof e.createPaymentMethod&&"function"==typeof e.confirmCardPayment},x="[object Object]",_=function e(t,n){if(!b(t)||!b(n))return t===n;var r=Array.isArray(t);if(r!==Array.isArray(n))return!1;var o=Object.prototype.toString.call(t)===x;if(o!==(Object.prototype.toString.call(n)===x))return!1;if(!o&&!r)return t===n;var i=Object.keys(t),a=Object.keys(n);if(i.length!==a.length)return!1;for(var s={},u=0;u<i.length;u+=1)s[i[u]]=!0;for(var c=0;c<a.length;c+=1)s[a[c]]=!0;var l=Object.keys(s);if(l.length!==i.length)return!1;var d=t,f=n,h=function(t){return e(d[t],f[t])};return l.every(h)},E=function(e,t,n){return b(e)?Object.keys(e).reduce((function(r,o){var i=!b(t)||!_(e[o],t[o]);return n.includes(o)?(i&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),r):i?c(c({},r||{}),{},d({},o,e[o])):r}),null):null},C="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",k=function(e){if(null===e||S(e))return e;throw new Error(C)},A=function(e){if(w(e))return{tag:"async",stripePromise:Promise.resolve(e).then(k)};var t=k(e);return null===t?{tag:"empty"}:{tag:"sync",stripe:t}},T=t.createContext(null);T.displayName="ElementsContext";var I=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},N=function(e){var n=e.stripe,r=e.options,o=e.children,i=t.useMemo((function(){return A(n)}),[n]),a=f(t.useState((function(){return{stripe:"sync"===i.tag?i.stripe:null,elements:"sync"===i.tag?i.stripe.elements(r):null}})),2),s=a[0],u=a[1];t.useEffect((function(){var e=!0,t=function(e){u((function(t){return t.stripe?t:{stripe:e,elements:e.elements(r)}}))};return"async"!==i.tag||s.stripe?"sync"!==i.tag||s.stripe||t(i.stripe):i.stripePromise.then((function(n){n&&e&&t(n)})),function(){e=!1}}),[i,s,r]);var c=y(n);t.useEffect((function(){null!==c&&c!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")}),[c,n]);var l=y(r);return t.useEffect((function(){if(s.elements){var e=E(r,l,["clientSecret","fonts"]);e&&s.elements.update(e)}}),[r,l,s.elements]),t.useEffect((function(){var e=s.stripe;e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"1.9.0"}),e.registerAppInfo({name:"react-stripe-js",version:"1.9.0",url:"https://stripe.com/docs/stripe-js/react"}))}),[s.stripe]),t.createElement(T.Provider,{value:s},o)};N.propTypes={stripe:s.any,options:s.object};var O=function(e){var n=t.useContext(T);return I(n,e)},P=function(){return O("calls useElements()").elements},j=function(){return O("calls useStripe()").stripe},R=function(e){return(0,e.children)(O("mounts <ElementsConsumer>"))};R.propTypes={children:s.func.isRequired};var M=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),function(){n.current&&n.current.apply(n,arguments)}},U=function(){},L=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},D=function(e,n){var r="".concat(L(e),"Element"),o=n?function(e){O("mounts <".concat(r,">"));var n=e.id,o=e.className;return t.createElement("div",{id:n,className:o})}:function(n){var o=n.id,i=n.className,a=n.options,s=void 0===a?{}:a,u=n.onBlur,c=void 0===u?U:u,l=n.onFocus,d=void 0===l?U:l,f=n.onReady,h=void 0===f?U:f,p=n.onChange,v=void 0===p?U:p,g=n.onEscape,m=void 0===g?U:g,b=n.onClick,w=void 0===b?U:b,S=n.onLoadError,x=void 0===S?U:S,_=O("mounts <".concat(r,">")).elements,C=t.useRef(null),k=t.useRef(null),A=M(h),T=M(c),I=M(d),N=M(w),P=M(v),j=M(m),R=M(x);t.useLayoutEffect((function(){if(null==C.current&&_&&null!=k.current){var t=_.create(e,s);C.current=t,t.mount(k.current),t.on("ready",(function(){return A(t)})),t.on("change",P),t.on("blur",T),t.on("focus",I),t.on("escape",j),t.on("loaderror",R),t.on("click",N)}}));var L=y(s);return t.useEffect((function(){if(C.current){var e=E(s,L,["paymentRequest"]);e&&C.current.update(e)}}),[s,L]),t.useLayoutEffect((function(){return function(){C.current&&(C.current.destroy(),C.current=null)}}),[]),t.createElement("div",{id:o,className:i,ref:k})};return o.propTypes={id:s.string,className:s.string,onChange:s.func,onBlur:s.func,onFocus:s.func,onReady:s.func,onClick:s.func,onLoadError:s.func,options:s.object},o.displayName=r,o.__elementType=e,o},F="undefined"==typeof window,B=D("auBankAccount",F),z=D("card",F),V=D("cardNumber",F),q=D("cardExpiry",F),K=D("cardCvc",F),H=D("fpxBank",F),G=D("iban",F),W=D("idealBank",F),$=D("p24Bank",F),Y=D("epsBank",F),J=D("payment",F),Q=D("paymentRequestButton",F),Z=D("linkAuthentication",F),X=D("shippingAddress",F),ee=D("affirmMessage",F),te=D("afterpayClearpayMessage",F);e.AffirmMessageElement=ee,e.AfterpayClearpayMessageElement=te,e.AuBankAccountElement=B,e.CardCvcElement=K,e.CardElement=z,e.CardExpiryElement=q,e.CardNumberElement=V,e.Elements=N,e.ElementsConsumer=R,e.EpsBankElement=Y,e.FpxBankElement=H,e.IbanElement=G,e.IdealBankElement=W,e.LinkAuthenticationElement=Z,e.P24BankElement=$,e.PaymentElement=J,e.PaymentRequestButtonElement=Q,e.ShippingAddressElement=X,e.useElements=P,e.useStripe=j,Object.defineProperty(e,"__esModule",{value:!0})}(jte,s("fYo6y"));const Rte=({name:e,formik:t,showIcon:n=!0})=>{const{touched:r,errors:o,values:i}=t,a=r[e],s=o[e];return(0,u.jsxs)(u.Fragment,{children:[a&&s&&(0,u.jsx)("p",{className:"mt-2 text-sm text-red-600 dark:text-red-500",children:s}),a&&s&&n&&(0,u.jsx)("span",{className:"absolute top-8 right-4",children:(0,u.jsx)("svg",{width:"21",height:"22",viewBox:"0 0 21 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M18.1 3.89998C14.2 -2.43187e-05 7.80001 -2.43187e-05 3.90001 3.89998C6.19888e-06 7.79998 6.19888e-06 14.2 3.90001 18.1C7.80001 22 14.1 22 18 18.1C21.9 14.2 22 7.79998 18.1 3.89998ZM13.8 15.2L11 12.4L8.20001 15.2L6.80001 13.8L9.60001 11L6.80001 8.19998L8.20001 6.79998L11 9.59998L13.8 6.79998L15.2 8.19998L12.4 11L15.2 13.8L13.8 15.2Z",fill:"#F35858"})})}),a&&!s&&n&&(0,u.jsx)("span",{className:"absolute top-8 right-3",children:(0,u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",width:"25px",height:"25px",children:[(0,u.jsx)("circle",{cx:"50",cy:"50",r:"44",fill:"#f2f2f2"}),(0,u.jsx)("path",{fill:"#f2f2f2",d:"M50,91C27.393,91,9,72.607,9,50S27.393,9,50,9s41,18.393,41,41S72.607,91,50,91z"}),(0,u.jsx)("circle",{cx:"50.026",cy:"50.026",r:"38.026",fill:"#64C093"}),(0,u.jsx)("g",{children:(0,u.jsx)("path",{fill:"#ffffff",d:"M42.017,65c-0.767,0-1.534-0.292-2.119-0.877l-10.017-10c-1.173-1.17-1.175-3.07-0.004-4.243 c1.17-1.173,3.07-1.175,4.242-0.003l7.896,7.882l23.881-23.88c1.172-1.172,3.07-1.172,4.242,0c1.172,1.171,1.172,3.071,0,4.242 l-26,26C43.552,64.707,42.784,65,42.017,65z"})})]})})]})};var Mte=({nextStep:e,previousStep:t})=>{const n=new d8,[r,o]=(0,v.useState)(""),[i,a]=(0,v.useState)(!1),s=[{name:"Alabama",abbreviation:"AL"},{name:"Alaska",abbreviation:"AK"},{name:"American Samoa",abbreviation:"AS"},{name:"Arizona",abbreviation:"AZ"},{name:"Arkansas",abbreviation:"AR"},{name:"California",abbreviation:"CA"},{name:"Colorado",abbreviation:"CO"},{name:"Connecticut",abbreviation:"CT"},{name:"Delaware",abbreviation:"DE"},{name:"District Of Columbia",abbreviation:"DC"},{name:"Federated States Of Micronesia",abbreviation:"FM"},{name:"Florida",abbreviation:"FL"},{name:"Georgia",abbreviation:"GA"},{name:"Guam",abbreviation:"GU"},{name:"Hawaii",abbreviation:"HI"},{name:"Idaho",abbreviation:"ID"},{name:"Illinois",abbreviation:"IL"},{name:"Indiana",abbreviation:"IN"},{name:"Iowa",abbreviation:"IA"},{name:"Kansas",abbreviation:"KS"},{name:"Kentucky",abbreviation:"KY"},{name:"Louisiana",abbreviation:"LA"},{name:"Maine",abbreviation:"ME"},{name:"Marshall Islands",abbreviation:"MH"},{name:"Maryland",abbreviation:"MD"},{name:"Massachusetts",abbreviation:"MA"},{name:"Michigan",abbreviation:"MI"},{name:"Minnesota",abbreviation:"MN"},{name:"Mississippi",abbreviation:"MS"},{name:"Missouri",abbreviation:"MO"},{name:"Montana",abbreviation:"MT"},{name:"Nebraska",abbreviation:"NE"},{name:"Nevada",abbreviation:"NV"},{name:"New Hampshire",abbreviation:"NH"},{name:"New Jersey",abbreviation:"NJ"},{name:"New Mexico",abbreviation:"NM"},{name:"New York",abbreviation:"NY"},{name:"North Carolina",abbreviation:"NC"},{name:"North Dakota",abbreviation:"ND"},{name:"Northern Mariana Islands",abbreviation:"MP"},{name:"Ohio",abbreviation:"OH"},{name:"Oklahoma",abbreviation:"OK"},{name:"Oregon",abbreviation:"OR"},{name:"Palau",abbreviation:"PW"},{name:"Pennsylvania",abbreviation:"PA"},{name:"Puerto Rico",abbreviation:"PR"},{name:"Rhode Island",abbreviation:"RI"},{name:"South Carolina",abbreviation:"SC"},{name:"South Dakota",abbreviation:"SD"},{name:"Tennessee",abbreviation:"TN"},{name:"Texas",abbreviation:"TX"},{name:"Utah",abbreviation:"UT"},{name:"Vermont",abbreviation:"VT"},{name:"Virgin Islands",abbreviation:"VI"},{name:"Virginia",abbreviation:"VA"},{name:"Washington",abbreviation:"WA"},{name:"West Virginia",abbreviation:"WV"},{name:"Wisconsin",abbreviation:"WI"},{name:"Wyoming",abbreviation:"WY"}],c={email:"yitehac360@weepm.com",account_id:sessionStorage.getItem("account_id")||"",token_id:"",routingNumber:"",accountHolderName:"",accountNumber:"",bankName:"",accountNickName:"",addressLine1:"",addressLine2:"",city:"",state:"",zipCode:""},l=(0,jte.useStripe)(),d=async t=>{if(a(!0),!l)return;const{routingNumber:r,accountNumber:i,accountHolderName:s}=t;try{const u={country:"US",currency:"usd",routing_number:r,account_number:i,account_holder_name:s,account_holder_type:"company"},{token:c,error:d}=await l.createToken("bank_account",u);a(!1),c&&c.id&&(t.token_id=c.id,(async t=>{a(!0);try{let r=await n.createBankAccount(t);a(!1),"StripePermissionError"===r.type||"StripeInvalidRequestError"===r.type?o(r.raw.message):(sessionStorage.setItem("source_id",r.source_id),e())}catch(e){console.log("exception",e),a(!1)}})(t)),console.log("error::",d),d&&o(d.message?d.message:"")}catch(e){console.log("exception::",e)}};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(l8,{show:i}),(0,u.jsxs)("div",{className:"bk-form-section shadow-md w-full border-[1px] flex flex-col mb-2",children:[(0,u.jsxs)("div",{className:"bk-form-header px-6 pt-6 mb-5 font-sans",children:[(0,u.jsx)("div",{className:"header font-bold mb-1",children:"Connect your bank account to fund lorem ipsum"}),(0,u.jsx)("div",{className:"header-desc text-gray-600",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit sed"})]}),(0,u.jsx)(_te,{initialValues:c,validate:e=>{o("");let t={};return e.routingNumber||(t.routingNumber="Routing Number required"),e.accountNumber||(t.accountNumber="Account Number required"),e.accountHolderName||(t.accountHolderName="Account Holder Name required"),t},onSubmit:(e,t)=>{(e=>{o(""),d(e)})(e),t.setSubmitting(!1)},children:e=>{const{handleSubmit:t,handleChange:n,touched:o,errors:i,handleBlur:a,values:c}=e,l=e=>{let t="border border-slate-200 focus:border-sky-500 focus:ring-sky-500";return o[e]&&(t=i[e]?"border border-red-500 focus:border-red-500 focus:ring-red-500":"border border-green-500 focus:border-green-500 focus:ring-green-500"),t};return(0,u.jsxs)(Tte,{className:"connect-bk-form",onSubmit:t,children:[(0,u.jsx)("div",{className:"input-section-label text-gray-400 mb-3 px-6",children:"Bank info"}),(0,u.jsxs)("div",{className:"bank-info flex flex-row justify-between mb-2 px-6",children:[(0,u.jsxs)("div",{className:"relative w-64",children:[(0,u.jsx)("label",{className:"block text-gray-500 bk-form-label",htmlFor:"routingNumber",children:"Routing Number"}),(0,u.jsx)("input",{className:`bk-form-input bk-input-placeholder placeholder:text-slate-400 block bg-white w-full border rounded-sm py-2 px-3 shadow-md focus:outline-none focus:ring-1 ${l("routingNumber")}`,placeholder:"Enter Routing Number",type:"text",name:"routingNumber",onChange:n,onBlur:a,value:c.routingNumber}),(0,u.jsx)(Rte,{name:"routingNumber",formik:e})]}),(0,u.jsxs)("div",{className:"relative w-64",children:[(0,u.jsx)("label",{className:"block text-gray-500 bk-form-label",htmlFor:"accountNumber",children:"Account Number"}),(0,u.jsx)("input",{className:`bk-form-input bk-input-placeholder placeholder:text-slate-400 block bg-white w-full border rounded-sm py-2 px-3 shadow-md focus:outline-none focus:ring-1 ${l("accountNumber")}`,placeholder:"Enter Account Number",type:"text",name:"accountNumber",onChange:n,onBlur:a,value:c.accountNumber}),(0,u.jsx)(Rte,{name:"accountNumber",formik:e})]}),(0,u.jsxs)("div",{className:"relative w-64",children:[(0,u.jsx)("label",{className:"block text-gray-500 bk-form-label",htmlFor:"accountHolderName",children:"Account Holder Name"}),(0,u.jsx)("input",{className:`bk-form-input bk-input-placeholder placeholder:text-slate-400 block bg-white w-full border rounded-sm py-2 px-3 shadow-md focus:outline-none focus:ring-1 ${l("accountHolderName")}`,placeholder:"Enter Account Holder Name",type:"text",name:"accountHolderName",onChange:n,onBlur:a,value:c.accountHolderName}),(0,u.jsx)(Rte,{name:"accountHolderName",formik:e})]})]}),(0,u.jsxs)("div",{className:"bank-info flex flex-row justify-between mb-2 px-6",children:[(0,u.jsxs)("div",{className:"relative w-64",children:[(0,u.jsx)("label",{className:"block text-gray-500 bk-form-label",htmlFor:"accountNickName",children:"Account Nick Name"}),(0,u.jsx)("input",{className:`bk-form-input bk-input-placeholder placeholder:text-slate-400 block bg-white w-full border rounded-sm py-2 px-3 shadow-md focus:outline-none focus:ring-1 ${l("accountNickName")}`,placeholder:"Enter Account Nick Name",type:"text",name:"accountNickName",onChange:n,onBlur:a,value:c.accountNickName}),(0,u.jsx)(Rte,{name:"accountNickName",formik:e})]}),(0,u.jsxs)("div",{className:"relative w-64",children:[(0,u.jsx)("label",{className:"block text-gray-500 bk-form-label",htmlFor:"bankName",children:"Bank Name"}),(0,u.jsx)("input",{className:`bk-form-input bk-input-placeholder placeholder:text-slate-400 block bg-white w-full border rounded-sm py-2 px-3 shadow-md focus:outline-none focus:ring-1 ${l("bankName")}`,placeholder:"Enter Bank Name",type:"text",name:"bankName",onChange:n,onBlur:a,value:c.bankName}),(0,u.jsx)(Rte,{name:"bankName",formik:e})]}),(0,u.jsx)("div",{className:"w-64"})]}),(0,u.jsx)("div",{className:"input-section-label text-gray-400 mt-5 mb-3 px-6",children:"Bank address"}),(0,u.jsx)("div",{className:"bank-info flex flex-row mb-2 px-6",children:(0,u.jsxs)("div",{className:"relative w-full",children:[(0,u.jsx)("label",{className:"block text-gray-500 bk-form-label",htmlFor:"addressLine1",children:"Address Line 1"}),(0,u.jsx)("input",{className:`selection:bk-form-input bk-input-placeholder placeholder:text-slate-400 block bg-white w-full border rounded-sm py-2 px-3 shadow-md focus:outline-none focus:ring-1 ${l("addressLine1")}`,placeholder:"Enter Address Line 1",type:"text",name:"addressLine1",onChange:n,onBlur:a,value:c.addressLine1}),(0,u.jsx)(Rte,{name:"addressLine1",formik:e})]})}),(0,u.jsx)("div",{className:"bank-info flex flex-row mb-2 px-6",children:(0,u.jsxs)("div",{className:"relative w-full",children:[(0,u.jsx)("label",{className:"block text-gray-500 bk-form-label",htmlFor:"addressLine2",children:"Address Line 2"}),(0,u.jsx)("input",{className:`bk-form-input bk-input-placeholder placeholder:text-slate-400 block bg-white w-full border rounded-sm py-2 px-3 shadow-md focus:outline-none focus:ring-1 ${l("addressLine2")}`,placeholder:"Enter Address Line 2",type:"text",name:"addressLine2",onChange:n,onBlur:a,value:c.addressLine2}),(0,u.jsx)(Rte,{name:"addressLine2",formik:e})]})}),(0,u.jsxs)("div",{className:"bank-info flex flex-row justify-between mb-2 px-6",children:[(0,u.jsxs)("div",{className:"relative w-64",children:[(0,u.jsx)("label",{className:"block text-gray-500 bk-form-label",htmlFor:"city",children:"City"}),(0,u.jsx)("input",{className:`bk-form-input bk-input-placeholder placeholder:text-slate-400 block bg-white w-full border rounded-sm py-2 pr-3 pl-9 shadow-md focus:outline-none focus:ring-1 ${l("city")}`,placeholder:"Enter City",type:"text",name:"city",onChange:n,onBlur:a,value:c.city}),(0,u.jsx)(Rte,{name:"city",formik:e})]}),(0,u.jsxs)("div",{className:"relative w-64",children:[(0,u.jsx)("label",{className:"block text-gray-500 bk-form-label",htmlFor:"state",children:"State"}),(0,u.jsxs)("select",{className:`bk-form-input block bg-white w-full border rounded-sm py-2 pr-3 pl-9 shadow-md focus:outline-none focus:ring-1 ${l("state")}`,name:"state",onChange:n,onBlur:a,value:c.state,children:[(0,u.jsx)("option",{value:"",children:"Enter or choose"}),s.map((e=>(0,u.jsx)("option",{value:e.abbreviation,children:e.name},e.abbreviation)))]}),(0,u.jsx)(Rte,{name:"state",formik:e,showIcon:!1})]}),(0,u.jsxs)("div",{className:"relative w-64",children:[(0,u.jsx)("label",{className:"block text-gray-500 bk-form-label",htmlFor:"zipCode",children:"Zip Code"}),(0,u.jsx)("input",{className:`bk-form-input bk-input-placeholder placeholder:text-slate-400 block bg-white w-full border rounded-sm py-2 px-3 shadow-md focus:outline-none focus:ring-1 ${l("zipCode")}`,placeholder:"Enter Zip Code",type:"text",name:"zipCode",onChange:n,onBlur:a,value:c.zipCode}),(0,u.jsx)(Rte,{name:"zipCode",formik:e})]})]}),(0,u.jsxs)("div",{className:"btn-bottom-section border-t-[1px] border-gray-200 py-4 flex justify-between items-center mt-10 pr-6",children:[(0,u.jsx)("div",{className:"text-sm font-bold ml-4 h-auto w-full mr-9",children:r&&(0,u.jsx)("p",{children:r})}),(0,u.jsx)("button",{type:"submit",className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-2 rounded w-32 disabled:bg-gray-400",children:"Next"})]})]})}})]})]})};v=s("fYo6y");const Ute=({name:e,formik:t})=>{const{touched:n,errors:r,values:o}=t,i=n[e],a=r[e];return(0,u.jsxs)(u.Fragment,{children:[i&&a&&(0,u.jsx)("p",{className:"mt-2 text-sm text-red-600 dark:text-red-500",children:a}),i&&a&&(0,u.jsx)("span",{className:"absolute top-8 right-4",children:(0,u.jsx)("svg",{width:"21",height:"22",viewBox:"0 0 21 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M18.1 3.89998C14.2 -2.43187e-05 7.80001 -2.43187e-05 3.90001 3.89998C6.19888e-06 7.79998 6.19888e-06 14.2 3.90001 18.1C7.80001 22 14.1 22 18 18.1C21.9 14.2 22 7.79998 18.1 3.89998ZM13.8 15.2L11 12.4L8.20001 15.2L6.80001 13.8L9.60001 11L6.80001 8.19998L8.20001 6.79998L11 9.59998L13.8 6.79998L15.2 8.19998L12.4 11L15.2 13.8L13.8 15.2Z",fill:"#F35858"})})}),i&&!a&&(0,u.jsx)("span",{className:"absolute top-8 right-3",children:(0,u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",width:"25px",height:"25px",children:[(0,u.jsx)("circle",{cx:"50",cy:"50",r:"44",fill:"#f2f2f2"}),(0,u.jsx)("path",{fill:"#f2f2f2",d:"M50,91C27.393,91,9,72.607,9,50S27.393,9,50,9s41,18.393,41,41S72.607,91,50,91z"}),(0,u.jsx)("circle",{cx:"50.026",cy:"50.026",r:"38.026",fill:"#64C093"}),(0,u.jsx)("g",{children:(0,u.jsx)("path",{fill:"#ffffff",d:"M42.017,65c-0.767,0-1.534-0.292-2.119-0.877l-10.017-10c-1.173-1.17-1.175-3.07-0.004-4.243 c1.17-1.173,3.07-1.175,4.242-0.003l7.896,7.882l23.881-23.88c1.172-1.172,3.07-1.172,4.242,0c1.172,1.171,1.172,3.071,0,4.242 l-26,26C43.552,64.707,42.784,65,42.017,65z"})})]})})]})};var Lte=({nextStep:e,previousStep:t})=>{const n=new d8,[r,o]=(0,v.useState)(""),[i,a]=(0,v.useState)(""),[s,c]=(0,v.useState)(!1),l={account_id:sessionStorage.getItem("account_id")||"",source_id:sessionStorage.getItem("source_id")||"",firstAmount:"",secondAmount:""},d=async t=>{c(!0),o(""),a("");try{let r=await n.verifyDepositAmounts(t);c(!1),"StripePermissionError"===r.type?o(r.raw.message):"StripeInvalidRequestError"===r.type?(a(r.raw.message),o(r.raw.message)):e()}catch(e){console.log("exception",e),c(!1)}};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(l8,{show:s}),(0,u.jsxs)("div",{className:"bk-form-section shadow-md w-full border-[1px] flex flex-col mb-2",children:[(0,u.jsxs)("div",{className:"bk-form-header px-6 pt-6 mb-5 font-sans",children:[(0,u.jsx)("div",{className:"header font-bold mb-1",children:"Please enter the amount that was deducted from your account for verification"}),(0,u.jsx)("div",{className:"header-desc text-gray-600",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit sed"})]}),(0,u.jsx)(_te,{initialValues:l,validate:e=>{o(""),a("");let t={};return e.firstAmount||(t.firstAmount="First Amount must be greater zero"),e.secondAmount||(t.secondAmount="Second Amount must be greater than zero"),t},onSubmit:(e,t)=>{(e=>{d(e)})(e),t.setSubmitting(!1)},children:e=>{const{handleSubmit:n,handleChange:o,touched:i,errors:a,handleBlur:s,values:c}=e,l=e=>{let t="border border-slate-200 focus:border-sky-500 focus:ring-sky-500";return i[e]&&(t=a[e]?"border border-red-500 focus:border-red-500 focus:ring-red-500":"border border-green-500 focus:border-green-500 focus:ring-green-500"),t};return(0,u.jsxs)(Tte,{className:"connect-bk-form",onSubmit:n,children:[(0,u.jsx)("div",{className:"bank-info flex flex-row mb-2 px-6",children:(0,u.jsxs)("div",{className:"w-full relative",children:[(0,u.jsx)("label",{className:"block text-gray-500 bk-form-label",htmlFor:"firstAmount",children:"First amount"}),(0,u.jsx)("span",{className:"absolute top-8 left-4",children:"$"}),(0,u.jsx)("input",{className:`bk-form-input dp-input-placeholder placeholder:text-slate-400 block bg-white w-full border rounded-sm py-2 pr-3 pl-9 shadow-md focus:outline-none focus:ring-1 ${l("firstAmount")}`,placeholder:"Enter First amount",type:"number",name:"firstAmount",onChange:o,onBlur:s,value:c.firstAmount}),(0,u.jsx)(Ute,{name:"firstAmount",formik:e})]})}),(0,u.jsx)("div",{className:"bank-info flex flex-row mb-2 px-6",children:(0,u.jsxs)("div",{className:"w-full relative",children:[(0,u.jsx)("label",{className:"block text-gray-500 bk-form-label",htmlFor:"secondAmount",children:"Second amount"}),(0,u.jsx)("span",{className:"absolute top-8 left-4",children:"$"}),(0,u.jsx)("input",{className:`bk-form-input dp-input-placeholder placeholder:text-slate-400 block bg-white w-full border rounded-sm py-2 pr-3 pl-9 shadow-md focus:outline-none focus:ring-1 ${l("secondAmount")}`,placeholder:"Enter Second amount",type:"number",name:"secondAmount",onChange:o,onBlur:s,value:c.secondAmount}),(0,u.jsx)(Ute,{name:"secondAmount",formik:e})]})}),(0,u.jsxs)("div",{className:"btn-bottom-section border-t-[1px] border-gray-200 py-4 flex justify-between items-center mt-10 pr-6",children:[(0,u.jsx)("a",{className:"mx-9 cursor-pointer hover:font-bold",onClick:()=>{t()},children:"Back"}),(0,u.jsx)("div",{className:"text-sm font-bold ml-4 h-auto w-72",children:r&&r.length>0&&(0,u.jsx)("p",{children:r})}),(0,u.jsx)("button",{type:"submit",className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-2 rounded w-32",children:"Verify"})]})]})}})]})]})};v=s("fYo6y");const Dte=({name:e,formik:t})=>{const{touched:n,errors:r,values:o}=t,i=n[e],a=r[e];return(0,u.jsxs)(u.Fragment,{children:[i&&a&&(0,u.jsx)("p",{className:"mt-2 text-sm text-red-600 dark:text-red-500",children:a}),i&&a&&(0,u.jsx)("span",{className:"absolute top-8 right-4",children:(0,u.jsx)("svg",{width:"21",height:"22",viewBox:"0 0 21 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M18.1 3.89998C14.2 -2.43187e-05 7.80001 -2.43187e-05 3.90001 3.89998C6.19888e-06 7.79998 6.19888e-06 14.2 3.90001 18.1C7.80001 22 14.1 22 18 18.1C21.9 14.2 22 7.79998 18.1 3.89998ZM13.8 15.2L11 12.4L8.20001 15.2L6.80001 13.8L9.60001 11L6.80001 8.19998L8.20001 6.79998L11 9.59998L13.8 6.79998L15.2 8.19998L12.4 11L15.2 13.8L13.8 15.2Z",fill:"#F35858"})})}),i&&!a&&(0,u.jsx)("span",{className:"absolute top-8 right-3",children:(0,u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",width:"25px",height:"25px",children:[(0,u.jsx)("circle",{cx:"50",cy:"50",r:"44",fill:"#f2f2f2"}),(0,u.jsx)("path",{fill:"#f2f2f2",d:"M50,91C27.393,91,9,72.607,9,50S27.393,9,50,9s41,18.393,41,41S72.607,91,50,91z"}),(0,u.jsx)("circle",{cx:"50.026",cy:"50.026",r:"38.026",fill:"#64C093"}),(0,u.jsx)("g",{children:(0,u.jsx)("path",{fill:"#ffffff",d:"M42.017,65c-0.767,0-1.534-0.292-2.119-0.877l-10.017-10c-1.173-1.17-1.175-3.07-0.004-4.243 c1.17-1.173,3.07-1.175,4.242-0.003l7.896,7.882l23.881-23.88c1.172-1.172,3.07-1.172,4.242,0c1.172,1.171,1.172,3.071,0,4.242 l-26,26C43.552,64.707,42.784,65,42.017,65z"})})]})})]})};var Fte=({nextStep:e,previousStep:t})=>{const n=new d8;let r=pK();const[o,i]=(0,v.useState)(!1),[a,s]=(0,v.useState)(""),c={account_id:sessionStorage.getItem("account_id")||"",source_id:sessionStorage.getItem("source_id")||"",amount:"",memo:""},l=async e=>{i(!0),s("");try{let t=await n.addFunds(e);i(!1),"StripePermissionError"===t.type||"StripeInvalidRequestError"===t.type?s(t.raw.message):r("/card-list")}catch(e){console.log("exception",e),i(!1)}};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(l8,{show:o}),(0,u.jsxs)("div",{className:"bk-form-section shadow-md w-full border-[1px] flex flex-col mb-2",children:[(0,u.jsxs)("div",{className:"bk-form-header px-6 pt-6 mb-5 font-sans",children:[(0,u.jsx)("div",{className:"header font-bold mb-1",children:"Add fund to your FlareFS account"}),(0,u.jsx)("div",{className:"header-desc text-gray-600",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit sed"})]}),(0,u.jsx)(_te,{initialValues:c,validate:e=>{s("");let t={};return e.amount||(t.amount="Amount must be greater than zero"),t},onSubmit:(e,t)=>{(e=>{l(e)})(e),t.setSubmitting(!1)},children:e=>{const{handleSubmit:n,handleChange:r,touched:o,errors:i,handleBlur:s,values:c}=e,l=e=>{let t="border border-slate-200 focus:border-sky-500 focus:ring-sky-500";return o[e]&&(t=i[e]?"border border-red-500 focus:border-red-500 focus:ring-red-500":"border border-green-500 focus:border-green-500 focus:ring-green-500"),t};return(0,u.jsxs)(Tte,{className:"connect-bk-form",onSubmit:n,children:[(0,u.jsx)("div",{className:"bank-info flex flex-row mb-2 px-6",children:(0,u.jsxs)("div",{className:"w-full relative",children:[(0,u.jsx)("label",{className:"block text-gray-500 bk-form-label",htmlFor:"amount",children:"Amount"}),(0,u.jsx)("span",{className:"absolute top-8 left-4",children:"$"}),(0,u.jsx)("input",{className:`marker:bk-form-input bk-input-placeholder placeholder:text-slate-400 block bg-white w-full rounded-sm py-2 px-3 pl-9 shadow-md focus:outline-none focus:ring-1 ${l("amount")}`,placeholder:"Enter amount here",type:"number",name:"amount",onChange:r,onBlur:s,value:c.amount}),(0,u.jsx)(Dte,{name:"amount",formik:e})]})}),(0,u.jsx)("div",{className:"bank-info flex flex-row mb-2 px-6",children:(0,u.jsxs)("div",{className:"w-full relative",children:[(0,u.jsx)("label",{className:"block text-gray-500 bk-form-label",htmlFor:"memo",children:"Memo"}),(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)("input",{className:`bk-form-input bk-input-placeholder placeholder:text-slate-400 block bg-white w-full border rounded-sm py-2 px-3 pl-9 shadow-md focus:outline-none focus:ring-1 ${l("memo")}`,placeholder:"Enter Memo Line For Fund Transfer",type:"text",name:"memo",onChange:r,onBlur:s,value:c.memo}),(0,u.jsx)(Dte,{name:"memo",formik:e})]})]})}),(0,u.jsxs)("div",{className:"btn-bottom-section border-t-[1px] border-gray-200 py-4 flex justify-between mt-10 pr-6 items-center",children:[(0,u.jsx)("a",{className:"mx-9 cursor-pointer hover:font-bold",onClick:()=>{t()},children:"Back"}),(0,u.jsx)("div",{className:"text-sm font-bold ml-4 h-auto w-72",children:a&&a.length>0&&(0,u.jsx)("p",{children:a})}),(0,u.jsx)("button",{type:"submit",className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-2 rounded w-32",children:"Finish"})]})]})}})]})]})};var Bte,zte=()=>{sessionStorage.setItem("account_id","acct_1LKdCqR1aSxGwRcl");const[e,t]=(0,v.useState)(0),n=()=>{t(e+1)},r=()=>{t(e-1)},o=t=>t<=e?"bg-green-500":"bg-gray-500",i=t=>t<e?"text-green-500":"text-black-500";return(0,u.jsxs)("div",{className:"card-section font-sans",children:[(0,u.jsx)(p8,{}),(0,u.jsxs)("main",{className:"main-content flex flex-col mx-[205px]",children:[(0,u.jsx)("div",{className:"screen-title pt-[28px] pb-[32px]",children:"Cards"}),(0,u.jsx)("div",{className:"flex flex-row breadscrumb mb-3",children:(0,u.jsxs)("ul",{className:"list-none flex flex-row flex-nowrap justify-start",children:[(0,u.jsxs)("li",{className:"mr-4",children:[(0,u.jsx)("span",{className:`w-6 h-6 inline-block text-white rounded-full circel-txt text-center justify-center mr-1 ${o(0)}`,children:"1"}),(0,u.jsx)("a",{className:`mr-4 hover:cursor-pointer hover:font-bold ${i(0)}`,onClick:()=>{t(0)},children:"Connect your Bank Account"}),(0,u.jsx)("span",{className:"w-10 h-0 border rounded-[1px] m-[2px] inline-block border-gray-500"})]}),(0,u.jsxs)("li",{className:"mr-4",children:[(0,u.jsx)("span",{className:`w-6 h-6 inline-block text-white rounded-full circel-txt text-center justify-center mr-1 ${o(1)}`,children:"2"}),(0,u.jsx)("a",{className:`mr-4 cursor-pointer hover:font-bold ${i(1)}`,onClick:()=>{t(1)},children:"Verify Deposit Amounts"}),(0,u.jsx)("span",{className:"w-10 h-0 border rounded-[1px] m-[2px] inline-block border-gray-500"})]}),(0,u.jsxs)("li",{children:[(0,u.jsx)("span",{className:`w-6 h-6 inline-block text-white rounded-full circel-txt text-center justify-center mr-1 ${o(2)}`,children:"3"}),(0,u.jsx)("a",{className:`cursor-pointer hover:font-bold ${i(2)}`,onClick:()=>{t(2)},children:"Add Funds"})]})]})}),(e=>{switch(e){case 0:return(0,u.jsx)(Mte,{nextStep:n,previousStep:r});case 1:return(0,u.jsx)(Lte,{nextStep:n,previousStep:r});case 2:return(0,u.jsx)(Fte,{nextStep:n,previousStep:r})}})(e)]})]})};v=s("fYo6y"),v=s("fYo6y");Bte=new URL(s("dRo73").resolve("18pOW"),import.meta.url).toString();var Vte;Vte=new URL(s("dRo73").resolve("2CYF7"),import.meta.url).toString();var qte,Kte=({setModalOn:e})=>{const t=()=>{e(!1)},[n,o]=(0,v.useState)(!1),[i,a]=(0,v.useState)("");pK();const s=({name:e,formik:t})=>{const{touched:n,errors:r,values:o}=t,i=n[e],a=r[e];return(0,u.jsxs)(u.Fragment,{children:[i&&a&&(0,u.jsx)("p",{className:"mt-2 text-sm text-red-600 dark:text-red-500",children:a}),i&&a&&(0,u.jsx)("span",{className:"absolute top-8 right-4",children:(0,u.jsx)("svg",{width:"21",height:"22",viewBox:"0 0 21 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M18.1 3.89998C14.2 -2.43187e-05 7.80001 -2.43187e-05 3.90001 3.89998C6.19888e-06 7.79998 6.19888e-06 14.2 3.90001 18.1C7.80001 22 14.1 22 18 18.1C21.9 14.2 22 7.79998 18.1 3.89998ZM13.8 15.2L11 12.4L8.20001 15.2L6.80001 13.8L9.60001 11L6.80001 8.19998L8.20001 6.79998L11 9.59998L13.8 6.79998L15.2 8.19998L12.4 11L15.2 13.8L13.8 15.2Z",fill:"#F35858"})})}),i&&!a&&(0,u.jsx)("span",{className:"absolute top-8 right-3",children:(0,u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",width:"25px",height:"25px",children:[(0,u.jsx)("circle",{cx:"50",cy:"50",r:"44",fill:"#f2f2f2"}),(0,u.jsx)("path",{fill:"#f2f2f2",d:"M50,91C27.393,91,9,72.607,9,50S27.393,9,50,9s41,18.393,41,41S72.607,91,50,91z"}),(0,u.jsx)("circle",{cx:"50.026",cy:"50.026",r:"38.026",fill:"#64C093"}),(0,u.jsx)("g",{children:(0,u.jsx)("path",{fill:"#ffffff",d:"M42.017,65c-0.767,0-1.534-0.292-2.119-0.877l-10.017-10c-1.173-1.17-1.175-3.07-0.004-4.243 c1.17-1.173,3.07-1.175,4.242-0.003l7.896,7.882l23.881-23.88c1.172-1.172,3.07-1.172,4.242,0c1.172,1.171,1.172,3.071,0,4.242 l-26,26C43.552,64.707,42.784,65,42.017,65z"})})]})})]})},c=async e=>{let t;o(!0),t="virtual"===e.type?{cardholder:"ich_1LKG1HJhE2tXq2CUHdcKIaDT",currency:"usd",type:e.type}:{cardholder:"ich_1LKG1HJhE2tXq2CUHdcKIaDT",currency:"usd",type:e.type,shipping:{name:e.name,address:{line1:e.line1,line2:e.line2,city:e.city,state:e.state,postal_code:e.postalcode,country:e.country}}};const n=await fetch("http://localhost:4242/create-card",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(o(!1),!n.ok)return a("Error:Unable to add cards"),null;const r=await n.json();a(r.raw.message)};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(l8,{show:n}),(0,u.jsx)(_te,{initialValues:{type:"virtual",cardnickname:"",spending_limits:"",frequency:"perday",name:"",line1:"",line2:"",city:"",country:"",postalcode:"",state:""},validate:e=>{let t={};if("physical"===e.type)if(e.name||(t.name="Name is required"),e.line1||(t.line1="Address Line1 is required"),e.city||(t.city="City is required"),e.country||(t.country="Country is required"),e.postalcode){new RegExp("^[0-9]*$").test(e.postalcode)||(t.postalcode="Postal Code required integer value")}else t.postalcode="Postal Code is required";return t},onSubmit:(t,n)=>{(e=>{c(e)})(t),n.setSubmitting(!1),e(!1),alert("Card Created Successfully")},children:e=>{const{handleSubmit:n,handleChange:o,touched:i,errors:a,handleBlur:c,values:l}=e,d=e=>{let t="border border-slate-200 focus:border-sky-500 focus:ring-sky-500";return i[e]&&(t=a[e]?"border border-red-500 focus:border-red-500 focus:ring-red-500":"border border-green-500 focus:border-green-500 focus:ring-green-500"),t};return(0,u.jsx)(Tte,{className:"connect-bk-form",onSubmit:n,children:(0,u.jsx)("div",{className:" bg-gray-400 fixed inset-0 bg-opacity-50 ",children:(0,u.jsx)("div",{className:"flex justify-center overflow-x-hidden overflow-y-auto px-6 py-6 lg:px-6",children:(0,u.jsx)("div",{className:"flex bg-white w-[800px] h-[550px] border-gray-300 rounded-md overflow-y-auto ",children:(0,u.jsxs)("div",{className:"relative w-full h-full max-w-auto p-4 md:h-auto overflow-y-auto",children:[(0,u.jsxs)("div",{className:"flex justify-between items-center text-lg text-gray-900 dark:text-white font-bold",children:[(0,u.jsx)("h3",{children:"Add New Card"}),(0,u.jsx)("button",{onClick:t,children:"X"})]}),(0,u.jsxs)("div",{className:"h-[143px] w-[255px] mx-auto my-auto ",style:{backgroundImage:`url(${r(Bte)})`},children:[(0,u.jsxs)("div",{className:"flex justify-between items-center",children:[(0,u.jsxs)("span",{className:"mt-5 ml-5 flex",children:[(0,u.jsx)("span",{className:"text-white text-xs font-bold z-30",children:"Flare"}),(0,u.jsx)("img",{src:r(Vte),className:"h-3 -ml-8 mt-1"})]}),(0,u.jsx)("span",{className:"text-white mt-5 mr-5 text-xs font-bold",children:"Card Name"})]}),(0,u.jsx)("div",{className:"text-white text-xs mr-12 ml-[200px] font-bold",children:"$0/$0"}),(0,u.jsx)("div",{className:"text-white ml-5 mt-7 text-sm font-bold",children:"0000 0000 0000 0000"}),(0,u.jsx)("div",{className:" flex justify-between items-center",children:(0,u.jsx)("div",{className:"text-white ml-5 text-xs",children:"XX/XX"})})]}),(0,u.jsxs)("div",{className:"justify-between mt-4",children:[(0,u.jsx)("label",{htmlFor:"cardtype",className:" mb-2 text-xs text-gray-900 dark:text-gray-300",children:"Card Type"}),(0,u.jsxs)("div",{className:"flex justify-between",children:[(0,u.jsxs)("div",{className:"flex items-center mr-[80px]",children:[(0,u.jsx)("input",{id:"physical",type:"radio",value:"physical",name:"type",className:"w-3 h-3 text-black-600 bg-gray-100 border-gray-300 dark:bg-gray-700 dark:border-gray-600",onChange:o,onBlur:c}),(0,u.jsx)("label",{htmlFor:"physicalcard",className:"ml-2 text-xs text-gray-900 dark:text-gray-300",children:"Physical Card"})]}),(0,u.jsxs)("div",{className:"flex items-center mr-[400px]",children:[(0,u.jsx)("input",{id:"virtual",type:"radio",value:"virtual",name:"type",className:"w-3 h-3 text-black-600 bg-gray-100 border-gray-300 dark:bg-gray-700 dark:border-gray-600",onChange:o,onBlur:c,defaultChecked:!0}),(0,u.jsx)("label",{htmlFor:"virtualcard",className:"ml-2 text-xs text-gray-900 dark:text-gray-300",children:"Virtual Card"})]})]})]}),"virtual"===l.type?(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"justify-between mt-4 relative",children:[(0,u.jsx)("label",{htmlFor:"cardnickname",className:"mb-2 mt-4 text-xs bold text-gray-900 dark:text-gray-300 ",children:"Card Nickname"}),(0,u.jsx)("input",{type:"cardnickname",name:"cardnickname",id:"cardnickname",placeholder:"Enter Card Nickname",className:"bk-form-input dp-input-placeholder placeholder:text-slate-400 block bg-white w-full border border-slate-200 rounded-sm py-2 pr-3 pl-9 shadow-md focus:outline-none focus:border-blue-500 focus:ring-blue-500 focus:ring-1",onChange:o,onBlur:c,value:l.cardnickname})]}),(0,u.jsxs)("div",{className:"justify-between mt-4",children:[(0,u.jsx)("label",{htmlFor:"spendinglimit",className:"mb-2 mt-4 text-xs bold text-gray-900 dark:text-gray-300 space-y-2",children:"Spending Limit"}),(0,u.jsx)("span",{className:"absolute top-[373px] left-10",children:"$"}),(0,u.jsx)("input",{type:"spendinglimit",name:"spending_limits",id:"spendinglimit",placeholder:"250",className:"bk-form-input dp-input-placeholder placeholder:text-slate-400 block bg-white w-full border border-slate-200 rounded-sm py-2 pr-3 pl-9 shadow-md focus:outline-none focus:border-blue-500 focus:ring-blue-500 focus:ring-1",onChange:o,onBlur:c,value:l.spending_limits})]}),(0,u.jsxs)("div",{className:"justify-between mt-4",children:[(0,u.jsx)("label",{htmlFor:"frequency",className:"mb-2 mt-4 text-xs bold text-gray-900 dark:text-gray-300 space-y-2",children:"Frequency"}),(0,u.jsxs)("div",{className:"flex",children:[(0,u.jsxs)("div",{className:"flex items-center mr-4",children:[(0,u.jsx)("input",{id:"perday",type:"radio",value:"daily",name:"frequency",className:"w-3 h-3 text-blue-600 bg-gray-100 border-gray-300 dark:bg-gray-700 dark:border-gray-600",onChange:o,onBlur:c,defaultChecked:!0}),(0,u.jsx)("label",{htmlFor:"perday",className:"ml-2 text-xs text-gray-900 dark:text-gray-300",children:"Per Day"})]}),(0,u.jsxs)("div",{className:"flex items-center ml-[40px]",children:[(0,u.jsx)("input",{id:"weekly",type:"radio",value:"weekly",name:"frequency",className:"w-3 h-3 text-blue-600 bg-gray-100 border-gray-300 dark:bg-gray-700 dark:border-gray-600",onChange:o,onBlur:c}),(0,u.jsx)("label",{htmlFor:"perweek",className:"ml-2 text-xs text-gray-900 dark:text-gray-300",children:"Per Week"})]}),(0,u.jsxs)("div",{className:"flex items-center ml-[60px]",children:[(0,u.jsx)("input",{id:"monthly",type:"radio",value:"monthly",name:"frequency",className:"w-3 h-3 text-blue-600 bg-gray-100 border-gray-300 dark:bg-gray-700 dark:border-gray-600",onChange:o,onBlur:c}),(0,u.jsx)("label",{htmlFor:"monthly",className:"ml-2 text-xs text-gray-900 dark:text-gray-300",children:"Monthly"})]}),(0,u.jsxs)("div",{className:"flex items-center ml-[60px]",children:[(0,u.jsx)("input",{id:"yearly",type:"radio",value:"yearly",name:"frequency",className:"w-3 h-3 text-blue-600 bg-gray-100 border-gray-300 dark:bg-gray-700 dark:border-gray-600",onChange:o,onBlur:c}),(0,u.jsx)("label",{htmlFor:"yearly",className:"ml-2 text-xs text-gray-900 dark:text-gray-300",children:"Yearly"})]}),(0,u.jsxs)("div",{className:"flex items-center ml-[60px]",children:[(0,u.jsx)("input",{id:"alltime",type:"radio",value:"alltime",name:"frequency",className:"w-3 h-3 text-blue-600 bg-gray-100 border-gray-300 dark:bg-gray-700 dark:border-gray-600",onChange:o,onBlur:c}),(0,u.jsx)("label",{htmlFor:"alltime",className:"ml-2 text-xs text-gray-900 dark:text-gray-300",children:"All Time"})]})]})]}),(0,u.jsx)("div",{className:"justify-between mt-4",children:(0,u.jsxs)("div",{className:"mb-3 xl:w-full",children:[(0,u.jsx)("label",{htmlFor:"expensetype",className:"mb-2 mt-4 text-xs text-gray-900 dark:text-gray-300 space-y-2",children:"Expense Type"}),(0,u.jsx)("select",{id:"expensetype",name:"expensetype",placeholder:"Software Subscription",className:"bk-form-input dp-input-placeholder placeholder:text-slate-400 block bg-white w-full border border-slate-200 rounded-sm py-2 pr-3 pl-9 shadow-md focus:outline-none focus:border-blue-500 focus:ring-blue-500 focus:ring-1",children:(0,u.jsx)("option",{defaultValue:"",children:"Software Subscription"})})]})})]}):null,"physical"===l.type?(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"bank-info flex flex-row justify-between mt-4",children:(0,u.jsxs)("div",{className:"relative w-full",children:[(0,u.jsx)("label",{htmlFor:"name",className:"mb-2 mt-2 text-xs bold text-gray-900 dark:text-gray-300 ",children:"Name"}),(0,u.jsx)("input",{type:"name",name:"name",id:"name",placeholder:"Enter Name",className:`bk-form-input bk-input-placeholder placeholder:text-slate-400 block bg-white w-full border border-slate-200 rounded-sm py-2 px-3 shadow-md focus:outline-none focus:border-sky-500 focus:ring-sky-500 focus:ring-1 ${d("name")}`,onChange:o,onBlur:c,value:l.name}),(0,u.jsx)(s,{name:"name",formik:e})]})}),(0,u.jsx)("div",{className:"bank-info flex flex-row justify-between mt-4",children:(0,u.jsxs)("div",{className:"relative w-full",children:[(0,u.jsx)("label",{htmlFor:"line1",className:"mb-2 mt-2 text-xs bold text-gray-900 dark:text-gray-300 ",children:"Address Line 1"}),(0,u.jsx)("input",{type:"line1",name:"line1",id:"line1",placeholder:"Enter Address Line1",className:`bk-form-input bk-input-placeholder placeholder:text-slate-400 block bg-white w-full border border-slate-200 rounded-sm py-2 px-3 shadow-md focus:outline-none focus:border-sky-500 focus:ring-sky-500 focus:ring-1 ${d("line1")}`,onChange:o,onBlur:c,value:l.line1}),(0,u.jsx)(s,{name:"line1",formik:e})]})}),(0,u.jsx)("div",{className:"bank-info flex flex-row justify-between mt-4",children:(0,u.jsxs)("div",{className:"relative w-full",children:[(0,u.jsx)("label",{htmlFor:"line2",className:"mb-2 mt-2 text-xs bold text-gray-900 dark:text-gray-300 ",children:"Address Line 2"}),(0,u.jsx)("input",{type:"line2",name:"line2",id:"line2",placeholder:"Enter Address Line 2",className:"bk-form-input bk-input-placeholder placeholder:text-slate-400 block bg-white w-full border border-slate-200 rounded-sm py-2 px-3 shadow-md focus:outline-none focus:border-sky-500 focus:ring-sky-500 focus:ring-1",onChange:o,onBlur:c,value:l.line2})]})}),(0,u.jsxs)("div",{className:"bank-info flex flex-row justify-between mt-4",children:[(0,u.jsxs)("div",{className:"relative w-1/2",children:[(0,u.jsx)("label",{className:"text-xs bold text-gray-900 dark:text-gray-300",htmlFor:"city",children:"City"}),(0,u.jsx)("input",{className:`bk-form-input bk-input-placeholder placeholder:text-slate-400 block bg-white w-full border border-slate-200 rounded-sm py-2 pr-3 pl-9 mr-0 shadow-md focus:outline-none focus:border-sky-500 focus:ring-sky-500 focus:ring-1 ${d("city")}`,type:"text",name:"city",placeholder:"Enter City",onChange:o,onBlur:c,value:l.city}),(0,u.jsx)(s,{name:"city",formik:e})]}),(0,u.jsxs)("div",{className:"relative w-1/2 ml-6",children:[(0,u.jsx)("label",{className:"text-xs bold text-gray-900 dark:text-gray-300",htmlFor:"country",children:"Country"}),(0,u.jsx)("input",{className:`bk-form-input bk-input-placeholder placeholder:text-slate-400 block bg-white w-full border border-slate-200 rounded-sm py-2 pr-3 pl-9 shadow-md focus:outline-none focus:border-sky-500 focus:ring-sky-500 focus:ring-1 ${d("country")}`,type:"text",name:"country",placeholder:"Enter Country",onChange:o,onBlur:c,value:l.country}),(0,u.jsx)(s,{name:"country",formik:e})]})]}),(0,u.jsxs)("div",{className:"bank-info flex flex-row justify-between mt-4",children:[(0,u.jsxs)("div",{className:"relative w-1/2",children:[(0,u.jsx)("label",{className:"text-xs bold text-gray-900 dark:text-gray-300",htmlFor:"postalcode",children:"Postal Code"}),(0,u.jsx)("input",{className:`bk-form-input bk-input-placeholder placeholder:text-slate-400 block bg-white w-full border border-slate-200 rounded-sm py-2 px-3 pl-9 shadow-md focus:outline-none focus:border-sky-500 focus:ring-sky-500 focus:ring-1 ${d("postalcode")}`,type:"text",name:"postalcode",placeholder:"Enter Postal Code",onChange:o,onBlur:c,value:l.postalcode}),(0,u.jsx)(s,{name:"postalcode",formik:e})]}),(0,u.jsxs)("div",{className:"relative w-1/2 ml-6",children:[(0,u.jsx)("label",{className:"text-xs bold text-gray-900 dark:text-gray-300",htmlFor:"state",children:"State"}),(0,u.jsx)("input",{className:"bk-form-input bk-input-placeholder placeholder:text-slate-400 block bg-white w-full border border-slate-200 rounded-sm py-2 pl-9 shadow-md focus:outline-none focus:border-sky-500 focus:ring-sky-500 focus:ring-1",type:"text",name:"state",placeholder:"Enter State",onChange:o,onBlur:c,value:l.state})]})]})]}):null,(0,u.jsxs)("div",{className:"flex justify-end space-x-4 mb-0 mt-6",children:[(0,u.jsx)("button",{type:"reset",onClick:t,className:"text-white bg-gray-300 hover:bg-gray-400 focus:ring-4 focus:outline-none focus:ring-gray-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-gray-600 dark:hover:bg-gray-700 dark:focus:ring-gray-800",children:"Cancel"}),(0,u.jsx)("button",{type:"submit",className:"text-white bg-red-500 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-800",children:"Add"})]})]})})})})})}})]})};qte=new URL(s("dRo73").resolve("1jTOY"),import.meta.url).toString();v=s("fYo6y");const Hte=({name:e,formik:t})=>{const{touched:n,errors:r,values:o}=t,i=n[e],a=r[e];return(0,u.jsxs)(u.Fragment,{children:[i&&a&&(0,u.jsx)("p",{className:"mt-2 text-sm text-red-600 dark:text-red-500",children:a}),i&&a&&(0,u.jsx)("span",{className:"absolute top-8 right-4",children:(0,u.jsx)("svg",{width:"21",height:"22",viewBox:"0 0 21 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M18.1 3.89998C14.2 -2.43187e-05 7.80001 -2.43187e-05 3.90001 3.89998C6.19888e-06 7.79998 6.19888e-06 14.2 3.90001 18.1C7.80001 22 14.1 22 18 18.1C21.9 14.2 22 7.79998 18.1 3.89998ZM13.8 15.2L11 12.4L8.20001 15.2L6.80001 13.8L9.60001 11L6.80001 8.19998L8.20001 6.79998L11 9.59998L13.8 6.79998L15.2 8.19998L12.4 11L15.2 13.8L13.8 15.2Z",fill:"#F35858"})})}),i&&!a&&(0,u.jsx)("span",{className:"absolute top-8 right-3",children:(0,u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",width:"25px",height:"25px",children:[(0,u.jsx)("circle",{cx:"50",cy:"50",r:"44",fill:"#f2f2f2"}),(0,u.jsx)("path",{fill:"#f2f2f2",d:"M50,91C27.393,91,9,72.607,9,50S27.393,9,50,9s41,18.393,41,41S72.607,91,50,91z"}),(0,u.jsx)("circle",{cx:"50.026",cy:"50.026",r:"38.026",fill:"#64C093"}),(0,u.jsx)("g",{children:(0,u.jsx)("path",{fill:"#ffffff",d:"M42.017,65c-0.767,0-1.534-0.292-2.119-0.877l-10.017-10c-1.173-1.17-1.175-3.07-0.004-4.243 c1.17-1.173,3.07-1.175,4.242-0.003l7.896,7.882l23.881-23.88c1.172-1.172,3.07-1.172,4.242,0c1.172,1.171,1.172,3.071,0,4.242 l-26,26C43.552,64.707,42.784,65,42.017,65z"})})]})})]})};var Gte=({isShow:e,onHide:t})=>{const n=new d8;let r=pK();const[o,i]=(0,v.useState)(!1),[a,s]=(0,v.useState)(""),c={account_id:sessionStorage.getItem("account_id")||"",source_id:"",amount:"",memo:""},[l,d]=(0,v.useState)([]);(0,v.useEffect)((()=>{e&&f()}),[e]);const f=async()=>{d([{id:"src_1LNBMbR1aSxGwRclfo8FZZdU",object:"source",ach_debit:{last4:"9991",bank_name:"STRIPE TEST BANK"},owner:{name:"Jenny Rosen"}}])},h=async e=>{i(!0),s("");try{let r=await n.addFunds(e);i(!1),"StripePermissionError"===r.type||"StripeInvalidRequestError"===r.type?s(r.raw.message):t()}catch(e){console.log("exception",e),i(!1)}};return(0,u.jsx)(u.Fragment,{children:e&&(0,u.jsx)(_te,{initialValues:c,validate:e=>{s("");let t={};return e.amount||(t.amount="Amount must be greater than zero"),e.source_id||(t.source_id="Source required"),t},onSubmit:(e,t)=>{(e=>{h(e)})(e),t.setSubmitting(!1)},children:e=>{const{handleSubmit:n,handleChange:i,touched:a,errors:s,handleBlur:c,values:d}=e,f=a.source_id,h=s.source_id,p=e=>{let t="border border-slate-200 focus:border-sky-500 focus:ring-sky-500";return a[e]&&(t=s[e]?"border border-red-500 focus:border-red-500 focus:ring-red-500":"border border-green-500 focus:border-green-500 focus:ring-green-500"),t};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(l8,{show:o}),(0,u.jsx)(Tte,{className:"connect-bk-form",onSubmit:n,children:(0,u.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full",children:(0,u.jsx)("div",{className:"flex justify-center overflow-x-hidden overflow-y-auto px-6 py-6",children:(0,u.jsx)("div",{className:"flex bg-white w-[817px] h-[500px] border-gray-300 rounded-md shadow-lg",children:(0,u.jsxs)("div",{className:"relative w-full h-full max-w-auto p-5",children:[(0,u.jsxs)("div",{className:"flex justify-between items-center",children:[(0,u.jsx)("p",{className:"text-2xl text-gray-900 font-bold",children:"Deposit Funds"}),(0,u.jsx)("button",{onClick:e=>{t()},className:"hover:bg-gray-200",children:(0,u.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M16 1.4L14.6 0L8 6.6L1.4 0L0 1.4L6.6 8L0 14.6L1.4 16L8 9.4L14.6 16L16 14.6L9.4 8L16 1.4Z",fill:"#060F14","fill-opacity":"0.8",className:" hover:fill-gray-400"})})})]}),(0,u.jsx)("div",{className:"header-desc text-gray-600 text-base",children:"to your FlareFS account"}),(0,u.jsx)("div",{className:"bank-info flex flex-row mb-2 mt-4",children:(0,u.jsxs)("div",{className:"w-full relative",children:[(0,u.jsx)("label",{className:"block text-gray-500 bk-form-label",htmlFor:"amount",children:"Amount"}),(0,u.jsx)("span",{className:"absolute top-8 left-4",children:"$"}),(0,u.jsx)("input",{className:`marker:bk-form-input bk-input-placeholder placeholder:text-slate-400 block bg-white w-full rounded-sm py-2 px-3 pl-9 shadow-md focus:outline-none focus:ring-1 ${p("amount")}`,placeholder:"Enter amount here",type:"number",name:"amount",onChange:i,onBlur:c,value:d.amount}),(0,u.jsx)(Hte,{name:"amount",formik:e})]})}),(0,u.jsx)("div",{className:"bank-info flex flex-row mb-2",children:(0,u.jsxs)("div",{className:"w-full relative",children:[(0,u.jsx)("label",{className:"block text-gray-500 bk-form-label",htmlFor:"memo",children:"Memo"}),(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)("input",{className:`bk-form-input bk-input-placeholder placeholder:text-slate-400 block bg-white w-full border rounded-sm py-2 px-3 pl-9 shadow-md focus:outline-none focus:ring-1 ${p("memo")}`,placeholder:"Enter Memo Line For Fund Transfer",type:"text",name:"memo",onChange:i,onBlur:c,value:d.memo}),(0,u.jsx)(Hte,{name:"memo",formik:e})]})]})}),(0,u.jsxs)("div",{className:"mt-10",children:[(0,u.jsx)("div",{className:"text-black-600 text-xs",children:"Adding Funds From"}),l.map((e=>(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:" text-black-500 text-sm",children:[(0,u.jsx)("input",{type:"radio",name:"source_id",className:"mr-2 accent-red-600",onChange:i,onBlur:c,value:e.id}),`${e.owner.name} | ${e.ach_debit.bank_name}`]}),(0,u.jsxs)("div",{className:" text-gray-600 text-sm",children:["************",e.ach_debit.last4]})]}))),f&&h&&(0,u.jsx)("p",{className:"mt-2 text-sm text-red-600 dark:text-red-500",children:"Select source from source list"}),(0,u.jsx)("div",{className:"text-sm text-red-500 mt-3 cursor-pointer hover:font-bold",onClick:()=>{r("/connect-bank-account")},children:"+ Add Another Bank Account"})]}),(0,u.jsxs)("div",{className:"flex justify-end space-x-4 mb-0 mt-6 border-t-2 pt-3",children:[(0,u.jsx)("button",{type:"reset",onClick:e=>{t()},className:"bg-white hover:bg-gray-200 font-bold py-2 px-2 rounded w-32",children:"Cancel"}),(0,u.jsx)("button",{type:"submit",className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-2 rounded w-32",children:"Deposit"})]})]})})})})})]})}})})};v=s("fYo6y");const Wte=({name:e,formik:t})=>{const{touched:n,errors:r,values:o}=t,i=n[e],a=r[e];return(0,u.jsxs)(u.Fragment,{children:[i&&a&&(0,u.jsx)("p",{className:"mt-2 text-sm text-red-600 dark:text-red-500",children:a}),i&&a&&(0,u.jsx)("span",{className:"absolute top-8 right-4",children:(0,u.jsx)("svg",{width:"21",height:"22",viewBox:"0 0 21 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M18.1 3.89998C14.2 -2.43187e-05 7.80001 -2.43187e-05 3.90001 3.89998C6.19888e-06 7.79998 6.19888e-06 14.2 3.90001 18.1C7.80001 22 14.1 22 18 18.1C21.9 14.2 22 7.79998 18.1 3.89998ZM13.8 15.2L11 12.4L8.20001 15.2L6.80001 13.8L9.60001 11L6.80001 8.19998L8.20001 6.79998L11 9.59998L13.8 6.79998L15.2 8.19998L12.4 11L15.2 13.8L13.8 15.2Z",fill:"#F35858"})})}),i&&!a&&(0,u.jsx)("span",{className:"absolute top-8 right-3",children:(0,u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",width:"25px",height:"25px",children:[(0,u.jsx)("circle",{cx:"50",cy:"50",r:"44",fill:"#f2f2f2"}),(0,u.jsx)("path",{fill:"#f2f2f2",d:"M50,91C27.393,91,9,72.607,9,50S27.393,9,50,9s41,18.393,41,41S72.607,91,50,91z"}),(0,u.jsx)("circle",{cx:"50.026",cy:"50.026",r:"38.026",fill:"#64C093"}),(0,u.jsx)("g",{children:(0,u.jsx)("path",{fill:"#ffffff",d:"M42.017,65c-0.767,0-1.534-0.292-2.119-0.877l-10.017-10c-1.173-1.17-1.175-3.07-0.004-4.243 c1.17-1.173,3.07-1.175,4.242-0.003l7.896,7.882l23.881-23.88c1.172-1.172,3.07-1.172,4.242,0c1.172,1.171,1.172,3.071,0,4.242 l-26,26C43.552,64.707,42.784,65,42.017,65z"})})]})})]})};var $te=({isShow:e,onHide:t})=>{const n=new d8;let r=pK();const[o,i]=(0,v.useState)(!1),[a,s]=(0,v.useState)(""),c=sessionStorage.getItem("account_id"),l={account_id:c||"",source_id:"src_1LNBMbR1aSxGwRclfo8FZZdU",amount:"",memo:""},[d,f]=(0,v.useState)([]),[h,p]=(0,v.useState)(null);(0,v.useEffect)((()=>{e&&(g(),m())}),[e]);const g=async()=>{i(!0);try{let e=await n.retrieveBalance({account_id:c});i(!1),"StripePermissionError"===e.type||"StripeInvalidRequestError"===e.type||p(e.issuing.available[0].amount)}catch(e){console.log("exception",e),i(!1)}},m=async()=>{i(!0),f([{id:"src_1LNBMbR1aSxGwRclfo8FZZdU",object:"source",ach_debit:{last4:"9991",bank_name:"STRIPE TEST BANK"},owner:{name:"Jenny Rosen"}}])},y=async e=>{i(!0),s("");const n=await fetch("http://localhost:4242/withdraw-funds",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(i(!1),!n.ok)return s("Unable to add funds: Error happened while fetching data"),null;const r=await n.json();"StripePermissionError"===r.type||"StripeInvalidRequestError"===r.type?s(r.raw.message):t()};return(0,u.jsx)(u.Fragment,{children:e&&(0,u.jsx)(_te,{initialValues:l,validate:e=>{s("");let t={};return e.amount||(t.amount="Amount must be greater than zero"),t},onSubmit:(e,t)=>{(e=>{y(e)})(e),t.setSubmitting(!1)},children:e=>{const{handleSubmit:n,handleChange:i,touched:a,errors:s,handleBlur:c,values:l}=e,f=a.source_id,p=s.source_id,v=e=>{let t="border border-slate-200 focus:border-sky-500 focus:ring-sky-500";return a[e]&&(t=s[e]?"border border-red-500 focus:border-red-500 focus:ring-red-500":"border border-green-500 focus:border-green-500 focus:ring-green-500"),t};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(l8,{show:o}),(0,u.jsx)(Tte,{className:"connect-bk-form",onSubmit:n,children:(0,u.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full",children:(0,u.jsx)("div",{className:"flex justify-center overflow-x-hidden overflow-y-auto px-6 py-6",children:(0,u.jsx)("div",{className:"flex bg-white w-[817px] h-[500px] border-gray-300 rounded-md shadow-lg",children:(0,u.jsxs)("div",{className:"relative w-full h-full max-w-auto p-5",children:[(0,u.jsxs)("div",{className:"flex justify-between items-center",children:[(0,u.jsx)("p",{className:"text-2xl text-gray-900 font-bold",children:"Withdraw Funds"}),(0,u.jsx)("button",{onClick:e=>{t()},className:"hover:bg-gray-200",children:(0,u.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M16 1.4L14.6 0L8 6.6L1.4 0L0 1.4L6.6 8L0 14.6L1.4 16L8 9.4L14.6 16L16 14.6L9.4 8L16 1.4Z",fill:"#060F14",className:" hover:fill-gray-400"})})})]}),(0,u.jsx)("div",{className:"header-desc text-gray-600 text-base",children:"From your FlareFS account"}),(0,u.jsx)("div",{className:"bank-info flex flex-row mb-2 mt-4",children:(0,u.jsxs)("div",{className:"w-full relative",children:[(0,u.jsx)("label",{className:"block text-gray-500 bk-form-label",htmlFor:"amount",children:"Amount"}),(0,u.jsx)("span",{className:"absolute top-8 left-4",children:"$"}),(0,u.jsx)("input",{className:`marker:bk-form-input bk-input-placeholder placeholder:text-slate-400 block bg-white w-full rounded-sm py-2 px-3 pl-9 shadow-md focus:outline-none focus:ring-1 ${v("amount")}`,placeholder:"Enter amount here",type:"number",name:"amount",onChange:i,onBlur:c,value:l.amount}),(0,u.jsxs)("p",{className:"text-xs mt-1",children:["out of $",h]}),(0,u.jsx)(Wte,{name:"amount",formik:e})]})}),(0,u.jsx)("div",{className:"bank-info flex flex-row mb-2",children:(0,u.jsxs)("div",{className:"w-full relative",children:[(0,u.jsx)("label",{className:"block text-gray-500 bk-form-label",htmlFor:"memo",children:"Memo"}),(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)("input",{className:`bk-form-input bk-input-placeholder placeholder:text-slate-400 block bg-white w-full border rounded-sm py-2 px-3 pl-9 shadow-md focus:outline-none focus:ring-1 ${v("memo")}`,placeholder:"Enter Memo Line For Fund Transfer",type:"text",name:"memo",onChange:i,onBlur:c,value:l.memo}),(0,u.jsx)(Wte,{name:"memo",formik:e})]})]})}),(0,u.jsxs)("div",{className:"mt-10",children:[(0,u.jsx)("div",{className:"text-black-600 text-xs",children:"Withdraw Funds to"}),d.map((e=>(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:" text-black-500 text-sm",children:[(0,u.jsx)("input",{type:"radio",name:"source_id",className:"mr-2 accent-red-600",onChange:i,onBlur:c,value:e.id}),`${e.owner.name} | ${e.ach_debit.bank_name}`]}),(0,u.jsxs)("div",{className:" text-gray-600 text-sm",children:["************",e.ach_debit.last4]})]}))),f&&p&&(0,u.jsx)("p",{className:"mt-2 text-sm text-red-600 dark:text-red-500",children:"Select source from source list"}),(0,u.jsx)("div",{className:"text-sm text-red-500 mt-3 cursor-pointer hover:font-bold",onClick:()=>{r("/connect-bank-account")},children:"+ Add Another Bank Account"})]}),(0,u.jsxs)("div",{className:"flex justify-end space-x-4 mb-0 mt-6 border-t-2 pt-3",children:[(0,u.jsx)("button",{type:"reset",onClick:e=>{t()},className:"bg-white hover:bg-gray-200 font-bold py-2 px-2 rounded w-32",children:"Cancel"}),(0,u.jsx)("button",{type:"submit",className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-2 rounded w-32",children:"Withdraw"})]})]})})})})})]})}})})};var Yte=()=>{const e=new d8,[t,n]=(0,v.useState)(!1),[o,i]=(0,v.useState)(!1),[a,s]=(0,v.useState)(!1),[c,l]=(0,v.useState)(!1),[d,f]=(0,v.useState)(""),h=sessionStorage.getItem("account_id");(0,v.useEffect)((()=>{p()}),[]);const p=async()=>{l(!0);try{let t=await e.retrieveBalance({account_id:h});l(!1),"StripePermissionError"===t.type||"StripeInvalidRequestError"===t.type||f(t.issuing.available[0].amount)}catch(e){console.log("exception",e),l(!1)}};return(0,u.jsxs)(u.Fragment,{children:[`showSpinner${c}`,t&&(0,u.jsx)(Kte,{setModalOn:n}),(0,u.jsx)(l8,{show:c}),(0,u.jsx)(Gte,{isShow:o,onHide:()=>{i(!1)}}),(0,u.jsx)($te,{isShow:a,onHide:()=>{s(!1)}}),(0,u.jsxs)("div",{className:"card-section font-sans",children:[(0,u.jsx)(p8,{}),(0,u.jsxs)("main",{className:"main-content flex flex-col mx-[75px] my-[25px] min-w-fit min-h-fit",children:[(0,u.jsx)("div",{className:"screen-title pt-[28px] pb-[2px]",children:"Cards"}),(0,u.jsxs)("div",{className:"cards-management flex flex-row text-gray-700 font-sans",children:[(0,u.jsxs)("div",{className:"bl-section flex flex-col w-auto",children:[(0,u.jsxs)("div",{className:"fs-box-shadow flex flex-row",children:[(0,u.jsxs)("div",{className:"bl-details-left flex flex-row justify-center align-middle p-6",children:[(0,u.jsxs)("div",{className:"bl mr-7",children:[(0,u.jsxs)("div",{className:"bl-amount font-bold text-lg",children:["$",d]}),(0,u.jsx)("div",{className:"bl-type text-sm text-gray-500",children:"Issuing Balance"})]}),(0,u.jsxs)("div",{id:"bl-actions",children:[(0,u.jsx)("button",{type:"button",className:"mr-[10px] bg-transparent hover:bg-red-500 text-red-600 font-semibold hover:text-white border border-red-500 hover:border-transparent rounded py-2 px-2 w-32",onClick:e=>{i(!0)},children:"Deposit funds"}),(0,u.jsx)("button",{type:"button",className:"bg-transparent hover:bg-red-500 text-red-600 font-semibold hover:text-white border border-red-500 hover:border-transparent rounded py-2 px-2 w-34",onClick:e=>{s(!0)},children:"Withdraw funds"})]})]}),(0,u.jsx)("div",{className:"bl-details-right ml-20 border-l-[1px] border-gray-300 py-6 pr-6",children:(0,u.jsxs)("div",{className:"bl pl-4",children:[(0,u.jsx)("div",{className:"bl-amount font-bold text-lg",children:"$0"}),(0,u.jsx)("div",{className:"bl-type text-sm text-gray-500",children:"Deposited Balance"})]})})]}),(0,u.jsx)("div",{className:" px-6 py-2 border-gray-200"}),(0,u.jsxs)("div",{className:"fs-box-shadow flex flex-col border-gray-200 w-[800px] h-[285px] overflow-hidden",children:[(0,u.jsx)("div",{className:"cards-header flex flex-row justify-items-center mb-10 mx-5 mt-5",children:(0,u.jsx)("div",{className:"card-title font-bold",children:"Transactions"})}),(0,u.jsx)("div",{className:"mr-40 ml-60 flex justify-center ",children:(0,u.jsx)("span",{className:"mt-[1px] mb-[5px] mr-[120px] ml-[120px] flex justify-center",children:(0,u.jsxs)("svg",{width:"30",height:"40",viewBox:"0 0 40 52",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:"M36.25 6H3.75C2.36929 6 1.25 7.11929 1.25 8.5V48.5C1.25 49.8807 2.36929 51 3.75 51H36.25C37.6307 51 38.75 49.8807 38.75 48.5V8.5C38.75 7.11929 37.6307 6 36.25 6Z",stroke:"#191918","stroke-opacity":"0.3","stroke-width":"2","stroke-linejoin":"round"}),(0,u.jsx)("path",{d:"M12.5 1V8.5M27.5 1V8.5M10 19.75H30M10 29.75H25M10 39.75H20",stroke:"#191918","stroke-opacity":"0.3","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]})})}),(0,u.jsx)("div",{className:"mb-[5px] ml-[90px] mr-[70px] flex font-bold text-sm justify-center mt-[-1px]",children:"No Transaction to show yet!"}),(0,u.jsx)("div",{className:"card-start-desc flex ml-20 mr-90 mb-6 justify-center",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed"})]})]}),(0,u.jsx)("div",{className:" px-2 border-gray-200"}),(0,u.jsxs)("div",{className:"fs-box-shadow flex flex-col border-gray-800 w-[300px] h-[400px] overflow-hidden",children:[(0,u.jsx)("div",{className:"cards-header flex flex-row justify-items-center mb-2 mx-2 mt-5",children:(0,u.jsx)("div",{className:"card-title font-bold",children:"Cards"})}),(0,u.jsxs)("div",{className:"cards-list place-items-center mb-11 mt-14 justify-center",children:[(0,u.jsx)("span",{className:"mt-5 mr-[120px] ml-[120px] flex justify-center",children:(0,u.jsx)("img",{src:r(qte),width:"50",height:"30"})}),(0,u.jsx)("div",{className:"mt-5 ml-[90px] mr-[70px] flex font-bold text-sm align-middle justify-center",children:"No card added yet!"}),(0,u.jsxs)("div",{className:"card-start-desc ml-[80px] mr-[60px] w-96 mb-6 place-items-center justify-center",children:[(0,u.jsx)("p",{children:"Lorem ipsum dolor sit amet,"}),(0,u.jsx)("p",{children:"consectetur adipiscing elit, sed"})]}),(0,u.jsx)("div",{className:"flex justify-center",children:(0,u.jsx)("button",{type:"button","data-modal-toggle":"authentication-modal",onClick:()=>n(!0),className:"bg-transparent hover:bg-red-500 text-red-600 font-semibold hover:text-white border border-red-500 hover:border-transparent rounded py-2 px-2 w-34",children:"Add New Card"})})]})]})]})]})]})]})};v=s("fYo6y");var Jte=()=>{const e=new d8,[t,n]=(0,v.useState)(!1),[o,i]=(0,v.useState)(!1),[a,s]=(0,v.useState)(!1),[c,l]=(0,v.useState)(!1),[d,f]=(0,v.useState)(null),h=sessionStorage.getItem("account_id");(0,v.useEffect)((()=>{p()}),[]);const p=async()=>{l(!0);try{let t=await e.retrieveBalance({account_id:h});l(!1),"StripePermissionError"===t.type||"StripeInvalidRequestError"===t.type||f(t.issuing.available[0].amount)}catch(e){console.log("exception",e),l(!1)}};return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("body",{className:"h-screen",children:[(0,u.jsx)(l8,{show:c}),(0,u.jsx)(Gte,{isShow:o,onHide:()=>{i(!1)}}),(0,u.jsx)($te,{isShow:a,onHide:()=>{s(!1)}}),(0,u.jsx)("div",{className:"card-section font-sans"}),(0,u.jsx)("nav",{className:"bg-white shadow-lg",children:(0,u.jsx)("div",{className:"max-w-7xl mx-auto px-[100px] py-[9px]",children:(0,u.jsx)("div",{className:"flex justify-between",children:(0,u.jsxs)("div",{className:"flex",children:[(0,u.jsx)("div",{children:(0,u.jsx)("a",{href:"#",className:"flex items-center",children:(0,u.jsx)("img",{src:r($6),alt:"Logo",className:""})})}),t&&(0,u.jsx)(Kte,{setModalOn:n}),(0,u.jsx)("div",{className:"flex ml-[200px] py-[9px]",children:(0,u.jsxs)("ul",{className:"text-base text-gray-700 flex justify-between",children:[(0,u.jsxs)("li",{className:"flex items-center px-5",children:[(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2",children:(0,u.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),(0,u.jsx)("a",{className:"ml-1",href:"#",children:"Home"})]}),(0,u.jsxs)("li",{className:"flex items-center px-5",children:[(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2",children:(0,u.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),(0,u.jsx)("a",{className:"ml-1",href:"#",children:"Users"})]}),(0,u.jsxs)("li",{className:"flex items-center px-5",children:[(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2",children:(0,u.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,u.jsx)("a",{className:"ml-1",href:"#",children:"Programs"})]}),(0,u.jsxs)("li",{className:"flex items-center px-5",children:[(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2",children:(0,u.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),(0,u.jsx)("a",{className:"ml-1",href:"#",children:"Cards"})]}),(0,u.jsxs)("li",{className:"flex items-center px-14",children:[(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2",children:(0,u.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),(0,u.jsx)("a",{className:"ml-1",href:"#",children:"Login"})]})]})})]})})})}),(0,u.jsxs)("main",{className:"main-content flex flex-col mx-[205px]",children:[(0,u.jsx)("div",{className:"screen-title pt-[28px] pb-[32px]",children:"Cards"}),(0,u.jsxs)("div",{className:"cards-management flex flex-row text-gray-700 font-sans",children:[(0,u.jsxs)("div",{className:"bl-section flex flex-col",children:[(0,u.jsxs)("div",{className:"fs-box-shadow flex flex-row w-[650px] overflow-x-hidden justify-between",children:[(0,u.jsxs)("div",{className:"bl-details-left flex flex-row p-6",children:[(0,u.jsxs)("div",{className:"bl mr-7",children:[(0,u.jsxs)("div",{className:"bl-amount font-bold",children:["$",d]}),(0,u.jsx)("div",{className:"bl-type text-xs text-gray-500",children:"Balance"})]}),(0,u.jsxs)("div",{id:"bl-actions",children:[(0,u.jsx)("button",{type:"button",className:"mr-[4px] text-sm bg-transparent hover:bg-red-500 text-red-600 font-semibold hover:text-white border border-red-500 hover:border-transparent rounded py-2 px-2 w-32",onClick:e=>{i(!0)},children:"Deposit funds"}),(0,u.jsx)("button",{type:"button",className:"text-sm bg-transparent hover:bg-red-500 text-red-600 font-semibold hover:text-white border border-red-500 hover:border-transparent rounded py-2 px-2 w-34",onClick:e=>{s(!0)},children:"Withdraw funds"})]})]}),(0,u.jsx)("div",{className:"bl-details-right ml-12 border-l-[1px] border-gray-300 py-6 pr-6",children:(0,u.jsxs)("div",{className:"bl pl-4",children:[(0,u.jsx)("div",{className:"bl-amount font-bold",children:"$5,700"}),(0,u.jsx)("div",{className:"bl-type text-xs text-gray-500",children:"Deposited Balance"})]})})]}),(0,u.jsxs)("div",{className:"fs-box-shadow ts-section mt-4 h-[400px]",children:[(0,u.jsx)("div",{className:"ts-header px-6 py-3 border-b border-gray-200",children:(0,u.jsxs)("span",{className:"flex justify-between font-bold ",children:["Transactions",(0,u.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M10.5 18H7.5C7.10218 18 6.72064 17.842 6.43934 17.5607C6.15804 17.2794 6 16.8978 6 16.5V10.8075L0.4425 5.25C0.160809 4.96999 0.00167459 4.58968 0 4.1925V1.5C0 1.10218 0.158035 0.720644 0.43934 0.43934C0.720644 0.158035 1.10218 0 1.5 0H16.5C16.8978 0 17.2794 0.158035 17.5607 0.43934C17.842 0.720644 18 1.10218 18 1.5V4.1925C17.9983 4.58968 17.8392 4.96999 17.5575 5.25L12 10.8075V16.5C12 16.8978 11.842 17.2794 11.5607 17.5607C11.2794 17.842 10.8978 18 10.5 18ZM1.5 1.5V4.1925L7.5 10.1925V16.5H10.5V10.1925L16.5 4.1925V1.5H1.5Z",fill:"#191918","fill-opacity":"0.5"})})]})}),(0,u.jsxs)("div",{className:"ts-search relative",children:[(0,u.jsx)("span",{className:"absolute top-[14px] left-6",children:(0,u.jsx)("svg",{fill:"none",stroke:"#94a3b8","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24",className:"w-4 h-4",children:(0,u.jsx)("path",{d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,u.jsx)("input",{className:"bk-form-input bk-input-placeholder placeholder:text-slate-400 block bg-white w-full border-0 py-2 pr-3 pl-12 focus:outline-none focus:border-sky-500 focus:ring-sky-500 focus:ring-1",placeholder:"Search user or program",type:"text",name:"searchTransaction text-xs"})]}),(0,u.jsxs)("div",{className:"ts-table",children:[(0,u.jsxs)("table",{className:"min-w-full leading-normal table-auto justify-between",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{scope:"col",className:"px-6 py-1 bg-gray-200 border-b border-gray-200 text-gray-800 text-left text-xs font-semibold",children:"Date"}),(0,u.jsx)("th",{scope:"col",className:"px-3 py-1 bg-gray-200 border-b border-gray-200 text-gray-800 text-left text-xs font-semibold",children:"User"}),(0,u.jsx)("th",{scope:"col",className:"px-3 py-1 bg-gray-200 border-b border-gray-200 text-gray-800 text-left text-xs font-semibold",children:"Program"}),(0,u.jsx)("th",{scope:"col",className:"px-3 py-1 bg-gray-200 border-b border-gray-200 text-gray-800 text-left text-xs font-semibold",children:"Type"}),(0,u.jsx)("th",{scope:"col",className:"px-3 py-1 bg-gray-200 border-b border-gray-200 text-gray-800 text-left text-xs font-semibold",children:"Amount"})]})}),(0,u.jsxs)("tbody",{children:[(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{className:"px-6 py-2 border-b border-gray-200 bg-white text-xs",children:(0,u.jsx)("p",{className:"text-gray-500 whitespace-no-wrap ",children:"20/06/2022"})}),(0,u.jsx)("td",{className:"px-3 py-2 border-b border-gray-200 bg-white text-xs",children:(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)("div",{className:"flex-shrink-0",children:(0,u.jsx)("a",{href:"#",className:"block relative",children:(0,u.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M16.7181 15.5812C17.6157 14.5013 18.24 13.221 18.5381 11.8488C18.8363 10.4766 18.7996 9.05273 18.4311 7.69771C18.0625 6.34268 17.3731 5.09634 16.421 4.06412C15.469 3.0319 14.2823 2.24417 12.9614 1.76756C11.6405 1.29095 10.2243 1.1395 8.83248 1.326C7.44067 1.5125 6.11426 2.03147 4.96545 2.83901C3.81664 3.64655 2.87922 4.71891 2.2325 5.96537C1.58577 7.21182 1.24877 8.5957 1.25 9.99995C1.25048 12.0413 1.96984 14.0173 3.28188 15.5812L3.26938 15.5918C3.31313 15.6443 3.36313 15.6893 3.40813 15.7412C3.46438 15.8056 3.525 15.8662 3.58313 15.9287C3.75813 16.1187 3.93813 16.3012 4.12688 16.4724C4.18438 16.5249 4.24375 16.5737 4.30188 16.6237C4.50188 16.7962 4.7075 16.9599 4.92063 17.1124C4.94813 17.1312 4.97313 17.1556 5.00063 17.1749V17.1674C6.46444 18.1975 8.21069 18.7504 10.0006 18.7504C11.7906 18.7504 13.5368 18.1975 15.0006 17.1674V17.1749C15.0281 17.1556 15.0525 17.1312 15.0806 17.1124C15.2931 16.9593 15.4994 16.7962 15.6994 16.6237C15.7575 16.5737 15.8169 16.5243 15.8744 16.4724C16.0631 16.3006 16.2431 16.1187 16.4181 15.9287C16.4763 15.8662 16.5363 15.8056 16.5931 15.7412C16.6375 15.6893 16.6881 15.6443 16.7319 15.5912L16.7181 15.5812ZM10 4.99995C10.5563 4.99995 11.1 5.1649 11.5625 5.47394C12.0251 5.78298 12.3855 6.22223 12.5984 6.73615C12.8113 7.25007 12.867 7.81557 12.7585 8.36114C12.6499 8.90671 12.3821 9.40785 11.9887 9.80118C11.5954 10.1945 11.0943 10.4624 10.5487 10.5709C10.0031 10.6794 9.43762 10.6237 8.92371 10.4109C8.40979 10.198 7.97054 9.8375 7.6615 9.37499C7.35245 8.91247 7.1875 8.36871 7.1875 7.81245C7.1875 7.06652 7.48382 6.35115 8.01127 5.82371C8.53871 5.29626 9.25408 4.99995 10 4.99995ZM5.00438 15.5812C5.01522 14.7606 5.34872 13.9772 5.93273 13.4005C6.51673 12.8239 7.30429 12.5004 8.125 12.4999H11.875C12.6957 12.5004 13.4833 12.8239 14.0673 13.4005C14.6513 13.9772 14.9848 14.7606 14.9956 15.5812C13.6249 16.8164 11.8452 17.5 10 17.5C8.15484 17.5 6.3751 16.8164 5.00438 15.5812Z",fill:"#191918","fill-opacity":"0.5"})})})}),(0,u.jsx)("div",{className:"ml-1",children:(0,u.jsx)("p",{className:"text-gray-500 whitespace-no-wrap",children:"Mike Males"})})]})}),(0,u.jsx)("td",{className:"px-3 py-2 border-b border-gray-200 bg-white text-xs",children:(0,u.jsx)("p",{className:"text-gray-500 whitespace-no-wrap",children:"Program Title A"})}),(0,u.jsx)("td",{className:"px-3 py-2 border-b border-gray-200 bg-white text-xs",children:(0,u.jsx)("p",{className:"text-gray-500 whitespace-no-wrap",children:"Lorem Ipsum"})}),(0,u.jsx)("td",{className:"px-3 py-2 mr-4 border-b border-gray-200 bg-white text-xs",children:(0,u.jsx)("p",{className:"text-gray-500 whitespace-no-wrap",children:"-$1,280"})})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{className:"px-6 py-2 border-b border-gray-200 bg-white text-xs",children:(0,u.jsx)("p",{className:"text-gray-500 whitespace-no-wrap",children:"20/06/2022"})}),(0,u.jsx)("td",{className:"px-3 py-2 border-b border-gray-200 bg-white text-xs",children:(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)("div",{className:"flex-shrink-0",children:(0,u.jsx)("a",{href:"#",className:"block relative",children:(0,u.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M16.7181 15.5812C17.6157 14.5013 18.24 13.221 18.5381 11.8488C18.8363 10.4766 18.7996 9.05273 18.4311 7.69771C18.0625 6.34268 17.3731 5.09634 16.421 4.06412C15.469 3.0319 14.2823 2.24417 12.9614 1.76756C11.6405 1.29095 10.2243 1.1395 8.83248 1.326C7.44067 1.5125 6.11426 2.03147 4.96545 2.83901C3.81664 3.64655 2.87922 4.71891 2.2325 5.96537C1.58577 7.21182 1.24877 8.5957 1.25 9.99995C1.25048 12.0413 1.96984 14.0173 3.28188 15.5812L3.26938 15.5918C3.31313 15.6443 3.36313 15.6893 3.40813 15.7412C3.46438 15.8056 3.525 15.8662 3.58313 15.9287C3.75813 16.1187 3.93813 16.3012 4.12688 16.4724C4.18438 16.5249 4.24375 16.5737 4.30188 16.6237C4.50188 16.7962 4.7075 16.9599 4.92063 17.1124C4.94813 17.1312 4.97313 17.1556 5.00063 17.1749V17.1674C6.46444 18.1975 8.21069 18.7504 10.0006 18.7504C11.7906 18.7504 13.5368 18.1975 15.0006 17.1674V17.1749C15.0281 17.1556 15.0525 17.1312 15.0806 17.1124C15.2931 16.9593 15.4994 16.7962 15.6994 16.6237C15.7575 16.5737 15.8169 16.5243 15.8744 16.4724C16.0631 16.3006 16.2431 16.1187 16.4181 15.9287C16.4763 15.8662 16.5363 15.8056 16.5931 15.7412C16.6375 15.6893 16.6881 15.6443 16.7319 15.5912L16.7181 15.5812ZM10 4.99995C10.5563 4.99995 11.1 5.1649 11.5625 5.47394C12.0251 5.78298 12.3855 6.22223 12.5984 6.73615C12.8113 7.25007 12.867 7.81557 12.7585 8.36114C12.6499 8.90671 12.3821 9.40785 11.9887 9.80118C11.5954 10.1945 11.0943 10.4624 10.5487 10.5709C10.0031 10.6794 9.43762 10.6237 8.92371 10.4109C8.40979 10.198 7.97054 9.8375 7.6615 9.37499C7.35245 8.91247 7.1875 8.36871 7.1875 7.81245C7.1875 7.06652 7.48382 6.35115 8.01127 5.82371C8.53871 5.29626 9.25408 4.99995 10 4.99995ZM5.00438 15.5812C5.01522 14.7606 5.34872 13.9772 5.93273 13.4005C6.51673 12.8239 7.30429 12.5004 8.125 12.4999H11.875C12.6957 12.5004 13.4833 12.8239 14.0673 13.4005C14.6513 13.9772 14.9848 14.7606 14.9956 15.5812C13.6249 16.8164 11.8452 17.5 10 17.5C8.15484 17.5 6.3751 16.8164 5.00438 15.5812Z",fill:"#191918","fill-opacity":"0.5"})})})}),(0,u.jsx)("div",{className:"ml-1",children:(0,u.jsx)("p",{className:"text-gray-500 whitespace-no-wrap",children:"Mike Males"})})]})}),(0,u.jsx)("td",{className:"px-3 py-2 border-b border-gray-200 bg-white text-xs",children:(0,u.jsx)("p",{className:"text-gray-500 whitespace-no-wrap",children:"Program Title A"})}),(0,u.jsx)("td",{className:"px-3 py-2 border-b border-gray-200 bg-white text-xs",children:(0,u.jsx)("p",{className:"text-gray-500 whitespace-no-wrap",children:"Lorem Ipsum"})}),(0,u.jsx)("td",{className:"px-3 py-2 border-b border-gray-200 bg-white text-xs",children:(0,u.jsx)("p",{className:"text-gray-500 whitespace-no-wrap",children:"-$1,280"})})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{className:"px-6 py-2 border-b border-gray-200 bg-white text-xs",children:(0,u.jsx)("p",{className:"text-gray-500 whitespace-no-wrap",children:"20/06/2022"})}),(0,u.jsx)("td",{className:"px-3 py-2 border-b border-gray-200 bg-white text-xs",children:(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)("div",{className:"flex-shrink-0",children:(0,u.jsx)("a",{href:"#",className:"block relative",children:(0,u.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M16.7181 15.5812C17.6157 14.5013 18.24 13.221 18.5381 11.8488C18.8363 10.4766 18.7996 9.05273 18.4311 7.69771C18.0625 6.34268 17.3731 5.09634 16.421 4.06412C15.469 3.0319 14.2823 2.24417 12.9614 1.76756C11.6405 1.29095 10.2243 1.1395 8.83248 1.326C7.44067 1.5125 6.11426 2.03147 4.96545 2.83901C3.81664 3.64655 2.87922 4.71891 2.2325 5.96537C1.58577 7.21182 1.24877 8.5957 1.25 9.99995C1.25048 12.0413 1.96984 14.0173 3.28188 15.5812L3.26938 15.5918C3.31313 15.6443 3.36313 15.6893 3.40813 15.7412C3.46438 15.8056 3.525 15.8662 3.58313 15.9287C3.75813 16.1187 3.93813 16.3012 4.12688 16.4724C4.18438 16.5249 4.24375 16.5737 4.30188 16.6237C4.50188 16.7962 4.7075 16.9599 4.92063 17.1124C4.94813 17.1312 4.97313 17.1556 5.00063 17.1749V17.1674C6.46444 18.1975 8.21069 18.7504 10.0006 18.7504C11.7906 18.7504 13.5368 18.1975 15.0006 17.1674V17.1749C15.0281 17.1556 15.0525 17.1312 15.0806 17.1124C15.2931 16.9593 15.4994 16.7962 15.6994 16.6237C15.7575 16.5737 15.8169 16.5243 15.8744 16.4724C16.0631 16.3006 16.2431 16.1187 16.4181 15.9287C16.4763 15.8662 16.5363 15.8056 16.5931 15.7412C16.6375 15.6893 16.6881 15.6443 16.7319 15.5912L16.7181 15.5812ZM10 4.99995C10.5563 4.99995 11.1 5.1649 11.5625 5.47394C12.0251 5.78298 12.3855 6.22223 12.5984 6.73615C12.8113 7.25007 12.867 7.81557 12.7585 8.36114C12.6499 8.90671 12.3821 9.40785 11.9887 9.80118C11.5954 10.1945 11.0943 10.4624 10.5487 10.5709C10.0031 10.6794 9.43762 10.6237 8.92371 10.4109C8.40979 10.198 7.97054 9.8375 7.6615 9.37499C7.35245 8.91247 7.1875 8.36871 7.1875 7.81245C7.1875 7.06652 7.48382 6.35115 8.01127 5.82371C8.53871 5.29626 9.25408 4.99995 10 4.99995ZM5.00438 15.5812C5.01522 14.7606 5.34872 13.9772 5.93273 13.4005C6.51673 12.8239 7.30429 12.5004 8.125 12.4999H11.875C12.6957 12.5004 13.4833 12.8239 14.0673 13.4005C14.6513 13.9772 14.9848 14.7606 14.9956 15.5812C13.6249 16.8164 11.8452 17.5 10 17.5C8.15484 17.5 6.3751 16.8164 5.00438 15.5812Z",fill:"#191918","fill-opacity":"0.5"})})})}),(0,u.jsx)("div",{className:"ml-1",children:(0,u.jsx)("p",{className:"text-gray-500 whitespace-no-wrap",children:"Mike Males"})})]})}),(0,u.jsx)("td",{className:"px-3 py-2 border-b border-gray-200 bg-white text-xs",children:(0,u.jsx)("p",{className:"text-gray-500 whitespace-no-wrap",children:"Program Title A"})}),(0,u.jsx)("td",{className:"px-3 py-2 border-b border-gray-200 bg-white text-xs",children:(0,u.jsx)("p",{className:"text-gray-500 whitespace-no-wrap",children:"Lorem Ipsum"})}),(0,u.jsx)("td",{className:"px-3 py-2 border-b border-gray-200 bg-white text-xs",children:(0,u.jsx)("p",{className:"text-gray-500 whitespace-no-wrap",children:"-$1,280"})})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{className:"px-6 py-2 border-b border-gray-200 bg-white text-xs",children:(0,u.jsx)("p",{className:"text-gray-500 whitespace-no-wrap",children:"20/06/2022"})}),(0,u.jsx)("td",{className:"px-3 py-2 border-b border-gray-200 bg-white text-xs",children:(0,u.jsxs)("div",{className:"flex items-end",children:[(0,u.jsx)("div",{className:"flex-shrink-0",children:(0,u.jsx)("a",{href:"#",className:"block relative",children:(0,u.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M16.7181 15.5812C17.6157 14.5013 18.24 13.221 18.5381 11.8488C18.8363 10.4766 18.7996 9.05273 18.4311 7.69771C18.0625 6.34268 17.3731 5.09634 16.421 4.06412C15.469 3.0319 14.2823 2.24417 12.9614 1.76756C11.6405 1.29095 10.2243 1.1395 8.83248 1.326C7.44067 1.5125 6.11426 2.03147 4.96545 2.83901C3.81664 3.64655 2.87922 4.71891 2.2325 5.96537C1.58577 7.21182 1.24877 8.5957 1.25 9.99995C1.25048 12.0413 1.96984 14.0173 3.28188 15.5812L3.26938 15.5918C3.31313 15.6443 3.36313 15.6893 3.40813 15.7412C3.46438 15.8056 3.525 15.8662 3.58313 15.9287C3.75813 16.1187 3.93813 16.3012 4.12688 16.4724C4.18438 16.5249 4.24375 16.5737 4.30188 16.6237C4.50188 16.7962 4.7075 16.9599 4.92063 17.1124C4.94813 17.1312 4.97313 17.1556 5.00063 17.1749V17.1674C6.46444 18.1975 8.21069 18.7504 10.0006 18.7504C11.7906 18.7504 13.5368 18.1975 15.0006 17.1674V17.1749C15.0281 17.1556 15.0525 17.1312 15.0806 17.1124C15.2931 16.9593 15.4994 16.7962 15.6994 16.6237C15.7575 16.5737 15.8169 16.5243 15.8744 16.4724C16.0631 16.3006 16.2431 16.1187 16.4181 15.9287C16.4763 15.8662 16.5363 15.8056 16.5931 15.7412C16.6375 15.6893 16.6881 15.6443 16.7319 15.5912L16.7181 15.5812ZM10 4.99995C10.5563 4.99995 11.1 5.1649 11.5625 5.47394C12.0251 5.78298 12.3855 6.22223 12.5984 6.73615C12.8113 7.25007 12.867 7.81557 12.7585 8.36114C12.6499 8.90671 12.3821 9.40785 11.9887 9.80118C11.5954 10.1945 11.0943 10.4624 10.5487 10.5709C10.0031 10.6794 9.43762 10.6237 8.92371 10.4109C8.40979 10.198 7.97054 9.8375 7.6615 9.37499C7.35245 8.91247 7.1875 8.36871 7.1875 7.81245C7.1875 7.06652 7.48382 6.35115 8.01127 5.82371C8.53871 5.29626 9.25408 4.99995 10 4.99995ZM5.00438 15.5812C5.01522 14.7606 5.34872 13.9772 5.93273 13.4005C6.51673 12.8239 7.30429 12.5004 8.125 12.4999H11.875C12.6957 12.5004 13.4833 12.8239 14.0673 13.4005C14.6513 13.9772 14.9848 14.7606 14.9956 15.5812C13.6249 16.8164 11.8452 17.5 10 17.5C8.15484 17.5 6.3751 16.8164 5.00438 15.5812Z",fill:"#191918","fill-opacity":"0.5"})})})}),(0,u.jsx)("div",{className:"ml-1",children:(0,u.jsx)("p",{className:"text-gray-500 whitespace-no-wrap",children:"Mike Males"})})]})}),(0,u.jsx)("td",{className:"px-3 py-2 border-b border-gray-200 bg-white text-xs",children:(0,u.jsx)("p",{className:"text-gray-500 whitespace-no-wrap",children:"Program Title A"})}),(0,u.jsx)("td",{className:"px-3 py-2 border-b border-gray-200 bg-white text-xs",children:(0,u.jsx)("p",{className:"text-gray-500 whitespace-no-wrap",children:"Lorem Ipsum"})}),(0,u.jsx)("td",{className:"px-3 py-2 border-b border-gray-200 bg-white text-xs",children:(0,u.jsx)("p",{className:"text-gray-500 whitespace-no-wrap",children:"-$1,280"})})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{className:"px-6 py-2 border-b border-gray-200 bg-white text-xs",children:(0,u.jsx)("p",{className:"text-gray-500 whitespace-no-wrap",children:"20/06/2022"})}),(0,u.jsx)("td",{className:"px-3 py-2 border-b border-gray-200 bg-white text-xs",children:(0,u.jsxs)("div",{className:"flex items-end",children:[(0,u.jsx)("div",{className:"flex-shrink-0",children:(0,u.jsx)("a",{href:"#",className:"block relative",children:(0,u.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M16.7181 15.5812C17.6157 14.5013 18.24 13.221 18.5381 11.8488C18.8363 10.4766 18.7996 9.05273 18.4311 7.69771C18.0625 6.34268 17.3731 5.09634 16.421 4.06412C15.469 3.0319 14.2823 2.24417 12.9614 1.76756C11.6405 1.29095 10.2243 1.1395 8.83248 1.326C7.44067 1.5125 6.11426 2.03147 4.96545 2.83901C3.81664 3.64655 2.87922 4.71891 2.2325 5.96537C1.58577 7.21182 1.24877 8.5957 1.25 9.99995C1.25048 12.0413 1.96984 14.0173 3.28188 15.5812L3.26938 15.5918C3.31313 15.6443 3.36313 15.6893 3.40813 15.7412C3.46438 15.8056 3.525 15.8662 3.58313 15.9287C3.75813 16.1187 3.93813 16.3012 4.12688 16.4724C4.18438 16.5249 4.24375 16.5737 4.30188 16.6237C4.50188 16.7962 4.7075 16.9599 4.92063 17.1124C4.94813 17.1312 4.97313 17.1556 5.00063 17.1749V17.1674C6.46444 18.1975 8.21069 18.7504 10.0006 18.7504C11.7906 18.7504 13.5368 18.1975 15.0006 17.1674V17.1749C15.0281 17.1556 15.0525 17.1312 15.0806 17.1124C15.2931 16.9593 15.4994 16.7962 15.6994 16.6237C15.7575 16.5737 15.8169 16.5243 15.8744 16.4724C16.0631 16.3006 16.2431 16.1187 16.4181 15.9287C16.4763 15.8662 16.5363 15.8056 16.5931 15.7412C16.6375 15.6893 16.6881 15.6443 16.7319 15.5912L16.7181 15.5812ZM10 4.99995C10.5563 4.99995 11.1 5.1649 11.5625 5.47394C12.0251 5.78298 12.3855 6.22223 12.5984 6.73615C12.8113 7.25007 12.867 7.81557 12.7585 8.36114C12.6499 8.90671 12.3821 9.40785 11.9887 9.80118C11.5954 10.1945 11.0943 10.4624 10.5487 10.5709C10.0031 10.6794 9.43762 10.6237 8.92371 10.4109C8.40979 10.198 7.97054 9.8375 7.6615 9.37499C7.35245 8.91247 7.1875 8.36871 7.1875 7.81245C7.1875 7.06652 7.48382 6.35115 8.01127 5.82371C8.53871 5.29626 9.25408 4.99995 10 4.99995ZM5.00438 15.5812C5.01522 14.7606 5.34872 13.9772 5.93273 13.4005C6.51673 12.8239 7.30429 12.5004 8.125 12.4999H11.875C12.6957 12.5004 13.4833 12.8239 14.0673 13.4005C14.6513 13.9772 14.9848 14.7606 14.9956 15.5812C13.6249 16.8164 11.8452 17.5 10 17.5C8.15484 17.5 6.3751 16.8164 5.00438 15.5812Z",fill:"#191918","fill-opacity":"0.5"})})})}),(0,u.jsx)("div",{className:"ml-1",children:(0,u.jsx)("p",{className:"text-gray-500 whitespace-no-wrap",children:"Mike Males"})})]})}),(0,u.jsx)("td",{className:"px-3 py-2 border-b border-gray-200 bg-white text-xs",children:(0,u.jsx)("p",{className:"text-gray-500 whitespace-no-wrap",children:"Program Title A"})}),(0,u.jsx)("td",{className:"px-3 py-2 border-b border-gray-200 bg-white text-xs",children:(0,u.jsx)("p",{className:"text-gray-500 whitespace-no-wrap",children:"Lorem Ipsum"})}),(0,u.jsx)("td",{className:"px-3 py-2 border-b border-gray-200 bg-white text-xs",children:(0,u.jsx)("p",{className:"text-gray-500 whitespace-no-wrap",children:"-$1,280"})})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{className:"px-6 py-2 border-b border-gray-200 bg-white text-xs",children:(0,u.jsx)("p",{className:"text-gray-500 whitespace-no-wrap",children:"20/06/2022"})}),(0,u.jsx)("td",{className:"px-3 py-2 border-b border-gray-200 bg-white text-xs",children:(0,u.jsxs)("div",{className:"flex items-end",children:[(0,u.jsx)("div",{className:"flex-shrink-0",children:(0,u.jsx)("a",{href:"#",className:"block relative",children:(0,u.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M16.7181 15.5812C17.6157 14.5013 18.24 13.221 18.5381 11.8488C18.8363 10.4766 18.7996 9.05273 18.4311 7.69771C18.0625 6.34268 17.3731 5.09634 16.421 4.06412C15.469 3.0319 14.2823 2.24417 12.9614 1.76756C11.6405 1.29095 10.2243 1.1395 8.83248 1.326C7.44067 1.5125 6.11426 2.03147 4.96545 2.83901C3.81664 3.64655 2.87922 4.71891 2.2325 5.96537C1.58577 7.21182 1.24877 8.5957 1.25 9.99995C1.25048 12.0413 1.96984 14.0173 3.28188 15.5812L3.26938 15.5918C3.31313 15.6443 3.36313 15.6893 3.40813 15.7412C3.46438 15.8056 3.525 15.8662 3.58313 15.9287C3.75813 16.1187 3.93813 16.3012 4.12688 16.4724C4.18438 16.5249 4.24375 16.5737 4.30188 16.6237C4.50188 16.7962 4.7075 16.9599 4.92063 17.1124C4.94813 17.1312 4.97313 17.1556 5.00063 17.1749V17.1674C6.46444 18.1975 8.21069 18.7504 10.0006 18.7504C11.7906 18.7504 13.5368 18.1975 15.0006 17.1674V17.1749C15.0281 17.1556 15.0525 17.1312 15.0806 17.1124C15.2931 16.9593 15.4994 16.7962 15.6994 16.6237C15.7575 16.5737 15.8169 16.5243 15.8744 16.4724C16.0631 16.3006 16.2431 16.1187 16.4181 15.9287C16.4763 15.8662 16.5363 15.8056 16.5931 15.7412C16.6375 15.6893 16.6881 15.6443 16.7319 15.5912L16.7181 15.5812ZM10 4.99995C10.5563 4.99995 11.1 5.1649 11.5625 5.47394C12.0251 5.78298 12.3855 6.22223 12.5984 6.73615C12.8113 7.25007 12.867 7.81557 12.7585 8.36114C12.6499 8.90671 12.3821 9.40785 11.9887 9.80118C11.5954 10.1945 11.0943 10.4624 10.5487 10.5709C10.0031 10.6794 9.43762 10.6237 8.92371 10.4109C8.40979 10.198 7.97054 9.8375 7.6615 9.37499C7.35245 8.91247 7.1875 8.36871 7.1875 7.81245C7.1875 7.06652 7.48382 6.35115 8.01127 5.82371C8.53871 5.29626 9.25408 4.99995 10 4.99995ZM5.00438 15.5812C5.01522 14.7606 5.34872 13.9772 5.93273 13.4005C6.51673 12.8239 7.30429 12.5004 8.125 12.4999H11.875C12.6957 12.5004 13.4833 12.8239 14.0673 13.4005C14.6513 13.9772 14.9848 14.7606 14.9956 15.5812C13.6249 16.8164 11.8452 17.5 10 17.5C8.15484 17.5 6.3751 16.8164 5.00438 15.5812Z",fill:"#191918","fill-opacity":"0.5"})})})}),(0,u.jsx)("div",{className:"ml-1",children:(0,u.jsx)("p",{className:"text-gray-500 whitespace-no-wrap",children:"Mike Males"})})]})}),(0,u.jsx)("td",{className:"px-3 py-2 border-b border-gray-200 bg-white text-xs",children:(0,u.jsx)("p",{className:"text-gray-500 whitespace-no-wrap",children:"Program Title A"})}),(0,u.jsx)("td",{className:"px-3 py-2 border-b border-gray-200 bg-white text-xs",children:(0,u.jsx)("p",{className:"text-gray-500 whitespace-no-wrap",children:"Lorem Ipsum"})}),(0,u.jsx)("td",{className:"px-3 py-2 border-b border-gray-200 bg-white text-xs",children:(0,u.jsx)("p",{className:"text-gray-500 whitespace-no-wrap",children:"-$1,280"})})]})]})]}),(0,u.jsxs)("div",{className:"flex justify-end items-center ",children:[(0,u.jsx)("span",{className:"text-xs",children:"1 - 25"}),(0,u.jsx)("button",{type:"button",className:"p-4 text-base text-gray-600 bg-white hover:bg-gray-100",children:(0,u.jsx)("svg",{width:"8",height:"12",viewBox:"0 0 8 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M7 13L1 7L7 1",stroke:"#191918","stroke-opacity":"0.5"})})}),(0,u.jsx)("button",{type:"button",className:"p-4 text-base text-gray-600 bg-white hover:bg-gray-100",children:(0,u.jsx)("svg",{width:"8",height:"12",viewBox:"0 0 8 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M1 1L7 7L1 13",stroke:"#191918","stroke-opacity":"0.5"})})})]})]})]})]}),(0,u.jsx)("div",{className:"mr-6"}),(0,u.jsxs)("div",{className:"cards-section fs-box-shadow flex flex-col",children:[(0,u.jsxs)("div",{className:"cards-header flex flex-row justify-between mb-2 mx-3 mt-5",children:[(0,u.jsx)("div",{className:"card-title font-bold",children:"Cards"}),(0,u.jsx)("div",{className:"view-cards text-sm",children:(0,u.jsx)("a",{href:"",children:"View All Cards"})})]}),(0,u.jsxs)("div",{className:"cards-details flex flex-row mb-2 mx-3",children:[(0,u.jsxs)("div",{className:"total-issued-cards mr-2",children:[(0,u.jsx)("div",{className:"no-of-cards font-bold",children:"23"}),(0,u.jsx)("div",{className:"cards-type text-[10px] text-gray-500",children:"Cards Issued"})]}),(0,u.jsxs)("div",{className:"total-blocked-cards mr-2",children:[(0,u.jsx)("div",{className:"no-of-cards font-bold",children:"3"}),(0,u.jsx)("div",{className:"cards-type text-[10px] text-gray-500",children:"Cards Blocked"})]}),(0,u.jsx)("div",{className:"ml-8",children:(0,u.jsx)("button",{type:"button",onClick:()=>n(!0),className:"bg-transparent hover:bg-red-500 text-red-600 hover:text-white border border-red-500 hover:border-transparent rounded text-xs font-bold h-8 w-20 mt-1",children:"Add New"})})]}),(0,u.jsxs)("div",{className:"search-user relative border-y border-gray-200 overflow-y-auto",children:[(0,u.jsx)("span",{className:"absolute top-3 left-7",children:(0,u.jsx)("svg",{fill:"none",stroke:"#94a3b8","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24",className:"w-3 h-3",children:(0,u.jsx)("path",{d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,u.jsx)("input",{className:"search-txt text-xs bg-white w-full border-0 py-[6px] pr-3 pl-12 focus:outline-none focus:border-sky-500 focus:ring-sky-500 focus:ring-1",placeholder:"Search Card Name",type:"text",name:"searchcardname"})]}),(0,u.jsxs)("div",{className:"cards-list",children:[(0,u.jsxs)("div",{className:"h-[143px] w-[255px] mx-3 my-2",style:{backgroundImage:`url(${r(Bte)})`},children:[(0,u.jsxs)("div",{className:"flex justify-between items-center",children:[(0,u.jsxs)("span",{className:"mt-5 ml-5 flex",children:[(0,u.jsx)("span",{className:"text-white text-xs font-bold z-30",children:"Flare"}),(0,u.jsx)("img",{src:r(Vte),className:"h-3 -ml-8 mt-1"})]}),(0,u.jsx)("span",{className:"text-white mt-5 mr-5 text-xs font-bold",children:"Mike Males"})]}),(0,u.jsx)("div",{className:"flex justify-end",children:(0,u.jsxs)("div",{className:"text-white mt-0 mr-5 text-xs",children:[" ","$2,000/$2,500"]})}),(0,u.jsx)("div",{className:"text-white ml-5 mt-7 text-sm font-bold",children:"**** **** **** 6712"}),(0,u.jsxs)("div",{className:"flex justify-between items-center",children:[(0,u.jsx)("div",{className:"text-white ml-5 text-xs",children:"01/24"}),(0,u.jsx)("div",{className:"bg-gray-400 w-8 h-4 mr-5 rounded-full",children:(0,u.jsx)("div",{className:"bg-white w-3 h-3 rounded-full mt-[2px] mr-[3px]"})})]})]}),(0,u.jsxs)("div",{className:"h-[143px] w-[255px] mx-3 my-2",style:{backgroundImage:`url(${r(Bte)})`},children:[(0,u.jsxs)("div",{className:"flex justify-between items-center",children:[(0,u.jsxs)("span",{className:"mt-5 ml-5 flex",children:[(0,u.jsx)("span",{className:"text-white text-xs font-bold z-30",children:"Flare"}),(0,u.jsx)("img",{src:r(Vte),className:"h-3 -ml-8 mt-1"})]}),(0,u.jsx)("span",{className:"text-white mt-5 mr-5 text-xs font-bold",children:"David Loss"})]}),(0,u.jsx)("div",{className:"flex justify-end",children:(0,u.jsx)("div",{className:"text-white text-xs mt-0 mr-5",children:"Disabled"})}),(0,u.jsx)("div",{className:"text-white ml-5 mt-7 text-sm font-bold",children:"**** **** **** 2181"}),(0,u.jsxs)("div",{className:"flex justify-between items-center",children:[(0,u.jsx)("div",{className:"text-white ml-5 text-xs",children:"01/24"}),(0,u.jsx)("div",{className:"bg-orange-600 w-8 h-4 mr-5 rounded-full flex justify-end",children:(0,u.jsx)("div",{className:"bg-white w-3 h-3 rounded-full mt-[2px] mr-[3px]"})})]})]})]})]})]})]})]})})};O.Amplify.configure(NK);const Qte=(0,v.createContext)(null);var Zte=function(e,t={}){const{variation:n="modal"}=t;return function(r){return(0,u.jsx)(Fq,Object.assign({variation:n},t,{children:t=>(0,u.jsx)(e,Object.assign({},r,t))}))}}((function({signOut:e,user:t}){const[n,r]=(0,v.useState)({id:t.username,firstName:t.attributes.given_name,lastName:t.attributes.family_name,email:t.attributes.email}),[o,i]=(0,v.useState)(""),[a,s]=(0,v.useState)({user:n,orgId:o,updateUser:e=>{r({...n,...e}),s({...a,user:e})},updateOrganizationId:e=>{i(e),s({...a,orgId:e})},signOut:e});return(0,v.useEffect)((()=>{const e=localStorage.getItem("flareUser"),t=localStorage.getItem("flareOrganizationId");if(!e&&!t||!e)return;console.log("User string from user object",e);const n=JSON.parse(e);s({...a,user:n,orgId:t||""})}),[]),(0,v.useEffect)((()=>{a.user&&localStorage.setItem("flareUser",JSON.stringify(a.user)),a.orgId&&localStorage.setItem("flareOrganizationId",JSON.stringify(a.orgId))}),[a]),console.log("Your session in memory",a),console.log("Your flareUser in storage",localStorage.getItem("flareUser")?JSON.parse(localStorage.getItem("flareUser")):null),console.log("Your flareOrganizationId in storage",localStorage.getItem("flareOrganizationId")?JSON.parse(localStorage.getItem("flareOrganizationId")):null),(0,u.jsx)(kK,{children:(0,u.jsx)(Qte.Provider,{value:a,children:(0,u.jsxs)(SK,{children:[(0,u.jsx)(bK,{path:"/",element:(0,u.jsx)(p3,{signOut:e,user:t})}),(0,u.jsx)(bK,{path:"signIn",element:(0,u.jsx)(m3,{})}),(0,u.jsx)(bK,{path:"oauth",element:(0,u.jsx)(v3,{signOut:e,user:t})}),(0,u.jsxs)(bK,{path:"signup",element:(0,u.jsx)(c8,{}),children:[(0,u.jsx)(bK,{path:"user-form",element:(0,u.jsx)(a8,{})}),(0,u.jsx)(bK,{path:"org-form",element:(0,u.jsx)(Y6,{})}),(0,u.jsx)(bK,{path:"api-auth-connect",element:(0,u.jsx)(e8,{})}),(0,u.jsx)(bK,{path:"api-auth-setup",element:(0,u.jsx)(t8,{})})]}),(0,u.jsx)(bK,{path:"profile",element:(0,u.jsx)(g3,{})}),(0,u.jsx)(bK,{path:"cards",element:(0,u.jsx)(g8,{})}),(0,u.jsx)(bK,{path:"connect-bank-account",element:(0,u.jsx)(zte,{})}),(0,u.jsx)(bK,{path:"card-list",element:(0,u.jsx)(Yte,{})}),(0,u.jsx)(bK,{path:"transactions",element:(0,u.jsx)(Jte,{})})]})})})})),Xte=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,ene="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",tne=null,nne=function(e){return null!==tne||(tne=new Promise((function(t,n){if("undefined"!=typeof window)if(window.Stripe&&e&&console.warn(ene),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat("https://js.stripe.com/v3",'"]')),t=0;t<e.length;t++){var n=e[t];if(Xte.test(n.src))return n}return null}();r&&e?console.warn(ene):r||(r=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat("https://js.stripe.com/v3").concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n}(e)),r.addEventListener("load",(function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))})),r.addEventListener("error",(function(){n(new Error("Failed to load Stripe.js"))}))}catch(e){return void n(e)}else t(null)}))),tne},rne=function(e,t,n){if(null===e)return null;var r=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"1.32.0",startTime:t})}(r,n),r},one=Promise.resolve().then((function(){return nne(null)})),ine=!1;one.catch((function(e){ine||console.warn(e)}));const ane=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ine=!0;var r=Date.now();return one.then((function(e){return rne(e,t,r)}))}(void 0,{stripeAccount:"acct_1LKdCqR1aSxGwRcl"});r(d).createRoot(document.getElementById("app")).render((0,u.jsx)(jte.Elements,{stripe:ane,children:(0,u.jsx)(Zte,{})}));